"use strict";(self.webpackChunkABAAssistant=self.webpackChunkABAAssistant||[]).push([[19456],{19456:(sc,je,R)=>{R.r(je),R.d(je,{AppModule:()=>Ed});var e=R(54438),p=R(60177),l=R(84341),Re=R(81562),b=R(50779),X=R(68580),Se=R(5992),F=R(13816),T=R(62796),g=R(33271),_=R(18133),L=R(98341),Co=R(47906);class Io{static initSignalR(d){const n=(new Co.TJ).getCookieValue(L.M.authorization.encryptedAuthTokenName);abp.signalr={autoConnect:!0,connect:void 0,hubs:void 0,qs:L.M.authorization.encryptedAuthTokenName+"="+encodeURIComponent(n),remoteServiceBaseUrl:L.M.remoteServiceBaseUrl,startConnection:void 0,url:"/signalr",withUrlOptions:{}};const i=document.createElement("script");d&&(i.onload=()=>{d()}),i.src=L.M.appBaseUrl+"/assets/abp/abp.signalr-client.js",document.head.appendChild(i)}}var ne=R(45548),h=R(54747);const Fo=()=>["home"],ko=()=>["about"];let jo=(()=>{class a{constructor(n){this._layoutStore=n}ngOnInit(){this._layoutStore.sidebarExpanded.subscribe(n=>{this.sidebarExpanded=n})}toggleSidebar(){this._layoutStore.setSidebarExpanded(!this.sidebarExpanded)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(ne.B))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["header-left-navbar"]],decls:12,vars:10,consts:[[1,"navbar-nav"],[1,"nav-item"],["href","javascript:;",1,"nav-link",3,"click"],[1,"fas","fa-bars"],[1,"nav-item","d-none","d-sm-inline-block"],[1,"nav-link",3,"routerLink"]],template:function(i,o){1&i&&(e.j41(0,"ul",0)(1,"li",1)(2,"a",2),e.bIt("click",function(){return o.toggleSidebar()}),e.nrm(3,"i",3),e.k0s()(),e.j41(4,"li",4)(5,"a",5),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"li",4)(9,"a",5),e.EFF(10),e.nI1(11,"localize"),e.k0s()()()),2&i&&(e.R7$(5),e.Y8G("routerLink",e.lJ4(8,Fo)),e.R7$(),e.SpI(" ",e.bMT(7,4,"HomePage")," "),e.R7$(3),e.Y8G("routerLink",e.lJ4(9,ko)),e.R7$(),e.SpI(" ",e.bMT(11,6,"About")," "))},dependencies:[g.Wk,h.S],encapsulation:2,changeDetection:0})}return a})();var c=R(81801),Ro=R(3578);function So(a,d){if(1&a){const n=e.RV6();e.j41(0,"a",7),e.bIt("click",function(){e.eBV(n);const o=e.XpG().$implicit,t=e.XpG(2);return e.Njj(t.changeLanguage(o.name))}),e.nrm(1,"i"),e.EFF(2),e.k0s()}if(2&a){const n=e.XpG().$implicit;e.R7$(),e.ZvI("d-inline-block ",n.icon," mr-1"),e.R7$(),e.SpI(" ",n.displayName," ")}}function Mo(a,d){if(1&a&&(e.qex(0),e.DNE(1,So,3,4,"a",6),e.bVm()),2&a){const n=d.$implicit,i=e.XpG(2);e.R7$(),e.Y8G("ngIf",n.name!=i.currentLanguage.name)}}function Eo(a,d){if(1&a&&(e.j41(0,"div",4),e.DNE(1,Mo,2,1,"ng-container",5),e.k0s()),2&a){const n=e.XpG();e.R7$(),e.Y8G("ngForOf",n.languages)}}let To=(()=>{class a extends _.q{constructor(n,i){super(n),this._userService=i}ngOnInit(){this.languages=(0,Ro.A)(this.localization.languages,n=>!n.isDisabled),this.currentLanguage=this.localization.currentLanguage}changeLanguage(n){const i=new c.Vm;i.languageName=n,this._userService.changeLanguage(i).subscribe(()=>{abp.utils.setCookieValue("Abp.Localization.CultureName",n,new Date((new Date).getTime()+15768e7),abp.appPath),window.location.reload()})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.LC))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["header-language-menu"]],features:[e.Vt3],decls:6,vars:4,consts:[["dropdown","",1,"nav-item","dropdown"],["href","javascript:;","dropdownToggle","",1,"nav-link"],[1,"d-none","d-md-inline-block","ml-1"],["class","dropdown-menu dropdown-menu-right p-0",4,"dropdownMenu"],[1,"dropdown-menu","dropdown-menu-right","p-0"],[4,"ngFor","ngForOf"],["class","dropdown-item","href","javascript:;",3,"click",4,"ngIf"],["href","javascript:;",1,"dropdown-item",3,"click"]],template:function(i,o){1&i&&(e.j41(0,"li",0)(1,"a",1),e.nrm(2,"i"),e.j41(3,"span",2),e.EFF(4),e.k0s()(),e.DNE(5,Eo,2,1,"div",3),e.k0s()),2&i&&(e.R7$(2),e.ZvI("d-inline-block ",o.currentLanguage.icon,""),e.R7$(2),e.SpI(" ",o.currentLanguage.displayName," "))},dependencies:[p.Sq,p.bT,X.hs,X.UL,X.Kk],encapsulation:2,changeDetection:0})}return a})();var Do=R(43728);const Ao=()=>["update-password"];function yo(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",4)(1,"a",5),e.nrm(2,"i",6),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"a",7),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.logout())}),e.nrm(6,"i",8),e.EFF(7),e.nI1(8,"localize"),e.k0s()()}2&a&&(e.R7$(),e.Y8G("routerLink",e.lJ4(7,Ao)),e.R7$(2),e.SpI(" ",e.bMT(4,3,"UpdatePassword")," "),e.R7$(4),e.SpI(" ",e.bMT(8,5,"Logout")," "))}let Go=(()=>{class a{constructor(n){this._authService=n}logout(){this._authService.logout()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(Do.D))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["header-user-menu"]],decls:4,vars:0,consts:[["dropdown","",1,"nav-item","dropdown","nav-user-menu"],["href","javascript:;","dropdownToggle","",1,"nav-link"],["src","assets/img/user.png","alt","User Image",1,"user-image","img-circle","elevation-2"],["class","dropdown-menu dropdown-menu-right",4,"dropdownMenu"],[1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item",3,"routerLink"],[1,"fas","fa-user-edit"],["href","javascript:;",1,"dropdown-item",3,"click"],[1,"fas","fa-sign-out-alt"]],template:function(i,o){1&i&&(e.j41(0,"li",0)(1,"a",1),e.nrm(2,"img",2),e.k0s(),e.DNE(3,yo,9,8,"div",3),e.k0s())},dependencies:[X.hs,X.UL,X.Kk,g.Wk,h.S],encapsulation:2,changeDetection:0})}return a})(),$o=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["app-header"]],decls:5,vars:0,consts:[[1,"main-header","navbar","navbar-expand","navbar-white","navbar-light"],[1,"navbar-nav","ml-auto"]],template:function(i,o){1&i&&(e.j41(0,"nav",0),e.nrm(1,"header-left-navbar"),e.j41(2,"ul",1),e.nrm(3,"header-language-menu")(4,"header-user-menu"),e.k0s()())},dependencies:[jo,To,Go],encapsulation:2,changeDetection:0})}return a})(),Po=(()=>{class a extends _.q{constructor(n){super(n),this.currentYear=(new Date).getFullYear(),this.versionText=this.appSession.application.version+" ["+this.appSession.application.releaseDate.format("YYYYDDMM")+"]"}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["app-footer"]],features:[e.Vt3],decls:11,vars:5,consts:[[1,"main-footer"],["href","javascript:;"],[1,"float-right","d-none","d-sm-inline-block"]],template:function(i,o){1&i&&(e.j41(0,"footer",0)(1,"strong"),e.EFF(2),e.j41(3,"a",1),e.EFF(4,"ABAAssistant"),e.k0s(),e.EFF(5,". "),e.k0s(),e.j41(6,"div",2)(7,"b"),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.EFF(10),e.k0s()()),2&i&&(e.R7$(2),e.SpI(" Copyright \xa9 ",o.currentYear," "),e.R7$(6),e.SpI("",e.bMT(9,3,"Version")," "),e.R7$(2),e.SpI(" ",o.versionText," "))},dependencies:[h.S],encapsulation:2,changeDetection:0})}return a})();const wo=()=>["home"];let No=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["sidebar-logo"]],decls:4,vars:2,consts:[[1,"brand-link",3,"routerLink"],["src","assets/img/logo.png","alt","Logo",1,"brand-image","img-circle","elevation-3",2,"opacity","0.8"],[1,"brand-text","font-weight-light"]],template:function(i,o){1&i&&(e.j41(0,"a",0),e.nrm(1,"img",1),e.j41(2,"span",2),e.EFF(3,"ABAAssistant"),e.k0s()()),2&i&&e.Y8G("routerLink",e.lJ4(1,wo))},dependencies:[g.Wk],encapsulation:2,changeDetection:0})}return a})(),Vo=(()=>{class a extends _.q{constructor(n){super(n),this.shownLoginName=""}ngOnInit(){this.shownLoginName=this.appSession.getShownLoginName()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["sidebar-user-panel"]],features:[e.Vt3],decls:6,vars:1,consts:[[1,"user-panel","mt-3","pb-3","mb-3","d-flex"],[1,"image"],["src","assets/img/user.png","alt","User Image",1,"img-circle","elevation-2"],[1,"info"],["href","javascript:;",1,"d-block"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"img",2),e.k0s(),e.j41(3,"div",3)(4,"a",4),e.EFF(5),e.k0s()()()),2&i&&(e.R7$(5),e.JRh(o.shownLoginName))},encapsulation:2,changeDetection:0})}return a})();var Bo=R(84412);class w{constructor(d,n,i,o=null,t=null){this.label=d,this.route=n,this.icon=i,this.permissionName=o,this.children=t}}const Me=a=>({item:a});function zo(a,d){1&a&&e.eu8(0)}function Yo(a,d){if(1&a&&(e.qex(0),e.DNE(1,zo,1,0,"ng-container",4),e.bVm()),2&a){const n=d.$implicit;e.XpG();const i=e.sdS(4);e.R7$(),e.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",e.eq3(2,Me,n))}}function Uo(a,d){if(1&a&&(e.j41(0,"a",11),e.nrm(1,"i"),e.j41(2,"p"),e.EFF(3),e.k0s()()),2&a){const n=e.XpG(2).item;e.AVh("active",n.isActive),e.Y8G("routerLink",n.route),e.R7$(),e.ZvI("nav-icon ",n.icon,""),e.R7$(2),e.SpI(" ",n.label," ")}}function Xo(a,d){if(1&a&&(e.j41(0,"a",12),e.nrm(1,"i"),e.j41(2,"p"),e.EFF(3),e.k0s()()),2&a){const n=e.XpG(2).item;e.Y8G("href",n.route,e.B4B),e.R7$(),e.ZvI("nav-icon ",n.icon,""),e.R7$(2),e.SpI(" ",n.label," ")}}function qo(a,d){if(1&a){const n=e.RV6();e.j41(0,"a",13),e.bIt("click",function(){e.eBV(n);const o=e.XpG(2).item;return e.Njj(o.isCollapsed=!o.isCollapsed)}),e.nrm(1,"i"),e.j41(2,"p"),e.EFF(3),e.nrm(4,"i",14),e.k0s()()}if(2&a){const n=e.XpG(2).item;e.AVh("active",n.isActive),e.R7$(),e.ZvI("nav-icon ",n.icon,""),e.R7$(2),e.SpI(" ",n.label," ")}}function Ho(a,d){1&a&&e.eu8(0)}function xo(a,d){if(1&a&&(e.qex(0),e.DNE(1,Ho,1,0,"ng-container",4),e.bVm()),2&a){const n=d.$implicit;e.XpG(4);const i=e.sdS(4);e.R7$(),e.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",e.eq3(2,Me,n))}}function Oo(a,d){if(1&a&&(e.j41(0,"ul",15),e.DNE(1,xo,2,4,"ng-container",3),e.k0s()),2&a){const n=e.XpG(2).item;e.Y8G("collapse",n.isCollapsed)("isAnimated",!0),e.R7$(),e.Y8G("ngForOf",n.children)}}function Jo(a,d){if(1&a&&(e.j41(0,"li",6),e.DNE(1,Uo,4,7,"a",7)(2,Xo,4,5,"a",8)(3,qo,5,6,"a",9)(4,Oo,2,3,"ul",10),e.k0s()),2&a){const n=e.XpG().item;e.AVh("menu-open",!n.isCollapsed)("has-treeview",n.children),e.R7$(),e.Y8G("ngIf",n.route&&0!=n.route.indexOf("http")),e.R7$(),e.Y8G("ngIf",n.route&&0==n.route.indexOf("http")&&!n.children),e.R7$(),e.Y8G("ngIf",!n.route&&n.children),e.R7$(),e.Y8G("ngIf",n.children)}}function Lo(a,d){if(1&a&&e.DNE(0,Jo,5,8,"li",5),2&a){const n=d.item,i=e.XpG();e.Y8G("ngIf",i.isMenuItemVisible(n))}}let Zo=(()=>{class a extends _.q{constructor(n,i){super(n),this.router=i,this.menuItemsMap={},this.activatedMenuItems=[],this.routerEvents=new Bo.t(void 0),this.homeRoute="/app/about"}ngOnInit(){this.menuItems=this.getMenuItems(),this.patchMenuItems(this.menuItems),this.router.events.subscribe(n=>{const o=this.router.parseUrl("/"!==n.url?n.url:this.homeRoute).root.children[g.Xk];o&&this.activateMenuItems("/"+o.toString())})}getMenuItems(){return[new w(this.l("MeuPerfil"),"/app/personal","fas fa-user"),new w(this.l("About"),"/app/about","fas fa-info-circle"),new w(this.l("HomePage"),"/app/home","fas fa-home"),new w(this.l("Servidor"),"","fas fa-circle","Pages.Users",[new w(this.l("Roles"),"/app/roles","fas fa-theater-masks","Pages.Roles"),new w(this.l("Tenants"),"/app/tenants","fas fa-building","Pages.Tenants"),new w(this.l("Users"),"/app/users","fas fa-users","Pages.Users")]),new w(this.l("Clientes"),"","fas fa-users","Business.Admin.People",[new w(this.l("Alunos"),"/app/alunos","fas fa-users","Business.Admin.People"),new w(this.l("Responsaveis"),"/app/responsaveis","fas fa-users","Business.Admin.People")]),new w(this.l("Administrativo"),"","fas fa-address-book","Business.Admin",[new w(this.l("Fun\xe7\xf5es"),"/app/funcoes","fas fa-address-book","Business.Admin.OrgRoles"),new w(this.l("Colaboradores"),"/app/colaboradores","fas fa-users","Business.Admin.People")]),new w(this.l("Financeiro"),"","fas fa-address-book","Business.Finance",[new w(this.l("Servi\xe7os Prestados"),"/app/servicos-prestados","fas fa-address-book","Business.Finance"),new w(this.l("Tipos de Servi\xe7o Prestado"),"/app/servicos-prestados/tipos","fas fa-address-book","Business.Finance")]),new w(this.l("T\xe9cnico"),"","fas fa-book","Business.Technical",[new w(this.l("Protocolos de Interven\xe7\xe3o"),"/app/protocolos-intervencao","fas fa-book","Business.Technical"),new w(this.l("Protocolos de Avalia\xe7\xe3o"),"/app/protocolos-avaliacao","fas fa-book","Business.Technical"),new w(this.l("T\xe9cnicas"),"/app/tecnicas","fas fa-book","Business.Technical"),new w(this.l("Refer\xeancias Bibliogr\xe1ficas"),"/app/ref-bibliograficas","fas fa-book","Business.Technical"),new w(this.l("Formatos de Ensino"),"/app/formatos-ensino","fas fa-book","Business.Technical"),new w(this.l("Hierarquias de Ajuda"),"/app/hierarquias-ajuda","fas fa-book","Business.Technical")])]}patchMenuItems(n,i){n.forEach((o,t)=>{o.id=i?+(i+""+(t+1)):t+1,i&&(o.parentId=i),(i||o.children)&&(this.menuItemsMap[o.id]=o),o.children&&this.patchMenuItems(o.children,o.id)})}activateMenuItems(n){this.deactivateMenuItems(this.menuItems),this.activatedMenuItems=[],this.findMenuItemsByUrl(n,this.menuItems).forEach(o=>{this.activateMenuItem(o)})}deactivateMenuItems(n){n.forEach(i=>{i.isActive=!1,i.isCollapsed=!0,i.children&&this.deactivateMenuItems(i.children)})}findMenuItemsByUrl(n,i,o=[]){return i.forEach(t=>{t.route===n?o.push(t):t.children&&this.findMenuItemsByUrl(n,t.children,o)}),o}activateMenuItem(n){n.isActive=!0,n.children&&(n.isCollapsed=!1),this.activatedMenuItems.push(n),n.parentId&&this.activateMenuItem(this.menuItemsMap[n.parentId])}isMenuItemVisible(n){return!n.permissionName||this.permission.isGranted(n.permissionName)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(g.Ix))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["sidebar-menu"]],features:[e.Vt3],decls:5,vars:1,consts:[["sidebarInner",""],[1,"mt-2"],["data-widget","treeview","role","menu","data-accordion","false",1,"nav","nav-pills","nav-sidebar","flex-column","nav-flat"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","nav-item",3,"menu-open","has-treeview",4,"ngIf"],[1,"nav-item"],["class","nav-link",3,"routerLink","active",4,"ngIf"],["class","nav-link","target","_blank",3,"href",4,"ngIf"],["class","nav-link","href","javascript:;",3,"active","click",4,"ngIf"],["class","nav nav-treeview",3,"collapse","isAnimated",4,"ngIf"],[1,"nav-link",3,"routerLink"],["target","_blank",1,"nav-link",3,"href"],["href","javascript:;",1,"nav-link",3,"click"],[1,"right","fas","fa-angle-left"],[1,"nav","nav-treeview",3,"collapse","isAnimated"]],template:function(i,o){1&i&&(e.j41(0,"nav",1)(1,"ul",2),e.DNE(2,Yo,2,4,"ng-container",3),e.k0s()(),e.DNE(3,Lo,1,1,"ng-template",null,0,e.C5r)),2&i&&(e.R7$(2),e.Y8G("ngForOf",o.menuItems))},dependencies:[p.Sq,p.bT,p.T3,Se.D,g.Wk],encapsulation:2})}return a})(),Qo=(()=>{class a{constructor(n,i){this.renderer=n,this._layoutStore=i}ngOnInit(){this._layoutStore.sidebarExpanded.subscribe(n=>{this.sidebarExpanded=n,this.toggleSidebar()})}toggleSidebar(){this.sidebarExpanded?this.hideSidebar():this.showSidebar()}showSidebar(){this.renderer.removeClass(document.body,"sidebar-collapse"),this.renderer.addClass(document.body,"sidebar-open")}hideSidebar(){this.renderer.removeClass(document.body,"sidebar-open"),this.renderer.addClass(document.body,"sidebar-collapse")}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.sFG),e.rXU(ne.B))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["sidebar"]],decls:5,vars:0,consts:[[1,"main-sidebar","sidebar-dark-primary","elevation-4"],[1,"sidebar"]],template:function(i,o){1&i&&(e.j41(0,"aside",0),e.nrm(1,"sidebar-logo"),e.j41(2,"div",1),e.nrm(3,"sidebar-user-panel")(4,"sidebar-menu"),e.k0s()())},dependencies:[No,Vo,Zo],encapsulation:2,changeDetection:0})}return a})(),Wo=(()=>{class a extends _.q{constructor(n,i,o){super(n),this.renderer=i,this._layoutStore=o}ngOnInit(){this.renderer.addClass(document.body,"sidebar-mini"),Io.initSignalR(),abp.event.on("abp.notifications.received",n=>{abp.notifications.showUiNotifyForUserNotification(n),Push.create("AbpZeroTemplate",{body:n.notification.data.message,icon:abp.appPath+"assets/app-logo-small.png",timeout:6e3,onClick:function(){window.focus(),this.close()}})}),this._layoutStore.sidebarExpanded.subscribe(n=>{this.sidebarExpanded=n})}toggleSidebar(){this._layoutStore.setSidebarExpanded(!this.sidebarExpanded)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(e.sFG),e.rXU(ne.B))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:7,vars:0,consts:[[1,"wrapper"],[1,"content-wrapper"],["id","sidebar-overlay",3,"click"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.nrm(1,"app-header")(2,"sidebar"),e.j41(3,"div",1),e.nrm(4,"router-outlet"),e.k0s(),e.nrm(5,"app-footer"),e.j41(6,"div",2),e.bIt("click",function(){return o.toggleSidebar()}),e.k0s()())},dependencies:[g.n3,$o,Po,Qo],encapsulation:2})}return a})();var M=R(37191),I=R(42856);let Ko=(()=>{class a extends _.q{constructor(n){super(n)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:214,vars:4,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"content","px-2"],[1,"alert","alert-info","alert-dismissible"],[1,"icon","fa","fa-info"],[1,"col-lg-3","col-6"],[1,"small-box","bg-info"],[1,"inner"],[1,"icon"],[1,"fas","fa-users"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/graphs/contributors","target","_blank",1,"small-box-footer"],[1,"fas","fa-arrow-circle-right"],[1,"small-box","bg-warning"],[1,"fas","fa-tools"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/network/dependents","target","_blank",1,"small-box-footer"],[1,"small-box","bg-primary"],[1,"fas","fa-code"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/network/members","target","_blank",1,"small-box-footer"],[1,"col-12","col-sm-6","col-md-3"],[1,"info-box"],[1,"info-box-icon","bg-primary","elevation-1"],[1,"fas","fa-plus-circle"],[1,"info-box-content"],[1,"info-box-text"],[1,"info-box-number"],[1,"info-box","mb-3"],[1,"info-box-icon","bg-warning","elevation-1"],[1,"fas","fa-exclamation-triangle"],[1,"clearfix","hidden-md-up"],[1,"info-box-icon","bg-info","elevation-1"],[1,"fas","fa-tag"],[1,"info-box-icon","bg-success","elevation-1"],[1,"fas","fa-eye"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body","table-responsive","p-0"],[1,"table","table-hover","text-nowrap"],[1,"bg-light"],[1,"w-25"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/issues/5452","target","_blank"],[1,"badge","badge-secondary","mx-1"],[1,"badge","badge-primary","mx-1"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/issues/5391","target","_blank"],[1,"badge","badge-danger","mx-1"],[1,"badge","badge-success","mx-1"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/issues/5390","target","_blank"],[1,"badge","badge-warning","mx-1"],[1,"badge","badge-info","mx-1"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/pull/5430","target","_blank"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/pull/5362","target","_blank"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/pull/4924","target","_blank"]],template:function(i,o){1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()()(),e.j41(8,"section",4)(9,"div",1)(10,"div",2)(11,"div",3)(12,"div",5)(13,"h6"),e.nrm(14,"i",6),e.EFF(15," This is a sample Dashboard which doesn't show any server side data. However, you can develop your own dashboard inspired by this one and its source code."),e.k0s()()()(),e.j41(16,"div",2)(17,"div",7)(18,"div",8)(19,"div",9)(20,"h3"),e.EFF(21,"140+"),e.k0s(),e.j41(22,"p"),e.EFF(23,"Contributors"),e.k0s()(),e.j41(24,"div",10),e.nrm(25,"i",11),e.k0s(),e.j41(26,"a",12),e.EFF(27," More info "),e.nrm(28,"i",13),e.k0s()()(),e.j41(29,"div",7)(30,"div",14)(31,"div",9)(32,"h3"),e.EFF(33,"1.6k+"),e.k0s(),e.j41(34,"p"),e.EFF(35,"Used / Dependents"),e.k0s()(),e.j41(36,"div",10),e.nrm(37,"i",15),e.k0s(),e.j41(38,"a",16),e.EFF(39," More info "),e.nrm(40,"i",13),e.k0s()()(),e.j41(41,"div",7)(42,"div",17)(43,"div",9)(44,"h3"),e.EFF(45,"3.1k+"),e.k0s(),e.j41(46,"p"),e.EFF(47,"Forks"),e.k0s()(),e.j41(48,"div",10),e.nrm(49,"i",18),e.k0s(),e.j41(50,"a",19),e.EFF(51," More info "),e.nrm(52,"i",13),e.k0s()()()(),e.j41(53,"div",2)(54,"div",20)(55,"div",21)(56,"span",22),e.nrm(57,"i",23),e.k0s(),e.j41(58,"div",24)(59,"span",25),e.EFF(60,"Commits"),e.k0s(),e.j41(61,"span",26),e.EFF(62," 6,350+ "),e.k0s()()()(),e.j41(63,"div",20)(64,"div",27)(65,"span",28),e.nrm(66,"i",29),e.k0s(),e.j41(67,"div",24)(68,"span",25),e.EFF(69,"Issues"),e.k0s(),e.j41(70,"span",26),e.EFF(71," 170+ "),e.k0s()()()(),e.nrm(72,"div",30),e.j41(73,"div",20)(74,"div",27)(75,"span",31),e.nrm(76,"i",32),e.k0s(),e.j41(77,"div",24)(78,"span",25),e.EFF(79,"Releases"),e.k0s(),e.j41(80,"span",26),e.EFF(81," 200+ "),e.k0s()()()(),e.j41(82,"div",20)(83,"div",27)(84,"span",33),e.nrm(85,"i",34),e.k0s(),e.j41(86,"div",24)(87,"span",25),e.EFF(88,"Watching by"),e.k0s(),e.j41(89,"span",26),e.EFF(90," 810+ "),e.k0s()()()()(),e.j41(91,"div",2)(92,"div",35)(93,"div",36)(94,"div",37)(95,"h3",38),e.EFF(96,"Open Issues"),e.k0s()(),e.j41(97,"div",39)(98,"table",40)(99,"thead",41)(100,"tr")(101,"th"),e.EFF(102,"Id"),e.k0s(),e.j41(103,"th",42),e.EFF(104,"Title"),e.k0s(),e.j41(105,"th",42),e.EFF(106,"Labels"),e.k0s(),e.j41(107,"th"),e.EFF(108,"Date"),e.k0s(),e.j41(109,"th"),e.EFF(110,"Opened by"),e.k0s()()(),e.j41(111,"tbody")(112,"tr")(113,"td")(114,"a",43),e.EFF(115," 5452 "),e.k0s()(),e.j41(116,"td"),e.EFF(117,"Angular UI migration to AdminLTE 3"),e.k0s(),e.j41(118,"td")(119,"span",44),e.EFF(120," module-zero-core-template "),e.k0s(),e.j41(121,"span",45),e.EFF(122," feature "),e.k0s()(),e.j41(123,"td"),e.EFF(124,"11 days ago"),e.k0s(),e.j41(125,"td"),e.EFF(126,"iyilm4z"),e.k0s()(),e.j41(127,"tr")(128,"td")(129,"a",46),e.EFF(130," 5391 "),e.k0s()(),e.j41(131,"td"),e.EFF(132," AbpCacheBase should lock the same object for sync and async "),e.k0s(),e.j41(133,"td")(134,"span",47),e.EFF(135," bug "),e.k0s(),e.j41(136,"span",48),e.EFF(137," pull request candidate "),e.k0s()(),e.j41(138,"td"),e.EFF(139,"26 days ago"),e.k0s(),e.j41(140,"td"),e.EFF(141,"acjh"),e.k0s()(),e.j41(142,"tr")(143,"td")(144,"a",49),e.EFF(145," 5390 "),e.k0s()(),e.j41(146,"td"),e.EFF(147,"AbpCache sliding/absolute expire time"),e.k0s(),e.j41(148,"td")(149,"span",50),e.EFF(150," breaking-change "),e.k0s(),e.j41(151,"span",51),e.EFF(152,"enhancement"),e.k0s()(),e.j41(153,"td"),e.EFF(154,"27 days ago"),e.k0s(),e.j41(155,"td"),e.EFF(156,"ryancyq"),e.k0s()()()()()()()(),e.j41(157,"div",2)(158,"div",35)(159,"div",36)(160,"div",37)(161,"h3",38),e.EFF(162,"Closed Pull Requests"),e.k0s()(),e.j41(163,"div",39)(164,"table",40)(165,"thead",41)(166,"tr")(167,"th"),e.EFF(168,"Id"),e.k0s(),e.j41(169,"th",42),e.EFF(170,"Title"),e.k0s(),e.j41(171,"th",42),e.EFF(172,"Milestone"),e.k0s(),e.j41(173,"th"),e.EFF(174,"Date"),e.k0s(),e.j41(175,"th"),e.EFF(176,"Made by"),e.k0s()()(),e.j41(177,"tbody")(178,"tr")(179,"td")(180,"a",52),e.EFF(181," 5430 "),e.k0s()(),e.j41(182,"td"),e.EFF(183," Added Dynamic-Parameter-System doc to documentation menu "),e.k0s(),e.j41(184,"td"),e.EFF(185,"v5.6"),e.k0s(),e.j41(186,"td"),e.EFF(187,"18 days ago"),e.k0s(),e.j41(188,"td"),e.EFF(189,"maliming"),e.k0s()(),e.j41(190,"tr")(191,"td")(192,"a",53),e.EFF(193," 5362 "),e.k0s()(),e.j41(194,"td"),e.EFF(195," Dynamic Parameter Module "),e.k0s(),e.j41(196,"td"),e.EFF(197,"v5.4"),e.k0s(),e.j41(198,"td"),e.EFF(199,"25 days ago"),e.k0s(),e.j41(200,"td"),e.EFF(201,"demirmusa"),e.k0s()(),e.j41(202,"tr")(203,"td")(204,"a",54),e.EFF(205," 4924 "),e.k0s()(),e.j41(206,"td"),e.EFF(207," ASP.NET Core 3.0 Upgrade "),e.k0s(),e.j41(208,"td"),e.EFF(209,"v5.0"),e.k0s(),e.j41(210,"td"),e.EFF(211,"Oct 15"),e.k0s(),e.j41(212,"td"),e.EFF(213,"ismcagdas"),e.k0s()()()()()()()()()()()),2&i&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,2,"HomePage")))},dependencies:[h.S],encapsulation:2,data:{animation:[(0,I.OD)()]},changeDetection:0})}return a})(),en=(()=>{class a extends _.q{constructor(n){super(n)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:106,vars:4,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"content","px-2"],[1,"card"],[1,"card-body"],["href","http://aspnetzero.com?ref=abptmpl","target","_blank"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Zero/Tenant-Management"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Zero/Role-Management"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Zero/User-Management"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Authorization"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Zero/Permission-Management"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Setting-Management"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Zero/Language-Management"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Audit-Logging"],["href","https://docs.microsoft.com/en-us/aspnet/core/security/authentication/identity","target","_blank"],["href","https://www.aspnetboilerplate.com/Pages/Documents/Zero/Startup-Template-Core"],["href","http://www.aspnetboilerplate.com/Pages/Documents"],["href","https://github.com/aspnetboilerplate/module-zero-core-template","target","_blank"]],template:function(i,o){1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()()(),e.j41(8,"section",4)(9,"div",1)(10,"div",5)(11,"div",6)(12,"p"),e.EFF(13," This is a simple startup template based on ASP.NET Boilerplate framework and Module Zero. If you need an enterprise startup project, check "),e.j41(14,"a",7),e.EFF(15," ASP.NET ZERO "),e.k0s(),e.EFF(16,". "),e.k0s(),e.j41(17,"h3"),e.EFF(18,"What is ASP.NET Boilerplate?"),e.k0s(),e.j41(19,"p"),e.EFF(20," ASP.NET Boilerplate is an application framework built on latest "),e.j41(21,"strong"),e.EFF(22,"ASP.NET Core"),e.k0s(),e.EFF(23," framework. It makes easy to use authorization, dependency injection, validation, exception handling, localization, logging, caching, background jobs and so on. It's built on already familiar tools like Entity Framework, AutoMapper, Castle Windsor... "),e.k0s(),e.j41(24,"p"),e.EFF(25," ASP.NET Boilerplate implements "),e.j41(26,"strong"),e.EFF(27,"NLayer architecture"),e.k0s(),e.EFF(28," (Domain, Application, Infrastructure and Presentation Layers) and "),e.j41(29,"strong"),e.EFF(30,"Domain Driven Design"),e.k0s(),e.EFF(31," (Entities, Repositories, Domain/Application Services, DTO's...). Also implements and provides a good infrastructure to implement common software development "),e.j41(32,"strong"),e.EFF(33,"best practices"),e.k0s(),e.EFF(34,". "),e.k0s(),e.j41(35,"h3"),e.EFF(36,"What is Module Zero?"),e.k0s(),e.j41(37,"p"),e.EFF(38," ASP.NET Boilerplate framework is designed to be independent of any database schema and to be as generic as possible. Therefore, It leaves some concepts "),e.j41(39,"strong"),e.EFF(40,"abstract"),e.k0s(),e.EFF(41," and "),e.j41(42,"strong"),e.EFF(43,"optional"),e.k0s(),e.EFF(44," (like audit logging, permission and setting stores) which requires some "),e.j41(45,"strong"),e.EFF(46,"data store"),e.k0s(),e.EFF(47,". "),e.k0s(),e.j41(48,"p")(49,"strong"),e.EFF(50,"Module Zero "),e.k0s(),e.EFF(51,"implements all fundamental concepts of ASP.NET Boilerplate framework such as "),e.j41(52,"a",8),e.EFF(53,"tenant management"),e.k0s(),e.EFF(54," ("),e.j41(55,"strong"),e.EFF(56,"multi-tenancy"),e.k0s(),e.EFF(57,"), "),e.j41(58,"a",9),e.EFF(59," role management "),e.k0s(),e.EFF(60,", "),e.j41(61,"a",10),e.EFF(62,"user management"),e.k0s(),e.EFF(63,", "),e.j41(64,"a",11),e.EFF(65,"authorization"),e.k0s(),e.EFF(66," ("),e.j41(67,"a",12),e.EFF(68," permission management "),e.k0s(),e.EFF(69,"), "),e.j41(70,"a",13),e.EFF(71,"setting management"),e.k0s(),e.EFF(72,", "),e.j41(73,"a",14),e.EFF(74," language management "),e.k0s(),e.EFF(75,", "),e.j41(76,"a",15),e.EFF(77,"audit logging"),e.k0s(),e.EFF(78," and so on. "),e.k0s(),e.j41(79,"p"),e.EFF(80," Module-Zero defines entities and implements "),e.j41(81,"strong"),e.EFF(82,"domain logic"),e.k0s(),e.EFF(83," (domain layer) and leaves application and presentation layers to you. "),e.k0s(),e.j41(84,"h4"),e.EFF(85,"Based on Microsoft ASP.NET Core Identity"),e.k0s(),e.j41(86,"p"),e.EFF(87," Module Zero is based on Microsoft's "),e.j41(88,"a",16),e.EFF(89,"ASP.NET Core Identity"),e.k0s(),e.EFF(90," library. It extends user and role managers and implements user and role stores using generic repositories. "),e.k0s(),e.j41(91,"h3"),e.EFF(92,"Documentation"),e.k0s(),e.j41(93,"ul")(94,"li")(95,"a",17),e.EFF(96,"Documentation for this template"),e.k0s()(),e.j41(97,"li")(98,"a",18),e.EFF(99,"ASP.NET Boilerplate documentation"),e.k0s()()(),e.j41(100,"h3"),e.EFF(101,"Source code"),e.k0s(),e.j41(102,"p"),e.EFF(103," This template is developed open source on Github. You can contribute to the template. "),e.j41(104,"a",19),e.EFF(105,"https://github.com/aspnetboilerplate/module-zero-core-template"),e.k0s()()()()()()()),2&i&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,2,"About")))},dependencies:[h.S],encapsulation:2,data:{animation:[(0,I.OD)()]},changeDetection:0})}return a})();var A=R(70980);class on{}let y=(()=>{class a extends _.q{constructor(n){super(n),this.pageSize=10,this.pageNumber=1,this.totalPages=1,this.isTableLoading=!1}ngOnInit(){this.refresh()}refresh(){this.getDataPage(this.pageNumber)}showPaging(n,i){this.totalPages=(n.totalCount-n.totalCount%this.pageSize)/this.pageSize+1,this.totalItems=n.totalCount,this.pageNumber=i}getDataPage(n){const i=new on;i.maxResultCount=this.pageSize,i.skipCount=(n-1)*this.pageSize,this.isTableLoading=!0,this.list(i,n,()=>{this.isTableLoading=!1})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:0,vars:0,template:function(i,o){},encapsulation:2})}return a})();var Ee=R(56689),nn=R(37277),Te=R(73883),De=R(31287);const an=function tn(a,d){var n=-1,i=(0,De.A)(a)?Array(a.length):[];return(0,Te.A)(a,function(o,t,s){i[++n]=d(o,t,s)}),i};var ie=R(43744);const Z=function sn(a,d){return((0,ie.A)(a)?Ee.A:an)(a,(0,nn.A)(d,3))},ln=function rn(a,d){for(var n=-1,i=null==a?0:a.length;++n<i&&!1!==d(a[n],n,a););return a};var dn=R(57003);const Q=function mn(a,d){return((0,ie.A)(a)?ln:Te.A)(a,function cn(a){return"function"==typeof a?a:dn.A}(d))};var G=R(48339),k=R(417),j=R(42991);let Ae=(()=>{class a{constructor(n,i){this.validateEqual=n,this.reverse=i}get isReverse(){return!!this.reverse&&"true"===this.reverse}validate(n){const i=n.value,o=n.root.get(this.validateEqual);return o&&i!==o.value&&!this.isReverse?{validateEqual:!0}:(o&&i===o.value&&this.isReverse&&(delete o.errors.validateEqual,Object.keys(o.errors).length||o.setErrors(null)),o&&i!==o.value&&this.isReverse&&o.setErrors({validateEqual:!0}),null)}static#e=this.\u0275fac=function(i){return new(i||a)(e.kS0("validateEqual"),e.kS0("reverse"))};static#o=this.\u0275dir=e.FsC({type:a,selectors:[["","validateEqual","","formControlName",""],["","validateEqual","","formControl",""],["","validateEqual","","ngModel",""]],features:[e.Jv_([{provide:l.cz,useExisting:(0,e.Rfq)(()=>a),multi:!0}])]})}return a})();function pn(a,d){if(1&a){const n=e.RV6();e.qex(0),e.j41(1,"div",34)(2,"div",29)(3,"input",35),e.bIt("change",function(o){const t=e.eBV(n).$implicit,s=e.XpG();return e.Njj(s.onRoleChange(t,o))}),e.k0s(),e.j41(4,"label",36),e.EFF(5),e.k0s()()(),e.bVm()}if(2&a){const n=d.$implicit,i=d.index,o=e.XpG();e.R7$(3),e.Y8G("id","role_"+i)("checked",o.isRoleChecked(n.normalizedName)),e.R7$(),e.Y8G("for","role_"+i),e.R7$(),e.SpI(" ",n.name," ")}}let hn=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._userService=i,this.bsModalRef=o,this.saving=!1,this.user=new c.TG,this.roles=[],this.checkedRolesMap={},this.defaultRoleCheckedStatus=!1,this.passwordValidationErrors=[{name:"pattern",localizationKey:"PasswordsMustBeAtLeast8CharactersContainLowercaseUppercaseNumber"}],this.confirmPasswordValidationErrors=[{name:"validateEqual",localizationKey:"PasswordsDoNotMatch"}],this.onSave=new e.bkB}ngOnInit(){this.user.isActive=!0,this._userService.getRoles().subscribe(n=>{this.roles=n.items,this.setInitialRolesStatus()})}setInitialRolesStatus(){Z(this.roles,n=>{this.checkedRolesMap[n.normalizedName]=this.isRoleChecked(n.normalizedName)})}isRoleChecked(n){return this.defaultRoleCheckedStatus}onRoleChange(n,i){this.checkedRolesMap[n.normalizedName]=i.target.checked}getCheckedRoles(){const n=[];return Q(this.checkedRolesMap,function(i,o){i&&n.push(o)}),n}save(){this.saving=!0,this.user.roleNames=this.getCheckedRoles(),this._userService.create(this.user).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()},()=>{this.saving=!1})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.LC),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:75,vars:53,consts:[["createUserModal","ngForm"],["nameModel","ngModel","nameEl",""],["surnameModel","ngModel","surnameEl",""],["userNameModel","ngModel","userNameEl",""],["passwordModel","ngModel","passwordEl",""],["confirmPasswordModel","ngModel","confirmPasswordEl",""],["emailAddressModel","ngModel","emailAddressEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],[1,"form-group","row","required"],["for","name",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","name","id","name","required","","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","surname",1,"col-md-3","col-form-label"],["type","text","name","surname","id","surname","required","","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],["for","userName",1,"col-md-3","col-form-label"],["type","text","name","userName","id","userName","required","","minlength","2","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"col-md-3","col-form-label"],["type","password","name","password","id","password","required","","maxlength","32","validateEqual","confirmPassword","reverse","true","pattern","(?=^.{8,}$)(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s)[0-9a-zA-Z!@#$%^&*()]*$",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl","customValidationErrors"],["for","confirmPassword",1,"col-md-3","col-form-label"],["type","password","name","confirmPassword","id","confirmPassword","required","","maxlength","32","validateEqual","password","reverse","false","ngModel","",1,"form-control"],["for","emailAddress",1,"col-md-3","col-form-label"],["type","email","name","emailAddress","id","emailAddress","required","","maxlength","256","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{1,})+$",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row","mb-0"],[1,"col-md-3","col-form-label"],[1,"custom-control","custom-checkbox"],["type","checkbox","name","isActive","id","isActive",1,"custom-control-input",3,"ngModelChange","ngModel"],["for","isActive",1,"custom-control-label","mt-2"],[4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[1,"col-md-6"],["type","checkbox",1,"custom-control-input",3,"change","id","checked"],[1,"custom-control-label",3,"for"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",7,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",8),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",9)(5,"tabset")(6,"tab",10),e.nI1(7,"localize"),e.j41(8,"div",11)(9,"label",12),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"div",13)(13,"input",14,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.user.name,r)||(o.user.name=r),e.Njj(r)}),e.k0s(),e.nrm(16,"abp-validation-summary",15),e.k0s()(),e.j41(17,"div",11)(18,"label",16),e.EFF(19),e.nI1(20,"localize"),e.k0s(),e.j41(21,"div",13)(22,"input",17,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.user.surname,r)||(o.user.surname=r),e.Njj(r)}),e.k0s(),e.nrm(25,"abp-validation-summary",15),e.k0s()(),e.j41(26,"div",11)(27,"label",18),e.EFF(28),e.nI1(29,"localize"),e.k0s(),e.j41(30,"div",13)(31,"input",19,3),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.user.userName,r)||(o.user.userName=r),e.Njj(r)}),e.k0s(),e.nrm(34,"abp-validation-summary",15),e.k0s()(),e.j41(35,"div",11)(36,"label",20),e.EFF(37),e.nI1(38,"localize"),e.k0s(),e.j41(39,"div",13)(40,"input",21,4),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.user.password,r)||(o.user.password=r),e.Njj(r)}),e.k0s(),e.nrm(43,"abp-validation-summary",22),e.k0s()(),e.j41(44,"div",11)(45,"label",23),e.EFF(46),e.nI1(47,"localize"),e.k0s(),e.j41(48,"div",13),e.nrm(49,"input",24,5)(52,"abp-validation-summary",22),e.k0s()(),e.j41(53,"div",11)(54,"label",25),e.EFF(55),e.nI1(56,"localize"),e.k0s(),e.j41(57,"div",13)(58,"input",26,6),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.user.emailAddress,r)||(o.user.emailAddress=r),e.Njj(r)}),e.k0s(),e.nrm(61,"abp-validation-summary",15),e.k0s()(),e.j41(62,"div",27)(63,"label",28),e.EFF(64),e.nI1(65,"localize"),e.k0s(),e.j41(66,"div",13)(67,"div",29)(68,"input",30),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.user.isActive,r)||(o.user.isActive=r),e.Njj(r)}),e.k0s(),e.nrm(69,"label",31),e.k0s()()()(),e.j41(70,"tab",10),e.nI1(71,"localize"),e.j41(72,"div",27),e.DNE(73,pn,6,4,"ng-container",32),e.k0s()()()(),e.j41(74,"abp-modal-footer",33),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1),s=e.sdS(14),r=e.sdS(15),m=e.sdS(23),f=e.sdS(24),v=e.sdS(32),C=e.sdS(33),S=e.sdS(41),$=e.sdS(42),P=e.sdS(50),N=e.sdS(51),B=e.sdS(59),z=e.sdS(60);e.R7$(2),e.Y8G("title",e.bMT(3,33,"CreateNewUser")),e.R7$(4),e.Y8G("heading",e.bMT(7,35,"UserDetails")),e.R7$(4),e.SpI(" ",e.bMT(11,37,"Name")," "),e.R7$(3),e.R50("ngModel",o.user.name),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(20,39,"Surname")," "),e.R7$(3),e.R50("ngModel",o.user.surname),e.R7$(3),e.Y8G("control",m)("controlEl",f),e.R7$(3),e.SpI(" ",e.bMT(29,41,"UserName")," "),e.R7$(3),e.R50("ngModel",o.user.userName),e.R7$(3),e.Y8G("control",v)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(38,43,"Password")," "),e.R7$(3),e.R50("ngModel",o.user.password),e.R7$(3),e.Y8G("control",S)("controlEl",$)("customValidationErrors",o.passwordValidationErrors),e.R7$(3),e.SpI(" ",e.bMT(47,45,"ConfirmPassword")," "),e.R7$(6),e.Y8G("control",P)("controlEl",N)("customValidationErrors",o.confirmPasswordValidationErrors),e.R7$(3),e.SpI(" ",e.bMT(56,47,"EmailAddress")," "),e.R7$(3),e.R50("ngModel",o.user.emailAddress),e.R7$(3),e.Y8G("control",B)("controlEl",z),e.R7$(3),e.SpI(" ",e.bMT(65,49,"IsActive")," "),e.R7$(4),e.R50("ngModel",o.user.isActive),e.R7$(2),e.Y8G("heading",e.bMT(71,51,"UserRoles")),e.R7$(3),e.Y8G("ngForOf",o.roles),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.me,l.Zm,l.BC,l.cb,l.YS,l.xh,l.tU,l.R_,l.vS,l.cV,F.V6,F.fw,G.e,k.x,j.z,Ae,h.S],encapsulation:2})}return a})();const _n=function bn(a){return a!=a};var kn=R(45281),jn=R(42661);var En=/\s/;var An=/^\s+/;const Gn=function yn(a){return a&&a.slice(0,function Tn(a){for(var d=a.length;d--&&En.test(a.charAt(d)););return d}(a)+1).replace(An,"")};var ye=R(30554),$n=R(74077),Pn=/^[-+]0x[0-9a-f]+$/i,wn=/^0b[01]+$/i,Nn=/^0o[0-7]+$/i,Vn=parseInt;var $e=1/0;const Xn=function Un(a){return a?(a=function Bn(a){if("number"==typeof a)return a;if((0,$n.A)(a))return NaN;if((0,ye.A)(a)){var d="function"==typeof a.valueOf?a.valueOf():a;a=(0,ye.A)(d)?d+"":d}if("string"!=typeof a)return 0===a?a:+a;a=Gn(a);var n=wn.test(a);return n||Nn.test(a)?Vn(a.slice(2),n?2:8):Pn.test(a)?NaN:+a}(a))===$e||a===-$e?17976931348623157e292*(a<0?-1:1):a==a?a:0:0===a?a:0};var Jn=R(2662);const Zn=function Ln(a){return null==a?[]:function xn(a,d){return(0,Ee.A)(d,function(n){return a[n]})}(a,(0,Jn.A)(a))};var Qn=Math.max;const Pe=function Wn(a,d,n,i){a=(0,De.A)(a)?a:Zn(a),n=n&&!i?function qn(a){var d=Xn(a),n=d%1;return d==d?n?d-n:d:0}(n):0;var o=a.length;return n<0&&(n=Qn(o+n,0)),function Sn(a){return"string"==typeof a||!(0,ie.A)(a)&&(0,jn.A)(a)&&"[object String]"==(0,kn.A)(a)}(a)?n<=o&&a.indexOf(d,n)>-1:!!o&&function In(a,d,n){return d==d?function vn(a,d,n){for(var i=n-1,o=a.length;++i<o;)if(a[i]===d)return i;return-1}(a,d,n):function gn(a,d,n,i){for(var o=a.length,t=n+(i?1:-1);i?t--:++t<o;)if(d(a[t],t,a))return t;return-1}(a,_n,n)}(a,d,n)>-1};function Kn(a,d){if(1&a){const n=e.RV6();e.qex(0),e.j41(1,"div",27)(2,"div",22)(3,"input",28),e.bIt("change",function(o){const t=e.eBV(n).$implicit,s=e.XpG();return e.Njj(s.onRoleChange(t,o))}),e.k0s(),e.j41(4,"label",29),e.EFF(5),e.k0s()()(),e.bVm()}if(2&a){const n=d.$implicit,i=d.index,o=e.XpG();e.R7$(3),e.Y8G("id","role_"+i)("checked",o.isRoleChecked(n.normalizedName)),e.R7$(),e.Y8G("for","role_"+i),e.R7$(),e.SpI(" ",n.name," ")}}let ei=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._userService=i,this.bsModalRef=o,this.saving=!1,this.user=new c.Lq,this.roles=[],this.checkedRolesMap={},this.onSave=new e.bkB}ngOnInit(){this._userService.get(this.id).subscribe(n=>{this.user=n,this._userService.getRoles().subscribe(i=>{this.roles=i.items,this.setInitialRolesStatus()})})}setInitialRolesStatus(){Z(this.roles,n=>{this.checkedRolesMap[n.normalizedName]=this.isRoleChecked(n.normalizedName)})}isRoleChecked(n){return Pe(this.user.roleNames,n)}onRoleChange(n,i){this.checkedRolesMap[n.normalizedName]=i.target.checked}getCheckedRoles(){const n=[];return Q(this.checkedRolesMap,function(i,o){i&&n.push(o)}),n}save(){this.saving=!0,this.user.roleNames=this.getCheckedRoles(),this._userService.update(this.user).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()},()=>{this.saving=!1})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.LC),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:57,vars:40,consts:[["editUserModal","ngForm"],["nameModel","ngModel","nameEl",""],["surnameModel","ngModel","surnameEl",""],["userNameModel","ngModel","userNameEl",""],["emailAddressModel","ngModel","emailAddressEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],[1,"form-group","row","required"],["for","name",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","name","id","name","required","","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","surname",1,"col-md-3","col-form-label"],["type","text","name","surname","id","surname","required","","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],["for","userName",1,"col-md-3","col-form-label"],["type","text","name","userName","id","userName","required","","minlength","2","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],["for","emailAddress",1,"col-md-3","col-form-label"],["type","email","name","emailAddress","id","emailAddress","required","","maxlength","256","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{1,})+$",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row","mb-0"],[1,"col-md-3","col-form-label"],[1,"custom-control","custom-checkbox"],["type","checkbox","name","isActive","id","isActive",1,"custom-control-input",3,"ngModelChange","ngModel"],["for","isActive",1,"custom-control-label","mt-2"],[4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[1,"col-md-6"],["type","checkbox",1,"custom-control-input",3,"change","id","checked"],[1,"custom-control-label",3,"for"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",5,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",6),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",7)(5,"tabset")(6,"tab",8),e.nI1(7,"localize"),e.j41(8,"div",9)(9,"label",10),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"div",11)(13,"input",12,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.user.name,r)||(o.user.name=r),e.Njj(r)}),e.k0s(),e.nrm(16,"abp-validation-summary",13),e.k0s()(),e.j41(17,"div",9)(18,"label",14),e.EFF(19),e.nI1(20,"localize"),e.k0s(),e.j41(21,"div",11)(22,"input",15,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.user.surname,r)||(o.user.surname=r),e.Njj(r)}),e.k0s(),e.nrm(25,"abp-validation-summary",13),e.k0s()(),e.j41(26,"div",9)(27,"label",16),e.EFF(28),e.nI1(29,"localize"),e.k0s(),e.j41(30,"div",11)(31,"input",17,3),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.user.userName,r)||(o.user.userName=r),e.Njj(r)}),e.k0s(),e.nrm(34,"abp-validation-summary",13),e.k0s()(),e.j41(35,"div",9)(36,"label",18),e.EFF(37),e.nI1(38,"localize"),e.k0s(),e.j41(39,"div",11)(40,"input",19,4),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.user.emailAddress,r)||(o.user.emailAddress=r),e.Njj(r)}),e.k0s(),e.nrm(43,"abp-validation-summary",13),e.k0s()(),e.j41(44,"div",20)(45,"label",21),e.EFF(46),e.nI1(47,"localize"),e.k0s(),e.j41(48,"div",11)(49,"div",22)(50,"input",23),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.user.isActive,r)||(o.user.isActive=r),e.Njj(r)}),e.k0s(),e.nrm(51,"label",24),e.k0s()()()(),e.j41(52,"tab",8),e.nI1(53,"localize"),e.j41(54,"div",20),e.DNE(55,Kn,6,4,"ng-container",25),e.k0s()()()(),e.j41(56,"abp-modal-footer",26),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1),s=e.sdS(14),r=e.sdS(15),m=e.sdS(23),f=e.sdS(24),v=e.sdS(32),C=e.sdS(33),S=e.sdS(41),$=e.sdS(42);e.R7$(2),e.Y8G("title",e.bMT(3,24,"EditUser")),e.R7$(4),e.Y8G("heading",e.bMT(7,26,"UserDetails")),e.R7$(4),e.SpI(" ",e.bMT(11,28,"Name")," "),e.R7$(3),e.R50("ngModel",o.user.name),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(20,30,"Surname")," "),e.R7$(3),e.R50("ngModel",o.user.surname),e.R7$(3),e.Y8G("control",m)("controlEl",f),e.R7$(3),e.SpI(" ",e.bMT(29,32,"UserName")," "),e.R7$(3),e.R50("ngModel",o.user.userName),e.R7$(3),e.Y8G("control",v)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(38,34,"EmailAddress")," "),e.R7$(3),e.R50("ngModel",o.user.emailAddress),e.R7$(3),e.Y8G("control",S)("controlEl",$),e.R7$(3),e.SpI(" ",e.bMT(47,36,"IsActive")," "),e.R7$(4),e.R50("ngModel",o.user.isActive),e.R7$(2),e.Y8G("heading",e.bMT(53,38,"UserRoles")),e.R7$(3),e.Y8G("ngForOf",o.roles),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.me,l.Zm,l.BC,l.cb,l.YS,l.xh,l.tU,l.R_,l.vS,l.cV,F.V6,F.fw,G.e,k.x,j.z,h.S],encapsulation:2})}return a})(),oi=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._userService=i,this.bsModalRef=o,this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.resetPasswordDto=new c.US,this.resetPasswordDto.userId=this.id,this.resetPasswordDto.newPassword=Math.random().toString(36).substr(2,10),this.isLoading=!1}resetPassword(){this.isLoading=!0,this._userService.resetPassword(this.resetPasswordDto).subscribe(()=>{this.notify.info("Password Reset"),this.bsModalRef.hide()},()=>{this.isLoading=!1})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.LC),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["app-reset-password"]],features:[e.Vt3],decls:31,vars:21,consts:[["resetPasswordModal","ngForm"],["adminPasswordModel","ngModel","adminPasswordEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"row"],[1,"col-md-9","offset-md-3"],[1,"text-info","mb-1"],[1,"form-group","row","required"],["for","adminPassword",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","password","id","adminPassword","name","adminPassword","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","newPassword",1,"col-md-3","col-form-label"],["type","text","name","NewPassword","id","newPassword","readonly","",1,"form-control",3,"ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.resetPassword())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"div",6)(7,"p",7),e.EFF(8),e.nI1(9,"localize"),e.k0s()()(),e.j41(10,"div",8)(11,"label",9),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"div",10)(15,"input",11,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.resetPasswordDto.adminPassword,r)||(o.resetPasswordDto.adminPassword=r),e.Njj(r)}),e.k0s(),e.nrm(18,"abp-validation-summary",12),e.k0s()(),e.j41(19,"div",5)(20,"div",6)(21,"p",7),e.EFF(22),e.nI1(23,"localize"),e.k0s()()(),e.j41(24,"div",13)(25,"label",14),e.EFF(26),e.nI1(27,"localize"),e.k0s(),e.j41(28,"div",10),e.nrm(29,"input",15),e.k0s()()(),e.j41(30,"abp-modal-footer",16),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1),s=e.sdS(16),r=e.sdS(17);e.R7$(2),e.Y8G("title",e.bMT(3,11,"ResetPassword")),e.R7$(6),e.SpI(" ",e.bMT(9,13,"ResetPasswordStepOneInfo")," "),e.R7$(4),e.SpI(" ",e.bMT(13,15,"AdminPassword")," "),e.R7$(3),e.R50("ngModel",o.resetPasswordDto.adminPassword),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(4),e.SpI(" ",e.bMT(23,17,"ResetPasswordStepTwoInfo")," "),e.R7$(4),e.SpI(" ",e.bMT(27,19,"NewPassword")," "),e.R7$(3),e.Y8G("ngModel",o.resetPasswordDto.newPassword),e.R7$(),e.Y8G("cancelDisabled",o.isLoading)("saveDisabled",!t.form.valid||o.isLoading)}},dependencies:[l.qT,l.me,l.BC,l.cb,l.YS,l.vS,l.cV,G.e,k.x,j.z,h.S],encapsulation:2})}return a})();function ni(a,d){if(1&a){const n=e.RV6();e.j41(0,"a",9),e.bIt("click",function(){e.eBV(n),e.XpG(3);const o=e.sdS(1);return e.Njj(o.previous())}),e.nrm(1,"i",10),e.k0s()}}function ii(a,d){1&a&&(e.j41(0,"a",11),e.nrm(1,"i",10),e.k0s())}function ti(a,d){if(1&a&&(e.j41(0,"li",6),e.DNE(1,ni,2,0,"a",7)(2,ii,2,0,"a",8),e.k0s()),2&a){e.XpG(2);const n=e.sdS(1);e.AVh("disabled",n.isFirstPage()),e.R7$(),e.Y8G("ngIf",!n.isFirstPage()),e.R7$(),e.Y8G("ngIf",n.isFirstPage())}}function ai(a,d){if(1&a){const n=e.RV6();e.j41(0,"li",6)(1,"a",9),e.bIt("click",function(){const o=e.eBV(n).$implicit;e.XpG(2);const t=e.sdS(1);return e.Njj(t.setCurrent(o.value))}),e.EFF(2),e.k0s()()}if(2&a){const n=d.$implicit;e.XpG(2);const i=e.sdS(1);e.xc7("z-index",i.getCurrent()===n.value?"0":""),e.AVh("active",i.getCurrent()===n.value),e.R7$(2),e.SpI(" ",n.label," ")}}function si(a,d){if(1&a){const n=e.RV6();e.j41(0,"a",9),e.bIt("click",function(){e.eBV(n),e.XpG(3);const o=e.sdS(1);return e.Njj(o.next())}),e.nrm(1,"i",12),e.k0s()}}function ri(a,d){1&a&&(e.j41(0,"a",11),e.nrm(1,"i",12),e.k0s())}function li(a,d){if(1&a&&(e.j41(0,"li",6),e.DNE(1,si,2,0,"a",7)(2,ri,2,0,"a",8),e.k0s()),2&a){e.XpG(2);const n=e.sdS(1);e.AVh("disabled",n.isLastPage()),e.R7$(),e.Y8G("ngIf",!n.isLastPage()),e.R7$(),e.Y8G("ngIf",n.isLastPage())}}function di(a,d){if(1&a&&(e.j41(0,"ul",3),e.DNE(1,ti,3,4,"li",4)(2,ai,3,5,"li",5)(3,li,3,4,"li",4),e.k0s()),2&a){const n=e.XpG(),i=e.sdS(1);e.R7$(),e.Y8G("ngIf",n.directionLinks),e.R7$(),e.Y8G("ngForOf",i.pages),e.R7$(),e.Y8G("ngIf",n.directionLinks)}}let D=(()=>{class a{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new e.bkB,this._directionLinks=!0,this._autoHide=!1}get directionLinks(){return this._directionLinks}set directionLinks(n){this._directionLinks=!!n&&"false"!==n}get autoHide(){return this._autoHide}set autoHide(n){this._autoHide=!!n&&"false"!==n}static#e=this.\u0275fac=function(i){return new(i||a)};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["abp-pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide"},outputs:{pageChange:"pageChange"},decls:4,vars:3,consts:[["p","paginationApi"],[3,"pageChange","id","maxSize"],["class","pagination m-0",4,"ngIf"],[1,"pagination","m-0"],["class","page-item",3,"disabled",4,"ngIf"],["class","page-item",3,"active","z-index",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","href","javascript:;",3,"click",4,"ngIf"],["class","page-link","href","javascript:;",4,"ngIf"],["href","javascript:;",1,"page-link",3,"click"],[1,"fas","fa-chevron-left"],["href","javascript:;",1,"page-link"],[1,"fas","fa-chevron-right"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"pagination-template",1,0),e.bIt("pageChange",function(r){return e.eBV(t),e.Njj(o.pageChange.emit(r))}),e.j41(2,"nav"),e.DNE(3,di,4,3,"ul",2),e.k0s()()}if(2&i){const t=e.sdS(1);e.Y8G("id",o.id)("maxSize",o.maxSize),e.R7$(3),e.Y8G("ngIf",!(o.autoHide&&t.pages.length<=1))}},dependencies:[p.Sq,p.bT,T.Qr],encapsulation:2})}return a})(),E=(()=>{class a{constructor(n){this._element=n}set busy(n){this.refreshState(n)}refreshState(n){void 0!==n&&(n?abp.ui.setBusy(this._element.nativeElement):abp.ui.clearBusy(this._element.nativeElement))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT))};static#o=this.\u0275dir=e.FsC({type:a,selectors:[["","busy",""]],inputs:{busy:"busy"}})}return a})();const ci=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function ui(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",35)(1,"div",20)(2,"form",36)(3,"div",2)(4,"div",10)(5,"div",37)(6,"label",38),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",39)(10,"div",40)(11,"input",41),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.isActive,o)||(t.isActive=o),e.Njj(o)}),e.k0s(),e.j41(12,"label",42),e.EFF(13),e.nI1(14,"localize"),e.k0s()(),e.j41(15,"div",43)(16,"input",44),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.isActive,o)||(t.isActive=o),e.Njj(o)}),e.k0s(),e.j41(17,"label",45),e.EFF(18),e.nI1(19,"localize"),e.k0s()(),e.j41(20,"div",40)(21,"input",46),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.isActive,o)||(t.isActive=o),e.Njj(o)}),e.k0s(),e.j41(22,"label",47),e.EFF(23),e.nI1(24,"localize"),e.k0s()()()()()()()(),e.j41(25,"div",48)(26,"button",13),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(27),e.nI1(28,"localize"),e.k0s(),e.j41(29,"button",49),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(30),e.nI1(31,"localize"),e.k0s()()()}if(2&a){const n=e.XpG();e.R7$(7),e.SpI(" ",e.bMT(8,12,"IsActive")," "),e.R7$(4),e.R50("ngModel",n.isActive),e.Y8G("value",void 0),e.R7$(2),e.SpI(" ",e.bMT(14,14,"All")," "),e.R7$(3),e.R50("ngModel",n.isActive),e.Y8G("value",!0),e.R7$(2),e.SpI(" ",e.bMT(19,16,"Yes")," "),e.R7$(3),e.R50("ngModel",n.isActive),e.Y8G("value",!1),e.R7$(2),e.SpI(" ",e.bMT(24,18,"No")," "),e.R7$(4),e.SpI(" ",e.bMT(28,20,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(31,22,"Clear")," ")}}function mi(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"div",50),e.nrm(9,"input",51)(10,"label",52),e.k0s()(),e.j41(11,"td")(12,"button",53),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.editUser(o))}),e.nrm(13,"i",54),e.EFF(14),e.nI1(15,"localize"),e.k0s(),e.j41(16,"button",55),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.delete(o))}),e.nrm(17,"i",56),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.j41(20,"button",53),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.resetPassword(o))}),e.nrm(21,"i",57),e.EFF(22),e.nI1(23,"localize"),e.k0s()()()}if(2&a){const n=d.$implicit;e.R7$(2),e.JRh(n.userName),e.R7$(2),e.JRh(n.fullName),e.R7$(2),e.JRh(n.emailAddress),e.R7$(3),e.Y8G("checked",n.isActive),e.R7$(5),e.SpI(" ",e.bMT(15,7,"Edit")," "),e.R7$(4),e.SpI(" ",e.bMT(19,9,"Delete")," "),e.R7$(4),e.SpI(" ",e.bMT(23,11,"ResetPassword")," ")}}let pi=(()=>{class a extends y{constructor(n,i,o,t){super(n),this._userService=i,this._sessionService=o,this._modalService=t,this.users=[],this.keyword="",this.advancedFiltersVisible=!1}getCurUserId(){return abp.session.userId}createUser(){this.showCreateOrEditUserDialog()}editUser(n){this.showCreateOrEditUserDialog(n.id)}resetPassword(n){this.showResetPasswordUserDialog(n.id)}clearFilters(){this.keyword="",this.isActive=void 0,this.getDataPage(1)}list(n,i,o){n.keyword=this.keyword,n.isActive=this.isActive,this._userService.getAll(n.keyword,n.isActive,n.skipCount,n.maxResultCount).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.users=t.items,this.showPaging(t,i)})}delete(n){abp.message.confirm(this.l("UserDeleteWarningMessage",n.fullName),void 0,i=>{i&&this._userService.delete(n.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}showResetPasswordUserDialog(n){this._modalService.show(oi,{class:"modal-lg",initialState:{id:n}})}showCreateOrEditUserDialog(n){let i;i=n?this._modalService.show(ei,{class:"modal-lg",initialState:{id:n}}):this._modalService.show(hn,{class:"modal-lg"}),i.content.onSave.subscribe(()=>{this.refresh()})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.LC),e.rXU(c.ci),e.rXU(b.I8))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:65,vars:44,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"form-horizontal"],[1,"form-group","row","mb-0"],[1,"col-md-3","col-form-label"],[1,"col-md-9","pt-2"],[1,"custom-control","custom-radio","d-inline"],["type","radio","id","isActiveAll","name","isActive","checked","",1,"custom-control-input",3,"ngModelChange","ngModel","value"],["for","isActiveAll",1,"custom-control-label"],[1,"custom-control","custom-radio","d-inline","mx-3"],["type","radio","id","isActiveActive","name","isActive",1,"custom-control-input",3,"ngModelChange","ngModel","value"],["for","isActiveActive",1,"custom-control-label"],["type","radio","id","isActivePassive","name","isActive",1,"custom-control-input",3,"ngModelChange","ngModel","value"],["for","isActivePassive",1,"custom-control-label"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],[1,"custom-control","custom-checkbox"],["type","checkbox","disabled","",1,"custom-control-input",3,"checked"],[1,"custom-control-label"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"],[1,"fas","fa-lock"]],template:function(i,o){1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createUser()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,ui,32,24,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th"),e.EFF(45),e.nI1(46,"localize"),e.k0s(),e.j41(47,"th",24),e.EFF(48),e.nI1(49,"localize"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,mi,24,13,"tr",25),e.nI1(52,"paginate"),e.k0s()()()(),e.j41(53,"div",26)(54,"div",2)(55,"div",27)(56,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(57,"i",29),e.k0s()(),e.j41(58,"div",30)(59,"p",31),e.EFF(60),e.nI1(61,"localize"),e.k0s()(),e.j41(62,"div",32)(63,"div",33)(64,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&i&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,18,"Users")),e.R7$(5),e.SpI(" ",e.bMT(12,20,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,22,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,24,"UserName")),e.R7$(3),e.JRh(e.bMT(40,26,"FullName")),e.R7$(3),e.JRh(e.bMT(43,28,"EmailAddress")),e.R7$(3),e.JRh(e.bMT(46,30,"IsActive")),e.R7$(3),e.JRh(e.bMT(49,32,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(52,34,o.users,e.sMw(40,ci,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(61,37,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.qT,l.me,l.Fm,l.BC,l.cb,l.vS,l.cV,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})(),hi=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._tenantService=i,this.bsModalRef=o,this.saving=!1,this.tenant=new c.GB,this.onSave=new e.bkB}ngOnInit(){this.tenant.isActive=!0}save(){this.saving=!0,this._tenantService.create(this.tenant).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()},()=>{this.saving=!1})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.nR),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:50,vars:35,consts:[["createTenantForm","ngForm"],["tenancyNameModel","ngModel","tenancyNameEl",""],["nameModel","ngModel","nameEl",""],["adminEmailAddressModel","ngModel","adminEmailAddressEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","tenancyName",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","tenancyName","id","tenancyName","minlength","2","maxlength","64","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","name",1,"col-md-3","col-form-label"],["type","text","name","name","id","name","maxlength","128","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row"],["for","connectionString",1,"col-md-3","col-form-label"],["type","text","name","connectionString","id","connectionString","maxlength","1024",1,"form-control",3,"ngModelChange","ngModel"],["for","adminEmailAddress",1,"col-md-3","col-form-label"],["type","email","name","adminEmailAddress","id","adminEmailAddress","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{1,})+$","maxlength","256","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row","mb-0"],[1,"col-md-3","col-form-label"],[1,"custom-control","custom-checkbox"],["type","checkbox","name","isActive","id","isActive",1,"custom-control-input",3,"ngModelChange","ngModel"],["for","isActive",1,"custom-control-label","mt-2"],[1,"text-center","text-info","mb-0"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",4,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",5),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",6)(5,"div",7)(6,"label",8),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",9)(10,"input",10,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.tenant.tenancyName,r)||(o.tenant.tenancyName=r),e.Njj(r)}),e.k0s(),e.nrm(13,"abp-validation-summary",11),e.k0s()(),e.j41(14,"div",7)(15,"label",12),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.j41(18,"div",9)(19,"input",13,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.tenant.name,r)||(o.tenant.name=r),e.Njj(r)}),e.k0s(),e.nrm(22,"abp-validation-summary",11),e.k0s()(),e.j41(23,"div",14)(24,"label",15),e.EFF(25),e.nI1(26,"localize"),e.k0s(),e.j41(27,"div",9)(28,"input",16),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.tenant.connectionString,r)||(o.tenant.connectionString=r),e.Njj(r)}),e.k0s()()(),e.j41(29,"div",7)(30,"label",17),e.EFF(31),e.nI1(32,"localize"),e.k0s(),e.j41(33,"div",9)(34,"input",18,3),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.tenant.adminEmailAddress,r)||(o.tenant.adminEmailAddress=r),e.Njj(r)}),e.k0s(),e.nrm(37,"abp-validation-summary",11),e.k0s()(),e.j41(38,"div",19)(39,"label",20),e.EFF(40),e.nI1(41,"localize"),e.k0s(),e.j41(42,"div",9)(43,"div",21)(44,"input",22),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.tenant.isActive,r)||(o.tenant.isActive=r),e.Njj(r)}),e.k0s(),e.nrm(45,"label",23),e.k0s()()(),e.j41(46,"p",24),e.EFF(47),e.nI1(48,"localize"),e.k0s()(),e.j41(49,"abp-modal-footer",25),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1),s=e.sdS(11),r=e.sdS(12),m=e.sdS(20),f=e.sdS(21),v=e.sdS(35),C=e.sdS(36);e.R7$(2),e.Y8G("title",e.bMT(3,20,"CreateNewTenant")),e.R7$(5),e.SpI(" ",e.bMT(8,22,"TenancyName")," "),e.R7$(3),e.R50("ngModel",o.tenant.tenancyName),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(17,24,"Name")," "),e.R7$(3),e.R50("ngModel",o.tenant.name),e.R7$(3),e.Y8G("control",m)("controlEl",f),e.R7$(3),e.SpI(" ",e.bMT(26,26,"DatabaseConnectionString")," "),e.R7$(3),e.R50("ngModel",o.tenant.connectionString),e.R7$(3),e.SpI(" ",e.bMT(32,28,"AdminEmailAddress")," "),e.R7$(3),e.R50("ngModel",o.tenant.adminEmailAddress),e.R7$(3),e.Y8G("control",v)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(41,30,"IsActive")," "),e.R7$(4),e.R50("ngModel",o.tenant.isActive),e.R7$(3),e.SpI(" ",e.i5U(48,32,"DefaultPasswordIs","123qwe")," "),e.R7$(2),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.me,l.Zm,l.BC,l.cb,l.YS,l.xh,l.tU,l.R_,l.vS,l.cV,G.e,k.x,j.z,h.S],encapsulation:2})}return a})(),gi=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._tenantService=i,this.bsModalRef=o,this.saving=!1,this.tenant=new c.su,this.onSave=new e.bkB}ngOnInit(){this._tenantService.get(this.id).subscribe(n=>{this.tenant=n})}save(){this.saving=!0,this._tenantService.update(this.tenant).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()},()=>{this.saving=!1})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.nR),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:32,vars:21,consts:[["editTenantForm","ngForm"],["tenancyNameModel","ngModel","tenancyNameEl",""],["nameModel","ngModel","nameEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","tenancyName",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","tenancyName","id","tenancyName","minlength","2","maxlength","64","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","name",1,"col-md-3","col-form-label"],["type","text","name","name","id","name","maxlength","128","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row","mb-0"],[1,"col-md-3","col-form-label"],[1,"custom-control","custom-checkbox"],["type","checkbox","name","isActive","id","isActive",1,"custom-control-input",3,"ngModelChange","ngModel"],["for","isActive",1,"custom-control-label","mt-2"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",4),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",5)(5,"div",6)(6,"label",7),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",8)(10,"input",9,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.tenant.tenancyName,r)||(o.tenant.tenancyName=r),e.Njj(r)}),e.k0s(),e.nrm(13,"abp-validation-summary",10),e.k0s()(),e.j41(14,"div",6)(15,"label",11),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.j41(18,"div",8)(19,"input",12,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.tenant.name,r)||(o.tenant.name=r),e.Njj(r)}),e.k0s(),e.nrm(22,"abp-validation-summary",10),e.k0s()(),e.j41(23,"div",13)(24,"label",14),e.EFF(25),e.nI1(26,"localize"),e.k0s(),e.j41(27,"div",8)(28,"div",15)(29,"input",16),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.tenant.isActive,r)||(o.tenant.isActive=r),e.Njj(r)}),e.k0s(),e.nrm(30,"label",17),e.k0s()()()(),e.j41(31,"abp-modal-footer",18),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1),s=e.sdS(11),r=e.sdS(12),m=e.sdS(20),f=e.sdS(21);e.R7$(2),e.Y8G("title",e.bMT(3,13,"EditTenant")),e.R7$(5),e.SpI(" ",e.bMT(8,15,"TenancyName")," "),e.R7$(3),e.R50("ngModel",o.tenant.tenancyName),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(17,17,"Name")," "),e.R7$(3),e.R50("ngModel",o.tenant.name),e.R7$(3),e.Y8G("control",m)("controlEl",f),e.R7$(3),e.SpI(" ",e.bMT(26,19,"IsActive")," "),e.R7$(4),e.R50("ngModel",o.tenant.isActive),e.R7$(2),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.me,l.Zm,l.BC,l.cb,l.YS,l.xh,l.tU,l.vS,l.cV,G.e,k.x,j.z,h.S],encapsulation:2})}return a})();const fi=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function bi(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",35)(1,"div",20)(2,"form",36)(3,"div",2)(4,"div",10)(5,"div",37)(6,"label",38),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",39)(10,"div",40)(11,"input",41),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.isActive,o)||(t.isActive=o),e.Njj(o)}),e.k0s(),e.j41(12,"label",42),e.EFF(13),e.nI1(14,"localize"),e.k0s()(),e.j41(15,"div",43)(16,"input",44),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.isActive,o)||(t.isActive=o),e.Njj(o)}),e.k0s(),e.j41(17,"label",45),e.EFF(18),e.nI1(19,"localize"),e.k0s()(),e.j41(20,"div",40)(21,"input",46),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.isActive,o)||(t.isActive=o),e.Njj(o)}),e.k0s(),e.j41(22,"label",47),e.EFF(23),e.nI1(24,"localize"),e.k0s()()()()()()()(),e.j41(25,"div",48)(26,"button",13),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(27),e.nI1(28,"localize"),e.k0s(),e.j41(29,"button",49),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(30),e.nI1(31,"localize"),e.k0s()()()}if(2&a){const n=e.XpG();e.R7$(7),e.SpI(" ",e.bMT(8,12,"IsActive")," "),e.R7$(4),e.R50("ngModel",n.isActive),e.Y8G("value",void 0),e.R7$(2),e.SpI(" ",e.bMT(14,14,"All")," "),e.R7$(3),e.R50("ngModel",n.isActive),e.Y8G("value",!0),e.R7$(2),e.SpI(" ",e.bMT(19,16,"Yes")," "),e.R7$(3),e.R50("ngModel",n.isActive),e.Y8G("value",!1),e.R7$(2),e.SpI(" ",e.bMT(24,18,"No")," "),e.R7$(4),e.SpI(" ",e.bMT(28,20,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(31,22,"Clear")," ")}}function _i(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"div",50),e.nrm(7,"input",51)(8,"label",52),e.k0s()(),e.j41(9,"td")(10,"button",53),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.editTenant(o))}),e.nrm(11,"i",54),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"button",55),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.delete(o))}),e.nrm(15,"i",56),e.EFF(16),e.nI1(17,"localize"),e.k0s()()()}if(2&a){const n=d.$implicit;e.R7$(2),e.JRh(n.tenancyName),e.R7$(2),e.JRh(n.name),e.R7$(3),e.Y8G("checked",n.isActive),e.R7$(5),e.SpI(" ",e.bMT(13,5,"Edit")," "),e.R7$(4),e.SpI(" ",e.bMT(17,7,"Delete")," ")}}let vi=(()=>{class a extends y{constructor(n,i,o){super(n),this._tenantService=i,this._modalService=o,this.tenants=[],this.keyword="",this.advancedFiltersVisible=!1}list(n,i,o){n.keyword=this.keyword,n.isActive=this.isActive,this._tenantService.getAll(n.keyword,n.isActive,n.skipCount,n.maxResultCount).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.tenants=t.items,this.showPaging(t,i)})}delete(n){abp.message.confirm(this.l("TenantDeleteWarningMessage",n.name),void 0,i=>{i&&this._tenantService.delete(n.id).pipe((0,A.j)(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})).subscribe(()=>{})})}createTenant(){this.showCreateOrEditTenantDialog()}editTenant(n){this.showCreateOrEditTenantDialog(n.id)}showCreateOrEditTenantDialog(n){let i;i=n?this._modalService.show(gi,{class:"modal-lg",initialState:{id:n}}):this._modalService.show(hi,{class:"modal-lg"}),i.content.onSave.subscribe(()=>{this.refresh()})}clearFilters(){this.keyword="",this.isActive=void 0,this.getDataPage(1)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.nR),e.rXU(b.I8))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:62,vars:41,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","200px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"form-horizontal"],[1,"form-group","row","mb-0"],[1,"col-md-3","col-form-label"],[1,"col-md-9","pt-2"],[1,"custom-control","custom-radio","d-inline"],["type","radio","id","isActiveAll","name","isActive","checked","",1,"custom-control-input",3,"ngModelChange","ngModel","value"],["for","isActiveAll",1,"custom-control-label"],[1,"custom-control","custom-radio","d-inline","mx-3"],["type","radio","id","isActiveActive","name","isActive",1,"custom-control-input",3,"ngModelChange","ngModel","value"],["for","isActiveActive",1,"custom-control-label"],["type","radio","id","isActivePassive","name","isActive",1,"custom-control-input",3,"ngModelChange","ngModel","value"],["for","isActivePassive",1,"custom-control-label"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],[1,"custom-control","custom-checkbox"],["type","checkbox","disabled","",1,"custom-control-input",3,"checked"],[1,"custom-control-label"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(i,o){1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createTenant()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,bi,32,24,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th",24),e.EFF(45),e.nI1(46,"localize"),e.k0s()()(),e.j41(47,"tbody"),e.DNE(48,_i,18,9,"tr",25),e.nI1(49,"paginate"),e.k0s()()()(),e.j41(50,"div",26)(51,"div",2)(52,"div",27)(53,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(54,"i",29),e.k0s()(),e.j41(55,"div",30)(56,"p",31),e.EFF(57),e.nI1(58,"localize"),e.k0s()(),e.j41(59,"div",32)(60,"div",33)(61,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&i&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,17,"Tenants")),e.R7$(5),e.SpI(" ",e.bMT(12,19,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,21,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,23,"TenancyName")),e.R7$(3),e.JRh(e.bMT(40,25,"Name")),e.R7$(3),e.JRh(e.bMT(43,27,"IsActive")),e.R7$(3),e.JRh(e.bMT(46,29,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(49,31,o.tenants,e.sMw(37,fi,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(58,34,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.qT,l.me,l.Fm,l.BC,l.cb,l.vS,l.cV,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();function Ci(a,d){if(1&a){const n=e.RV6();e.qex(0),e.j41(1,"div",19)(2,"div",20)(3,"input",21),e.bIt("change",function(o){const t=e.eBV(n).$implicit,s=e.XpG();return e.Njj(s.onPermissionChange(t,o))}),e.k0s(),e.j41(4,"label",22),e.EFF(5),e.k0s()()(),e.bVm()}if(2&a){const n=d.$implicit,i=d.index,o=e.XpG();e.R7$(3),e.Y8G("id","permission_"+i)("checked",o.isPermissionChecked(n.name)),e.R7$(),e.Y8G("for","permission_"+i),e.R7$(),e.SpI(" ",n.displayName," ")}}let Ii=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._roleService=i,this.bsModalRef=o,this.saving=!1,this.role=new c.GP,this.permissions=[],this.checkedPermissionsMap={},this.defaultPermissionCheckedStatus=!0,this.onSave=new e.bkB}ngOnInit(){this._roleService.getAllPermissions().subscribe(n=>{this.permissions=n.items,this.setInitialPermissionsStatus()})}setInitialPermissionsStatus(){Z(this.permissions,n=>{this.checkedPermissionsMap[n.name]=this.isPermissionChecked(n.name)})}isPermissionChecked(n){return this.defaultPermissionCheckedStatus}onPermissionChange(n,i){this.checkedPermissionsMap[n.name]=i.target.checked}getCheckedPermissions(){const n=[];return Q(this.checkedPermissionsMap,function(i,o){i&&n.push(o)}),n}save(){this.saving=!0;const n=new c.St;n.init(this.role),n.grantedPermissions=this.getCheckedPermissions(),this._roleService.create(n).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()},()=>{this.saving=!1})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.Ge),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:38,vars:28,consts:[["createRoleForm","ngForm"],["nameModel","ngModel","nameEl",""],["displayNameModel","ngModel","displayNameEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],[1,"form-group","row","required"],["for","name",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","name","id","name","required","","minlength","2","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","displayName",1,"col-md-3","col-form-label"],["type","text","name","displayName","id","displayName","required","","minlength","2","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row","mb-0"],["for","description",1,"col-md-3","col-form-label"],["type","text","name","description","id","description",1,"form-control",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[1,"col-md-6"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"change","id","checked"],[1,"custom-control-label",3,"for"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",4),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",5)(5,"tabset")(6,"tab",6),e.nI1(7,"localize"),e.j41(8,"div",7)(9,"label",8),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"div",9)(13,"input",10,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.role.name,r)||(o.role.name=r),e.Njj(r)}),e.k0s(),e.nrm(16,"abp-validation-summary",11),e.k0s()(),e.j41(17,"div",7)(18,"label",12),e.EFF(19),e.nI1(20,"localize"),e.k0s(),e.j41(21,"div",9)(22,"input",13,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.role.displayName,r)||(o.role.displayName=r),e.Njj(r)}),e.k0s(),e.nrm(25,"abp-validation-summary",11),e.k0s()(),e.j41(26,"div",14)(27,"label",15),e.EFF(28),e.nI1(29,"localize"),e.k0s(),e.j41(30,"div",9)(31,"textarea",16),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.role.description,r)||(o.role.description=r),e.Njj(r)}),e.EFF(32,"            "),e.k0s()()()(),e.j41(33,"tab",6),e.nI1(34,"localize"),e.j41(35,"div",14),e.DNE(36,Ci,6,4,"ng-container",17),e.k0s()()()(),e.j41(37,"abp-modal-footer",18),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1),s=e.sdS(14),r=e.sdS(15),m=e.sdS(23),f=e.sdS(24);e.R7$(2),e.Y8G("title",e.bMT(3,16,"CreateNewRole")),e.R7$(4),e.Y8G("heading",e.bMT(7,18,"Details")),e.R7$(4),e.SpI(" ",e.bMT(11,20,"Name")," "),e.R7$(3),e.R50("ngModel",o.role.name),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(20,22,"DisplayName")," "),e.R7$(3),e.R50("ngModel",o.role.displayName),e.R7$(3),e.Y8G("control",m)("controlEl",f),e.R7$(3),e.SpI(" ",e.bMT(29,24,"RoleDescription")," "),e.R7$(3),e.R50("ngModel",o.role.description),e.R7$(2),e.Y8G("heading",e.bMT(34,26,"Permissions")),e.R7$(3),e.Y8G("ngForOf",o.permissions),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.me,l.BC,l.cb,l.YS,l.xh,l.tU,l.vS,l.cV,F.V6,F.fw,G.e,k.x,j.z,h.S],encapsulation:2})}return a})();function Fi(a,d){if(1&a){const n=e.RV6();e.qex(0),e.j41(1,"div",19)(2,"div",20)(3,"input",21),e.bIt("change",function(o){const t=e.eBV(n).$implicit,s=e.XpG();return e.Njj(s.onPermissionChange(t,o))}),e.k0s(),e.j41(4,"label",22),e.EFF(5),e.k0s()()(),e.bVm()}if(2&a){const n=d.$implicit,i=d.index,o=e.XpG();e.R7$(3),e.Y8G("id","permission_"+i)("checked",o.isPermissionChecked(n.name))("disabled",o.role.isStatic),e.R7$(),e.Y8G("for","permission_"+i),e.R7$(),e.SpI(" ",n.displayName," ")}}let ki=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._roleService=i,this.bsModalRef=o,this.saving=!1,this.role=new c.Ae,this.checkedPermissionsMap={},this.onSave=new e.bkB}ngOnInit(){this._roleService.getRoleForEdit(this.id).subscribe(n=>{this.role=n.role,this.permissions=n.permissions,this.grantedPermissionNames=n.grantedPermissionNames,this.setInitialPermissionsStatus()})}setInitialPermissionsStatus(){Z(this.permissions,n=>{this.checkedPermissionsMap[n.name]=this.isPermissionChecked(n.name)})}isPermissionChecked(n){return Pe(this.grantedPermissionNames,n)}onPermissionChange(n,i){this.checkedPermissionsMap[n.name]=i.target.checked}getCheckedPermissions(){const n=[];return Q(this.checkedPermissionsMap,function(i,o){i&&n.push(o)}),n}save(){this.saving=!0;const n=new c.GP;n.init(this.role),n.grantedPermissions=this.getCheckedPermissions(),this._roleService.update(n).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()},()=>{this.saving=!1})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.Ge),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:38,vars:28,consts:[["editRoleForm","ngForm"],["nameModel","ngModel","nameEl",""],["displayNameModel","ngModel","displayNameEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],[1,"form-group","row","required"],["for","name",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","name","id","name","required","","minlength","2","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","displayName",1,"col-md-3","col-form-label"],["type","text","name","displayName","id","displayName","required","","minlength","2","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row","mb-0"],["for","description",1,"col-md-3","col-form-label"],["type","text","name","description","id","description",1,"form-control",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[1,"col-md-6"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"change","id","checked","disabled"],[1,"custom-control-label",3,"for"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",4),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",5)(5,"tabset")(6,"tab",6),e.nI1(7,"localize"),e.j41(8,"div",7)(9,"label",8),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"div",9)(13,"input",10,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.role.name,r)||(o.role.name=r),e.Njj(r)}),e.k0s(),e.nrm(16,"abp-validation-summary",11),e.k0s()(),e.j41(17,"div",7)(18,"label",12),e.EFF(19),e.nI1(20,"localize"),e.k0s(),e.j41(21,"div",9)(22,"input",13,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.role.displayName,r)||(o.role.displayName=r),e.Njj(r)}),e.k0s(),e.nrm(25,"abp-validation-summary",11),e.k0s()(),e.j41(26,"div",14)(27,"label",15),e.EFF(28),e.nI1(29,"localize"),e.k0s(),e.j41(30,"div",9)(31,"textarea",16),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.role.description,r)||(o.role.description=r),e.Njj(r)}),e.EFF(32,"            "),e.k0s()()()(),e.j41(33,"tab",6),e.nI1(34,"localize"),e.j41(35,"div",14),e.DNE(36,Fi,6,5,"ng-container",17),e.k0s()()()(),e.j41(37,"abp-modal-footer",18),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1),s=e.sdS(14),r=e.sdS(15),m=e.sdS(23),f=e.sdS(24);e.R7$(2),e.Y8G("title",e.bMT(3,16,"EditRole")),e.R7$(4),e.Y8G("heading",e.bMT(7,18,"Details")),e.R7$(4),e.SpI(" ",e.bMT(11,20,"Name")," "),e.R7$(3),e.R50("ngModel",o.role.name),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(20,22,"DisplayName")," "),e.R7$(3),e.R50("ngModel",o.role.displayName),e.R7$(3),e.Y8G("control",m)("controlEl",f),e.R7$(3),e.SpI(" ",e.bMT(29,24,"RoleDescription")," "),e.R7$(3),e.R50("ngModel",o.role.description),e.R7$(2),e.Y8G("heading",e.bMT(34,26,"Permissions")),e.R7$(3),e.Y8G("ngForOf",o.permissions),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.me,l.BC,l.cb,l.YS,l.xh,l.tU,l.vS,l.cV,F.V6,F.fw,G.e,k.x,j.z,h.S],encapsulation:2})}return a})();const ji=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function Ri(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"button",31),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.editRole(o))}),e.nrm(7,"i",32),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"button",33),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.delete(o))}),e.nrm(11,"i",34),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){const n=d.$implicit;e.R7$(2),e.JRh(n.name),e.R7$(2),e.JRh(n.displayName),e.R7$(4),e.SpI(" ",e.bMT(9,4,"Edit")," "),e.R7$(4),e.SpI(" ",e.bMT(13,6,"Delete")," ")}}let Si=(()=>{class a extends y{constructor(n,i,o){super(n),this._rolesService=i,this._modalService=o,this.roles=[],this.keyword=""}list(n,i,o){n.keyword=this.keyword,this._rolesService.getAll(n.keyword,n.skipCount,n.maxResultCount).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.roles=t.items,this.showPaging(t,i)})}delete(n){abp.message.confirm(this.l("RoleDeleteWarningMessage",n.displayName),void 0,i=>{i&&this._rolesService.delete(n.id).pipe((0,A.j)(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})).subscribe(()=>{})})}createRole(){this.showCreateOrEditRoleDialog()}editRole(n){this.showCreateOrEditRoleDialog(n.id)}showCreateOrEditRoleDialog(n){let i;i=n?this._modalService.show(ki,{class:"modal-lg",initialState:{id:n}}):this._modalService.show(Ii,{class:"modal-lg"}),i.content.onSave.subscribe(()=>{this.refresh()})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.Ge),e.rXU(b.I8))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:55,vars:33,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","200px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(i,o){1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createRole()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s()()()()(),e.j41(26,"div",16)(27,"div",17)(28,"table",18)(29,"thead",19)(30,"tr")(31,"th"),e.EFF(32),e.nI1(33,"localize"),e.k0s(),e.j41(34,"th"),e.EFF(35),e.nI1(36,"localize"),e.k0s(),e.j41(37,"th",20),e.EFF(38),e.nI1(39,"localize"),e.k0s()()(),e.j41(40,"tbody"),e.DNE(41,Ri,14,8,"tr",21),e.nI1(42,"paginate"),e.k0s()()()(),e.j41(43,"div",22)(44,"div",2)(45,"div",23)(46,"button",24),e.bIt("click",function(){return o.refresh()}),e.nrm(47,"i",25),e.k0s()(),e.j41(48,"div",26)(49,"p",27),e.EFF(50),e.nI1(51,"localize"),e.k0s()(),e.j41(52,"div",28)(53,"div",29)(54,"abp-pagination-controls",30),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&i&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,11,"Roles")),e.R7$(5),e.SpI(" ",e.bMT(12,13,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,15,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(33,17,"RoleName")),e.R7$(3),e.JRh(e.bMT(36,19,"DisplayName")),e.R7$(3),e.JRh(e.bMT(39,21,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(42,23,o.roles,e.sMw(29,ji,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(51,26,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,l.me,l.BC,l.vS,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})(),Y=(()=>{class a extends _.q{constructor(n){super(n)}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["custom-form-base"]],inputs:{disabled:"disabled"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:0,vars:0,template:function(i,o){},encapsulation:2})}return a})();const we=()=>[];function Mi(a,d){if(1&a&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",n.id),e.R7$(),e.JRh(n.nome)}}function Ei(a,d){if(1&a&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",n.id),e.R7$(),e.JRh(n.nome)}}function Ti(a,d){if(1&a&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",n.id),e.R7$(),e.JRh(n.nome)}}let Ne=(()=>{class a extends Y{get paisId(){return this._paisId?.toString()??""}set paisId(n){if(null!=n&&n.length>0){let i=Number(n);i!=this._paisId&&(this.ufId=void 0),this._paisId=i}else this._paisId=void 0,this.ufId=void 0}get ufId(){return this._ufId?.toString()??""}set ufId(n){if(null!=n&&n.length>0){let i=Number(n);i!=this._ufId&&(this.pessoa.endereco_CidadeId=void 0),this._ufId=i}else this._ufId=void 0,this.pessoa.endereco_CidadeId=void 0}get cidadeId(){return this.pessoa?.endereco_CidadeId?.toString()??""}set cidadeId(n){var i=Number(n);Number.isNaN(i)&&(i=void 0),this.pessoa.endereco_CidadeId=i}constructor(n,i,o){super(n),this._paisService=i,this._changeDetector=o,this.paises=[],this.ufsByPais={},this.ufs=[],this.cidadesByUF={},this.cidades=[]}ngOnInit(){this._paisService.getAllPaises().subscribe(n=>{console.log(n),n.forEach(i=>{this.paises.push(i),this.ufsByPais[i.id]=[]}),this._paisService.getAllUnidadesFederais(void 0).subscribe(i=>{this.ufs=i,i.forEach(o=>{this.ufsByPais[o.paisId].push(o),this.cidadesByUF[o.id]=[]}),this._paisService.getAllCidades(void 0,void 0).subscribe(o=>{if(this.cidades=o,o.forEach(t=>{this.cidadesByUF[t.ufId].push(t)}),null!=this.pessoa?.endereco_CidadeId){let t=o.find(s=>s.id==this.pessoa.endereco_CidadeId);null!=t&&(this._ufId=t.ufId,this._paisId=i.find(s=>s.id==this._ufId).paisId)}this._changeDetector.detectChanges()})})})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.B5),e.rXU(e.gRc))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["endereco-form"]],inputs:{pessoa:"pessoa"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:60,vars:52,consts:[["linha1Model","ngModel","linha1El",""],["bairroModel","ngModel","bairroEl",""],["cidadeModel","ngModel","cidadeEl",""],["ufModel","ngModel","ufEl",""],["paisModel","ngModel","paisEl",""],[1,"form-group","row"],["for","linha1",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","linha1","id","linha1","maxlength","200",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],["for","linha2",1,"col-md-3","col-form-label"],["type","text","name","linha2","id","linha2","maxlength","100",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","bairro",1,"col-md-3","col-form-label"],["type","text","name","bairro","id","bairro","maxlength","100",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"form-group","row",3,"hidden"],["for","cidade",1,"col-md-3","col-form-label"],["id","cidade","name","cidade",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","uf",1,"col-md-3","col-form-label"],["id","uf","name","uf",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","pais",1,"col-md-3","col-form-label"],["id","pais","name","pais",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","cep",1,"col-md-3","col-form-label"],["type","text","name","cep","id","cep","maxlength","9","pattern","[0-9A-Za-z]*",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",5)(1,"label",6),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",7)(5,"input",8,0),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.pessoa.endereco_Linha1,r)||(o.pessoa.endereco_Linha1=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",9),e.k0s()(),e.j41(9,"div",5)(10,"label",10),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",7)(14,"input",11),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.pessoa.endereco_Linha2,r)||(o.pessoa.endereco_Linha2=r),e.Njj(r)}),e.k0s()()(),e.j41(15,"div",5)(16,"label",12),e.EFF(17),e.nI1(18,"localize"),e.k0s(),e.j41(19,"div",7)(20,"input",13,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.pessoa.endereco_Bairro,r)||(o.pessoa.endereco_Bairro=r),e.Njj(r)}),e.k0s(),e.nrm(23,"abp-validation-summary",9),e.k0s()(),e.j41(24,"div",14)(25,"label",15),e.EFF(26),e.nI1(27,"localize"),e.k0s(),e.j41(28,"div",7)(29,"select",16,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.cidadeId,r)||(o.cidadeId=r),e.Njj(r)}),e.DNE(32,Mi,2,2,"option",17),e.k0s(),e.nrm(33,"abp-validation-summary",9),e.k0s()(),e.j41(34,"div",14)(35,"label",18),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"div",7)(39,"select",19,3),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.ufId,r)||(o.ufId=r),e.Njj(r)}),e.DNE(42,Ei,2,2,"option",17),e.k0s(),e.nrm(43,"abp-validation-summary",9),e.k0s()(),e.j41(44,"div",5)(45,"label",20),e.EFF(46),e.nI1(47,"localize"),e.k0s(),e.j41(48,"div",7)(49,"select",21,4),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.paisId,r)||(o.paisId=r),e.Njj(r)}),e.DNE(52,Ti,2,2,"option",17),e.k0s(),e.nrm(53,"abp-validation-summary",9),e.k0s()(),e.j41(54,"div",5)(55,"label",22),e.EFF(56),e.nI1(57,"localize"),e.k0s(),e.j41(58,"div",7)(59,"input",23),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.pessoa.endereco_CodigoPostal,r)||(o.pessoa.endereco_CodigoPostal=r),e.Njj(r)}),e.k0s()()()}if(2&i){let t,s,r,m;const f=e.sdS(6),v=e.sdS(7),C=e.sdS(21),S=e.sdS(22),$=e.sdS(30),P=e.sdS(31),N=e.sdS(40),B=e.sdS(41),z=e.sdS(50),U=e.sdS(51);e.R7$(2),e.SpI(" ",e.bMT(3,36,"Linha 1")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.pessoa.endereco_Linha1),e.R7$(3),e.Y8G("control",f)("controlEl",v),e.R7$(3),e.SpI(" ",e.bMT(12,38,"Linha 2")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.pessoa.endereco_Linha2),e.R7$(3),e.SpI(" ",e.bMT(18,40,"Bairro")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.pessoa.endereco_Bairro),e.R7$(3),e.Y8G("control",C)("controlEl",S),e.R7$(),e.Y8G("hidden",""==(null!==(t=o.paisId)&&void 0!==t?t:"")||""==(null!==(t=o.ufId)&&void 0!==t?t:"")),e.R7$(2),e.SpI(" ",e.bMT(27,42,"Cidade")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.cidadeId),e.R7$(3),e.Y8G("ngForOf",null!==(s=o.cidadesByUF[o.ufId])&&void 0!==s?s:e.lJ4(50,we)),e.R7$(),e.Y8G("control",$)("controlEl",P),e.R7$(),e.Y8G("hidden",""==(null!==(r=o.paisId)&&void 0!==r?r:"")),e.R7$(2),e.SpI(" ",e.bMT(37,44,"UF")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.ufId),e.R7$(3),e.Y8G("ngForOf",null!==(m=o.ufsByPais[o.paisId])&&void 0!==m?m:e.lJ4(51,we)),e.R7$(),e.Y8G("control",N)("controlEl",B),e.R7$(3),e.SpI(" ",e.bMT(47,46,"Pais")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.paisId),e.R7$(3),e.Y8G("ngForOf",o.paises),e.R7$(),e.Y8G("control",z)("controlEl",U),e.R7$(3),e.SpI(" ",e.bMT(57,48,"CEP")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.pessoa.endereco_CodigoPostal)}},dependencies:[p.Sq,l.xH,l.y7,l.me,l.wz,l.BC,l.tU,l.R_,l.vS,G.e,h.S],encapsulation:2})}return a})(),O=(()=>{class a extends Y{constructor(n){super(n)}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["endereco-residencia-form"]],inputs:{pessoa:"pessoa"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:1,vars:2,consts:[["ngModelGroup","novoEndereco",3,"pessoa","disabled"]],template:function(i,o){1&i&&e.nrm(0,"endereco-form",0),2&i&&e.Y8G("pessoa",o.pessoa)("disabled",o.disabled)},dependencies:[l.cb,l.Y4,Ne],encapsulation:2})}return a})();var V=R(97586);let q=(()=>{class a extends Y{get dataNascimento(){return this.pessoa?.dataNascimento?.format("yyyy-MM-DD")??""}set dataNascimento(n){this.pessoa.dataNascimento=""!=n&&null!=n?V(n):void 0}get generoId(){return this.pessoa?.generoId?.toString()??""}set generoId(n){var i=Number(n);Number.isNaN(i)&&(i=void 0),this.pessoa.generoId=i}constructor(n){super(n)}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["info-pessoal-form"]],inputs:{pessoa:"pessoa"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:42,vars:28,consts:[["nomeModel","ngModel","nomeEl",""],["cpfModel","ngModel","cpfEl",""],["generoModel","ngModel","generoEl",""],["dataNascimentoModel","ngModel","dataNascimentoEl",""],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","cpf",1,"col-md-3","col-form-label"],["type","text","name","cpf","id","cpf","maxlength","11",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","genero",1,"col-md-3","col-form-label"],["id","genero","name","genero",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value","1"],["value","2"],["value","3"],["for","dataNascimento",1,"col-md-3","col-form-label"],["type","date","name","dataNascimento","id","dataNascimento",1,"form-control",3,"ngModelChange","disabled","ngModel"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",4)(1,"label",5),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",6)(5,"input",7,0),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.pessoa.nome,r)||(o.pessoa.nome=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",8),e.k0s()(),e.j41(9,"div",9)(10,"label",10),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",6)(14,"input",11,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.pessoa.cpf,r)||(o.pessoa.cpf=r),e.Njj(r)}),e.k0s(),e.nrm(17,"abp-validation-summary",8),e.k0s()(),e.j41(18,"div",9)(19,"label",12),e.EFF(20),e.nI1(21,"localize"),e.k0s(),e.j41(22,"div",6)(23,"select",13,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.generoId,r)||(o.generoId=r),e.Njj(r)}),e.j41(26,"option",14),e.EFF(27,"Feminino"),e.k0s(),e.j41(28,"option",15),e.EFF(29,"Masculino"),e.k0s(),e.j41(30,"option",16),e.EFF(31,"N\xe3o-bin\xe1rio"),e.k0s()(),e.nrm(32,"abp-validation-summary",8),e.k0s()(),e.j41(33,"div",9)(34,"label",17),e.EFF(35),e.nI1(36,"localize"),e.k0s(),e.j41(37,"div",6)(38,"input",18,3),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.dataNascimento,r)||(o.dataNascimento=r),e.Njj(r)}),e.k0s(),e.nrm(41,"abp-validation-summary",8),e.k0s()()}if(2&i){const t=e.sdS(6),s=e.sdS(7),r=e.sdS(15),m=e.sdS(16),f=e.sdS(24),v=e.sdS(25),C=e.sdS(39),S=e.sdS(40);e.R7$(2),e.SpI(" ",e.bMT(3,20,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.pessoa.nome),e.R7$(3),e.Y8G("control",t)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,22,"CPF")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.pessoa.cpf),e.R7$(3),e.Y8G("control",r)("controlEl",m),e.R7$(3),e.SpI(" ",e.bMT(21,24,"G\xeanero")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.generoId),e.R7$(9),e.Y8G("control",f)("controlEl",v),e.R7$(3),e.SpI(" ",e.bMT(36,26,"DataDeNascimento")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.dataNascimento),e.R7$(3),e.Y8G("control",C)("controlEl",S)}},dependencies:[l.xH,l.y7,l.me,l.wz,l.BC,l.YS,l.tU,l.vS,G.e,h.S],encapsulation:2})}return a})(),H=(()=>{class a extends Y{constructor(n){super(n)}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["info-contato-form"]],inputs:{pessoa:"pessoa"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:27,vars:18,consts:[["emailModel","ngModel","emailEl",""],["telefone1Model","ngModel","telefone1El",""],[1,"form-group","row"],["for","email",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","email","name","email","id","email","maxlength","500",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","telefone1",1,"col-md-3","col-form-label"],["type","tel","name","telefone1","id","telefone1","maxlength","20","pattern","\\+[0-9]*","placeholder","+55 98 9XXXX XXXX",1,"form-control",3,"ngModelChange","ngModel"],["for","telefone2",1,"col-md-3","col-form-label"],["type","tel","name","telefone2","id","telefone2","maxlength","20","pattern","\\+[0-9]*","placeholder","+55 98 9XXXX XXXX",1,"form-control",3,"ngModelChange","ngModel"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",2)(1,"label",3),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",4)(5,"input",5,0),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.pessoa.infoContato_Email,r)||(o.pessoa.infoContato_Email=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",6),e.k0s()(),e.j41(9,"div",2)(10,"label",7),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",4)(14,"input",8,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.pessoa.infoContato_Telefone1,r)||(o.pessoa.infoContato_Telefone1=r),e.Njj(r)}),e.k0s(),e.nrm(17,"abp-validation-summary",6),e.k0s()(),e.j41(18,"div",2)(19,"label",9),e.EFF(20),e.nI1(21,"localize"),e.k0s(),e.j41(22,"div",4)(23,"input",10,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.pessoa.infoContato_Telefone2,r)||(o.pessoa.infoContato_Telefone2=r),e.Njj(r)}),e.k0s(),e.nrm(26,"abp-validation-summary",6),e.k0s()()}if(2&i){const t=e.sdS(6),s=e.sdS(7),r=e.sdS(15),m=e.sdS(16);e.R7$(2),e.SpI(" ",e.bMT(3,12,"Email")," "),e.R7$(3),e.R50("ngModel",o.pessoa.infoContato_Email),e.R7$(3),e.Y8G("control",t)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,14,"Telefone 1")," "),e.R7$(3),e.R50("ngModel",o.pessoa.infoContato_Telefone1),e.R7$(3),e.Y8G("control",r)("controlEl",m),e.R7$(3),e.SpI(" ",e.bMT(21,16,"Telefone 2")," "),e.R7$(3),e.R50("ngModel",o.pessoa.infoContato_Telefone2),e.R7$(3),e.Y8G("control",r)("controlEl",m)}},dependencies:[l.me,l.BC,l.tU,l.R_,l.vS,G.e,h.S],encapsulation:2})}return a})(),te=(()=>{class a extends _.q{constructor(n,i){super(n),this.bsModalRef=i,this.saving=!1,this.onSave=new e.bkB,this.saveOrReturn=!1}initEmptyPessoaDto(){}ngOnInit(){this.initEmptyPessoaDto()}_format(){}save(){this.saving=!0,this._format(),this.saveOrReturn?(this.onSave.emit(this.pessoa),this.saving=!1):this.create().subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.onSave.emit(),this.saving=!1,this.bsModalRef.hide()})}printFormStatus(n,i=["infoPessoal","infoContato","enderecoNovo"]){console.log(n.status),console.log(n.errors);for(let o=0;o<i.length;o++)console.log(i[o],n.form.controls[i[o]].errors);console.log(n)}create(){throw"Not Implemented"}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:16,vars:17,consts:[["createPessoaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],["ngModelGroup","infoPessoal",3,"pessoa"],["ngModelGroup","infoContato",3,"pessoa"],["ngModelGroup","endereco",3,"pessoa"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"tabset")(6,"tab",4),e.nI1(7,"localize"),e.nrm(8,"info-pessoal-form",5),e.k0s(),e.j41(9,"tab",4),e.nI1(10,"localize"),e.nrm(11,"info-contato-form",6),e.k0s(),e.j41(12,"tab",4),e.nI1(13,"localize"),e.nrm(14,"endereco-residencia-form",7),e.k0s()()(),e.j41(15,"abp-modal-footer",8),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,9,"CreateNewPessoa")),e.R7$(4),e.Y8G("heading",e.bMT(7,11,"InfoPessoal")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(10,13,"InfoContato")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(13,15,"Endere\xe7oResidencia")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,F.V6,F.fw,k.x,j.z,O,q,H,h.S],encapsulation:2})}return a})();var Di=R(21413);let Ai=(()=>{class a extends Y{constructor(n){super(n),this.infoPessoalDisabled=!1,this.infoContatoDisabled=!1,this.enderecoDisabled=!1}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["create-responsavel-coluna"]],inputs:{infoPessoalDisabled:"infoPessoalDisabled",infoContatoDisabled:"infoContatoDisabled",enderecoDisabled:"enderecoDisabled",responsavel:"responsavel"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:3,vars:6,consts:[["ngModelGroup","responsavelInfoPessoal",3,"pessoa","disabled"],["ngModelGroup","responsavelInfoContato",3,"pessoa","disabled"],["ngModelGroup","responsavelEndereco",3,"pessoa","disabled"]],template:function(i,o){1&i&&e.nrm(0,"info-pessoal-form",0)(1,"info-contato-form",1)(2,"endereco-residencia-form",2),2&i&&(e.Y8G("pessoa",o.responsavel)("disabled",o.infoPessoalDisabled||o.disabled),e.R7$(),e.Y8G("pessoa",o.responsavel)("disabled",o.infoContatoDisabled||o.disabled),e.R7$(),e.Y8G("pessoa",o.responsavel)("disabled",o.enderecoDisabled||o.disabled))},dependencies:[l.cb,l.Y4,O,q,H],encapsulation:2})}return a})();function yi(a,d){if(1&a&&e.nrm(0,"create-responsavel-coluna",15),2&a){const n=e.XpG();e.Y8G("responsavel",n.responsavel)("disabled",n.temResponsavelPredefinido)}}function Gi(a,d){if(1&a&&e.nrm(0,"info-contato-form",16),2&a){const n=e.XpG();e.Y8G("pessoa",n.pessoa)}}let ae=(()=>{class a extends te{get temResponsavelPredefinido(){return this._temResponsavelPredefinido}set temResponsavelPredefinido(n){this._temResponsavelPredefinido=n,n&&(this.semResponsavel=!1)}get semContato(){return this._semContato}set semContato(n){this._semContato=n,n&&(this.pessoa.infoContato_Email=void 0,this.pessoa.infoContato_Telefone1=void 0,this.pessoa.infoContato_Telefone2=void 0)}get semEndereco(){return this._semEndereco}set semEndereco(n){this._semEndereco=n,n&&(this.semResponsavel=!1,this.pessoa.endereco_Linha1=this.responsavel.endereco_Linha1,this.pessoa.endereco_Linha2=this.responsavel.endereco_Linha2,this.pessoa.endereco_Bairro=this.responsavel.endereco_Bairro,this.pessoa.endereco_CidadeId=this.responsavel.endereco_CidadeId,this.pessoa.endereco_CodigoPostal=this.responsavel.endereco_CodigoPostal)}constructor(n,i,o,t){super(n,t),this._alunoService=i,this._responsavelService=o,this.bsModalRef=t,this._temResponsavelPredefinido=!1,this.semResponsavel=!0,this._semContato=!1,this._semEndereco=!1,this.pessoa=new c.P$}ngOnInit(){super.ngOnInit(),this.temResponsavelPredefinido||(this.responsavel=new c.C9)}initEmptyPessoaDto(){this.pessoa=new c.P$,super.initEmptyPessoaDto(),this.pessoa.responsaveis=[]}_format(){}create(){if(this.temResponsavelPredefinido&&this.responsavel instanceof c.I4)this.pessoa.responsaveis=[new c.GO({id:this.responsavel.id})];else{if(this.semResponsavel)return this._alunoService.create(this.pessoa);if(this.responsavel instanceof c.C9){let n=new Di.B;return this._responsavelService.create(this.responsavel).subscribe(i=>{this.pessoa.responsaveis=[new c.GO({id:i.id})],this._alunoService.create(this.pessoa).subscribe(o=>n.next(o))}),n}if(this.responsavel instanceof c.I4)return this.pessoa.responsaveis=[new c.GO({id:this.responsavel.id})],this._alunoService.create(this.pessoa)}}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.o5),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:46,vars:29,consts:[["createAlunoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],["ngModelGroup","infoPessoal",3,"pessoa"],[1,"row","p-1","pb-4"],[1,"col"],["name","hasResponsavel","type","radio",3,"change","disabled","checked"],["ngModelGroup","responsavel",3,"responsavel","disabled",4,"ngIf"],["name","hasContato","type","radio",3,"change","checked"],["ngModelGroup","infoContato",3,"pessoa",4,"ngIf"],["name","hasEndereco","type","radio",3,"change","checked"],["ngModelGroup","endereco",3,"pessoaChange","pessoa"],[3,"onCancelClick","cancelDisabled","saveDisabled"],["ngModelGroup","responsavel",3,"responsavel","disabled"],["ngModelGroup","infoContato",3,"pessoa"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"tabset")(6,"tab",4),e.nI1(7,"localize"),e.nrm(8,"info-pessoal-form",5),e.k0s(),e.j41(9,"tab",4),e.nI1(10,"localize"),e.j41(11,"div",6)(12,"label",7),e.EFF(13,"N\xe3o possui respons\xe1vel"),e.k0s(),e.j41(14,"div",7)(15,"input",8),e.bIt("change",function(r){return e.eBV(t),e.Njj(o.semResponsavel=r.target.checked)}),e.k0s()(),e.j41(16,"label",7),e.EFF(17,"Possui respons\xe1vel"),e.k0s(),e.j41(18,"div",7)(19,"input",8),e.bIt("change",function(r){return e.eBV(t),e.Njj(o.semResponsavel=!r.target.checked)}),e.k0s()()(),e.DNE(20,yi,1,2,"create-responsavel-coluna",9),e.k0s(),e.j41(21,"tab",4),e.nI1(22,"localize"),e.j41(23,"div",6)(24,"label",7),e.EFF(25,"N\xe3o possui contato pr\xf3prio"),e.k0s(),e.j41(26,"div",7)(27,"input",10),e.bIt("change",function(r){return e.eBV(t),e.Njj(o.semContato=r.target.checked)}),e.k0s()(),e.j41(28,"label",7),e.EFF(29,"Possui contato pr\xf3prio"),e.k0s(),e.j41(30,"div",7)(31,"input",10),e.bIt("change",function(r){return e.eBV(t),e.Njj(o.semContato=!r.target.checked)}),e.k0s()()(),e.DNE(32,Gi,1,1,"info-contato-form",11),e.k0s(),e.j41(33,"tab",4),e.nI1(34,"localize"),e.j41(35,"div",6)(36,"label",7),e.EFF(37,"Mora com respons\xe1vel"),e.k0s(),e.j41(38,"div",7)(39,"input",12),e.bIt("change",function(r){return e.eBV(t),e.Njj(o.semEndereco=r.target.checked)}),e.k0s()(),e.j41(40,"label",7),e.EFF(41,"Mora em outro endere\xe7o"),e.k0s(),e.j41(42,"div",7)(43,"input",12),e.bIt("change",function(r){return e.eBV(t),e.Njj(o.semEndereco=!r.target.checked)}),e.k0s()()(),e.j41(44,"endereco-residencia-form",13),e.mxI("pessoaChange",function(r){return e.eBV(t),e.DH7(o.pessoa,r)||(o.pessoa=r),e.Njj(r)}),e.k0s()()()(),e.j41(45,"abp-modal-footer",14),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,19,"CreateNewAluno")),e.R7$(4),e.Y8G("heading",e.bMT(7,21,"InfoPessoal")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(10,23,"Responsavel")),e.R7$(6),e.Y8G("disabled",o.temResponsavelPredefinido)("checked",o.semResponsavel),e.R7$(4),e.Y8G("disabled",o.temResponsavelPredefinido)("checked",!o.semResponsavel),e.R7$(),e.Y8G("ngIf",!o.semResponsavel),e.R7$(),e.Y8G("heading",e.bMT(22,25,"InfoContato")),e.R7$(6),e.Y8G("checked",o.semContato),e.R7$(4),e.Y8G("checked",!o.semContato),e.R7$(),e.Y8G("ngIf",!o.semContato),e.R7$(),e.Y8G("heading",e.bMT(34,27,"Endere\xe7oResidencia")),e.R7$(6),e.Y8G("checked",o.semEndereco),e.R7$(4),e.Y8G("checked",!o.semEndereco),e.R7$(),e.R50("pessoa",o.pessoa),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[p.bT,l.qT,l.cb,l.Y4,l.cV,F.V6,F.fw,k.x,j.z,O,q,H,Ai,h.S],encapsulation:2})}return a})();const $i=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function Pi(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function wi(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"button",38),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.detailsAluno(o))}),e.nrm(11,"i",39),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){let n,i,o;const t=d.$implicit;e.R7$(2),e.JRh(t.nome),e.R7$(2),e.JRh(null!==(n=t.genero_Nome)&&void 0!==n?n:"-"),e.R7$(2),e.JRh(null!==(i=t.cpf)&&void 0!==i?i:"-"),e.R7$(2),e.JRh(null!==(o=null==t.dataNascimento?null:t.dataNascimento.format("DD/MM/yyyy"))&&void 0!==o?o:"-"),e.R7$(4),e.SpI(" ",e.bMT(13,5,"Details")," ")}}let Ni=(()=>{class a extends y{constructor(n,i,o,t,s){super(n),this._alunoService=i,this._modalService=o,this._router=t,this._route=s,this.alunos=[],this.keyword="",this.advancedFiltersVisible=!1}createAluno(){let n;n=this._modalService.show(ae,{class:"modal-lg"}),n.content.onSave.subscribe(()=>{this.refresh()})}detailsAluno(n){this._router.navigate(["details",n.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.isActive=void 0,this.getDataPage(1)}list(n,i,o){n.keyword=this.keyword,this._alunoService.getAll(n.keyword,n.skipCount,n.maxResultCount).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.alunos=t.items,this.showPaging(t,i)})}delete(n){abp.message.confirm("O seguinte endere\xe7o ser\xe1 exclu\xeddo do banco",void 0,i=>{i&&this._alunoService.delete(n.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:65,vars:44,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"]],template:function(i,o){1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createAluno()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,Pi,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th"),e.EFF(45),e.nI1(46,"localize"),e.k0s(),e.j41(47,"th",24),e.EFF(48),e.nI1(49,"localize"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,wi,14,7,"tr",25),e.nI1(52,"paginate"),e.k0s()()()(),e.j41(53,"div",26)(54,"div",2)(55,"div",27)(56,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(57,"i",29),e.k0s()(),e.j41(58,"div",30)(59,"p",31),e.EFF(60),e.nI1(61,"localize"),e.k0s()(),e.j41(62,"div",32)(63,"div",33)(64,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&i&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,18,"Alunos")),e.R7$(5),e.SpI(" ",e.bMT(12,20,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,22,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,24,"Nome")),e.R7$(3),e.JRh(e.bMT(40,26,"G\xeanero")),e.R7$(3),e.JRh(e.bMT(43,28,"CPF")),e.R7$(3),e.JRh(e.bMT(46,30,"Data de Nascimento")),e.R7$(3),e.JRh(e.bMT(49,32,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(52,34,o.alunos,e.sMw(40,$i,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(61,37,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})(),Vi=(()=>{class a extends _.q{constructor(n,i,o,t,s){super(n),this._alunoService=i,this._colaboradorService=o,this._responsavelService=t,this.bsModalRef=s,this.saving=!1,this.tipoPessoa=void 0,this.onSave=new e.bkB}ngOnInit(){if("Aluno"==this.tipoPessoa)this._pessoaService=this._alunoService;else if("Colaborador"==this.tipoPessoa)this._pessoaService=this._colaboradorService;else{if("Responsavel"!=this.tipoPessoa)throw"Tipo de pessoa inv\xe1lido";this._pessoaService=this._responsavelService}null==this.inputPessoa?this._pessoaService.get(this.pessoaId).subscribe(n=>{this.inputPessoa=n,this._setUpdateDto()}):this._setUpdateDto()}_setUpdateDto(){this.inputPessoa instanceof c.lG?this.pessoa=new c.kl(this.inputPessoa):this.inputPessoa instanceof c.Gc?this.pessoa=new c.Th(this.inputPessoa):this.inputPessoa instanceof c.I4&&(this.pessoa=new c.jA(this.inputPessoa))}save(){this.saving=!0,this._pessoaService.update(this.pessoa).subscribe(n=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(n),this.saving=!1})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.i9),e.rXU(c.o5),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:16,vars:17,consts:[["editEnderecoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],["ngModelGroup","infoPessoal",3,"pessoa"],["ngModelGroup","infoContato",3,"pessoa"],["ngModelGroup","endereco",3,"pessoa"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"tabset")(6,"tab",4),e.nI1(7,"localize"),e.nrm(8,"info-pessoal-form",5),e.k0s(),e.j41(9,"tab",4),e.nI1(10,"localize"),e.nrm(11,"info-contato-form",6),e.k0s(),e.j41(12,"tab",4),e.nI1(13,"localize"),e.nrm(14,"endereco-form",7),e.k0s()()(),e.j41(15,"abp-modal-footer",8),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,9,"Edit"+o.tipoPessoa)),e.R7$(4),e.Y8G("heading",e.bMT(7,11,"InfoPessoal")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(10,13,"InfoContato")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(13,15,"Endere\xe7oResidencia")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,F.V6,F.fw,k.x,j.z,Ne,q,H,h.S],encapsulation:2})}return a})();function Bi(a,d){if(1&a&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.R7$(),e.JRh(n)}}function zi(a,d){if(1&a){const n=e.RV6();e.j41(0,"a",10),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.onClickEdit.emit())}),e.nrm(1,"i",11),e.EFF(2),e.nI1(3,"localize"),e.k0s()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Edit")," "))}let J=(()=>{class a extends _.q{constructor(n){super(n),this.onClickEdit=new e.bkB,this.pessoal=!1}ngOnInit(){}podeEditar(){return this.pessoal||this.permission.isGranted("Business.Admin.People")}getEnderecoString(){let n="";return null!=this.pessoa?.endereco_Linha1&&(n+=this.pessoa?.endereco_Linha1+"\n"),null!=this.pessoa?.endereco_Linha2&&(n+=this.pessoa?.endereco_Linha2+"\n"),null!=this.pessoa?.endereco_Bairro&&(n+=this.pessoa?.endereco_Bairro,null!=this.cidade?.nome&&(n+=", ")),null!=this.cidade?.nome&&(n+=this.cidade?.nome,null!=this.uf?.abreviacao&&(n+=" - ")),null!=this.uf?.abreviacao&&(n+=this.uf?.abreviacao),(null!=this.pessoa?.endereco_Bairro||null!=this.cidade?.nome||null!=this.uf?.abreviacao)&&(n+="\n"),null!=this.pais?.nome&&(n+=this.pais?.nome),""==n?["-"]:n.split("\n")}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["info-pessoal-details"]],inputs:{pessoa:"pessoa",cidade:"cidade",uf:"uf",pais:"pais",pessoal:"pessoal"},outputs:{onClickEdit:"onClickEdit"},features:[e.Vt3],decls:45,vars:9,consts:[[1,"container-fluid","row","p-0","m-0"],[1,"col-md-8"],[1,"row","m-0","p-0"],[1,"col-md-4","m-0","p-0","text-left"],[1,"col-md-8","m-0","p-0"],[1,"row","mx-0","mb-0","mt-4","p-0"],[4,"ngFor","ngForOf"],[1,"row","mx-0","mt-4","mb-0","p-0","justify-content-center","align-content-center"],[1,"col-0","m-0","p-0"],["href","javascript:;","class","btn bg-blue",3,"click",4,"ngIf"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-pencil"]],template:function(i,o){if(1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.EFF(4," Nome Completo: "),e.k0s(),e.j41(5,"label",4),e.EFF(6),e.k0s()(),e.j41(7,"div",2)(8,"div",3),e.EFF(9," CPF: "),e.k0s(),e.j41(10,"label",4),e.EFF(11),e.k0s()(),e.j41(12,"div",2)(13,"div",3),e.EFF(14," G\xeanero: "),e.k0s(),e.j41(15,"label",4),e.EFF(16),e.k0s()(),e.j41(17,"div",2)(18,"div",3),e.EFF(19," Data de Nascimento: "),e.k0s(),e.j41(20,"label",4),e.EFF(21),e.k0s()(),e.j41(22,"div",5)(23,"div",3),e.EFF(24," Endere\xe7o: "),e.k0s(),e.j41(25,"label",4),e.DNE(26,Bi,2,1,"div",6),e.k0s()(),e.j41(27,"div",5)(28,"div",3),e.EFF(29," Email: "),e.k0s(),e.j41(30,"label",4),e.EFF(31),e.k0s()(),e.j41(32,"div",2)(33,"div",3),e.EFF(34," Telefone 1: "),e.k0s(),e.j41(35,"label",4),e.EFF(36),e.k0s()(),e.j41(37,"div",2)(38,"div",3),e.EFF(39," Telefone 2: "),e.k0s(),e.j41(40,"label",4),e.EFF(41),e.k0s()(),e.j41(42,"div",7)(43,"div",8),e.DNE(44,zi,4,3,"a",9),e.k0s()()()()),2&i){let t,s,r,m,f,v,C;e.R7$(6),e.SpI(" ",null!==(t=null==o.pessoa?null:o.pessoa.nome)&&void 0!==t?t:""," "),e.R7$(5),e.SpI(" ",null!==(s=null==o.pessoa?null:o.pessoa.cpf)&&void 0!==s?s:"-"," "),e.R7$(5),e.SpI(" ",null!==(r=null==o.pessoa?null:o.pessoa.genero_Nome)&&void 0!==r?r:"-"," "),e.R7$(5),e.SpI(" ",null!==(m=null==o.pessoa||null==o.pessoa.dataNascimento?null:o.pessoa.dataNascimento.format("DD/MM/yyyy"))&&void 0!==m?m:"-"," "),e.R7$(5),e.Y8G("ngForOf",o.getEnderecoString()),e.R7$(5),e.SpI(" ",null!==(f=null==o.pessoa?null:o.pessoa.infoContato_Email)&&void 0!==f?f:"-"," "),e.R7$(5),e.SpI(" ",null!==(v=null==o.pessoa?null:o.pessoa.infoContato_Telefone1)&&void 0!==v?v:"-"," "),e.R7$(5),e.SpI(" ",null!==(C=null==o.pessoa?null:o.pessoa.infoContato_Telefone2)&&void 0!==C?C:"-"," "),e.R7$(3),e.Y8G("ngIf",o.podeEditar())}},dependencies:[p.Sq,p.bT,h.S],encapsulation:2})}return a})(),W=(()=>{class a extends _.q{initEmptyPessoa(){}createUser(n){}get createUserCallable(){return this.createUser.bind(this)}constructor(n,i,o,t,s){super(n),this._paisService=i,this._modalService=o,this._router=t,this._route=s,this.pessoa=this.initEmptyPessoa()}goBack(){this._router.navigate(["../.."],{relativeTo:this._route})}getPessoa(){throw"NotImplemented"}getTipoPessoa(){throw"NotImplemented"}proccessDto(n){this.pessoa=n,null!=this.pessoa.endereco_CidadeId&&(this._paisService.getCidade(this.pessoa.endereco_CidadeId).subscribe(i=>this.cidade=i),this._paisService.getUnidadeFederal(void 0,this.pessoa.endereco_CidadeId).subscribe(i=>this.uf=i),this._paisService.getPais(void 0,void 0,this.pessoa.endereco_CidadeId).subscribe(i=>this.pais=i))}ngOnInit(){this.getPessoa().subscribe(this.proccessDto.bind(this))}editInfoPessoal(){this._modalService.show(Vi,{class:"modal-lg",initialState:{pessoaId:this.pessoa.id,inputPessoa:this.pessoa,tipoPessoa:this.getTipoPessoa()}}).content.onSave.subscribe((i=>{this.pessoa=i}).bind(this))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.B5),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:18,vars:10,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[3,"pessoaChange","onClickEdit","pessoa","cidade","uf","pais"]],template:function(i,o){1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes da Pessoa "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"info-pessoal-details",13),e.mxI("pessoaChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.bIt("onClickEdit",function(){return o.editInfoPessoal()}),e.k0s()()()()()()),2&i&&(e.Y8G("@routerTransition",void 0),e.R7$(11),e.Lme(" ",o.pessoa.nome.split(" ")[0]," ",o.pessoa.nome.split(" ").reverse()[0]," "),e.R7$(4),e.Y8G("heading",e.bMT(16,8,"PersonalInfo")),e.R7$(2),e.R50("pessoa",o.pessoa),e.Y8G("cidade",o.cidade)("uf",o.uf)("pais",o.pais))},dependencies:[F.V6,F.fw,J,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();function Yi(a,d){if(1&a&&(e.j41(0,"div",2)(1,"div",3),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",3),e.EFF(5),e.k0s()()),2&a){let n;const i=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,2,"Username"),": "),e.R7$(3),e.SpI(" ",null!==(n=null==i.user?null:i.user.userName)&&void 0!==n?n:"-"," ")}}function Ui(a,d){if(1&a){const n=e.RV6();e.j41(0,"a",10),e.bIt("click",function(){e.eBV(n);const o=e.XpG(3);return e.Njj(o.startUserCreate())}),e.EFF(1),e.nI1(2,"localize"),e.k0s()}2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Criar conta de usu\xe1rio")," "))}function Xi(a,d){if(1&a&&(e.j41(0,"div",8),e.DNE(1,Ui,3,3,"a",9),e.k0s()),2&a){const n=e.XpG(2);e.R7$(),e.Y8G("ngIf",n.podeConceder())}}function qi(a,d){if(1&a){const n=e.RV6();e.j41(0,"div")(1,"div",11)(2,"label",12),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"div",13)(6,"input",14),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG(2);return e.DH7(t.userCreate.username,o)||(t.userCreate.username=o),e.Njj(o)}),e.k0s()()(),e.j41(7,"div",15)(8,"button",16),e.bIt("click",function(){e.eBV(n);const o=e.XpG(2);return e.Njj(o.cancelUserCreate())}),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"button",17),e.bIt("click",function(){e.eBV(n);const o=e.XpG(2);return e.Njj(o.finishUserCreate())}),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){const n=e.XpG(2);e.R7$(3),e.SpI(" ",e.bMT(4,7,"Username")," "),e.R7$(3),e.Y8G("disabled",n.saving),e.R50("ngModel",n.userCreate.username),e.R7$(2),e.Y8G("disabled",n.saving),e.R7$(),e.SpI(" ",e.bMT(10,9,"Cancel")," "),e.R7$(2),e.Y8G("disabled",!n.usernameValid()||n.saving),e.R7$(),e.SpI(" ",e.bMT(13,11,"Save")," ")}}function Hi(a,d){if(1&a&&(e.j41(0,"div",4)(1,"div",5),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.DNE(4,Xi,2,1,"div",6)(5,qi,14,13,"div",7),e.k0s()),2&a){const n=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,3,"Esta pessoa n\xe3o possui uma conta de usu\xe1rio.")," "),e.R7$(2),e.Y8G("ngIf",!n.creating),e.R7$(),e.Y8G("ngIf",n.creating)}}let se=(()=>{class a extends _.q{set pessoa(n){this._pessoa=n,null!=this.pessoa.userId&&this._userService.get(this._pessoa.userId).subscribe(i=>{this._user=i}),this.cancelUserCreate()}get pessoa(){return this._pessoa}get user(){return this._user}constructor(n,i){super(n),this._userService=i,this.creating=!1,this.saving=!1}ngOnInit(){}podeConceder(){return!0}startUserCreate(){this.creating=!0;let n=this._pessoa.nome.toLowerCase().split(" ");this.userCreate=new c.Mj({pessoaId:this._pessoa.id,username:n[0]+"."+n[n.length-1]})}cancelUserCreate(){this.creating=!1,this.userCreate=void 0}usernameValid(){return null!=this.userCreate.username&&""!=this.userCreate.username}finishUserCreate(){this.saving=!0,this.createUserCallable(this.userCreate).subscribe({next:n=>{this._user=n,this._pessoa.userId=n.id,this.saving=!1,this.cancelUserCreate()},error:n=>{this.saving=!1,this.cancelUserCreate()}})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.LC))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["pessoa-account-details"]],inputs:{pessoa:"pessoa",createUserCallable:"createUserCallable"},features:[e.Vt3],decls:2,vars:2,consts:[["class","container-fluid row p-0 m-0",4,"ngIf"],["class","container-fluid col p-0 m-0",4,"ngIf"],[1,"container-fluid","row","p-0","m-0"],[1,"col-0","my-0","ml-0","mr-1","p-0","text-align-left"],[1,"container-fluid","col","p-0","m-0"],[1,"row","m-0","p-0","text-center","align-content-center","justify-content-center"],["class","row m-0 p-0 align-content-center justify-content-center",4,"ngIf"],[4,"ngIf"],[1,"row","m-0","p-0","align-content-center","justify-content-center"],["href","javascript:;","class","btn bg-blue",3,"click",4,"ngIf"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"form-group","row","required","align-content-center","justify-content-center"],["for","username",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","username","id","username","required","","maxlength","256",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row","m-0","p-0","align-content-center","justify-content-between"],[1,"btn","bg-secondary","col-0",3,"click","disabled"],[1,"btn","bg-primary","col-0",3,"click","disabled"]],template:function(i,o){1&i&&e.DNE(0,Yi,6,4,"div",0)(1,Hi,6,5,"div",1),2&i&&(e.Y8G("ngIf",null!=o.pessoa.userId),e.R7$(),e.Y8G("ngIf",null==o.pessoa.userId))},dependencies:[p.bT,l.me,l.BC,l.YS,l.tU,l.vS,h.S],encapsulation:2})}return a})(),Ve=(()=>{class a extends te{constructor(n,i,o){super(n,o),this._responsavelService=i,this.bsModalRef=o}initEmptyPessoaDto(){this.pessoa=new c.C9,super.initEmptyPessoaDto(),this.pessoa.dependentes=[]}create(){return this._responsavelService.create(this.pessoa)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.o5),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:16,vars:17,consts:[["createResponsavelModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],["ngModelGroup","infoPessoal",3,"pessoa"],["ngModelGroup","infoContato",3,"pessoa"],["ngModelGroup","endereco",3,"pessoaChange","pessoa"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"tabset")(6,"tab",4),e.nI1(7,"localize"),e.nrm(8,"info-pessoal-form",5),e.k0s(),e.j41(9,"tab",4),e.nI1(10,"localize"),e.nrm(11,"info-contato-form",6),e.k0s(),e.j41(12,"tab",4),e.nI1(13,"localize"),e.j41(14,"endereco-residencia-form",7),e.mxI("pessoaChange",function(r){return e.eBV(t),e.DH7(o.pessoa,r)||(o.pessoa=r),e.Njj(r)}),e.k0s()()()(),e.j41(15,"abp-modal-footer",8),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,9,"CreateNewResponsavel")),e.R7$(4),e.Y8G("heading",e.bMT(7,11,"InfoPessoal")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(10,13,"InfoContato")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(13,15,"Endere\xe7oResidencia")),e.R7$(2),e.R50("pessoa",o.pessoa),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,F.V6,F.fw,k.x,j.z,O,q,H,h.S],encapsulation:2})}return a})();const xi=()=>[];function Oi(a,d){if(1&a){const n=e.RV6();e.qex(0),e.j41(1,"div",5)(2,"label",6),e.EFF(3),e.k0s(),e.j41(4,"div",7)(5,"a",2),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.detailsResponsavel(o))}),e.nrm(6,"i",8),e.k0s()()(),e.bVm()}if(2&a){const n=d.$implicit,i=e.XpG();e.R7$(3),e.SpI(" ",i.getResponsavelNome(n)," ")}}let Be=(()=>{class a extends _.q{set aluno(n){this._aluno=n,this.refresh()}get aluno(){return this._aluno}constructor(n,i,o,t,s,r,m){super(n),this._responsavelService=i,this._alunoService=o,this._modalService=t,this._changeDetector=s,this._router=r,this._route=m,this.alunoChange=new e.bkB}ngOnInit(){this.refresh()}refresh(){this.responsaveis=[],this.aluno?.responsaveis?.forEach(n=>{this._responsavelService.get(n.id).subscribe(i=>{this.responsaveis.push(i)})})}getResponsavelNome(n){return this.responsaveis?.find(i=>i.id==n.id)?.nome??""}detailsResponsavel(n){this._router.navigate(this.appSession.user.responsavel?.id==n.id?["app","personal",n.id]:["app","responsaveis","details",n.id])}cadastrarResponsavel(){let n=this._modalService.show(Ve,{class:"modal-lg",initialState:{saveOrReturn:!0}});n.content.onSave.subscribe((i=>{i.dependentes=[new c.GO({id:this.aluno.id})],this._responsavelService.create(i).subscribe(o=>{this.aluno.responsaveis.push(new c.GO(o)),n.content.notify.info(this.l("SavedSuccessfully")),n.content.bsModalRef.hide()})}).bind(this))}podeAddResponsaveis(){return this.permission.isGranted("Business.Admin.People")}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.o5),e.rXU(c.pg),e.rXU(b.I8),e.rXU(e.gRc),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["responsaveis-aluno"]],inputs:{aluno:"aluno"},outputs:{alunoChange:"alunoChange"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:7,vars:6,consts:[[1,"row","mb-2",3,"hidden"],[1,"col","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-0"],[1,"col-2"],[1,"fa","fa-link"]],template:function(i,o){if(1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"a",2),e.bIt("click",function(){return o.cadastrarResponsavel()}),e.nrm(3,"i",3),e.EFF(4),e.nI1(5,"localize"),e.k0s()()(),e.DNE(6,Oi,7,1,"ng-container",4)),2&i){let t;e.Y8G("hidden",!o.podeAddResponsaveis()),e.R7$(4),e.SpI(" ",e.bMT(5,3,"CadastrarResponsavel")," "),e.R7$(2),e.Y8G("ngForOf",null!==(t=null==o.aluno?null:o.aluno.responsaveis)&&void 0!==t?t:e.lJ4(5,xi))}},dependencies:[p.Sq,h.S],encapsulation:2})}return a})();var x=R(7707);const Ji=()=>[],Li=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function Zi(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",13)(1,"a",14),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.registrarAtendimento())}),e.nrm(2,"i",15),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"RegistrarAtendimento")," "))}function Qi(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.nrm(9,"td"),e.k0s()),2&a){let n,i,o;const t=d.$implicit,s=e.XpG();e.R7$(2),e.JRh(s.getNomeAT(null==t?null:t.atuacaoTerapeutaId)),e.R7$(2),e.JRh(null!==(n=null==t||null==t.inicio?null:t.inicio.format("DD/MM/yyyy"))&&void 0!==n?n:"-"),e.R7$(2),e.Lme("",null!==(i=null==t||null==t.inicio?null:t.inicio.format("HH:mm"))&&void 0!==i?i:"-","~",null!==(i=null==t||null==t.fim?null:t.fim.format("HH:mm"))&&void 0!==i?i:"-",""),e.R7$(2),e.JRh(null!==(o=null==t||null==t.unidadesEnsino?null:t.unidadesEnsino.length)&&void 0!==o?o:"-")}}let ze=(()=>{class a extends y{set aluno(n){this._aluno=n,this._localService.aluno=n,this.refresh()}get aluno(){return this._aluno}constructor(n,i,o,t,s,r,m,f,v,C,S){super(n),this._alunoService=i,this._casoService=o,this._colaboradorService=t,this._protocoloIntervencaoService=s,this._hierarquiaAjudaService=r,this._modalService=m,this._router=f,this._route=v,this._changeDetector=C,this._localService=S,this.refreshCallback=new e.bkB}ngOnInit(){this.refresh()}getAtuacao(n){return this.staff?.find(i=>i.id==n)}getColabFuncao(n){return this.funcoesColaborador?.find(i=>i.id==n)}getColaborador(n){return this.colaboradores?.find(i=>i.id==n)}getFuncao(n){return this.funcoes?.find(i=>i.id==n)}list(n,i,o){null!=this.aluno?.casoId?this._casoService.getAllRegistrosAtendimento(this.aluno.casoId,void 0,void 0,void 0,void 0).pipe((0,A.j)(()=>o())).subscribe(t=>{this.atendimentos=t,this.showPaging({items:t,totalCount:t.length},i)}):(this.atendimentos=[],this.showPaging({items:[],totalCount:0},i))}delete(n){}registrarAtendimento(){this._router.navigate(["registro-atendimento"],{relativeTo:this._route})}getNomeAT(n){return this.getColaborador(this.getColabFuncao(this.getAtuacao(n)?.colabFuncaoId)?.colaboradorId)?.nome??""}getSupervisoresEAts(){var n=this.staff.filter(r=>{if(null==r.dataFim){var m=this.getColabFuncao(r.colabFuncaoId);if(null!=m){var f=this.getFuncao(m.funcaoOrgId);if("Supervisor Assistente"==f.nome||"Supervisor Gestor"==f.nome||"Acompanhante Terapeuta"==f.nome)return!0}}return!1}),i=[];n.forEach(r=>{i.includes(r.colabFuncaoId)||i.push(r.colabFuncaoId)});var o=[];i.forEach(r=>o.push(this.getColabFuncao(r)));var t=[];o.forEach(r=>{t.includes(r.colaboradorId)||t.push(r.colaboradorId)});var s=[];return t.forEach(r=>s.push(this.getColaborador(r))),{atuacoes:n,cfs:o,colaboradores:s}}podeRegistrarAtendimento(){return this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico")||(this.permission.isGranted("Business.Personal.Colaborador.Supervisor")||this.permission.isGranted("Business.Personal.Colaborador.AT"))&&null!=this.appSession?.user?.colaborador?.id&&this.getSupervisoresEAts().colaboradores.some(n=>n.id==this.appSession.user.colaborador.id)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.iD),e.rXU(c.i9),e.rXU(c.J3),e.rXU(c.Qk),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX),e.rXU(e.gRc),e.rXU(x.n))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["atendimentos-caso"]],inputs:{aluno:"aluno",funcoes:"funcoes",colaboradores:"colaboradores",funcoesColaborador:"funcoesColaborador",staff:"staff"},outputs:{refreshCallback:"refreshCallback"},features:[e.Vt3],decls:30,vars:27,consts:[["class","row m-0 mb-1 justify-content-end text-center",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","10%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"row","m-0","mb-1","justify-content-end","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"]],template:function(i,o){if(1&i&&(e.DNE(0,Zi,5,3,"div",0),e.j41(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"th",4),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"th",4),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"th",4),e.EFF(15),e.nI1(16,"localize"),e.k0s(),e.nrm(17,"th",4),e.k0s()(),e.j41(18,"tbody"),e.DNE(19,Qi,10,5,"tr",5),e.nI1(20,"paginate"),e.k0s()()(),e.j41(21,"div",6),e.nrm(22,"div",7),e.j41(23,"div",8)(24,"p",9),e.EFF(25),e.nI1(26,"localize"),e.k0s()(),e.j41(27,"div",10)(28,"div",11)(29,"abp-pagination-controls",12),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&i){let t;e.Y8G("ngIf",o.podeRegistrarAtendimento()),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(7,8,"AT")),e.R7$(3),e.JRh(e.bMT(10,10,"Data")),e.R7$(3),e.JRh(e.bMT(13,12,"Hora")),e.R7$(3),e.JRh(e.bMT(16,14,"No Unidades Ensino")),e.R7$(4),e.Y8G("ngForOf",e.i5U(20,16,null!==(t=o.atendimentos)&&void 0!==t?t:e.lJ4(22,Ji),e.sMw(23,Li,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(6),e.SpI(" ",e.i5U(26,19,"TotalRecordsCount",o.totalItems)," ")}},dependencies:[p.Sq,p.bT,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const Ye=()=>[];function Wi(a,d){if(1&a&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&a){let n;const i=d.$implicit,o=e.XpG();e.Y8G("value",i.id),e.R7$(),e.SpI(" ",null==(n=o.getColaborador(null==(n=o.getFuncaoColaborador(null==i?null:i.colabFuncaoId))?null:n.colaboradorId))?null:n.nome," ")}}function Ki(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td",30),e.EFF(2),e.k0s(),e.j41(3,"td",30)(4,"input",31),e.bIt("change",function(o){const t=e.eBV(n).index,s=e.XpG();return e.Njj(s.onParticipacaoChange(t,o.target.checked))}),e.k0s()()()}if(2&a){let n;const i=d.$implicit,o=d.index,t=e.XpG();e.R7$(2),e.JRh(null==(n=t.getColaborador(null==(n=t.getFuncaoColaborador(null==i?null:i.colabFuncaoId))?null:n.colaboradorId))?null:n.nome),e.R7$(2),e.Y8G("id","participacao"+o)("name","participacao"+o)}}let et=(()=>{class a extends _.q{get loading(){return this.loadingTiposServico||this.loadingStaff||this.loadingFuncoesColaborador||this.loadingColaboradores}get disabled(){return this.loading||this.saving}constructor(n,i,o,t,s){super(n),this._alunoService=i,this._casoService=o,this._tipoServicoService=t,this.bsModalRef=s,this.NOME_SERVICO_SUPERVISAO="Supervis\xe3o",this.NOME_SERVICO_PARTICIPACAO="Participa\xe7\xe3o em Supervis\xe3o",this.loadingTiposServico=!1,this.loadingStaff=!1,this.loadingFuncoesColaborador=!1,this.loadingColaboradores=!1,this.saving=!1,this.onSave=new e.bkB}_setSupervisoresEParticipantes(){if(!this.loading&&null!=this.staff&&null!=this._funcoesApropriadasParticipantes&&null!=this._funcoesApropriadasSupervisor)if(this.supervisores=[],this.podemParticipar=[],this.staff.forEach(s=>{this._funcoesApropriadasSupervisor.includes(this.funcoesColaborador.find(r=>r.id==s.colabFuncaoId).funcaoOrgId)&&null==s.dataFim&&this.supervisores.push(s),this._funcoesApropriadasParticipantes.includes(this.funcoesColaborador.find(r=>r.id==s.colabFuncaoId).funcaoOrgId)&&null==s.dataFim&&this.podemParticipar.push(s)}),this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico"))this.options=this.supervisores;else if(this.permission.isGranted("Business.Personal.Colaborador.Supervisor.Gestor")){var n=this.appSession.user.colaborador?.id;if(null!=n){var i=this.funcoesColaborador.filter(s=>s.colaboradorId==n&&null==s.dataFim),o=this.funcoesColaborador.filter(s=>null==s.dataFim&&null!=s.gestorId&&i.some(r=>r.id==s.gestorId)),t=i.concat(o);this.options=this.supervisores.filter(s=>t.some(r=>r.id==s.colabFuncaoId))}}else this.permission.isGranted("Business.Personal.Colaborador.Supervisor.Assistente")?(n=this.appSession.user.colaborador?.id,null!=n&&(i=this.funcoesColaborador.filter(m=>m.colaboradorId==n),this.options=this.supervisores.filter(m=>i.some(f=>f.id==m.colabFuncaoId)))):this.options=[]}ngOnInit(){this.loadingTiposServico=!0,this._tipoServicoService.getAll(void 0,void 0,void 0,void 0,void 0).subscribe(n=>{this._funcoesApropriadasSupervisor=[],this._funcoesApropriadasParticipantes=[],n.items.forEach(i=>{i.nome.startsWith(this.NOME_SERVICO_SUPERVISAO)?i.funcoesOrg.forEach(o=>{this._funcoesApropriadasSupervisor.includes(o.id)||this._funcoesApropriadasSupervisor.push(o.id)}):i.nome.startsWith(this.NOME_SERVICO_PARTICIPACAO)&&i.funcoesOrg.forEach(o=>{this._funcoesApropriadasParticipantes.includes(o.id)||this._funcoesApropriadasParticipantes.push(o.id)})}),this.loadingTiposServico=!1,this._setSupervisoresEParticipantes()}),null==this.staff&&(this.loadingStaff=!0,this._casoService.getAllAtuacoes(this.aluno.casoId,void 0,void 0,void 0,void 0,void 0).subscribe(n=>{this.staff=n,this.loadingStaff=!1,this._setSupervisoresEParticipantes()})),this.supervisao=new c.OK,this.supervisao.casoId=this.aluno.casoId,this.supervisao.participacoes=[],this.supervisao.inicio=V(),this.supervisao.fim=V()}getFuncaoColaborador(n){return this.funcoesColaborador?.find(i=>i.id==n)}getColaborador(n){return this.colaboradores?.find(i=>i.id==n)}get data(){return this.supervisao?.inicio?.format("YYYY-MM-DD")}set data(n){let i=V(n),o=V(n);i=i.hour(this.supervisao?.inicio?.hour()??0),o=o.hour(this.supervisao?.fim?.hour()??0),i=i.minute(this.supervisao?.inicio?.minute()??0),o=o.minute(this.supervisao?.fim?.minute()??0),this.supervisao.inicio=i,this.supervisao.fim=o}get horarioInicio(){return this.supervisao?.inicio?.format("HH:mm")}set horarioInicio(n){let i=Number(n.substring(0,2)),o=Number(n.substring(3,5));this.supervisao.inicio=this.supervisao?.inicio?.hour(i),this.supervisao.inicio=this.supervisao?.inicio?.minute(o)}get horarioFim(){return this.supervisao?.fim?.format("HH:mm")}set horarioFim(n){let i=Number(n.substring(0,2)),o=Number(n.substring(3,5));this.supervisao.fim=this.supervisao?.fim?.hour(i),this.supervisao.fim=this.supervisao?.fim?.minute(o)}get supervisorId(){return this.supervisao?.atuacaoSupervisorId?.toString()??""}set supervisorId(n){this.supervisao.atuacaoSupervisorId=""!=n&&null!=n?Number(n):void 0}onParticipacaoChange(n,i){let o=this.podemParticipar[n];!this.supervisao.participacoes.some(t=>t.atuacaoParticipanteId==o.id)&&i?this.supervisao.participacoes.push(new c.dH({atuacaoParticipanteId:o.id,servicoPrestadoId:void 0})):this.supervisao.participacoes.some(t=>t.atuacaoParticipanteId==o.id)&&!i&&this.supervisao.participacoes.splice(this.supervisao.participacoes.findIndex(t=>t.atuacaoParticipanteId==o.id),1)}save(){this.saving=!0;let n={next:i=>{this.onSave.emit(i),this.bsModalRef.hide(),this.saving=!1},error:i=>{console.log(i),this.saving=!1},complete:()=>{}};this.supervisao.inicio=this.supervisao.inicio.utcOffset(0,!0),this.supervisao.fim=this.supervisao.fim.utcOffset(0,!0),this._casoService.registrarSupervisao(this.supervisao).subscribe(n)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.iD),e.rXU(c.$B),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:61,vars:47,consts:[["registroSupervisaoModal","ngForm"],["supervisorModel","ngModel","supervisorEl",""],["dataModel","ngModel","dataEl",""],["horarioInicioModel","ngModel","horarioInicioEl",""],["horarioFimModel","ngModel","horarioFimEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","supervisor",1,"col-md-3","col-form-label"],[1,"col-md-9"],["name","supervisor","id","supervisor","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],["for","data",1,"col-md-3","col-form-label"],["type","date","name","data","id","data","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","horarioInicio",1,"col-md-3","col-form-label"],["type","time","name","horarioInicio","id","horarioInicio","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","horarioFim",1,"col-md-3","col-form-label"],["type","time","name","horarioFim","id","horarioFim","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row","m-0","justify-content-center"],[1,"table-responsive","col-md-8","mt-3"],[1,"table","table-bordered",3,"busy"],[1,"bg-light"],["colSpan","2",1,"text-center"],[2,"width","10%"],[4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"],[1,"text-center"],["type","checkbox",3,"change","id","name"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",5,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",6),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",7)(5,"div",8)(6,"label",9),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",10)(10,"select",11,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.supervisorId,r)||(o.supervisorId=r),e.Njj(r)}),e.nrm(13,"option",12),e.DNE(14,Wi,2,2,"option",13),e.k0s(),e.nrm(15,"abp-validation-summary",14),e.k0s()(),e.j41(16,"div",8)(17,"label",15),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.j41(20,"div",10)(21,"input",16,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.data,r)||(o.data=r),e.Njj(r)}),e.k0s(),e.nrm(24,"abp-validation-summary",14),e.k0s()(),e.j41(25,"div",8)(26,"label",17),e.EFF(27),e.nI1(28,"localize"),e.k0s(),e.j41(29,"div",10)(30,"input",18,3),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.horarioInicio,r)||(o.horarioInicio=r),e.Njj(r)}),e.k0s(),e.nrm(33,"abp-validation-summary",14),e.k0s()(),e.j41(34,"div",8)(35,"label",19),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"div",10)(39,"input",20,4),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.horarioFim,r)||(o.horarioFim=r),e.Njj(r)}),e.k0s(),e.nrm(42,"abp-validation-summary",14),e.k0s()(),e.j41(43,"div",21)(44,"div",22)(45,"table",23)(46,"thead",24)(47,"tr")(48,"th",25),e.EFF(49),e.nI1(50,"localize"),e.k0s()(),e.j41(51,"tr")(52,"th"),e.EFF(53),e.nI1(54,"localize"),e.k0s(),e.j41(55,"th",26),e.EFF(56),e.nI1(57,"localize"),e.k0s()()(),e.j41(58,"tbody"),e.DNE(59,Ki,5,3,"tr",27),e.k0s()()()()(),e.j41(60,"abp-modal-footer",28),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){let t,s;const r=e.sdS(1),m=e.sdS(11),f=e.sdS(12),v=e.sdS(22),C=e.sdS(23),S=e.sdS(31),$=e.sdS(32),P=e.sdS(40),N=e.sdS(41);e.R7$(2),e.Y8G("title",e.bMT(3,29,"RegistroSupervisao")),e.R7$(5),e.SpI(" ",e.bMT(8,31,"Supervisor")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.supervisorId),e.R7$(4),e.Y8G("ngForOf",null!==(t=o.options)&&void 0!==t?t:e.lJ4(45,Ye)),e.R7$(),e.Y8G("control",m)("controlEl",f),e.R7$(3),e.SpI(" ",e.bMT(19,33,"Data")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.data),e.R7$(3),e.Y8G("control",v)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(28,35,"Hor\xe1rio In\xedcio")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.horarioInicio),e.R7$(3),e.Y8G("control",S)("controlEl",$),e.R7$(3),e.SpI(" ",e.bMT(37,37,"Hor\xe1rio Fim")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.horarioFim),e.R7$(3),e.Y8G("control",P)("controlEl",N),e.R7$(3),e.Y8G("busy",o.loading),e.R7$(4),e.JRh(e.bMT(50,39,"Participa\xe7\xf5es")),e.R7$(4),e.JRh(e.bMT(54,41,"Nome")),e.R7$(3),e.JRh(e.bMT(57,43,"Participou?")),e.R7$(3),e.Y8G("ngForOf",null!==(s=o.podemParticipar)&&void 0!==s?s:e.lJ4(46,Ye)),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!r.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.xH,l.y7,l.me,l.wz,l.BC,l.cb,l.YS,l.vS,l.cV,G.e,k.x,j.z,E,h.S],encapsulation:2})}return a})();const ot=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function nt(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",13)(1,"a",14),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.registrarSupervisao())}),e.nrm(2,"i",15),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"RegistrarSupervisao")," "))}function it(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s()()),2&a){let n,i;const o=d.$implicit,t=e.XpG();e.R7$(2),e.JRh(null==(n=t.getColaborador(null==(n=t.getColabFuncao(null==(n=t.getAtuacao(null==o?null:o.atuacaoSupervisorId))?null:n.colabFuncaoId))?null:n.colaboradorId))?null:n.nome),e.R7$(2),e.Lme("",null!==(i=null==o||null==o.inicio?null:o.inicio.format("DD/MM/yyyy HH:mm"))&&void 0!==i?i:"-","~",null!==(i=null==o||null==o.fim?null:o.fim.format("HH:mm"))&&void 0!==i?i:"-",""),e.R7$(2),e.JRh(t.getParticipacoesString(o))}}let Ue=(()=>{class a extends y{constructor(n,i,o,t,s){super(n),this._alunoService=i,this._casoService=o,this._modalService=t,this.bsModalRef=s,this.registroCallback=new e.bkB}get aluno(){return this._aluno}set aluno(n){this._aluno=n,this.refresh()}ngOnInit(){}_zeroList(n){this.supervisoes=[],this.showPaging({items:[],totalCount:0},n)}list(n,i,o){null!=this.aluno?.casoId?(this.isTableLoading=!0,this._casoService.getAllRegistrosSupervisao(this.aluno.casoId,void 0,void 0,void 0,void 0).pipe((0,A.j)(()=>{o()})).subscribe({next:t=>{this.supervisoes=t,this.showPaging({items:t,totalCount:t.length},i),this.isTableLoading=!1},error:()=>{this._zeroList(i),this.isTableLoading=!1}})):(o(),this._zeroList(i))}delete(n){}getAtuacao(n){return this.staff?.find(i=>i.id==n)}getColabFuncao(n){return this.funcoesColaborador?.find(i=>i.id==n)}getFuncao(n){return this.funcoes?.find(i=>i.id==n)}getColaborador(n){return this.colaboradores?.find(i=>i.id==n)}getColaboradorByCFId(n){return this.getColaborador(this.getColabFuncao(n).id)}getColaboradorByAtuacaoId(n){return this.getColaboradorByCFId(this.getAtuacao(n).colabFuncaoId)}getNomeSupervisor(n){return this.getColaboradorByAtuacaoId(n)?.nome??""}getParticipacoesString(n){let i=[];if(n?.participacoes?.forEach(t=>i.push(this.getColaborador(this.getColabFuncao(this.getAtuacao(t.atuacaoParticipanteId)?.colabFuncaoId)?.colaboradorId)?.nome)),0==i.length)return"";if(1==i.length)return i[0];let o=" e "+i.splice(i.length-1,1)[0];for(o=i.splice(i.length-1,1)[0]+o;i.length>0;)o=i.splice(i.length-1,1)[0]+", "+o;return o}getSupervisores(){var n=this.staff.filter(r=>{if(null==r.dataFim){var m=this.getColabFuncao(r.colabFuncaoId);if(null!=m){var f=this.getFuncao(m.funcaoOrgId);if("Supervisor Assistente"==f.nome||"Supervisor Gestor"==f.nome)return!0}}return!1}),i=[];n.forEach(r=>{i.includes(r.colabFuncaoId)||i.push(r.colabFuncaoId)});var o=[];i.forEach(r=>o.push(this.getColabFuncao(r)));var t=[];o.forEach(r=>{t.includes(r.colaboradorId)||t.push(r.colaboradorId)});var s=[];return t.forEach(r=>s.push(this.getColaborador(r))),{atuacoes:n,cfs:o,colaboradores:s}}podeRegistrarSupervisao(){return this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico")||this.permission.isGranted("Business.Personal.Colaborador.Supervisor")&&null!=this.appSession?.user?.colaborador?.id&&this.getSupervisores().colaboradores.some(n=>n.id==this.appSession.user.colaborador.id)}registrarSupervisao(){let n;n=this._modalService.show(et,{class:"modal-lg",initialState:{aluno:this.aluno,colaboradores:this.colaboradores,funcoesColaborador:this.funcoesColaborador,staff:this.staff}}),n.content.onSave.subscribe(i=>{null!=i&&(this.supervisoes.push(i),this.showPaging({items:this.supervisoes,totalCount:this.supervisoes.length},this.pageNumber),this.registroCallback.emit())})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.iD),e.rXU(b.I8),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["supervisoes-caso"]],inputs:{aluno:"aluno",funcoes:"funcoes",colaboradores:"colaboradores",funcoesColaborador:"funcoesColaborador",staff:"staff"},outputs:{registroCallback:"registroCallback"},features:[e.Vt3],decls:26,vars:23,consts:[["class","row m-0 mb-1 justify-content-end text-center",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","20%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"row","m-0","mb-1","justify-content-end","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"]],template:function(i,o){1&i&&(e.DNE(0,nt,5,3,"div",0),e.j41(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"th",4),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"th"),e.EFF(12),e.nI1(13,"localize"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,it,7,4,"tr",5),e.nI1(16,"paginate"),e.k0s()()(),e.j41(17,"div",6),e.nrm(18,"div",7),e.j41(19,"div",8)(20,"p",9),e.EFF(21),e.nI1(22,"localize"),e.k0s()(),e.j41(23,"div",10)(24,"div",11)(25,"abp-pagination-controls",12),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&i&&(e.Y8G("ngIf",o.podeRegistrarSupervisao()),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(7,7,"Supervisor")),e.R7$(3),e.JRh(e.bMT(10,9,"Data & Hora")),e.R7$(3),e.JRh(e.bMT(13,11,"Participantes")),e.R7$(3),e.Y8G("ngForOf",e.i5U(16,13,o.supervisoes,e.sMw(19,ot,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(6),e.SpI(" ",e.i5U(22,16,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const tt=()=>[],at=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function st(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",13)(1,"a",14),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.novaAnamnese())}),e.nrm(2,"i",15),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"NovaAnamnese")," "))}function rt(a,d){if(1&a){const n=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(n);const o=e.XpG().$implicit,t=e.XpG();return e.Njj(t.delete(o))}),e.nrm(1,"i",20),e.EFF(2),e.nI1(3,"localize"),e.k0s()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Delete")," "))}function lt(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"button",16),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.view(o))}),e.nrm(7,"i",17),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.DNE(10,rt,4,3,"button",18),e.k0s()()}if(2&a){let n;const i=d.$implicit,o=e.XpG();e.R7$(2),e.JRh(o.getNomeAvaliador(null==i?null:i.atuacaoId)),e.R7$(2),e.JRh(null!==(n=null==i||null==i.dataAvaliacao?null:i.dataAvaliacao.format("DD/MM/yyyy"))&&void 0!==n?n:"-"),e.R7$(4),e.SpI(" ",e.bMT(9,4,"View")," "),e.R7$(2),e.Y8G("ngIf",null==i.dataRegistroFechado)}}let dt=(()=>{class a extends y{set aluno(n){this._aluno=n,this._localService.aluno=n,this.refresh()}get aluno(){return this._aluno}constructor(n,i,o,t,s,r,m,f,v,C,S){super(n),this._alunoService=i,this._casoService=o,this._colaboradorService=t,this._protocoloIntervencaoService=s,this._hierarquiaAjudaService=r,this._bsModalService=m,this._router=f,this._route=v,this._changeDetector=C,this._localService=S,this.refreshCallback=new e.bkB}ngOnInit(){this.refresh()}getAtuacao(n){return this.staff?.find(i=>i.id==n)}getColabFuncao(n){return this.funcoesColaborador?.find(i=>i.id==n)}getColaborador(n){return this.colaboradores?.find(i=>i.id==n)}getFuncao(n){return this.funcoes?.find(i=>i.id==n)}list(n,i,o){null!=this.aluno?.casoId?this._casoService.getAllAnamneses(void 0,void 0,void 0,this.aluno.casoId,void 0,void 0,void 0,void 0).pipe((0,A.j)(()=>o())).subscribe(t=>{this.anamneses=t,this.showPaging({items:t,totalCount:t.length},i)}):(this.anamneses=[],this.showPaging({items:[],totalCount:0},i))}view(n){this._router.navigate(["view-registro-anamnese",n.id],{relativeTo:this._route})}delete(n){abp.message.confirm("Deletar registro de anamnese?",void 0,i=>{i&&this._casoService.deleteAnamnese(n.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}novaAnamnese(){this._router.navigate(["registro-anamnese"],{relativeTo:this._route})}getNomeAvaliador(n){return this.getColaborador(this.getColabFuncao(this.getAtuacao(n)?.colabFuncaoId)?.colaboradorId)?.nome??""}getSupervisores(){var n=this.staff.filter(r=>{if(null==r.dataFim){var m=this.getColabFuncao(r.colabFuncaoId);if(null!=m){var f=this.getFuncao(m.funcaoOrgId);if("Supervisor Assistente"==f.nome||"Supervisor Gestor"==f.nome)return!0}}return!1}),i=[];n.forEach(r=>{i.includes(r.colabFuncaoId)||i.push(r.colabFuncaoId)});var o=[];i.forEach(r=>o.push(this.getColabFuncao(r)));var t=[];o.forEach(r=>{t.includes(r.colaboradorId)||t.push(r.colaboradorId)});var s=[];return t.forEach(r=>s.push(this.getColaborador(r))),{atuacoes:n,cfs:o,colaboradores:s}}podeNovaAnamnese(){return this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico")||this.permission.isGranted("Business.Personal.Colaborador.Supervisor")&&null!=this.appSession?.user?.colaborador?.id&&this.getSupervisores().colaboradores.some(n=>n.id==this.appSession.user.colaborador.id)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.iD),e.rXU(c.i9),e.rXU(c.J3),e.rXU(c.Qk),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX),e.rXU(e.gRc),e.rXU(x.n))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["anamneses-caso"]],inputs:{aluno:"aluno",funcoes:"funcoes",colaboradores:"colaboradores",funcoesColaborador:"funcoesColaborador",staff:"staff"},outputs:{refreshCallback:"refreshCallback"},features:[e.Vt3],decls:24,vars:21,consts:[["class","row m-0 mb-1 justify-content-end text-center",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","20%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"row","m-0","mb-1","justify-content-end","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-search"],["type","button","class","btn btn-sm bg-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-danger",3,"click"],[1,"fas","fa-trash"]],template:function(i,o){if(1&i&&(e.DNE(0,st,5,3,"div",0),e.j41(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"th"),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.nrm(11,"th",4),e.k0s()(),e.j41(12,"tbody"),e.DNE(13,lt,11,6,"tr",5),e.nI1(14,"paginate"),e.k0s()()(),e.j41(15,"div",6),e.nrm(16,"div",7),e.j41(17,"div",8)(18,"p",9),e.EFF(19),e.nI1(20,"localize"),e.k0s()(),e.j41(21,"div",10)(22,"div",11)(23,"abp-pagination-controls",12),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&i){let t;e.Y8G("ngIf",o.podeNovaAnamnese()),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(7,6,"Avaliador")),e.R7$(3),e.JRh(e.bMT(10,8,"Data")),e.R7$(4),e.Y8G("ngForOf",e.i5U(14,10,null!==(t=o.anamneses)&&void 0!==t?t:e.lJ4(16,tt),e.sMw(17,at,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(6),e.SpI(" ",e.i5U(20,13,"TotalRecordsCount",o.totalItems)," ")}},dependencies:[p.Sq,p.bT,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();function ct(a,d){if(1&a&&(e.j41(0,"option",9),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",n.id),e.R7$(),e.JRh(n.nome)}}let ut=(()=>{class a extends _.q{constructor(n,i,o,t,s){super(n),this._protocoloAvaliacaoService=i,this._alunoService=o,this._casoService=t,this.bsModalRef=s,this.saving=!1,this.protocolosAvaliacao=[],this.options=[],this.curAplicacoes=[],this.onSave=new e.bkB}ngOnInit(){this.saving=!0,this.protocolosAvaliacao=[],this._protocoloAvaliacaoService.getAll(void 0,void 0,void 0,void 0,void 0).subscribe(n=>{this.protocolosAvaliacao=n.items,this.options=this.protocolosAvaliacao.filter(i=>this.curAplicacoes.every(o=>o.protocoloAvaliacaoId!=i.id||null!=o.dataArquivamento)),this.saving=!1})}get protocoloAvaliacaoSelectedId(){return this._protocoloAvaliacaoSelectedId?.toString()??""}set protocoloAvaliacaoSelectedId(n){this._protocoloAvaliacaoSelectedId=null!=n?Number(n):void 0}get protocoloAvaliacaoSelected(){return this.protocolosAvaliacao.find(n=>n.id==this._protocoloAvaliacaoSelectedId)}save(){this.saving=!0;let n=new c.ZN({casoId:this.aluno.casoId,protocoloAvaliacaoId:this._protocoloAvaliacaoSelectedId});this._casoService.createAplicacaoProtocoloAvaliacao(n).subscribe(i=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit({apli:i,prot:this.protocolosAvaliacao.find(o=>o.id==i.protocoloAvaliacaoId)}),this.saving=!1})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(c.pg),e.rXU(c.iD),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],inputs:{aluno:"aluno"},outputs:{onSave:"onSave"},features:[e.Vt3],decls:11,vars:8,consts:[["selectProtocoloAvaliacaoModal","ngForm"],["protocoloAvaliacaoModel","ngModel","protocoloAvaliacaoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"col-md-6"],["name","protocolo-avaliacao","id","protocolo-avaliacao","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"select",6,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.protocoloAvaliacaoSelectedId,r)||(o.protocoloAvaliacaoSelectedId=r),e.Njj(r)}),e.DNE(9,ct,2,2,"option",7),e.k0s()()(),e.j41(10,"abp-modal-footer",8),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,6,"SelectProtocoloAvaliacao")),e.R7$(4),e.Y8G("disabled",o.saving),e.R50("ngModel",o.protocoloAvaliacaoSelectedId),e.R7$(3),e.Y8G("ngForOf",o.options),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.xH,l.y7,l.wz,l.BC,l.cb,l.YS,l.vS,l.cV,k.x,j.z,h.S],encapsulation:2})}return a})();const mt=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function pt(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",15)(1,"button",16),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.addProtocoloAvaliacao())}),e.nrm(2,"i",17),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}if(2&a){const n=e.XpG();e.R7$(),e.Y8G("disabled",n.isTableLoading),e.R7$(2),e.SpI(" ",e.bMT(4,2,"AddProtocoloAvaliacao")," ")}}function ht(a,d){if(1&a){const n=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(n);const o=e.XpG().$implicit,t=e.XpG();return e.Njj(t.delete(o))}),e.nrm(1,"i",24),e.EFF(2),e.nI1(3,"localize"),e.k0s()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Archive")," "))}function gt(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"button",18),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.detailsAplicacaoProtocoloAvaliacao(o))}),e.nrm(9,"i",19),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"button",20),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.detailsProtocoloAvaliacao(o.protocoloAvaliacaoId))}),e.nrm(13,"i",21),e.EFF(14),e.nI1(15,"localize"),e.k0s(),e.DNE(16,ht,4,3,"button",22),e.k0s()()}if(2&a){let n,i;const o=d.$implicit,t=e.XpG();e.R7$(2),e.JRh(t.getNomeProtocoloAvaliacao(o.protocoloAvaliacaoId)),e.R7$(2),e.JRh(null!==(n=null==o.dataInicio?null:o.dataInicio.format("DD/MM/yyyy"))&&void 0!==n?n:"-"),e.R7$(2),e.JRh(null!==(i=null==o.dataArquivamento?null:o.dataArquivamento.format("DD/MM/yyyy"))&&void 0!==i?i:"-"),e.R7$(4),e.SpI(" ",e.bMT(11,6,"Details")," "),e.R7$(4),e.SpI(" ",e.bMT(15,8,"ViewProtocoloAvaliacao")," "),e.R7$(2),e.Y8G("ngIf",t.permission.isGranted("Business.Personal.Colaborador.Supervisor")&&null==o.dataArquivamento)}}let Xe=(()=>{class a extends y{set aluno(n){this._aluno=n,this.refresh()}get aluno(){return this._aluno}constructor(n,i,o,t,s,r,m,f,v){super(n),this._alunoService=i,this._casoService=o,this._colaboradorService=t,this._protocoloAvaliacaoService=s,this._modalService=r,this._changeDetector=m,this._router=f,this._route=v,this.alunoChange=new e.bkB}ngOnInit(){}detailsProtocoloAvaliacao(n){this._router.navigate(["app","protocolos-avaliacao","details",n])}list(n,i,o){if(this.protocolosAvaliacao=[],this.aplicacoes=[],null==this._aluno||null==this._aluno?.casoId)return o(),void this.showPaging({items:[],totalCount:0},i);this._casoService.getAllAplicacoesProtocoloAvaliacao(this.aluno.casoId,void 0).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.aplicacoes=t,this.showPaging({items:t,totalCount:t.length},i),t.length>0&&this._protocoloAvaliacaoService.getAll(void 0,this._aluno.casoId,void 0,0,t.length).subscribe(s=>{this.protocolosAvaliacao=s.items,this._changeDetector.detectChanges()})})}getNomeProtocoloAvaliacao(n){return this.protocolosAvaliacao?.find(i=>i.id==n)?.nome??""}delete(n){abp.message.confirm('Arquivar o protocolo avaliacao "'+this.getNomeProtocoloAvaliacao(n.protocoloAvaliacaoId)+'" no caso do aluno '+this.aluno.nome+"?",void 0,i=>{if(i){let o=new c.GO({id:n.id});this._casoService.removeAplicacaoProtocoloAvaliacao(o).subscribe(t=>{this.aplicacoes[this.aplicacoes.findIndex(s=>s.id==t.id)]=t})}})}addProtocoloAvaliacao(){if(!this.permission.isGranted("Business.Personal.Colaborador.Supervisor"))return;let n;n=this._modalService.show(ut,{class:"modal-lg",initialState:{aluno:this.aluno,curAplicacoes:this.aplicacoes}}),n.content.onSave.subscribe(i=>{this.aplicacoes.push(i.apli),this.protocolosAvaliacao.every(o=>o.id!=i.prot.id)&&this.protocolosAvaliacao.push(i.prot),this.showPaging({items:this.aplicacoes,totalCount:this.aplicacoes.length},this.pageNumber)})}detailsAplicacaoProtocoloAvaliacao(n){this._router.navigate(["app","alunos","details",this.aluno.id,"protocolo-avaliacao",n.id])}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.iD),e.rXU(c.i9),e.rXU(c.WD),e.rXU(b.I8),e.rXU(e.gRc),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["protocolos-avaliacao-caso"]],inputs:{aluno:"aluno"},outputs:{alunoChange:"alunoChange"},features:[e.Vt3],decls:31,vars:26,consts:[["class","row m-0 mb-1 justify-content-end text-center",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"row","m-0","mb-1","justify-content-end","text-center"],[1,"btn","btn-primary",3,"click","disabled"],[1,"fa","fa-plus-square"],["type","button",1,"btn","btn-sm","bg-primary",3,"click"],[1,"fas","fa-eye"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-link"],["type","button","class","btn btn-sm bg-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-danger",3,"click"],[1,"fas","fa-x"]],template:function(i,o){1&i&&(e.DNE(0,pt,5,4,"div",0),e.j41(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"th"),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"th"),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"th",4),e.EFF(15),e.nI1(16,"localize"),e.k0s()()(),e.j41(17,"tbody"),e.DNE(18,gt,17,10,"tr",5),e.nI1(19,"paginate"),e.k0s()()(),e.j41(20,"div",6)(21,"div",7)(22,"button",8),e.bIt("click",function(){return o.refresh()}),e.nrm(23,"i",9),e.k0s()(),e.j41(24,"div",10)(25,"p",11),e.EFF(26),e.nI1(27,"localize"),e.k0s()(),e.j41(28,"div",12)(29,"div",13)(30,"abp-pagination-controls",14),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&i&&(e.Y8G("ngIf",o.permission.isGranted("Business.Personal.Colaborador.Supervisor")),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(7,8,"Nome")),e.R7$(3),e.JRh(e.bMT(10,10,"Data de In\xedcio")),e.R7$(3),e.JRh(e.bMT(13,12,"Data de Arquivamento")),e.R7$(3),e.JRh(e.bMT(16,14,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(19,16,o.aplicacoes,e.sMw(22,mt,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(8),e.SpI(" ",e.i5U(27,19,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();function ft(a,d){if(1&a&&(e.j41(0,"option",19),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",n.id),e.R7$(),e.JRh(n.nome)}}function bt(a,d){if(1&a&&(e.j41(0,"option",19),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",n.id),e.R7$(),e.JRh(n.nome)}}function _t(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",7)(1,"label",20),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",21)(5,"input",22,3),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.provedor.campoInfo,o)||(t.provedor.campoInfo=o),e.Njj(o)}),e.k0s(),e.nrm(8,"abp-validation-summary",13),e.k0s()()}if(2&a){const n=e.sdS(6),i=e.sdS(7),o=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,5,"Informa\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",o.saving),e.R50("ngModel",o.provedor.campoInfo),e.R7$(3),e.Y8G("control",n)("controlEl",i)}}let vt=(()=>{class a extends _.q{constructor(n,i,o,t,s){super(n),this._provedorSaudeService=i,this._tipoProvedorSaudeService=o,this._alunoService=t,this.bsModalRef=s,this.saving=!1,this.provedor=new c.ZL,this.tipos=[],this.subtipos=[],this.extraInfo=!1,this.onSave=new e.bkB}ngOnInit(){this.saving=!0,this.tipos=[],this._tipoProvedorSaudeService.getAll(void 0,void 0,void 0).subscribe(n=>{this.tipos=n.items,console.log(this.tipos),this.saving=!1})}get tipoProvedorId(){return this._tipoProvedorId?.toString()??""}set tipoProvedorId(n){this._tipoProvedorId=""!=n?Number(n):void 0,this.subtipoProvedorId="";let i=this.tipos.find(o=>o.id==this._tipoProvedorId);this.subtipos=i?.subtipos??[]}get subtipoProvedorId(){return this.provedor?.subtipoId?.toString()??""}set subtipoProvedorId(n){this.provedor.subtipoId=""!=n?Number(n):void 0;let i=this.subtipos.find(o=>o.id==this.provedor.subtipoId);this.extraInfo=null!=i&&i.usaCampoDadosAdicionais,this.provedor.campoInfo=this.extraInfo?"":void 0}save(){this.saving=!0,this.provedor.alunoId=this.aluno.id,this._provedorSaudeService.create(this.provedor).subscribe(n=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(n),this.saving=!1})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.nw),e.rXU(c.hw),e.rXU(c.pg),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],inputs:{aluno:"aluno"},outputs:{onSave:"onSave"},features:[e.Vt3],decls:31,vars:23,consts:[["selectTipoProvedorSaudeModal","ngForm"],["tipoModel","ngModel","tipoEl",""],["subtipoModel","ngModel","subtipoEl",""],["infoModel","ngModel","infoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","tipo",1,"col-md-3","col-form-label"],[1,"col-md-6"],["name","tipo","id","tipo","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],[1,"form-group","row","required",3,"hidden"],["for","subtipo",1,"col-md-3","col-form-label"],["name","subtipo","id","subtipo","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["class","form-group row required",4,"ngIf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"],["for","info",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","info","id","info","required","","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",4,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",5),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",6)(5,"div",7)(6,"label",8),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",9)(10,"select",10,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.tipoProvedorId,r)||(o.tipoProvedorId=r),e.Njj(r)}),e.j41(13,"option",11),e.EFF(14,"Selecione o tipo de provedor..."),e.k0s(),e.DNE(15,ft,2,2,"option",12),e.k0s(),e.nrm(16,"abp-validation-summary",13),e.k0s()(),e.j41(17,"div",14)(18,"label",15),e.EFF(19),e.nI1(20,"localize"),e.k0s(),e.j41(21,"div",9)(22,"select",16,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.subtipoProvedorId,r)||(o.subtipoProvedorId=r),e.Njj(r)}),e.j41(25,"option",11),e.EFF(26,"Selecione o subtipo de provedor..."),e.k0s(),e.DNE(27,bt,2,2,"option",12),e.k0s(),e.nrm(28,"abp-validation-summary",13),e.k0s()(),e.DNE(29,_t,9,7,"div",17),e.k0s(),e.j41(30,"abp-modal-footer",18),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1),s=e.sdS(11),r=e.sdS(12),m=e.sdS(23),f=e.sdS(24);e.R7$(2),e.Y8G("title",e.bMT(3,17,"SelectTipoProvedorSaude")),e.R7$(5),e.SpI(" ",e.bMT(8,19,"Tipo de Provedor de Sa\xfade")," "),e.R7$(3),e.Y8G("disabled",o.saving),e.R50("ngModel",o.tipoProvedorId),e.R7$(5),e.Y8G("ngForOf",o.tipos),e.R7$(),e.Y8G("control",s)("controlEl",r),e.R7$(),e.Y8G("hidden",""==o.tipoProvedorId),e.R7$(2),e.SpI(" ",e.bMT(20,21,"Subtipo de Provedor de Sa\xfade")," "),e.R7$(3),e.Y8G("disabled",o.saving||""==o.tipoProvedorId),e.R50("ngModel",o.subtipoProvedorId),e.R7$(5),e.Y8G("ngForOf",o.subtipos),e.R7$(),e.Y8G("control",m)("controlEl",f),e.R7$(),e.Y8G("ngIf",o.extraInfo),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[p.Sq,p.bT,l.qT,l.xH,l.y7,l.me,l.wz,l.BC,l.cb,l.YS,l.tU,l.vS,l.cV,G.e,k.x,j.z,h.S],encapsulation:2})}return a})();const Ct=()=>[],It=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function Ft(a,d){if(1&a){const n=e.RV6();e.j41(0,"button",16),e.bIt("click",function(){e.eBV(n);const o=e.XpG().$implicit,t=e.XpG();return e.Njj(t.delete(o))}),e.nrm(1,"i",17),e.EFF(2),e.nI1(3,"localize"),e.k0s()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Delete")," "))}function kt(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.DNE(8,Ft,4,3,"button",15),e.k0s()()),2&a){let n,i,o;const t=d.$implicit,s=e.XpG();e.R7$(2),e.JRh(null!==(n=null==(n=s.getTipo(null==(n=s.getSubtipo(t.subtipoId))?null:n.tipoId))?null:n.nome)&&void 0!==n?n:"-"),e.R7$(2),e.JRh(null!==(i=null==(i=s.getSubtipo(t.subtipoId))?null:i.nome)&&void 0!==i?i:"-"),e.R7$(2),e.JRh(null!==(o=null==t?null:t.campoInfo)&&void 0!==o?o:"-"),e.R7$(2),e.Y8G("ngIf",s.permission.isGranted("Business.Admin.People"))}}function jt(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",18)(1,"a",19),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.addProvedor())}),e.nrm(2,"i",20),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"AddProvedor")," "))}let qe=(()=>{class a extends y{set aluno(n){this._aluno=n,this.refresh()}get aluno(){return this._aluno}constructor(n,i,o,t,s,r,m){super(n),this._alunoService=i,this._provedorSaudeService=o,this._tipoProvedorSaudeService=t,this._modalService=s,this._router=r,this._route=m,this.alunoChange=new e.bkB}ngOnInit(){this._tipoProvedorSaudeService.getAll(void 0,void 0,void 0).subscribe(n=>this.tipos=n.items),this.refresh()}list(n,i,o){this.isTableLoading=!0;var t={next:s=>{this.provedores=s.items,this.showPaging(s,i),this.isTableLoading=!1},error:()=>{this.showPaging({items:[],totalCount:0},i),this.isTableLoading=!1}};if(null==this.aluno?.id)return t.error(),void o();this._provedorSaudeService.getAll(this.aluno.id,void 0,void 0).pipe((0,A.j)(()=>{o()})).subscribe(t)}getSubtipo(n){return this.tipos?.flatMap(i=>i.subtipos)?.find(i=>i.id==n)}getTipo(n){return this.tipos?.find(i=>i.id==n)}delete(n){let i=this.getSubtipo(n.subtipoId),o=this.getTipo(i.tipoId);abp.message.confirm('Remover o provedor de sa\xfade "'+o.nome+" ("+i.nome+')" do aluno '+this.aluno.nome+"?",void 0,t=>{t&&this._provedorSaudeService.delete(n.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}addProvedor(){let n;n=this._modalService.show(vt,{class:"modal-lg",initialState:{aluno:this.aluno}}),n.content.onSave.subscribe(i=>{this.aluno=i,this.alunoChange.emit(i)})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.nw),e.rXU(c.hw),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["provedores-saude-caso"]],inputs:{aluno:"aluno"},outputs:{alunoChange:"alunoChange"},features:[e.Vt3],decls:29,vars:27,consts:[[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","30%"],[2,"width","25%"],[2,"width","15%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],["class","row justify-content-center text-center",4,"ngIf"],["type","button","class","btn btn-sm bg-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-danger",3,"click"],[1,"fas","fa-x"],[1,"row","justify-content-center","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"]],template:function(i,o){if(1&i&&(e.j41(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th",3),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"th",4),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"th",3),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"th",5),e.EFF(14),e.nI1(15,"localize"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,kt,9,4,"tr",6),e.nI1(18,"paginate"),e.k0s()()(),e.j41(19,"div",7),e.nrm(20,"div",8),e.j41(21,"div",9)(22,"p",10),e.EFF(23),e.nI1(24,"localize"),e.k0s()(),e.j41(25,"div",11)(26,"div",12)(27,"abp-pagination-controls",13),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()(),e.DNE(28,jt,5,3,"div",14)),2&i){let t;e.R7$(),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(6,8,"Tipo")),e.R7$(3),e.JRh(e.bMT(9,10,"Subtipo")),e.R7$(3),e.JRh(e.bMT(12,12,"Info")),e.R7$(3),e.JRh(e.bMT(15,14,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(18,16,null!==(t=o.provedores)&&void 0!==t?t:e.lJ4(22,Ct),e.sMw(23,It,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(6),e.SpI(" ",e.i5U(24,19,"TotalRecordsCount",o.totalItems)," "),e.R7$(5),e.Y8G("ngIf",o.permission.isGranted("Business.Admin.People"))}},dependencies:[p.Sq,p.bT,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const Rt=()=>[];function St(a,d){if(1&a&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.JRh(n.nome)}}function Mt(a,d){if(1&a&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.JRh(n.nome)}}let Et=(()=>{class a extends _.q{constructor(n,i,o,t,s){super(n),this._protocoloIntervencaoService=i,this._alunoService=o,this._casoService=t,this.bsModalRef=s,this.loading=!1,this.saving=!1,this.protocolosIntervencao=[],this.onSave=new e.bkB}ngOnInit(){this.loading=!0,this.protocolosIntervencao=[],this._protocoloIntervencaoService.getAll(void 0,void 0).subscribe(n=>{this.protocolosIntervencao=n.items,this.loading=!1})}get protocoloIntervencaoIdx(){return this._protocoloIntervencaoIdx?.toString()??""}set protocoloIntervencaoIdx(n){let i=this._protocoloIntervencaoIdx;this._protocoloIntervencaoIdx=""!=n?Number(n):void 0,i!=this._protocoloIntervencaoIdx&&(this._versaoIdx=void 0,this.updateVersoes())}get protocoloIntervencaoSelected(){if(null!=this._protocoloIntervencaoIdx)return this.protocolosIntervencao[this._protocoloIntervencaoIdx]}updateVersoes(){null!=this._protocoloIntervencaoIdx?(this.loading=!0,this.versoes=[],this._protocoloIntervencaoService.getAllVersoes(this.protocoloIntervencaoSelected.id,void 0,void 0,void 0).subscribe(n=>{this.versoes=n.items,this.loading=!1})):this.versoes=void 0}get versaoIdx(){return this._versaoIdx?.toString()??""}set versaoIdx(n){this._versaoIdx=""!=n?Number(n):void 0,this.updateVersoes()}get versaoSelected(){if(null!=this._versaoIdx)return this.versoes[this._versaoIdx]}save(){this.saving=!0;let n=new c.QF({casoId:this.aluno.casoId,protocoloIntervencaoId:this.versaoSelected.id});this._casoService.createAplicacaoProtocoloIntervencao(n).subscribe(i=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(i),this.saving=!1})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(c.pg),e.rXU(c.iD),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],inputs:{aluno:"aluno"},outputs:{onSave:"onSave"},features:[e.Vt3],decls:24,vars:13,consts:[["selectProtocoloIntervencaoModal","ngForm"],["protocoloIntervencaoModel","ngModel","protocoloIntervencaoEl",""],["versaoModel","ngModel","versaoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row"],["for","protocoloIntervencao",1,"col-md-3","col-form-label"],[1,"col-md-6"],["name","protocoloIntervencao","id","protocoloIntervencao","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","row",3,"hidden"],["for","versao",1,"col-md-3","col-form-label"],["name","versao","id","versao","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",4),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",5)(5,"div",6)(6,"label",7),e.EFF(7," Protocolo de Interven\xe7\xe3o "),e.k0s(),e.j41(8,"div",8)(9,"select",9,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.protocoloIntervencaoIdx,r)||(o.protocoloIntervencaoIdx=r),e.Njj(r)}),e.nrm(12,"option",10),e.DNE(13,St,2,2,"option",11),e.k0s()()(),e.j41(14,"div",12)(15,"label",13),e.EFF(16," Vers\xe3o "),e.k0s(),e.j41(17,"div",8)(18,"select",14,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.versaoIdx,r)||(o.versaoIdx=r),e.Njj(r)}),e.nrm(21,"option",10),e.DNE(22,Mt,2,2,"option",11),e.k0s()()()(),e.j41(23,"abp-modal-footer",15),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){let t;const s=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,10,"SelectProtocoloIntervencao")),e.R7$(7),e.Y8G("disabled",o.saving||o.loading),e.R50("ngModel",o.protocoloIntervencaoIdx),e.R7$(4),e.Y8G("ngForOf",o.protocolosIntervencao),e.R7$(),e.Y8G("hidden",null==o.versoes),e.R7$(4),e.Y8G("disabled",o.saving||o.loading),e.R50("ngModel",o.versaoIdx),e.R7$(4),e.Y8G("ngForOf",null!==(t=o.versoes)&&void 0!==t?t:e.lJ4(12,Rt)),e.R7$(),e.Y8G("cancelDisabled",o.saving||o.loading)("saveDisabled",!s.form.valid||o.saving||o.loading)}},dependencies:[p.Sq,l.qT,l.xH,l.y7,l.wz,l.BC,l.cb,l.YS,l.vS,l.cV,k.x,j.z,h.S],encapsulation:2})}return a})();const Tt=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function Dt(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",15)(1,"a",16),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.addProtocoloIntervencao())}),e.nrm(2,"i",17),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"AddProtocoloIntervencao")," "))}function At(a,d){if(1&a){const n=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(n);const o=e.XpG().$implicit,t=e.XpG();return e.Njj(t.delete(o))}),e.nrm(1,"i",24),e.EFF(2),e.nI1(3,"localize"),e.k0s()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Archive")," "))}function yt(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"button",18),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.detailsAplicacaoProtocoloIntervencao(o.id))}),e.nrm(11,"i",19),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"button",20),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.detailsProtocoloIntervencao(o.modeloId))}),e.nrm(15,"i",21),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.DNE(18,At,4,3,"button",22),e.k0s()()}if(2&a){let n,i;const o=d.$implicit,t=e.XpG();e.R7$(2),e.JRh(t.getNomeProtocoloIntervencao(o.modeloId)),e.R7$(2),e.JRh(t.getNomeVersaoProtocoloIntervencao(o.modeloId)),e.R7$(2),e.JRh(null!==(n=null==o.dataInicio?null:o.dataInicio.format("DD/MM/yyyy"))&&void 0!==n?n:"-"),e.R7$(2),e.JRh(null!==(i=null==o.dataArquivamento?null:o.dataArquivamento.format("DD/MM/yyyy"))&&void 0!==i?i:"-"),e.R7$(4),e.SpI(" ",e.bMT(13,7,"Details")," "),e.R7$(4),e.SpI(" ",e.bMT(17,9,"ViewProtocoloIntervencao")," "),e.R7$(2),e.Y8G("ngIf",t.permission.isGranted("Business.Personal.Colaborador.Supervisor")&&null==o.dataArquivamento)}}let He=(()=>{class a extends y{set aluno(n){this._aluno=n,this.refresh()}get aluno(){return this._aluno}constructor(n,i,o,t,s,r,m,f){super(n),this._alunoService=i,this._casoService=o,this._colaboradorService=t,this._protocoloIntervencaoService=s,this._modalService=r,this._router=m,this._route=f,this.alunoChange=new e.bkB}ngOnInit(){}detailsProtocoloIntervencao(n){this._router.navigate(["app","protocolos-intervencao","versoes","details",n])}list(n,i,o){if(this.protocolosIntervencao=[],this.aplicacoes=[],null==this._aluno||null==this._aluno?.casoId)return o(),void this.showPaging({items:[],totalCount:0},i);this._protocoloIntervencaoService.getAllVersoes(void 0,this._aluno.casoId,void 0,void 0).subscribe(t=>{this.protocolosIntervencao=t.items}),this._casoService.getAllAplicacoesProtocoloIntervencao(this.aluno.casoId,void 0).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.aplicacoes=t,this.showPaging({items:t,totalCount:t.length},i)})}getNomeProtocoloIntervencao(n){return this.protocolosIntervencao?.find(i=>i.id==n)?.protocoloIntervencaoNome??n.toString()}getNomeVersaoProtocoloIntervencao(n){return this.protocolosIntervencao?.find(i=>i.id==n)?.nome??n.toString()}delete(n){abp.message.confirm('Arquivar o protocolo "'+this.getNomeProtocoloIntervencao(n.modeloId)+"("+this.getNomeVersaoProtocoloIntervencao(n.modeloId)+')" no caso do aluno '+this.aluno.nome+"?",void 0,i=>{if(i){let o=new c.GO({id:n.id});this._casoService.removeAplicacaoProtocoloIntervencao(o).subscribe(t=>{this.aplicacoes[this.aplicacoes.findIndex(s=>s.id==t.id)]=t})}})}addProtocoloIntervencao(){let n;n=this._modalService.show(Et,{class:"modal-lg",initialState:{aluno:this.aluno}}),n.content.onSave.subscribe(i=>{this.refresh()})}detailsAplicacaoProtocoloIntervencao(n){this._router.navigate(["app","alunos","details",this.aluno.id,"protocolo-intervencao",n])}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.iD),e.rXU(c.i9),e.rXU(c.J3),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["protocolos-intervencao-caso"]],inputs:{aluno:"aluno"},outputs:{alunoChange:"alunoChange"},features:[e.Vt3],decls:34,vars:29,consts:[["class","row m-0 mb-1 justify-content-end text-center",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"row","m-0","mb-1","justify-content-end","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],["type","button",1,"btn","btn-sm","bg-primary",3,"click"],[1,"fas","fa-eye"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-link"],["type","button","class","btn btn-sm bg-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-danger",3,"click"],[1,"fas","fa-x"]],template:function(i,o){1&i&&(e.DNE(0,Dt,5,3,"div",0),e.j41(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"th"),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"th"),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"th"),e.EFF(15),e.nI1(16,"localize"),e.k0s(),e.j41(17,"th",4),e.EFF(18),e.nI1(19,"localize"),e.k0s()()(),e.j41(20,"tbody"),e.DNE(21,yt,19,11,"tr",5),e.nI1(22,"paginate"),e.k0s()()(),e.j41(23,"div",6)(24,"div",7)(25,"button",8),e.bIt("click",function(){return o.refresh()}),e.nrm(26,"i",9),e.k0s()(),e.j41(27,"div",10)(28,"p",11),e.EFF(29),e.nI1(30,"localize"),e.k0s()(),e.j41(31,"div",12)(32,"div",13)(33,"abp-pagination-controls",14),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&i&&(e.Y8G("ngIf",o.permission.isGranted("Business.Personal.Colaborador.Supervisor")),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(7,9,"Protocolo de Interven\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(10,11,"Vers\xe3o")),e.R7$(3),e.JRh(e.bMT(13,13,"Data de In\xedcio")),e.R7$(3),e.JRh(e.bMT(16,15,"Data de Arquivamento")),e.R7$(3),e.JRh(e.bMT(19,17,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(22,19,o.aplicacoes,e.sMw(25,Tt,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(8),e.SpI(" ",e.i5U(30,22,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const Gt=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function $t(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"button",22),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.select(o))}),e.nrm(9,"i",23),e.EFF(10),e.nI1(11,"localize"),e.k0s()()()}if(2&a){let n,i;const o=d.$implicit,t=e.XpG();e.R7$(2),e.JRh(t.getNomeColaborador(o.colaboradorId)),e.R7$(2),e.JRh(null!==(n=null==(n=t.getColaborador(o.colaboradorId))?null:n.genero_Nome)&&void 0!==n?n:"-"),e.R7$(2),e.JRh(null!==(i=null==(i=t.getColaborador(o.colaboradorId))||null==i.dataNascimento?null:i.dataNascimento.format("DD/MM/YYYY"))&&void 0!==i?i:"-"),e.R7$(4),e.SpI(" ",e.bMT(11,4,t.buttonString(o))," ")}}let Pt=(()=>{class a extends y{get funcaoOrg(){return this.funcoesOrg.find(n=>n.id==this.funcId)}constructor(n,i,o,t,s,r){super(n),this.bsModalRef=i,this._alunoService=o,this._colaboradorService=t,this._casoService=s,this._funcaoOrgService=r,this.funcId=0,this.saving=!1,this.colaboradores=[],this.funcoesColaborador=[],this.options=[],this.staff=[],this.currentStaff=[],this.currentFuncoesColaborador=[],this.onSave=new e.bkB}ngOnInit(){this.currentStaff=this.staff?.filter(n=>null==n.dataFim)??[],null==this.funcoesOrg?this._funcaoOrgService.getAll(void 0,void 0,void 0).subscribe(n=>{this.funcoesOrg=n.items,this.refresh()}):this.refresh()}delete(n){}list(n,i,o){this.colaboradorSelected=void 0,this.isTableLoading=!0;var t=void 0,s=this.funcaoOrg;!this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico")&&!this.permission.isGranted("Business.Admin.People.Assignment")&&(t=this.appSession?.user?.colaborador?.id,null==t&&(this.options=[],this.showPaging({items:this.options,totalCount:this.options.length},i))),this._colaboradorService.getAll(void 0,t,[this.funcId],!0,void 0,void 0,void 0,void 0,void 0).subscribe(r=>{this.colaboradores=r.items}),this._colaboradorService.getAllColabFuncoes(void 0,void 0,t,[this.funcId],!0,void 0,void 0,void 0,void 0,void 0).pipe((0,A.j)(()=>{o()})).subscribe(r=>{this.funcoesColaborador=r.items,this.options=this.funcoesColaborador.filter(m=>this.currentStaff.every(f=>f.colabFuncaoId!=m.id)),null!=s.funcaoGestoraDiretaId&&(this.options=this.options.filter(m=>this.currentStaff.some(f=>f.colabFuncaoId==m.gestorId))),this.showPaging({items:this.options,totalCount:this.options.length},i)})}getColaborador(n){return this.colaboradores?.find(i=>i.id==n)}getNomeColaborador(n){return this.getColaborador(n)?.nome}selectionToString(){if(null!=this.colaboradorSelected){let n=this.getNomeColaborador(this.colaboradorSelected.colaboradorId)?.split(" ")??[];return 0==n.length?"":n[0]+" "+n.reverse()[0]}return"Nenhum"}select(n){this.colaboradorSelected=n}save(){this.saving=!0;let n=new c.Mb({casoId:this.aluno.casoId,colabFuncaoId:this.colaboradorSelected.id});this._casoService.createAtuacao(n).subscribe(i=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit({atuacao:i,cf:this.colaboradorSelected,colaborador:this.colaboradores.find(o=>o.id==this.colaboradorSelected.colaboradorId)}),this.saving=!1})}buttonString(n){return null==this.colaboradorSelected||n.id!=this.colaboradorSelected.id?"Select":"Deselect"}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(b.Y$),e.rXU(c.pg),e.rXU(c.i9),e.rXU(c.iD),e.rXU(c.AM))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:44,vars:37,consts:[["createAtuacaoModal","ngForm"],["colaboradorModel","ngModel","colaboradorEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","colaborador",1,"col-md-6","col-form-label",2,"font-weight","normal"],["type","hidden","name","colaborador","id","colaborador","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-6"],[1,"m-0","py-2"],[3,"control","controlEl"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[3,"onCancelClick","cancelDisabled","saveDisabled"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"label",6),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"input",7,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.colaboradorSelected,r)||(o.colaboradorSelected=r),e.Njj(r)}),e.k0s(),e.j41(12,"div",8)(13,"label",9),e.EFF(14),e.k0s(),e.nrm(15,"abp-validation-summary",10),e.k0s()(),e.j41(16,"div",11)(17,"table",12)(18,"thead",13)(19,"tr")(20,"th"),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"th"),e.EFF(24),e.nI1(25,"localize"),e.k0s(),e.j41(26,"th"),e.EFF(27),e.nI1(28,"localize"),e.k0s(),e.j41(29,"th"),e.EFF(30),e.nI1(31,"localize"),e.k0s()()(),e.j41(32,"tbody"),e.DNE(33,$t,12,6,"tr",14),e.nI1(34,"paginate"),e.k0s()()(),e.j41(35,"div",15)(36,"div",16)(37,"p",17),e.EFF(38),e.nI1(39,"localize"),e.k0s()(),e.j41(40,"div",18)(41,"div",19)(42,"abp-pagination-controls",20),e.bIt("pageChange",function(r){return e.eBV(t),e.Njj(o.getDataPage(r))}),e.k0s()()()()(),e.j41(43,"abp-modal-footer",21),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1),s=e.sdS(10),r=e.sdS(11);e.R7$(2),e.Y8G("title",e.bMT(3,15,"Add "+o.funcaoOrg.nome)),e.R7$(5),e.SpI(" ",e.bMT(8,17,"Sele\xe7\xe3o atual"),": "),e.R7$(2),e.R50("ngModel",o.colaboradorSelected),e.R7$(5),e.JRh(o.selectionToString()),e.R7$(),e.Y8G("control",s)("controlEl",r),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(22,19,"Nome")),e.R7$(3),e.JRh(e.bMT(25,21,"G\xeanero")),e.R7$(3),e.JRh(e.bMT(28,23,"Data de Nascimento")),e.R7$(3),e.JRh(e.bMT(31,25,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(34,27,o.options,e.sMw(33,Gt,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(5),e.SpI(" ",e.i5U(39,30,"TotalRecordsCount",o.totalItems)," "),e.R7$(5),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.me,l.BC,l.cb,l.YS,l.vS,l.cV,D,G.e,k.x,j.z,E,h.S,T.kf],encapsulation:2})}return a})();const wt=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function Nt(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",19)(1,"button",20),e.bIt("click",function(){e.eBV(n);const o=e.XpG().$implicit,t=e.XpG();return e.Njj(t.add(o))}),e.nrm(2,"i",21),e.k0s()()}}function Vt(a,d){if(1&a){const n=e.RV6();e.j41(0,"button",25),e.bIt("click",function(){e.eBV(n);const o=e.XpG().$implicit,t=e.XpG(2);return e.Njj(t.deleteColaborador(o))}),e.nrm(1,"i",26),e.k0s()}if(2&a){const n=e.XpG().$implicit;e.Y8G("hidden",null!=n.dataFim)}}function Bt(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"button",22),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG(2);return e.Njj(t.detailsColaborador(o))}),e.nrm(9,"i",23),e.k0s(),e.DNE(10,Vt,2,1,"button",24),e.k0s()()}if(2&a){let n,i,o;const t=d.$implicit,s=e.XpG().$implicit,r=e.XpG();e.R7$(2),e.JRh(null==(n=r.getColaborador(null==(n=r.getFuncaoColaborador(t.colabFuncaoId))?null:n.colaboradorId))?null:n.nome),e.R7$(2),e.JRh(null!==(i=null==t.dataInicio?null:t.dataInicio.format("DD/MM/YYYY"))&&void 0!==i?i:"-"),e.R7$(2),e.JRh(null!==(o=null==t.dataFim?null:t.dataFim.format("DD/MM/YYYY"))&&void 0!==o?o:"-"),e.R7$(4),e.Y8G("ngIf",r.hasRmvPermission(s,t))}}function zt(a,d){1&a&&e.nrm(0,"hr",27)}function Yt(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"label",4),e.EFF(4),e.nI1(5,"localize"),e.k0s(),e.DNE(6,Nt,3,0,"div",5),e.k0s(),e.j41(7,"div",6)(8,"table",7)(9,"thead",8)(10,"tr")(11,"th"),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"th",9),e.EFF(15),e.nI1(16,"localize"),e.k0s(),e.j41(17,"th",9),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.j41(20,"th",9),e.EFF(21),e.nI1(22,"localize"),e.k0s()()(),e.j41(23,"tbody"),e.DNE(24,Bt,11,4,"tr",10),e.nI1(25,"paginate"),e.k0s()()(),e.j41(26,"div",11)(27,"div",12)(28,"button",13),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.switchActiveOnly(o))}),e.EFF(29),e.nI1(30,"localize"),e.k0s()(),e.j41(31,"div",14)(32,"p",15),e.EFF(33),e.nI1(34,"localize"),e.k0s()(),e.j41(35,"div",12)(36,"div",16)(37,"abp-pagination-controls",17),e.bIt("pageChange",function(o){const t=e.eBV(n).$implicit,s=e.XpG();return e.Njj(s.getDataPage(t,o))}),e.k0s()()()(),e.DNE(38,zt,1,0,"hr",18),e.k0s()()}if(2&a){const n=d.$implicit,i=d.index,o=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,11,o.tableNames[n])," "),e.R7$(2),e.Y8G("ngIf",o.hasAddPermission(n)),e.R7$(2),e.Y8G("busy",o.isTableLoading[n]),e.R7$(4),e.JRh(e.bMT(13,13,"Colaborador")),e.R7$(3),e.JRh(e.bMT(16,15,"DataInicio")),e.R7$(3),e.JRh(e.bMT(19,17,"DataFim")),e.R7$(3),e.JRh(e.bMT(22,19,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(25,21,o.items[n],e.sMw(29,wt,o.pageSize,o.pageNumber[n],o.totalItems[n]))),e.R7$(5),e.SpI(" ",o.showActiveOnly[n]?"MostrarHistorico":e.bMT(30,24,"OcultarHistorico")," "),e.R7$(4),e.SpI(" ",e.i5U(34,26,"TotalRecordsCount",o.totalItems[n])," "),e.R7$(5),e.Y8G("ngIf",i!=o.tables.length-1)}}let xe=(()=>{class a extends _.q{get aluno(){return this._aluno}set aluno(n){this._aluno=n}constructor(n,i,o,t,s,r,m,f){super(n),this._alunoService=i,this._casoService=o,this._colaboradorService=t,this._funcaoOrgService=s,this._modalService=r,this._router=m,this._route=f,this.pageSize=10,this.tables=[],this.tableNames=new Map,this.isTableLoading=new Map,this.pageNumber=new Map,this.totalPages=new Map,this.totalItems=new Map,this.showActiveOnly=new Map,this.items=new Map,this.alunoChange=new e.bkB,this.loadingFuncoes=!1,this.loadingStaff=!1}ngOnInit(){this.loadingFuncoes=!0,this._funcaoOrgService.getAll(void 0,void 0,void 0).subscribe(n=>{this.tables=[],this.funcoesOrg=n.items.map(i=>i.nome).sort().map(i=>n.items.find(o=>o.nome==i)).reverse(),this.funcoesOrg.forEach(i=>{"Caso a Caso"==i.acessoCasoNome&&(this.tables.push(i.id),this.tableNames[i.id]=i.nome,this.isTableLoading[i.id]=!1,this.showActiveOnly[i.id]=!0,this.items[i.id]=[],this.pageNumber[i.id]=1,this.totalItems[i.id]=0,this.totalPages[i.id]=1)}),this.loadingFuncoes=!1})}set colaboradores(n){this._colaboradores=n,this.reset()}get colaboradores(){return this._colaboradores}get funcoesColaborador(){return this._funcoesColaborador}set funcoesColaborador(n){this._funcoesColaborador=n,this.reset()}get staff(){return this._staff}set staff(n){this._staff=n,this.reset()}getFuncaoColaborador(n){return this._funcoesColaborador?.find(i=>i.id==n)}getColaborador(n){return this.colaboradores?.find(i=>i.id==n)}reset(){this.tables.forEach(n=>{this.isTableLoading[n]=!0,this.items[n]=[]}),this.staff?.forEach(n=>{let i=this.funcoesColaborador?.find(o=>o.id==n.colabFuncaoId)?.funcaoOrgId;this.tables.includes(i)&&(!this.showActiveOnly[i]||null==n.dataFim)&&this.items[i].push(n)}),this.tables.forEach(n=>{this.pageNumber[n]=1,this.totalItems[n]=this.items[n].length,this.totalPages[n]=(this.items[n].length-this.items[n].length%this.pageSize)/this.pageSize+1,this.isTableLoading[n]=!1})}detailsColaborador(n){var i=this.funcoesColaborador.find(o=>o.id==n.colabFuncaoId);this._router.navigate(["app","colaboradores","details",i.colaboradorId])}getDataPage(n,i){this.isTableLoading[n]=!0,this.totalItems[n]=this.items[n].length,this.totalPages[n]=(this.totalItems[n]-this.totalItems[n]%this.pageSize)/this.pageSize+1,this.pageNumber[n]=i<this.totalPages[n]?i:1,this.isTableLoading[n]=!1}getFuncao(n){return this.funcoesOrg.find(i=>i.id==n)}hasAddPermission(n){let i=this.getFuncao(n);return!(!this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico")&&!this.permission.isGranted("Business.Admin.People.Assignment"))||null!=i.funcaoGestoraDiretaId&&this.permission.isGranted("Business.Personal.Colaborador.Supervisor.Gestor")}hasRmvPermission(n,i){if(this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico")||this.permission.isGranted("Business.Admin.People.Assignment"))return!0;let o=this.getFuncaoColaborador(i.colabFuncaoId);if(null!=this.getFuncao(o.funcaoOrgId).funcaoGestoraDiretaId&&this.permission.isGranted("Business.Personal.Colaborador.Supervisor.Gestor")){let s=this.getFuncaoColaborador(o.gestorId);return this.appSession?.user?.colaborador?.id==s.colaboradorId}}add(n){let i;i=this._modalService.show(Pt,{class:"modal-lg",initialState:{aluno:this.aluno,funcoesOrg:this.funcoesOrg,currentFuncoesColaborador:this.funcoesColaborador,staff:this.staff,funcId:n}}),i.content.onSave.subscribe(o=>{this.staff.push(o.atuacao),this.funcoesColaborador.every(t=>t.id!=o.cf.id)&&this.funcoesColaborador.push(o.cf),this.colaboradores.every(t=>t.id!=o.colaborador.id)&&this.colaboradores.push(o.colaborador),this.reset()})}deleteColaborador(n){if(null!=n.dataFim)return;let i=new c.GO({id:n.id});this._casoService.removeAtuacao(i).subscribe(o=>{this.notify.info(this.l("SavedSuccessfully")),this.staff[this.staff.findIndex(t=>t.id==n.id)]=o,this.reset()})}switchActiveOnly(n){this.showActiveOnly[n]=!this.showActiveOnly[n],this.reset()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.iD),e.rXU(c.i9),e.rXU(c.AM),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["staff-caso"]],inputs:{aluno:"aluno",colaboradores:"colaboradores",funcoesColaborador:"funcoesColaborador",staff:"staff"},outputs:{alunoChange:"alunoChange"},features:[e.Vt3],decls:1,vars:1,consts:[["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col","pl-4","pr-3","m-0"],[1,"row","mx-0","align-content-center","justify-content-center"],[1,"col","m-0","p-0","align-content-center"],["class","col-0 m-0 p-0",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","20%"],[4,"ngFor","ngForOf"],[1,"row","m-0","mb-2","px-2","py-0","text-center"],[1,"col"],["type","button",1,"btn","bg-secondary",3,"click"],[1,"col","text-center"],[1,"mb-0","my-2"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],["class","mt-4 mb-2",4,"ngIf"],[1,"col-0","m-0","p-0"],["type","button",1,"btn","bg-primary","m-1",3,"click"],[1,"fas","fa-plus"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-link"],["type","button","class","btn btn-sm bg-danger",3,"hidden","click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-danger",3,"click","hidden"],[1,"fas","fa-x"],[1,"mt-4","mb-2"]],template:function(i,o){1&i&&e.DNE(0,Yt,39,33,"div",0),2&i&&e.Y8G("ngForOf",o.tables)},dependencies:[p.Sq,p.bT,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const Oe=()=>[""];function Ut(a,d){if(1&a&&(e.j41(0,"tab",12),e.nI1(1,"localize"),e.nrm(2,"pessoa-account-details",18),e.k0s()),2&a){const n=e.XpG();e.Y8G("heading",e.bMT(1,3,"Conta")),e.R7$(2),e.Y8G("pessoa",n.pessoa)("createUserCallable",n.createUserCallable)}}let Xt=(()=>{class a extends W{initEmptyPessoa(){return new c.lG}constructor(n,i,o,t,s,r,m,f,v,C){super(n,m,f,v,C),this._alunoService=i,this._responsavelService=o,this._casoService=t,this._colaboradorService=s,this._funcaoService=r,this._paisService=m,this._modalService=f,this._router=v,this._route=C}getPessoa(){const i=Number(this._route.snapshot.paramMap.get("alunoId"));return this._alunoService.get(i)}getTipoPessoa(){return"Aluno"}ngOnInit(){this._funcaoService.getAll(void 0,void 0,void 0).subscribe(n=>{this.funcoes=n.items}),super.ngOnInit()}proccessDto(n){super.proccessDto(n),null!=this.pessoa?.casoId&&(this._casoService.getAllAtuacoes(this.pessoa.casoId,!0,void 0,void 0,void 0,void 0).subscribe(i=>{this.staff=i}),this._colaboradorService.getAllColabFuncoes(void 0,void 0,void 0,void 0,void 0,this.pessoa.casoId,!0,void 0,void 0,void 0).subscribe(i=>{this.funcoesColaborador=i.items}),this._colaboradorService.getAll(void 0,void 0,void 0,void 0,this.pessoa.casoId,!0,void 0,void 0,void 0).subscribe(i=>{this.colaboradores=i.items}))}createUser(n){return this._alunoService.createUserParaPessoa(n)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.o5),e.rXU(c.iD),e.rXU(c.i9),e.rXU(c.AM),e.rXU(c.B5),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:43,vars:60,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","mb-2","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[3,"pessoaChange","onClickEdit","pessoa","cidade","uf","pais"],[3,"alunoChange","aluno"],[3,"aluno","staff","funcoesColaborador","colaboradores"],[3,"aluno","staff","funcoesColaborador","colaboradores","funcoes"],["class","p-3","style","\n                    border: 1px solid #dee2e6; \n                    border-top: 0px; \n                    border-bottom-left-radius: .25rem;\n                    border-bottom-right-radius: .25rem; \n                    background-color: white;",3,"heading",4,"ngIf"],[3,"pessoa","createUserCallable"]],template:function(i,o){if(1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes do Aluno "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"info-pessoal-details",13),e.mxI("pessoaChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.bIt("onClickEdit",function(){return o.editInfoPessoal()}),e.k0s()(),e.j41(18,"tab",12),e.nI1(19,"localize"),e.j41(20,"responsaveis-aluno",14),e.mxI("alunoChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.k0s()(),e.j41(21,"tab",12),e.nI1(22,"localize"),e.j41(23,"provedores-saude-caso",14),e.mxI("alunoChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.k0s()(),e.j41(24,"tab",12),e.nI1(25,"localize"),e.nrm(26,"staff-caso",15),e.k0s(),e.j41(27,"tab",12),e.nI1(28,"localize"),e.nrm(29,"anamneses-caso",16),e.k0s(),e.j41(30,"tab",12),e.nI1(31,"localize"),e.nrm(32,"supervisoes-caso",16),e.k0s(),e.j41(33,"tab",12),e.nI1(34,"localize"),e.nrm(35,"atendimentos-caso",16),e.k0s(),e.j41(36,"tab",12),e.nI1(37,"localize"),e.j41(38,"protocolos-avaliacao-caso",14),e.mxI("alunoChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.k0s()(),e.j41(39,"tab",12),e.nI1(40,"localize"),e.j41(41,"protocolos-intervencao-caso",14),e.mxI("alunoChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.k0s()(),e.DNE(42,Ut,3,5,"tab",17),e.k0s()()()()),2&i){let t;e.Y8G("@routerTransition",void 0),e.R7$(11),e.Lme(" ",(null!==(t=null==o.pessoa||null==o.pessoa.nome?null:o.pessoa.nome.split(" "))&&void 0!==t?t:e.lJ4(58,Oe))[0]," ",(null!==(t=null==o.pessoa||null==o.pessoa.nome||null==(t=o.pessoa.nome.split(" "))?null:t.reverse())&&void 0!==t?t:e.lJ4(59,Oe))[0]," "),e.R7$(4),e.Y8G("heading",e.bMT(16,40,"PersonalInfo")),e.R7$(2),e.R50("pessoa",o.pessoa),e.Y8G("cidade",o.cidade)("uf",o.uf)("pais",o.pais),e.R7$(),e.Y8G("heading",e.bMT(19,42,"Responsaveis")),e.R7$(2),e.R50("aluno",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(22,44,"ProvedoresSaude")),e.R7$(2),e.R50("aluno",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(25,46,"Staff")),e.R7$(2),e.Y8G("aluno",o.pessoa)("staff",o.staff)("funcoesColaborador",o.funcoesColaborador)("colaboradores",o.colaboradores),e.R7$(),e.Y8G("heading",e.bMT(28,48,"Anamnese")),e.R7$(2),e.Y8G("aluno",o.pessoa)("staff",o.staff)("funcoesColaborador",o.funcoesColaborador)("colaboradores",o.colaboradores)("funcoes",o.funcoes),e.R7$(),e.Y8G("heading",e.bMT(31,50,"Supervisoes")),e.R7$(2),e.Y8G("aluno",o.pessoa)("staff",o.staff)("funcoesColaborador",o.funcoesColaborador)("colaboradores",o.colaboradores)("funcoes",o.funcoes),e.R7$(),e.Y8G("heading",e.bMT(34,52,"Atendimentos")),e.R7$(2),e.Y8G("aluno",o.pessoa)("staff",o.staff)("funcoesColaborador",o.funcoesColaborador)("colaboradores",o.colaboradores)("funcoes",o.funcoes),e.R7$(),e.Y8G("heading",e.bMT(37,54,"ProtocolosAvaliacao")),e.R7$(2),e.R50("aluno",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(40,56,"ProtocolosIntervencao")),e.R7$(2),e.R50("aluno",o.pessoa),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Admin.People"))}},dependencies:[p.bT,F.V6,F.fw,J,se,Be,ze,Ue,dt,Xe,qe,He,xe,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const qt=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function Ht(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function xt(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"button",38),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.detailsResponsavel(o))}),e.nrm(11,"i",39),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){let n,i,o;const t=d.$implicit;e.R7$(2),e.JRh(t.nome),e.R7$(2),e.JRh(null!==(n=t.genero_Nome)&&void 0!==n?n:"-"),e.R7$(2),e.JRh(null!==(i=t.cpf)&&void 0!==i?i:"-"),e.R7$(2),e.JRh(null!==(o=null==t.dataNascimento?null:t.dataNascimento.format("DD/MM/yyyy"))&&void 0!==o?o:"-"),e.R7$(4),e.SpI(" ",e.bMT(13,5,"Details")," ")}}let Ot=(()=>{class a extends y{constructor(n,i,o,t,s){super(n),this._responsaveisService=i,this._modalService=o,this._router=t,this._route=s,this.responsaveis=[],this.keyword="",this.advancedFiltersVisible=!1}createResponsavel(){let n;n=this._modalService.show(Ve,{class:"modal-lg"}),n.content.onSave.subscribe(()=>{this.refresh()})}detailsResponsavel(n){this._router.navigate(["details",n.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.isActive=void 0,this.getDataPage(1)}list(n,i,o){n.keyword=this.keyword,this._responsaveisService.getAll(n.keyword,n.skipCount,n.maxResultCount).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.responsaveis=t.items,this.showPaging(t,i)})}delete(n){abp.message.confirm("O seguinte endere\xe7o ser\xe1 exclu\xeddo do banco",void 0,i=>{i&&this._responsaveisService.delete(n.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.o5),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:65,vars:44,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"]],template:function(i,o){1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createResponsavel()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,Ht,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th"),e.EFF(45),e.nI1(46,"localize"),e.k0s(),e.j41(47,"th",24),e.EFF(48),e.nI1(49,"localize"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,xt,14,7,"tr",25),e.nI1(52,"paginate"),e.k0s()()()(),e.j41(53,"div",26)(54,"div",2)(55,"div",27)(56,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(57,"i",29),e.k0s()(),e.j41(58,"div",30)(59,"p",31),e.EFF(60),e.nI1(61,"localize"),e.k0s()(),e.j41(62,"div",32)(63,"div",33)(64,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&i&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,18,"Responsaveis")),e.R7$(5),e.SpI(" ",e.bMT(12,20,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,22,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,24,"Nome")),e.R7$(3),e.JRh(e.bMT(40,26,"G\xeanero")),e.R7$(3),e.JRh(e.bMT(43,28,"CPF")),e.R7$(3),e.JRh(e.bMT(46,30,"Data de Nascimento")),e.R7$(3),e.JRh(e.bMT(49,32,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(52,34,o.responsaveis,e.sMw(40,qt,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(61,37,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();function Jt(a,d){if(1&a&&(e.j41(0,"option",12),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.Lme("",n.nome," - ",n.cpf,"")}}let Je=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._alunoService=i,this.bsModalRef=o,this.loading=!1,this.onSubmit=new e.bkB}ngOnInit(){this.loading=!0,this._alunoService.getAll(void 0,void 0,void 0).subscribe(n=>{this.alunos=n.items,this.loading=!1})}get selected(){return this._selected?.toString()??""}set selected(n){this._selected=null==n||""==n?void 0:Number(n)}submit(){this.onSubmit.emit(this.alunos[this._selected]),this.bsModalRef.hide()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:14,vars:8,consts:[["selectAlunoModal","ngForm"],["selectedModel","ngModel","selectedEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","text-center"],[1,"col-md-9"],["required","","id","selected","name","selected",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],[3,"onCancelClick","saveDisabled"],[3,"value"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.submit())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"div",6)(7,"select",7,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.selected,r)||(o.selected=r),e.Njj(r)}),e.nrm(10,"option",8),e.DNE(11,Jt,2,3,"option",9),e.k0s(),e.nrm(12,"abp-validation-summary",10),e.k0s()()(),e.j41(13,"abp-modal-footer",11),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1),s=e.sdS(8),r=e.sdS(9);e.R7$(2),e.Y8G("title",e.bMT(3,6,"SelectNewAluno")),e.R7$(5),e.R50("ngModel",o.selected),e.R7$(4),e.Y8G("ngForOf",o.alunos),e.R7$(),e.Y8G("control",s)("controlEl",r),e.R7$(),e.Y8G("saveDisabled",!t.form.valid||o.loading)}},dependencies:[p.Sq,l.qT,l.xH,l.y7,l.wz,l.BC,l.cb,l.YS,l.vS,l.cV,G.e,k.x,j.z,h.S],encapsulation:2})}return a})();const Lt=()=>[];function Zt(a,d){if(1&a){const n=e.RV6();e.qex(0),e.j41(1,"div",5)(2,"label",6),e.EFF(3),e.k0s(),e.j41(4,"div",7)(5,"a",2),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.detailsDependente(o))}),e.nrm(6,"i",8),e.k0s()()(),e.bVm()}if(2&a){const n=d.$implicit,i=e.XpG();e.R7$(3),e.SpI(" ",i.getDependenteNome(n)," ")}}let Le=(()=>{class a extends _.q{set responsavel(n){this._responsavel=n,this.refresh()}get responsavel(){return this._responsavel}constructor(n,i,o,t,s,r,m){super(n),this._responsavelService=i,this._alunoService=o,this._modalService=t,this._changeDetector=s,this._router=r,this._route=m,this.responsavelChange=new e.bkB}ngOnInit(){this.refresh()}refresh(){this.dependentes=[],this.responsavel?.dependentes?.forEach(n=>{this._alunoService.get(n.id).subscribe(i=>{this.dependentes.push(i)})})}getDependenteNome(n){return this.dependentes?.find(i=>i.id==n.id)?.nome??""}detailsDependente(n){this._router.navigate(this.appSession.user.aluno?.id==n.id?["app","personal"]:["app","alunos","details",n.id])}cadastrarDependente(){this._modalService.show(ae,{class:"modal-lg",initialState:{temResponsavelPredefinido:!0,responsavel:this.responsavel}}).content.onSave.subscribe(i=>{null!=i&&(this.responsavel.dependentes.push(new c.GO({id:i.id})),this.dependentes.push(i))})}addDependente(){this._modalService.show(Je,{class:"modal-lg"}).content.onSubmit.subscribe(i=>{this.responsavel.dependentes.push(new c.GO({id:i.id})),this._responsavelService.update(this.responsavel).subscribe(o=>{this.responsavel=o,this.responsavelChange.emit(o),this.dependentes.push(i)})})}podeAddDependentes(){return this.permission.isGranted("Business.Admin.People")}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.o5),e.rXU(c.pg),e.rXU(b.I8),e.rXU(e.gRc),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["dependentes-details"]],inputs:{responsavel:"responsavel"},outputs:{responsavelChange:"responsavelChange"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:12,vars:9,consts:[[1,"row","mb-2",3,"hidden"],[1,"col","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-0"],[1,"col-2"],[1,"fa","fa-link"]],template:function(i,o){if(1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"a",2),e.bIt("click",function(){return o.cadastrarDependente()}),e.nrm(3,"i",3),e.EFF(4),e.nI1(5,"localize"),e.k0s()(),e.j41(6,"div",1)(7,"a",2),e.bIt("click",function(){return o.addDependente()}),e.nrm(8,"i",3),e.EFF(9),e.nI1(10,"localize"),e.k0s()()(),e.DNE(11,Zt,7,1,"ng-container",4)),2&i){let t;e.Y8G("hidden",!o.podeAddDependentes()),e.R7$(4),e.SpI(" ",e.bMT(5,4,"CadastrarDependente")," "),e.R7$(5),e.SpI(" ",e.bMT(10,6,"AddDependente")," "),e.R7$(2),e.Y8G("ngForOf",null!==(t=null==o.responsavel?null:o.responsavel.dependentes)&&void 0!==t?t:e.lJ4(8,Lt))}},dependencies:[p.Sq,h.S],encapsulation:2})}return a})();const Ze=()=>[""];function Qt(a,d){if(1&a&&(e.j41(0,"tab",12),e.nI1(1,"localize"),e.nrm(2,"pessoa-account-details",16),e.k0s()),2&a){const n=e.XpG();e.Y8G("heading",e.bMT(1,3,"Conta")),e.R7$(2),e.Y8G("pessoa",n.pessoa)("createUserCallable",n.createUserCallable)}}let Wt=(()=>{class a extends W{initEmptyPessoa(){return new c.I4}constructor(n,i,o,t,s,r,m){super(n,t,s,r,m),this._responsavelService=i,this._alunoService=o,this._paisService=t,this._modalService=s,this._router=r,this._route=m}getPessoa(){const i=Number(this._route.snapshot.paramMap.get("responsavelId"));return this._responsavelService.get(i)}getTipoPessoa(){return"Responsavel"}proccessDto(n){super.proccessDto(n);let i=[];this.pessoa.dependentes.forEach(o=>{this._alunoService.get(o.id).subscribe(t=>{i.push(t)})}),this.dependentes=i}getDependenteNome(n){return this.dependentes?.find(i=>i.id==n.id)?.nome??""}detailsDependente(n){console.log(this.appSession.user),this._router.navigate(this.appSession.user.aluno?.id==n.id?["app","personal"]:["app","alunos","details",n.id])}cadastrarDependente(){this._modalService.show(ae,{class:"modal-lg",initialState:{temResponsavelPredefinido:!0,responsavel:this.pessoa}}).content.onSave.subscribe(this.ngOnInit.bind(this))}addDependente(){this._modalService.show(Je,{class:"modal-lg"}).content.onSubmit.subscribe(i=>{this.pessoa.dependentes.push(new c.GO({id:i.id})),this._responsavelService.update(this.pessoa).subscribe(o=>{this.pessoa=o,this.dependentes.push(i)})})}createUser(n){return this._responsavelService.createUserParaPessoa(n)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.o5),e.rXU(c.pg),e.rXU(c.B5),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:22,vars:17,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[3,"pessoaChange","onClickEdit","pessoa","cidade","uf","pais"],[3,"responsavelChange","responsavel"],["class","p-3","style","\n                    border: 1px solid #dee2e6; \n                    border-top: 0px; \n                    border-bottom-left-radius: .25rem;\n                    border-bottom-right-radius: .25rem; \n                    background-color: white;",3,"heading",4,"ngIf"],[3,"pessoa","createUserCallable"]],template:function(i,o){if(1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes do Responsavel "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"info-pessoal-details",13),e.mxI("pessoaChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.bIt("onClickEdit",function(){return o.editInfoPessoal()}),e.k0s()(),e.j41(18,"tab",12),e.nI1(19,"localize"),e.j41(20,"dependentes-details",14),e.mxI("responsavelChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.k0s()(),e.DNE(21,Qt,3,5,"tab",15),e.k0s()()()()),2&i){let t;e.Y8G("@routerTransition",void 0),e.R7$(11),e.Lme(" ",(null!==(t=null==o.pessoa||null==o.pessoa.nome?null:o.pessoa.nome.split(" "))&&void 0!==t?t:e.lJ4(15,Ze))[0]," ",(null!==(t=null==o.pessoa||null==o.pessoa.nome||null==(t=o.pessoa.nome.split(" "))?null:t.reverse())&&void 0!==t?t:e.lJ4(16,Ze))[0]," "),e.R7$(4),e.Y8G("heading",e.bMT(16,11,"PersonalInfo")),e.R7$(2),e.R50("pessoa",o.pessoa),e.Y8G("cidade",o.cidade)("uf",o.uf)("pais",o.pais),e.R7$(),e.Y8G("heading",e.bMT(19,13,"AlunosDependentes")),e.R7$(2),e.R50("responsavel",o.pessoa),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Admin.People"))}},dependencies:[p.bT,F.V6,F.fw,J,se,Le,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})(),Kt=(()=>{class a extends _.q{constructor(n,i,o){super(n),this.userServiceProxy=i,this.router=o,this.saving=!1,this.changePasswordDto=new c.$h,this.newPasswordValidationErrors=[{name:"pattern",localizationKey:"PasswordsMustBeAtLeast8CharactersContainLowercaseUppercaseNumber"}],this.confirmNewPasswordValidationErrors=[{name:"validateEqual",localizationKey:"PasswordsDoNotMatch"}]}changePassword(){this.saving=!0,this.userServiceProxy.changePassword(this.changePasswordDto).pipe((0,A.j)(()=>{this.saving=!1})).subscribe(n=>{n&&(abp.message.success("Password changed successfully","Success"),this.router.navigate(["/"]))})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.LC),e.rXU(g.Ix))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:46,vars:27,consts:[["changePasswordForm","ngForm"],["currentPasswordModel","ngModel","currentPasswordEl",""],["newPasswordModel","ngModel","newPasswordEl",""],["confirmNewPasswordModel","ngModel","confirmNewPasswordEl",""],[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"content","px-2"],[1,"card"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[1,"card-body"],[1,"modal-body"],[1,"form-group","row","required"],["for","currentPassword",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","password","name","currentPassword","id","currentPassword","required","","minlength","2","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","newPassword",1,"col-md-3","col-form-label"],["type","password","name","newPassword","id","newPassword","required","","minlength","2","maxlength","32","validateEqual","confirmNewPassword","reverse","true","pattern","(?=^.{8,}$)(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s)[0-9a-zA-Z!@#$%^&*()]*$",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl","customValidationErrors"],["for","confirmNewPassword",1,"col-md-3","col-form-label"],["type","password","name","confirmNewPassword","id","confirmNewPassword","required","","minlength","2","maxlength","32","validateEqual","newPassword","reverse","false","ngModel","",1,"form-control"],[1,"card-footer","justify-content-between"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"section",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()()(),e.j41(8,"section",8)(9,"div",5)(10,"div",9)(11,"form",10,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.changePassword())}),e.j41(13,"div",11)(14,"div",12)(15,"div",13)(16,"label",14),e.EFF(17),e.nI1(18,"localize"),e.k0s(),e.j41(19,"div",15)(20,"input",16,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.changePasswordDto.currentPassword,r)||(o.changePasswordDto.currentPassword=r),e.Njj(r)}),e.k0s(),e.nrm(23,"abp-validation-summary",17),e.k0s()(),e.j41(24,"div",13)(25,"label",18),e.EFF(26),e.nI1(27,"localize"),e.k0s(),e.j41(28,"div",15)(29,"input",19,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.changePasswordDto.newPassword,r)||(o.changePasswordDto.newPassword=r),e.Njj(r)}),e.k0s(),e.nrm(32,"abp-validation-summary",20),e.k0s()(),e.j41(33,"div",13)(34,"label",21),e.EFF(35),e.nI1(36,"localize"),e.k0s(),e.j41(37,"div",15),e.nrm(38,"input",22,3)(41,"abp-validation-summary",20),e.k0s()()()(),e.j41(42,"div",23)(43,"button",24),e.EFF(44),e.nI1(45,"localize"),e.k0s()()()()()()()}if(2&i){const t=e.sdS(12),s=e.sdS(21),r=e.sdS(22),m=e.sdS(30),f=e.sdS(31),v=e.sdS(39),C=e.sdS(40);e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,17,"UpdatePassword")),e.R7$(11),e.SpI(" ",e.bMT(18,19,"CurrentPassword")," "),e.R7$(3),e.R50("ngModel",o.changePasswordDto.currentPassword),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(27,21,"NewPassword")," "),e.R7$(3),e.R50("ngModel",o.changePasswordDto.newPassword),e.R7$(3),e.Y8G("control",m)("controlEl",f)("customValidationErrors",o.newPasswordValidationErrors),e.R7$(3),e.SpI(" ",e.bMT(36,23,"ConfirmNewPassword")," "),e.R7$(6),e.Y8G("control",v)("controlEl",C)("customValidationErrors",o.confirmNewPasswordValidationErrors),e.R7$(2),e.Y8G("disabled",!t.form.valid||o.saving),e.R7$(),e.SpI(" ",e.bMT(45,25,"Save")," ")}},dependencies:[l.qT,l.me,l.BC,l.cb,l.YS,l.xh,l.tU,l.R_,l.vS,l.cV,G.e,Ae,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();function ea(a,d){if(1&a&&(e.j41(0,"option",9),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.JRh(n)}}let oa=(()=>{class a extends _.q{constructor(n,i){super(n),this.bsModalRef=i,this.saving=!1,this.title="",this.options=[],this.onSubmit=new e.bkB}ngOnInit(){}get idxSelected(){return this._idxSelected?.toString()??""}set idxSelected(n){this._idxSelected=""==n||null==n?void 0:Number(n)}save(){this.saving=!0,this.onSubmit.emit(this._idxSelected),this.bsModalRef.hide(),this.saving=!1}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:11,vars:8,consts:[["singleSelectorModal","ngForm"],["selectionModel","ngModel","selectionEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"col"],["name","selection","id","selection","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"select",6,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.idxSelected,r)||(o.idxSelected=r),e.Njj(r)}),e.DNE(9,ea,2,2,"option",7),e.k0s()()(),e.j41(10,"abp-modal-footer",8),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,6,o.title)),e.R7$(4),e.Y8G("disabled",o.saving),e.R50("ngModel",o.idxSelected),e.R7$(3),e.Y8G("ngForOf",o.options),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.xH,l.y7,l.wz,l.BC,l.cb,l.YS,l.vS,l.cV,k.x,j.z,h.S],encapsulation:2})}return a})();const na=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function ia(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s()()),2&a){let n,i;const o=d.$implicit,t=e.XpG();e.R7$(2),e.JRh(null==(n=t.getFuncao(null==o?null:o.funcaoOrgId))?null:n.nome),e.R7$(2),e.JRh(t.getGestorString(o)),e.R7$(2),e.JRh(o.dataInicio.format("DD/MM/yyyy")),e.R7$(2),e.JRh(null!==(i=null==o.dataFim?null:o.dataFim.format("DD/MM/yyyy"))&&void 0!==i?i:"-")}}let ta=(()=>{class a extends y{constructor(){super(...arguments),this.funcoesHistoricas=[]}set historicoFuncoes(n){this._historicoFuncoes=n,this.refresh()}get historicoFuncoes(){return this._historicoFuncoes}getFuncao(n){return this.funcoes?.find(i=>i.id==n)}getGestorString(n){if(null==n)return"...";var i=this.getFuncao(n.funcaoOrgId);if(null==i)return"...";if(null==i.funcaoGestoraDiretaId)return"N/A";if(null==n.gestorId)return"N\xe3o atribu\xeddo";var o=this.gerentesCF?.find(s=>s.id==n?.gestorId),t=this.gerentes?.find(s=>s.id==o?.colaboradorId);return null==t?"...":t.nome}ngOnInit(){super.ngOnInit(),this.refresh()}list(n,i,o){this.funcoesHistoricas=[],this.historicoFuncoes.forEach(t=>{null!=t.dataFim&&this.funcoesHistoricas.push(t)}),this.showPaging({items:this.funcoesHistoricas,totalCount:this.funcoesHistoricas.length},i),o()}delete(){}static#e=this.\u0275fac=(()=>{let n;return function(o){return(n||(n=e.xGo(a)))(o||a)}})();static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["historico-funcoes-table"]],inputs:{historicoFuncoes:"historicoFuncoes",funcoes:"funcoes",gerentesCF:"gerentesCF",gerentes:"gerentes"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:27,vars:25,consts:[[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","25%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th"),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"th",3),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"th",3),e.EFF(14),e.nI1(15,"localize"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,ia,9,4,"tr",4),e.nI1(18,"paginate"),e.k0s()()(),e.j41(19,"div",5)(20,"div",6)(21,"p",7),e.EFF(22),e.nI1(23,"localize"),e.k0s()(),e.j41(24,"div",8)(25,"div",9)(26,"abp-pagination-controls",10),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&i&&(e.R7$(),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(6,7,"Fun\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(9,9,"Gestor")),e.R7$(3),e.JRh(e.bMT(12,11,"Data In\xedcio")),e.R7$(3),e.JRh(e.bMT(15,13,"Data Fim")),e.R7$(3),e.Y8G("ngForOf",e.i5U(18,15,o.funcoesHistoricas,e.sMw(21,na,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(5),e.SpI(" ",e.i5U(23,18,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,D,E,h.S,T.kf],encapsulation:2})}return a})();const aa=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function sa(a,d){if(1&a){const n=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){e.eBV(n);const o=e.XpG().$implicit,t=e.XpG();return e.Njj(t.delete(o))}),e.nrm(1,"i",13),e.EFF(2),e.nI1(3,"localize"),e.k0s()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Remover Fun\xe7\xe3o")," "))}function ra(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.DNE(8,sa,4,3,"button",11),e.k0s()()),2&a){let n;const i=d.$implicit,o=e.XpG();e.R7$(2),e.JRh(null==(n=o.getFuncao(i.funcaoOrgId))?null:n.nome),e.R7$(2),e.JRh(o.getGestorString(i)),e.R7$(2),e.JRh(null==i||null==i.dataInicio?null:i.dataInicio.format("DD/MM/yyyy")),e.R7$(2),e.Y8G("ngIf",o.permission.isGranted("Business.Admin.People"))}}let la=(()=>{class a extends y{constructor(){super(...arguments),this.funcoesAtuais=[],this.rmvFuncao=new e.bkB}set historicoFuncoes(n){this._historicoFuncoes=n,this.refresh()}get historicoFuncoes(){return this._historicoFuncoes}ngOnInit(){super.ngOnInit(),this.refresh()}list(n,i,o){this.funcoesAtuais=[],this.historicoFuncoes.forEach(t=>{null==t.dataFim&&this.funcoesAtuais.push(t)}),this.showPaging({items:this.funcoesAtuais,totalCount:this.funcoesAtuais.length},i),o()}getFuncao(n){return this.funcoes?.find(i=>i.id==n)}getGestorString(n){var i=this.getFuncao(n.funcaoOrgId);if(null==i?.funcaoGestoraDiretaId)return"N/A";if(null==n?.gestorId)return"N\xe3o atribu\xeddo";var o=this.gerentesCF?.find(s=>s?.id==n?.gestorId),t=this.gerentes?.find(s=>s?.id==o?.colaboradorId);return null==t?"...":t.nome}delete(n){this.rmvFuncao.emit(n)}static#e=this.\u0275fac=(()=>{let n;return function(o){return(n||(n=e.xGo(a)))(o||a)}})();static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["funcoes-atuais-table"]],inputs:{historicoFuncoes:"historicoFuncoes",funcoes:"funcoes",gerentesCF:"gerentesCF",gerentes:"gerentes"},outputs:{rmvFuncao:"rmvFuncao"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:25,vars:22,consts:[[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","25%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],["type","button","class","btn btn-sm bg-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-danger",3,"click"],[1,"fas","fa-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th"),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.nrm(13,"th",3),e.k0s()(),e.j41(14,"tbody"),e.DNE(15,ra,9,4,"tr",4),e.nI1(16,"paginate"),e.k0s()()(),e.j41(17,"div",5)(18,"div",6)(19,"p",7),e.EFF(20),e.nI1(21,"localize"),e.k0s()(),e.j41(22,"div",8)(23,"div",9)(24,"abp-pagination-controls",10),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&i&&(e.R7$(),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(6,6,"Fun\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(9,8,"Gestor")),e.R7$(3),e.JRh(e.bMT(12,10,"In\xedcio")),e.R7$(4),e.Y8G("ngForOf",e.i5U(16,12,o.funcoesAtuais,e.sMw(18,aa,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(5),e.SpI(" ",e.i5U(21,15,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,D,E,h.S,T.kf],encapsulation:2})}return a})();function da(a,d){if(1&a){const n=e.RV6();e.j41(0,"button",9),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.addFuncaoPopup())}),e.nrm(1,"i",10),e.EFF(2),e.nI1(3,"localize"),e.k0s()}if(2&a){const n=e.XpG();e.Y8G("disabled",n.loading),e.R7$(2),e.SpI(" ",e.bMT(3,2,"Add Fun\xe7\xe3o")," ")}}let Qe=(()=>{class a extends _.q{constructor(n,i,o,t,s,r,m){super(n),this._colaboradorService=i,this._funcaoOrgService=o,this._changeDetector=t,this._modalService=s,this._router=r,this._route=m,this.loadingFuncoes=!1,this.loadingHistorico=!1,this.funcoesChange=new e.bkB,this.historicoFuncoes=[],this.historicoFuncoesChange=new e.bkB,this.gerentesChange=new e.bkB,this.gerentesCFChange=new e.bkB,this.busy=!1}get loading(){return this.loadingFuncoes||this.loadingHistorico}get colaboradorId(){return this._colaboradorId}set colaboradorId(n){this._colaboradorId=n,this.refresh()}ngOnInit(){this.loadingFuncoes=!0,this.funcoes=[],this._funcaoOrgService.getAll(void 0,void 0,void 0).subscribe(n=>{this.funcoes=n.items,this.funcoesChange.emit(this.funcoes),this.loadingFuncoes=!1}),this.refresh()}refresh(){this.loadingHistorico=!0,this.historicoFuncoes=[],this._colaboradorService.getAllColabFuncoes(this.colaboradorId,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0).subscribe(n=>{this.historicoFuncoes=n.items,this.historicoFuncoesChange.emit(this.historicoFuncoes),this.gerentes=[],this.gerentesChange.emit(this.gerentes),this.gerentesCF=[],this.gerentesCFChange.emit(this.gerentesCF),this.historicoFuncoes.forEach(i=>{null!=i.gestorId&&this._colaboradorService.getColabFuncao(i.gestorId).subscribe(o=>{this.gerentesCF.push(o),this._colaboradorService.get(o.colaboradorId).subscribe(t=>{this.gerentes.push(t)})})}),this.loadingHistorico=!1})}getTipoPessoa(){return"Colaborador"}getCFs(n){return null==n?this.historicoFuncoes:this.historicoFuncoes.filter(i=>i.funcaoOrgId==n.id)}getCFsAtivos(n){return this.getCFs(n).filter(i=>null==i.dataFim)}hasFuncao(n){return this.getCFsAtivos(n).length>0}rmvFuncao(n){if(this.busy)return;let i;if(this.busy=!0,n instanceof c.HI)i=n?.id;else{let o=this.getCFsAtivos(n);if(0==o.length)return null;i=o[0].id}this._colaboradorService.deleteColabFuncao(new c.GO({id:i})).subscribe(o=>{this.refresh(),this.notify.info(this.l("SavedSuccessfully")),this.busy=!1})}addFuncao(n){if(this.busy)return;this.busy=!0;let i=new c.R3({colaboradorId:this.colaboradorId,funcaoOrgId:n.id,gestorId:void 0});this._colaboradorService.createColabFuncao(i).subscribe(o=>{this.refresh(),this.notify.info(this.l("SavedSuccessfully")),this.busy=!1})}addFuncaoPopup(){let o,n=[],i=[];this.funcoes.forEach(t=>{this.hasFuncao(t)||(n.push(t),i.push(t.nome))}),o=this._modalService.show(oa,{class:"modal-lg",initialState:{title:"SelectFuncao",options:i}}),o.content.onSubmit.subscribe(t=>{this.addFuncao(n[t])})}podeAddFuncao(){return this.permission.isGranted("Business.Admin.People")}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.i9),e.rXU(c.AM),e.rXU(e.gRc),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["funcoes-colaborador-details"]],inputs:{colaboradorId:"colaboradorId",funcoes:"funcoes",historicoFuncoes:"historicoFuncoes",gerentes:"gerentes",gerentesCF:"gerentesCF"},outputs:{funcoesChange:"funcoesChange",historicoFuncoesChange:"historicoFuncoesChange",gerentesChange:"gerentesChange",gerentesCFChange:"gerentesCFChange"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:16,vars:15,consts:[[1,"container-fluid","col","p-0","m-0"],[1,"row","m-0","pt-1","justify-content-between"],[1,"col-0"],["type","button","class","col-0 btn btn-sm bg-primary",3,"disabled","click",4,"ngIf"],[1,"row","m-0","pb-1"],[1,"col"],[3,"rmvFuncao","funcoes","historicoFuncoes","gerentes","gerentesCF"],[1,"row","m-0","pt-1"],[3,"funcoes","historicoFuncoes","gerentes","gerentesCF"],["type","button",1,"col-0","btn","btn-sm","bg-primary",3,"click","disabled"],[1,"fas","fa-plus-square"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"label",2),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.DNE(5,da,4,4,"button",3),e.k0s(),e.j41(6,"div",4)(7,"div",5)(8,"funcoes-atuais-table",6),e.bIt("rmvFuncao",function(s){return o.rmvFuncao(s)}),e.k0s()()(),e.j41(9,"div",7)(10,"label"),e.EFF(11),e.nI1(12,"localize"),e.k0s()(),e.j41(13,"div",4)(14,"div",5),e.nrm(15,"historico-funcoes-table",8),e.k0s()()()),2&i&&(e.R7$(3),e.JRh(e.bMT(4,11,"Fun\xe7\xf5es Atuais")),e.R7$(2),e.Y8G("ngIf",o.podeAddFuncao()),e.R7$(3),e.Y8G("funcoes",o.funcoes)("historicoFuncoes",o.historicoFuncoes)("gerentes",o.gerentes)("gerentesCF",o.gerentesCF),e.R7$(3),e.JRh(e.bMT(12,13,"Hist\xf3rico de Fun\xe7\xf5es")),e.R7$(4),e.Y8G("funcoes",o.funcoes)("historicoFuncoes",o.historicoFuncoes)("gerentes",o.gerentes)("gerentesCF",o.gerentesCF))},dependencies:[p.bT,ta,la,h.S],encapsulation:2})}return a})();const We=()=>[];function ca(a,d){if(1&a&&(e.j41(0,"option",25),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",n.id),e.R7$(),e.JRh(n.nome)}}function ua(a,d){if(1&a&&(e.j41(0,"option",25),e.EFF(1),e.k0s()),2&a){const n=d.$implicit,i=e.XpG();e.Y8G("value",n.id),e.R7$(),e.Lme("",i.getNomeColaborador(n.colaboradorId)," - ",n.funcaoOrg.nome,"")}}let Ke=(()=>{class a extends _.q{constructor(n,i,o,t,s,r){super(n),this._servicoPrestadoService=i,this._tipoServicoPrestadoService=o,this._colaboradorService=t,this._funcaoService=s,this.bsModalRef=r,this.horasTrabalho=0,this.onSave=new e.bkB,this.saving=!1}get colabFuncaoOrgId(){return this.servico?.colabFuncaoOrgId?.toString()??""}set colabFuncaoOrgId(n){let i=Number(n);this.servico.colabFuncaoOrgId=i}get tipoServicoId(){return this.servico?.tipoServicoId?.toString()??""}set tipoServicoId(n){let i=Number(n);this.servico.tipoServicoId=i}get dataInicio(){return this.servico?.inicio?.format("YYYY-MM-DD")}set dataInicio(n){let i=V(n);i=i.hour(this.servico?.inicio?.hour()??0),i=i.minute(this.servico?.inicio?.minute()??0),this.servico.inicio=i}get horarioInicio(){return this.servico?.inicio?.format("HH:mm")}set horarioInicio(n){let i=Number(n.substring(0,2)),o=Number(n.substring(3,5));this.servico.inicio=this.servico?.inicio?.hour(i),this.servico.inicio=this.servico?.inicio?.minute(o)}get loading(){return this.loadingFuncoes||this.loadingColaboradores||this.loadingFuncoesColaborador||this.loadingTiposServico}ngOnInit(){if(this.servico=new c.Ho,this.servico.inicio=V(),this.servico.fim=V(),null==this.funcoes&&(this.loadingFuncoes=!0,this._funcaoService.getAll(void 0,void 0,void 0).subscribe(n=>{this.funcoes=n.items,this.loadingFuncoes=!1})),null==this.colaboradores&&(this.loadingColaboradores=!0,this._colaboradorService.getAll(void 0,void 0,void 0,!0,void 0,void 0,void 0,void 0,void 0).subscribe(n=>{this.colaboradores=n.items,this.loadingColaboradores=!1})),null==this.funcoesColaborador&&(this.loadingFuncoesColaborador=!0,this._colaboradorService.getAllColabFuncoes(void 0,void 0,void 0,void 0,!0,void 0,void 0,void 0,void 0,void 0).subscribe(n=>{this.funcoesColaborador=n.items,this.loadingFuncoesColaborador=!1})),null==this.tiposServico)this.loadingTiposServico=!0,this._tipoServicoPrestadoService.getAll(void 0,void 0,void 0,void 0,void 0).subscribe(n=>{this.tiposServico=[],n.items.forEach(i=>{i.registravelAvulso&&this.tiposServico.push(i)}),this.loadingTiposServico=!1});else{let n=[];this.tiposServico.forEach(i=>{i.registravelAvulso&&n.push(i)}),this.tiposServico=n}}getNomeColaborador(n){return this.colaboradores.find(i=>i.id==n).nome}getNomeFuncao(n){return this.funcoes.find(i=>i.id==n).nome}save(){let n=this.tiposServico.find(o=>o.id==this.servico.tipoServicoId),i=this.funcoesColaborador.find(o=>o.id==this.servico.colabFuncaoOrgId);n.funcoesOrg.some(o=>o.id==i.funcaoOrgId)?(this.servico.fim=this.servico.inicio.add(this.horasTrabalho,"hours"),this.saving=!0,this._servicoPrestadoService.create(this.servico).subscribe(o=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(o)})):this.notify.info(this.l('O tipo de servi\xe7o "'+n.nome+'" n\xe3o pode ser realizado pela fun\xe7\xe3o "'+this.getNomeFuncao(i.funcaoOrgId)+'".'))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.Fr),e.rXU(c.$B),e.rXU(c.i9),e.rXU(c.AM),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:55,vars:41,consts:[["createServicoPrestadoModal","ngForm"],["tipoServicoModel","ngModel","tipoServicoEl",""],["colaboradorModel","ngModel","colaboradorEl",""],["dataModel","ngModel","dataEl",""],["horarioInicioModel","ngModel","horarioInicioEl",""],["horasTrabalhoModel","ngModel","horasTrabalhoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","tipoServico",1,"col-md-3","col-form-label"],[1,"col-md-9"],["required","","id","tipoServico","name","tipoServico",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],["for","colaborador",1,"col-md-3","col-form-label"],["required","","id","colaborador","name","colaborador",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","data",1,"col-md-3","col-form-label"],["type","date","name","data","id","data","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","horarioInicio",1,"col-md-3","col-form-label"],["type","time","name","horarioInicio","id","horarioInicio","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","horasTrabalho",1,"col-md-3","col-form-label"],["type","number","name","horasTrabalho","id","horasTrabalho","required","","min","0",1,"form-control",3,"ngModelChange","ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",6,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",7),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",8)(5,"div",9)(6,"label",10),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",11)(10,"select",12,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.tipoServicoId,r)||(o.tipoServicoId=r),e.Njj(r)}),e.nrm(13,"option",13),e.DNE(14,ca,2,2,"option",14),e.k0s(),e.nrm(15,"abp-validation-summary",15),e.k0s()(),e.j41(16,"div",9)(17,"label",16),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.j41(20,"div",11)(21,"select",17,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.colabFuncaoOrgId,r)||(o.colabFuncaoOrgId=r),e.Njj(r)}),e.nrm(24,"option",13),e.DNE(25,ua,2,3,"option",14),e.k0s(),e.nrm(26,"abp-validation-summary",15),e.k0s()(),e.j41(27,"div",9)(28,"label",18),e.EFF(29),e.nI1(30,"localize"),e.k0s(),e.j41(31,"div",11)(32,"input",19,3),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.dataInicio,r)||(o.dataInicio=r),e.Njj(r)}),e.k0s(),e.nrm(35,"abp-validation-summary",15),e.k0s()(),e.j41(36,"div",9)(37,"label",20),e.EFF(38),e.nI1(39,"localize"),e.k0s(),e.j41(40,"div",11)(41,"input",21,4),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.horarioInicio,r)||(o.horarioInicio=r),e.Njj(r)}),e.k0s(),e.nrm(44,"abp-validation-summary",15),e.k0s()(),e.j41(45,"div",9)(46,"label",22),e.EFF(47),e.nI1(48,"localize"),e.k0s(),e.j41(49,"div",11)(50,"input",23,5),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.horasTrabalho,r)||(o.horasTrabalho=r),e.Njj(r)}),e.k0s(),e.nrm(53,"abp-validation-summary",15),e.k0s()()(),e.j41(54,"abp-modal-footer",24),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){let t,s;const r=e.sdS(1),m=e.sdS(11),f=e.sdS(12),v=e.sdS(22),C=e.sdS(23),S=e.sdS(33),$=e.sdS(34),P=e.sdS(42),N=e.sdS(43),B=e.sdS(51),z=e.sdS(52);e.R7$(2),e.Y8G("title",e.bMT(3,27,"CreateNewServicoPrestado")),e.R7$(5),e.SpI(" ",e.bMT(8,29,"Tipo de Servi\xe7o")," "),e.R7$(3),e.Y8G("disabled",o.loadingTiposServico),e.R50("ngModel",o.tipoServicoId),e.R7$(4),e.Y8G("ngForOf",null!==(t=o.tiposServico)&&void 0!==t?t:e.lJ4(39,We)),e.R7$(),e.Y8G("control",m)("controlEl",f),e.R7$(3),e.SpI(" ",e.bMT(19,31,"Colaborador")," "),e.R7$(3),e.Y8G("disabled",o.loadingColaboradores||o.loadingFuncoesColaborador),e.R50("ngModel",o.colabFuncaoOrgId),e.R7$(4),e.Y8G("ngForOf",null!==(s=o.funcoesColaborador)&&void 0!==s?s:e.lJ4(40,We)),e.R7$(),e.Y8G("control",v)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(30,33,"Data In\xedcio")," "),e.R7$(3),e.R50("ngModel",o.dataInicio),e.R7$(3),e.Y8G("control",S)("controlEl",$),e.R7$(3),e.SpI(" ",e.bMT(39,35,"Hor\xe1rio In\xedcio")," "),e.R7$(3),e.R50("ngModel",o.horarioInicio),e.R7$(3),e.Y8G("control",P)("controlEl",N),e.R7$(3),e.SpI(" ",e.bMT(48,37,"Horas-Trabalho")," "),e.R7$(3),e.R50("ngModel",o.horasTrabalho),e.R7$(3),e.Y8G("control",B)("controlEl",z),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!r.form.valid||o.saving||o.loading)}},dependencies:[p.Sq,l.qT,l.xH,l.y7,l.me,l.Q0,l.wz,l.BC,l.cb,l.YS,l.VZ,l.vS,l.cV,G.e,k.x,j.z,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const ma=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function pa(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",6)(1,"div",12)(2,"a",13),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.createServicoPrestado())}),e.nrm(3,"i",14),e.EFF(4),e.nI1(5,"localize"),e.k0s()()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,1,"Create")," "))}function ha(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s()()),2&a){let n,i;const o=d.$implicit,t=e.XpG();e.R7$(2),e.JRh(t.getNomeFuncao(o.colabFuncaoOrgId)),e.R7$(2),e.JRh(t.getNomeTipoServico(o.tipoServicoId)),e.R7$(2),e.JRh(t.getNomeAlunoCaso(o.casoId)),e.R7$(2),e.JRh(null!==(n=null==o||null==o.inicio?null:o.inicio.format("DD/MM/YYYY HH:mm"))&&void 0!==n?n:"-"),e.R7$(2),e.JRh(null!==(i=null==o||null==o.fim?null:o.fim.format("DD/MM/YYYY HH:mm"))&&void 0!==i?i:"-")}}let eo=(()=>{class a extends y{constructor(n,i,o,t,s,r,m,f){super(n),this._servicoPrestadoService=i,this._tipoServicoPrestadoService=o,this._casoService=t,this._modalService=s,this._changeDectetor=r,this._router=m,this._route=f,this.servicos=[],this.keyword="",this.advancedFiltersVisible=!1,this.historicoFuncoes=[],this.casosChange=new e.bkB}get colaboradorId(){return this._colaboradorId}set colaboradorId(n){this._colaboradorId=n,this.refresh()}ngOnInit(){this.isTableLoading=!0,this._tipoServicoPrestadoService.getAll(void 0,void 0,void 0,void 0,void 0).subscribe(n=>{this.tiposServico=n.items,this.refresh()})}refresh(){this.isTableLoading=!0,this._casoService.getAllCasos(this.colaboradorId,void 0,void 0).subscribe(n=>{this.casos=n,this.casosChange.emit(n)}),super.refresh()}getNomeTipoServico(n){return this.tiposServico?.find(i=>i.id==n)?.nome??"-"}getNomeFuncao(n){var i=this.historicoFuncoes.find(o=>o.id==n);return this.funcoes?.find(o=>o.id==i?.funcaoOrgId)?.nome??"-"}getNomeAlunoCaso(n){return this.casos?.find(i=>i.id==n)?.aluno?.nome??"-"}createServicoPrestado(){let t,n=[],i=[],o=[];this.historicoFuncoes.forEach(s=>{null==s.dataFim&&(i.push(this.colaborador),o.push(s))}),this.tiposServico.forEach(s=>{s.registravelAvulso&&o.some(r=>s.funcoesOrg.some(m=>m.id==r.funcaoOrgId))&&n.push(s)}),t=this._modalService.show(Ke,{class:"modal-lg",initialState:{tiposServico:n,colaboradores:i,funcoesColaborador:o}}),t.content.onSave.subscribe(()=>{this.refresh()})}list(n,i,o){if(null==this._colaboradorId)return this.servicos=[],this.showPaging({items:[],totalCount:0},0),void o();this._servicoPrestadoService.getAll(this._colaboradorId,void 0,void 0,void 0,void 0,void 0,n.skipCount,n.maxResultCount).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.servicos=t.items,this.showPaging(t,i)})}clearFilters(){this.keyword="",this.getDataPage(1)}delete(n){abp.message.confirm("O seguinte servi\xe7o ser\xe1 exclu\xeddo do banco",void 0,i=>{i&&this._servicoPrestadoService.delete(n.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}podeRegistrarServico(){return this.permission.isGranted("Business.Admin.People")||this.permission.isGranted("Business.Finance")||this.permission.isGranted("Business.Personal.Colaborador")&&this.appSession.user.colaborador?.id==this.colaboradorId}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.Fr),e.rXU(c.$B),e.rXU(c.iD),e.rXU(b.I8),e.rXU(e.gRc),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["servicos-prestados-colaborador"]],inputs:{colaboradorId:"colaboradorId",colaborador:"colaborador",funcoes:"funcoes",historicoFuncoes:"historicoFuncoes",casos:"casos"},outputs:{casosChange:"casosChange"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:32,vars:29,consts:[["class","row",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"col","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"]],template:function(i,o){1&i&&(e.DNE(0,pa,6,3,"div",0),e.j41(1,"div",1)(2,"div",2)(3,"table",3)(4,"thead",4)(5,"tr")(6,"th"),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"localize"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"localize"),e.k0s()()(),e.j41(21,"tbody"),e.DNE(22,ha,11,5,"tr",5),e.nI1(23,"paginate"),e.k0s()()()(),e.j41(24,"div",6)(25,"div",7)(26,"p",8),e.EFF(27),e.nI1(28,"localize"),e.k0s()(),e.j41(29,"div",9)(30,"div",10)(31,"abp-pagination-controls",11),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&i&&(e.Y8G("ngIf",o.podeRegistrarServico()),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(8,9,"Fun\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(11,11,"Tipo")),e.R7$(3),e.JRh(e.bMT(14,13,"Caso")),e.R7$(3),e.JRh(e.bMT(17,15,"In\xedcio")),e.R7$(3),e.JRh(e.bMT(20,17,"Fim")),e.R7$(3),e.Y8G("ngForOf",e.i5U(23,19,o.servicos,e.sMw(25,ma,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(5),e.SpI(" ",e.i5U(28,22,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,D,E,h.S,T.kf],encapsulation:2})}return a})();const ga=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function fa(a,d){if(1&a){const n=e.RV6();e.j41(0,"div")(1,"a",12),e.bIt("click",function(){e.eBV(n);const o=e.XpG().$implicit,t=e.XpG();return e.Njj(t.detailsCaso(o))}),e.nrm(2,"i",13),e.k0s()()}}function ba(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.DNE(12,fa,3,0,"div",11),e.k0s()()),2&a){let n,i;const o=d.$implicit,t=e.XpG();e.R7$(2),e.JRh(t.getNomeAlunoCaso(o.casoId)),e.R7$(2),e.JRh(t.getNomeFuncao(o.colabFuncaoId)),e.R7$(2),e.JRh(t.getGestorString(o.colabFuncaoId)),e.R7$(2),e.JRh(null!==(n=null==o||null==o.dataInicio?null:o.dataInicio.format("DD/MM/YYYY HH:mm"))&&void 0!==n?n:"-"),e.R7$(2),e.JRh(null!==(i=null==o||null==o.dataFim?null:o.dataFim.format("DD/MM/YYYY HH:mm"))&&void 0!==i?i:"-"),e.R7$(2),e.Y8G("ngIf",null==(null==o?null:o.dataFim))}}let oo=(()=>{class a extends y{constructor(n,i,o,t,s,r){super(n),this._casoService=i,this._modalService=o,this._changeDectetor=t,this._router=s,this._route=r,this.atuacoes=[],this.keyword="",this.advancedFiltersVisible=!1,this.historicoFuncoes=[]}get colaboradorId(){return this._colaboradorId}set colaboradorId(n){this._colaboradorId=n,this.refresh()}ngOnInit(){this.isTableLoading=!0,this.refresh()}getFuncao(n){return this.funcoes.find(i=>i.id==n)}getNomeFuncao(n){let i=this.historicoFuncoes?.find(o=>o.id==n);return this.getFuncao(i.funcaoOrgId)?.nome??"-"}getNomeAlunoCaso(n){return this.casos?.find(i=>i.id==n)?.aluno?.nome??"-"}getGestorString(n){let i=this.historicoFuncoes?.find(r=>r.id==n);if(null==this.getFuncao(i.funcaoOrgId).funcaoGestoraDiretaId)return"N/A";if(null==i.gestorId)return"N\xe3o atribu\xeddo";var t=this.gerentesCF?.find(r=>r.id==i?.gestorId),s=this.gerentes?.find(r=>r.id==t?.colaboradorId);return null==s?"...":s.nome}createAtuacao(){}list(n,i,o){if(null==this._colaboradorId)return this.atuacoes=[],this.showPaging({items:[],totalCount:0},0),void o();this._casoService.getAllAtuacoes(void 0,void 0,void 0,this._colaboradorId,void 0,void 0).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.atuacoes=t,this.showPaging({items:t,totalCount:t.length},i)})}clearFilters(){this.keyword="",this.getDataPage(1)}delete(n){}detailsCaso(n){this._router.navigate(["app","alunos","details",this.casos?.find(i=>i.id==n.casoId)?.aluno?.id])}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.iD),e.rXU(b.I8),e.rXU(e.gRc),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["casos-colaborador"]],inputs:{colaboradorId:"colaboradorId",funcoes:"funcoes",historicoFuncoes:"historicoFuncoes",casos:"casos",gerentesCF:"gerentesCF",gerentes:"gerentes"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:32,vars:28,consts:[[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[4,"ngIf"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-link"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"th"),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"th"),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"th"),e.EFF(15),e.nI1(16,"localize"),e.k0s(),e.j41(17,"th"),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.nrm(20,"th"),e.k0s()(),e.j41(21,"tbody"),e.DNE(22,ba,13,6,"tr",4),e.nI1(23,"paginate"),e.k0s()()()(),e.j41(24,"div",5)(25,"div",6)(26,"p",7),e.EFF(27),e.nI1(28,"localize"),e.k0s()(),e.j41(29,"div",8)(30,"div",9)(31,"abp-pagination-controls",10),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&i&&(e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(7,8,"Aluno")),e.R7$(3),e.JRh(e.bMT(10,10,"Fun\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(13,12,"Gestor")),e.R7$(3),e.JRh(e.bMT(16,14,"In\xedcio")),e.R7$(3),e.JRh(e.bMT(19,16,"Fim")),e.R7$(4),e.Y8G("ngForOf",e.i5U(23,18,o.atuacoes,e.sMw(24,ga,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(5),e.SpI(" ",e.i5U(28,21,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,D,E,h.S,T.kf],encapsulation:2})}return a})();const _a=()=>[];function va(a,d){if(1&a&&(e.j41(0,"option",17),e.EFF(1),e.k0s()),2&a){let n;const i=d.$implicit,o=e.XpG();e.Y8G("value",i.id),e.R7$(),e.Lme(" ",null==(n=o.getColaborador(i.colaboradorId))?null:n.nome," - ",null==(n=o.getFuncao(i.funcaoOrgId))?null:n.nome," ")}}function Ca(a,d){if(1&a&&(e.j41(0,"option",17),e.EFF(1),e.k0s()),2&a){let n;const i=d.$implicit,o=e.XpG();e.Y8G("value",i.id),e.R7$(),e.Lme(" ",null==(n=o.getColaborador(i.colaboradorId))?null:n.nome," - ",null==(n=o.getFuncao(i.funcaoOrgId))?null:n.nome," ")}}let Ia=(()=>{class a extends _.q{get cfGestorId(){return this.gestao.gestorId?.toString()??""}set cfGestorId(n){this.gestao.gestorId=""!=n?Number(n):void 0,this.gestao.novoGerenciadoId=void 0,this.setTrueGeridoOptions()}setTrueGeridoOptions(){if(null!=this.gestao.gestorId){var n=this.getGestor(this.gestao.gestorId),o=this.getFuncao(n.funcaoOrgId).funcoesGeridasDiretamente.map(t=>t.id);this._trueGeridoOptions=this.geridoOptions.filter(t=>t.gestorId!=n.id&&o.includes(t.funcaoOrgId)),this._trueGeridoOptions=this._trueGeridoOptions.filter(t=>t.gestorId!=this.gestao.gestorId)}else this._trueGeridoOptions=void 0}get cfGeridoId(){return this.gestao.novoGerenciadoId?.toString()??""}set cfGeridoId(n){this.gestao.novoGerenciadoId=""!=n?Number(n):void 0}constructor(n,i,o){super(i),this._colaboradorService=n,this.bsModalRef=o,this.saving=!1,this.gestao=new c.tb,this.onSave=new e.bkB}get trueGeridoOptions(){return this._trueGeridoOptions}ngOnInit(){if(null==this.geridoOptions){let n=[];this.gestorOptions.forEach(i=>this.getFuncao(i.funcaoOrgId).funcoesGeridasDiretamente.forEach(o=>n.push(o.id))),n=n.filter((i,o)=>!n.slice(0,o).includes(i)),this._colaboradorService.getAll(void 0,void 0,n,void 0,void 0,void 0,void 0,void 0,void 0).subscribe(i=>this.colaboradores=this.colaboradores.concat(i.items)),this._colaboradorService.getAllColabFuncoes(void 0,void 0,void 0,n,!0,void 0,void 0,void 0,void 0,void 0).subscribe(i=>this.geridoOptions=i.items)}}getFuncao(n){return this.funcoes.find(i=>i.id==n)}getGestor(n){return this.gestorOptions?.find(i=>i.id==n)}getGerido(n){return this.geridoOptions?.find(i=>i.id==n)}getColaborador(n){return this.colaboradores?.find(i=>i.id==n)}save(){this.saving=!0,this._colaboradorService.createGestaoColabFuncao(this.gestao).subscribe({next:n=>{this.notify.info(this.l("SavedSuccessfully")),this.onSave.emit(n),this.saving=!1,this.bsModalRef.hide()},error(n){console.log(n),this.saving=!1}})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(c.i9),e.rXU(e.zZn),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:28,vars:21,consts:[["createGestaoModal","ngForm"],["cfGestorModel","ngModel","cfGestorEl",""],["cfGeridoModel","ngModel","cfGeridoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","cfGestor",1,"col-md-3","col-form-label"],[1,"col-md-9"],["required","","id","cfGestor","name","cfGestor",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],[1,"form-group","row","required",3,"hidden"],["for","cfGerido",1,"col-md-3","col-form-label"],["required","","id","cfGerido","name","cfGerido",1,"form-control",3,"ngModelChange","ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",4),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",5)(5,"div",6)(6,"label",7),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",8)(10,"select",9,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.cfGestorId,r)||(o.cfGestorId=r),e.Njj(r)}),e.nrm(13,"option",10),e.DNE(14,va,2,3,"option",11),e.k0s(),e.nrm(15,"abp-validation-summary",12),e.k0s()(),e.j41(16,"div",13)(17,"label",14),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.j41(20,"div",8)(21,"select",15,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.cfGeridoId,r)||(o.cfGeridoId=r),e.Njj(r)}),e.nrm(24,"option",10),e.DNE(25,Ca,2,3,"option",11),e.k0s(),e.nrm(26,"abp-validation-summary",12),e.k0s()()(),e.j41(27,"abp-modal-footer",16),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){let t;const s=e.sdS(1),r=e.sdS(11),m=e.sdS(12),f=e.sdS(22),v=e.sdS(23);e.R7$(2),e.Y8G("title",e.bMT(3,14,"AddGerenciado")),e.R7$(5),e.SpI(" ",e.bMT(8,16,"Gestor")," "),e.R7$(3),e.R50("ngModel",o.cfGestorId),e.R7$(4),e.Y8G("ngForOf",o.gestorOptions),e.R7$(),e.Y8G("control",r)("controlEl",m),e.R7$(),e.Y8G("hidden",""==o.cfGestorId),e.R7$(2),e.SpI(" ",e.bMT(19,18,"Gerenciado")," "),e.R7$(3),e.R50("ngModel",o.cfGeridoId),e.R7$(4),e.Y8G("ngForOf",null!==(t=o.trueGeridoOptions)&&void 0!==t?t:e.lJ4(20,_a)),e.R7$(),e.Y8G("control",f)("controlEl",v),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!s.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.xH,l.y7,l.wz,l.BC,l.cb,l.YS,l.vS,l.cV,G.e,k.x,j.z,h.S],encapsulation:2})}return a})();const Fa=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function ka(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",13)(1,"button",14),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.addGerenciadoPopup())}),e.nrm(2,"i",15),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}if(2&a){const n=e.XpG();e.R7$(),e.Y8G("disabled",n.isTableLoading),e.R7$(2),e.SpI(" ",e.bMT(4,2,"Add Gerenciado")," ")}}function ja(a,d){if(1&a){const n=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(n);const o=e.XpG().$implicit,t=e.XpG();return e.Njj(t.delete(o))}),e.nrm(1,"i",18),e.EFF(2),e.nI1(3,"localize"),e.k0s()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Remover Gerenciado")," "))}function Ra(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.DNE(10,ja,4,3,"button",16),e.k0s()()),2&a){let n,i,o;const t=d.$implicit,s=e.XpG();e.R7$(2),e.JRh(null==(n=s.getColaborador(t.colaboradorId))?null:n.nome),e.R7$(2),e.JRh(null==(i=s.getFuncao(t.funcaoOrgId))?null:i.nome),e.R7$(2),e.JRh(null==t?null:t.dataInicio.format("DD/MM/yyyy")),e.R7$(2),e.JRh(null!==(o=null==t||null==t.dataFim?null:t.dataFim.format("DD/MM/yyyy"))&&void 0!==o?o:"-"),e.R7$(2),e.Y8G("ngIf",null==(null==t?null:t.dataFim)&&s.permission.isGranted("Business.Admin.People"))}}let no=(()=>{class a extends y{constructor(n,i,o,t,s,r){super(n),this._colaboradorService=i,this._modalService=o,this._changeDectetor=t,this._router=s,this._route=r,this.keyword="",this.advancedFiltersVisible=!1,this.historicoFuncoes=[],this.gerenciados=[],this.gerenciadosChange=new e.bkB,this.gerenciadosFuncoes=[],this.gerenciadosFuncoesChange=new e.bkB}ngOnInit(){this.isTableLoading=!0;var i=this._route.snapshot.paramMap.get("colaboradorId");this.id=null==i||""==i?this.appSession.user.colaborador?.id:Number(i),this.refresh()}getFuncao(n){return this.funcoes?.find(i=>i.id==n)}getNomeFuncao(n){let i=this.gerenciadosFuncoes?.find(o=>o.id==n);return this.getFuncao(i.funcaoOrgId)?.nome??"-"}getColaborador(n){return this.gerenciados?.find(i=>i.id==n)}list(n,i,o){this._colaboradorService.getAll(void 0,this.id,void 0,void 0,void 0,void 0,void 0,void 0,void 0).subscribe(t=>{this.gerenciados=t.items,this.gerenciadosChange.emit(this.gerenciados)}),this._colaboradorService.getAllColabFuncoes(void 0,void 0,this.id,void 0,void 0,void 0,void 0,void 0,n.skipCount,n.maxResultCount).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.gerenciadosFuncoes=t.items,this.gerenciadosFuncoesChange.emit(this.gerenciadosFuncoes),this.showPaging(t,i)})}clearFilters(){this.keyword="",this.getDataPage(1)}delete(n){abp.message.confirm("O colaborador"+this.getColaborador(n?.colaboradorId)?.nome+" ser\xe1 removido dos gerenciados",void 0,i=>{i&&this._colaboradorService.removeGestaoColabFuncao(new c.GO({id:n.id})).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}cfGerencia(n){return(this.getFuncao(n.funcaoOrgId)?.funcoesGeridasDiretamente?.length??0)>0}podeGerenciar(){return this.historicoFuncoes.some(this.cfGerencia.bind(this))}addGerenciadoPopup(){let i,n=this.historicoFuncoes.filter(this.cfGerencia.bind(this));i=this._modalService.show(Ia,{class:"modal-lg",initialState:{funcoes:this.funcoes,colaboradores:[this.colaborador],gestorOptions:n}}),i.content.onSave.subscribe(()=>{this.refresh()})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.i9),e.rXU(b.I8),e.rXU(e.gRc),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["gerenciados-colaborador"]],inputs:{colaborador:"colaborador",funcoes:"funcoes",historicoFuncoes:"historicoFuncoes",gerenciados:"gerenciados",gerenciadosFuncoes:"gerenciadosFuncoes"},outputs:{gerenciadosChange:"gerenciadosChange",gerenciadosFuncoesChange:"gerenciadosFuncoesChange"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:30,vars:26,consts:[[1,"card-body"],["class","row m-0 pt-1 justify-content-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","25%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"row","m-0","pt-1","justify-content-end"],["type","button",1,"col-0","btn","btn-sm","bg-primary",3,"click","disabled"],[1,"fas","fa-plus-square"],["type","button","class","btn btn-sm bg-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-danger",3,"click"],[1,"fas","fa-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.DNE(1,ka,5,4,"div",1),e.j41(2,"div",2)(3,"table",3)(4,"thead",4)(5,"tr")(6,"th"),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"localize"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.nrm(18,"th",5),e.k0s()(),e.j41(19,"tbody"),e.DNE(20,Ra,11,5,"tr",6),e.nI1(21,"paginate"),e.k0s()()(),e.j41(22,"div",7)(23,"div",8)(24,"p",9),e.EFF(25),e.nI1(26,"localize"),e.k0s()(),e.j41(27,"div",10)(28,"div",11)(29,"abp-pagination-controls",12),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()),2&i&&(e.R7$(),e.Y8G("ngIf",o.podeGerenciar()&&o.permission.isGranted("Business.Admin.People")),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(8,8,"Nome")),e.R7$(3),e.JRh(e.bMT(11,10,"Fun\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(14,12,"In\xedcio")),e.R7$(3),e.JRh(e.bMT(17,14,"Fim")),e.R7$(4),e.Y8G("ngForOf",e.i5U(21,16,o.gerenciadosFuncoes,e.sMw(22,Fa,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(5),e.SpI(" ",e.i5U(26,19,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,D,E,h.S,T.kf],encapsulation:2})}return a})();const io=()=>[""];function Sa(a,d){if(1&a&&(e.j41(0,"tab",12),e.nI1(1,"localize"),e.nrm(2,"casos-colaborador",16),e.k0s()),2&a){const n=e.XpG();e.Y8G("heading",e.bMT(1,7,"Casos")),e.R7$(2),e.Y8G("colaboradorId",n.id)("funcoes",n.funcoes)("historicoFuncoes",n.historicoFuncoes)("casos",n.casos)("gerentes",n.gerentes)("gerentesCF",n.gerentesCF)}}function Ma(a,d){if(1&a){const n=e.RV6();e.j41(0,"tab",12),e.nI1(1,"localize"),e.j41(2,"gerenciados-colaborador",17),e.mxI("gerenciadosChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.gerenciados,o)||(t.gerenciados=o),e.Njj(o)})("gerenciadosFuncoesChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.gerenciadosFuncoes,o)||(t.gerenciadosFuncoes=o),e.Njj(o)}),e.k0s()()}if(2&a){const n=e.XpG();e.Y8G("heading",e.bMT(1,6,"Gerenciados")),e.R7$(2),e.Y8G("colaborador",n.pessoa)("funcoes",n.funcoes)("historicoFuncoes",n.historicoFuncoes),e.R50("gerenciados",n.gerenciados)("gerenciadosFuncoes",n.gerenciadosFuncoes)}}function Ea(a,d){if(1&a){const n=e.RV6();e.j41(0,"tab",12),e.nI1(1,"localize"),e.j41(2,"servicos-prestados-colaborador",18),e.mxI("funcoesChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.funcoes,o)||(t.funcoes=o),e.Njj(o)})("casosChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.casos,o)||(t.casos=o),e.Njj(o)}),e.k0s()()}if(2&a){const n=e.XpG();e.Y8G("heading",e.bMT(1,6,"ServicosPrestados")),e.R7$(2),e.Y8G("colaboradorId",n.id)("colaborador",n.pessoa),e.R50("funcoes",n.funcoes),e.Y8G("historicoFuncoes",n.historicoFuncoes),e.R50("casos",n.casos)}}function Ta(a,d){if(1&a&&(e.j41(0,"tab",12),e.nI1(1,"localize"),e.nrm(2,"pessoa-account-details",19),e.k0s()),2&a){const n=e.XpG();e.Y8G("heading",e.bMT(1,3,"Conta")),e.R7$(2),e.Y8G("pessoa",n.pessoa)("createUserCallable",n.createUserCallable)}}let Da=(()=>{class a extends W{initEmptyPessoa(){return new c.Gc}constructor(n,i,o,t,s,r,m){super(n,o,t,r,m),this._colaboradorService=i,this._paisService=o,this._modalService=t,this._changeDetector=s,this._router=r,this._route=m,this.refreshHistorico=new e.bkB,this.busy=!1}getPessoa(){return this.id=Number(this._route.snapshot.paramMap.get("colaboradorId")),this._colaboradorService.get(this.id)}getTipoPessoa(){return"Colaborador"}getFuncaoOrg(n){return this.funcoes?.find(i=>i.id==n)}cfGerencia(n){return(this.getFuncaoOrg(n.funcaoOrgId)?.funcoesGeridasDiretamente?.length??0)>0}showAbaCasos(){return!!this.permission.isGranted("Business.Admin.People")&&this.historicoFuncoes?.some(n=>"Caso a Caso"==this.getFuncaoOrg(n.funcaoOrgId)?.acessoCasoNome)}showAbaGerenciados(){return this.historicoFuncoes?.some(this.cfGerencia.bind(this))}createUser(n){return this._colaboradorService.createUserParaPessoa(n)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.i9),e.rXU(c.B5),e.rXU(b.I8),e.rXU(e.gRc),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:26,vars:27,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","p-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","15px"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[3,"pessoaChange","onClickEdit","pessoa","cidade","uf","pais"],[3,"funcoesChange","historicoFuncoesChange","gerentesChange","gerentesCFChange","colaboradorId","funcoes","historicoFuncoes","gerentes","gerentesCF"],["class","p-3","style","\n                    border: 1px solid #dee2e6; \n                    border-top: 0px; \n                    border-bottom-left-radius: .25rem;\n                    border-bottom-right-radius: .25rem; \n                    background-color: white;",3,"heading",4,"ngIf"],[3,"colaboradorId","funcoes","historicoFuncoes","casos","gerentes","gerentesCF"],[3,"gerenciadosChange","gerenciadosFuncoesChange","colaborador","funcoes","historicoFuncoes","gerenciados","gerenciadosFuncoes"],[3,"funcoesChange","casosChange","colaboradorId","colaborador","funcoes","historicoFuncoes","casos"],[3,"pessoa","createUserCallable"]],template:function(i,o){if(1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"h1",8),e.EFF(12),e.k0s()()()(),e.j41(13,"section",9)(14,"div",10)(15,"tabset",11)(16,"tab",12),e.nI1(17,"localize"),e.j41(18,"info-pessoal-details",13),e.mxI("pessoaChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.bIt("onClickEdit",function(){return o.editInfoPessoal()}),e.k0s()(),e.j41(19,"tab",12),e.nI1(20,"localize"),e.j41(21,"funcoes-colaborador-details",14),e.mxI("funcoesChange",function(s){return e.DH7(o.funcoes,s)||(o.funcoes=s),s})("historicoFuncoesChange",function(s){return e.DH7(o.historicoFuncoes,s)||(o.historicoFuncoes=s),s})("gerentesChange",function(s){return e.DH7(o.gerentes,s)||(o.gerentes=s),s})("gerentesCFChange",function(s){return e.DH7(o.gerentesCF,s)||(o.gerentesCF=s),s}),e.k0s()(),e.DNE(22,Sa,3,9,"tab",15)(23,Ma,3,8,"tab",15)(24,Ea,3,8,"tab",15)(25,Ta,3,5,"tab",15),e.k0s()()()()),2&i){let t;e.Y8G("@routerTransition",void 0),e.R7$(9),e.SpI(" ",e.bMT(10,19,"Detalhes do Colaborador")," "),e.R7$(3),e.Lme(" ",(null!==(t=null==o.pessoa||null==o.pessoa.nome?null:o.pessoa.nome.split(" "))&&void 0!==t?t:e.lJ4(25,io))[0]," ",(null!==(t=null==o.pessoa||null==o.pessoa.nome||null==(t=o.pessoa.nome.split(" "))?null:t.reverse())&&void 0!==t?t:e.lJ4(26,io))[0]," "),e.R7$(4),e.Y8G("heading",e.bMT(17,21,"PersonalInfo")),e.R7$(2),e.R50("pessoa",o.pessoa),e.Y8G("cidade",o.cidade)("uf",o.uf)("pais",o.pais),e.R7$(),e.Y8G("heading",e.bMT(20,23,"Funcoes")),e.R7$(2),e.Y8G("colaboradorId",o.id),e.R50("funcoes",o.funcoes)("historicoFuncoes",o.historicoFuncoes)("gerentes",o.gerentes)("gerentesCF",o.gerentesCF),e.R7$(),e.Y8G("ngIf",o.showAbaCasos()),e.R7$(),e.Y8G("ngIf",o.showAbaGerenciados()),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Admin.People")||o.permission.isGranted("Business.Finance")),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Admin.People"))}},dependencies:[p.bT,F.V6,F.fw,J,se,Qe,eo,oo,no,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();function Aa(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",11)(1,"label"),e.EFF(2),e.k0s(),e.j41(3,"div")(4,"input",12),e.bIt("change",function(o){const t=e.eBV(n).$implicit,s=e.XpG();return e.Njj(s.funcaoChange(t.id,o.target.checked))}),e.k0s()()()}if(2&a){const n=d.$implicit,i=e.XpG();e.R7$(2),e.JRh(n.nome),e.R7$(2),e.Y8G("name",n.nome.toLowerCase())("checked",i.pessoa.funcoes.includes(n.id))}}let ya=(()=>{class a extends te{constructor(n,i,o,t){super(n,t),this._colaboradorService=i,this._funcaoOrgService=o,this.bsModalRef=t}ngOnInit(){super.ngOnInit(),this.funcoes=[],this._funcaoOrgService.getAll(void 0,void 0,void 0).subscribe(n=>{this.funcoes=n.items})}initEmptyPessoaDto(){this.pessoa=new c.sB,super.initEmptyPessoaDto(),this.pessoa.funcoes=[]}create(){return this._colaboradorService.create(this.pessoa)}funcaoChange(n,i){i&&!this.pessoa.funcoes.includes(n)?this.pessoa.funcoes.push(n):!i&&this.pessoa.funcoes.includes(n)&&this.pessoa.funcoes.splice(this.pessoa.funcoes.indexOf(n),1)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.i9),e.rXU(c.AM),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:20,vars:21,consts:[["createColaboradorModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],["ngModelGroup","infoPessoal",3,"pessoa"],["ngModelGroup","infoContato",3,"pessoa"],["ngModelGroup","endereco",3,"pessoa"],[1,"col","p-1","pb-4"],["class","row",4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[1,"row"],["type","checkbox",3,"change","name","checked"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"tabset")(6,"tab",4),e.nI1(7,"localize"),e.nrm(8,"info-pessoal-form",5),e.k0s(),e.j41(9,"tab",4),e.nI1(10,"localize"),e.nrm(11,"info-contato-form",6),e.k0s(),e.j41(12,"tab",4),e.nI1(13,"localize"),e.nrm(14,"endereco-residencia-form",7),e.k0s(),e.j41(15,"tab",4),e.nI1(16,"localize"),e.j41(17,"div",8),e.DNE(18,Aa,5,3,"div",9),e.k0s()()()(),e.j41(19,"abp-modal-footer",10),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,11,"CreateNewColaborador")),e.R7$(4),e.Y8G("heading",e.bMT(7,13,"InfoPessoal")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(10,15,"InfoContato")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(13,17,"Endere\xe7oResidencia")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(16,19,"Funcoes")),e.R7$(3),e.Y8G("ngForOf",o.funcoes),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.cb,l.Y4,l.cV,F.V6,F.fw,k.x,j.z,O,q,H,h.S],encapsulation:2})}return a})();const Ga=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function $a(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function Pa(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"button",38),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.detailsColaborador(o))}),e.nrm(11,"i",39),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){let n,i,o;const t=d.$implicit;e.R7$(2),e.JRh(t.nome),e.R7$(2),e.JRh(null!==(n=t.genero_Nome)&&void 0!==n?n:"-"),e.R7$(2),e.JRh(null!==(i=t.cpf)&&void 0!==i?i:"-"),e.R7$(2),e.JRh(null!==(o=null==t.dataNascimento?null:t.dataNascimento.format("DD/MM/yyyy"))&&void 0!==o?o:"-"),e.R7$(4),e.SpI(" ",e.bMT(13,5,"Details")," ")}}let wa=(()=>{class a extends y{constructor(n,i,o,t,s){super(n),this._colaboradoresService=i,this._modalService=o,this._router=t,this._route=s,this.colaboradores=[],this.keyword="",this.advancedFiltersVisible=!1}createColaborador(){let n;n=this._modalService.show(ya,{class:"modal-lg"}),n.content.onSave.subscribe(()=>{this.refresh()})}detailsColaborador(n){this._router.navigate(["details",n.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.isActive=void 0,this.getDataPage(1)}list(n,i,o){n.keyword=this.keyword,this._colaboradoresService.getAll(void 0,void 0,void 0,void 0,void 0,void 0,n.keyword,n.skipCount,n.maxResultCount).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.colaboradores=t.items,this.showPaging(t,i)})}delete(n){abp.message.confirm("O seguinte endere\xe7o ser\xe1 exclu\xeddo do banco",void 0,i=>{i&&this._colaboradoresService.delete(n.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.i9),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:65,vars:44,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"]],template:function(i,o){1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createColaborador()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,$a,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th"),e.EFF(45),e.nI1(46,"localize"),e.k0s(),e.j41(47,"th",24),e.EFF(48),e.nI1(49,"localize"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,Pa,14,7,"tr",25),e.nI1(52,"paginate"),e.k0s()()()(),e.j41(53,"div",26)(54,"div",2)(55,"div",27)(56,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(57,"i",29),e.k0s()(),e.j41(58,"div",30)(59,"p",31),e.EFF(60),e.nI1(61,"localize"),e.k0s()(),e.j41(62,"div",32)(63,"div",33)(64,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&i&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,18,"Colaboradores")),e.R7$(5),e.SpI(" ",e.bMT(12,20,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,22,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,24,"Nome")),e.R7$(3),e.JRh(e.bMT(40,26,"G\xeanero")),e.R7$(3),e.JRh(e.bMT(43,28,"CPF")),e.R7$(3),e.JRh(e.bMT(46,30,"Data de Nascimento")),e.R7$(3),e.JRh(e.bMT(49,32,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(52,34,o.colaboradores,e.sMw(40,Ga,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(61,37,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();function Na(a,d){if(1&a&&(e.j41(0,"option",20),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",n.id),e.R7$(),e.JRh(n.nome)}}let K=(()=>{class a extends _.q{set habilidade(n){this._habilidade=n,null!=this._habilidade&&null==this._habilidade.confirmacaoExplicitaRequeridaId&&(this._habilidade.confirmacaoExplicitaRequeridaId=this.tiposConfirmacao[0].id)}get habilidade(){return this._habilidade}constructor(n,i){super(n),this._protocoloAvaliacaoService=i,this.disabled=!1}ngOnInit(){null==this.tiposConfirmacao&&this._protocoloAvaliacaoService.getAllTiposConfirmacaoHabilidade().subscribe(n=>{this.tiposConfirmacao=n})}get isNova(){return this.habilidade instanceof c.ft||this.habilidade instanceof c.ft}get isCodificada(){return!this.habilidade.isPersonalizada}get codigo(){return this.habilidade?.codigo}set codigo(n){this.habilidade.codigo=n}get tipoConfirmacao(){return this.habilidade?.confirmacaoExplicitaRequeridaId?.toString()??""}set tipoConfirmacao(n){this.habilidade.confirmacaoExplicitaRequeridaId=Number(n)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.WD))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["habilidade-form"]],inputs:{disabled:"disabled",habilidade:"habilidade",tiposConfirmacao:"tiposConfirmacao"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:39,vars:29,consts:[["codigoModel","ngModel","codigoEl",""],["nomeModel","ngModel","nomeEl",""],["tipoConfModel","ngModel","tipoConfEl",""],["descModel","ngModel","descEl",""],[1,"form-group","row","required","mx-0"],["for","codigo",1,"col-md-2","col-form-label","mx-0","px-0"],[1,"col","mx-0","px-0"],["type","text","name","codigo","id","codigo","required","","maxlength","20",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],["for","nome",1,"col-md-2","col-form-label","mx-0","px-0"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"form-group","row","required","mx-0","px-0"],["for","tipoConf",1,"col-md-3","col-form-label","mx-0","px-0"],["name","tipoConf","id","tipoConf","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"row","m-0"],[1,"form-group","col","mx-0","px-0"],["for","desc",1,"row-0","form-label","mx-0","px-0"],[1,"row","mx-0","px-0"],["type","text","name","desc","id","desc","maxlength","1000",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",4)(1,"label",5),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",6)(5,"input",7,0),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.codigo,r)||(o.codigo=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",8),e.k0s()(),e.j41(9,"div",4)(10,"label",9),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",6)(14,"input",10,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.habilidade.nome,r)||(o.habilidade.nome=r),e.Njj(r)}),e.k0s(),e.nrm(17,"abp-validation-summary",8),e.k0s()(),e.j41(18,"div",11)(19,"label",12),e.EFF(20),e.nI1(21,"localize"),e.k0s(),e.j41(22,"div",6)(23,"select",13,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.tipoConfirmacao,r)||(o.tipoConfirmacao=r),e.Njj(r)}),e.DNE(26,Na,2,2,"option",14),e.k0s(),e.nrm(27,"abp-validation-summary",8),e.k0s()(),e.j41(28,"div",15)(29,"div",16)(30,"label",17),e.EFF(31),e.nI1(32,"localize"),e.k0s(),e.j41(33,"div",18)(34,"textarea",19,3),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.habilidade.desc,r)||(o.habilidade.desc=r),e.Njj(r)}),e.EFF(37,"            "),e.k0s(),e.nrm(38,"abp-validation-summary",8),e.k0s()()()}if(2&i){const t=e.sdS(6),s=e.sdS(7),r=e.sdS(15),m=e.sdS(16),f=e.sdS(24),v=e.sdS(25),C=e.sdS(35),S=e.sdS(36);e.R7$(2),e.SpI(" ",e.bMT(3,21,"Codigo")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.codigo),e.R7$(3),e.Y8G("control",t)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,23,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.habilidade.nome),e.R7$(3),e.Y8G("control",r)("controlEl",m),e.R7$(3),e.SpI(" ",e.bMT(21,25,"TipoConfirmacao")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.tipoConfirmacao),e.R7$(3),e.Y8G("ngForOf",o.tiposConfirmacao),e.R7$(),e.Y8G("control",f)("controlEl",v),e.R7$(4),e.SpI(" ",e.bMT(32,27,"Descricao")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.habilidade.desc),e.R7$(4),e.Y8G("control",C)("controlEl",S)}},dependencies:[p.Sq,l.xH,l.y7,l.me,l.wz,l.BC,l.YS,l.tU,l.vS,G.e,h.S],encapsulation:2})}return a})();function Va(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",20)(1,"div",21)(2,"div",22)(3,"a",23),e.bIt("click",function(){const o=e.eBV(n).index,t=e.XpG();return e.Njj(t.removeHabilidade(o))}),e.nrm(4,"i",24),e.k0s()(),e.nrm(5,"habilidade-form",25),e.k0s()()}if(2&a){const n=d.$implicit,i=d.index,o=e.XpG();e.R7$(2),e.Y8G("hidden",!o.isNovo||o.disabled),e.R7$(3),e.Y8G("habilidade",n)("tiposConfirmacao",o.tiposConfirmacao)("disabled",!o.isNovo||o.disabled)("ngModelGroup","habilidade"+i+"Form")}}let re=(()=>{class a extends _.q{constructor(n){super(n),this.disabled=!1,this.tiposConfirmacao=[]}get isNovo(){return this.dominio instanceof c.vv}createHabilidade(){this.dominio instanceof c.vv&&this.dominio.habilidades.push(new c.ft)}removeHabilidade(n){this.dominio instanceof c.vv&&this.dominio.habilidades.splice(n,1)}get habilidades(){if(this.dominio instanceof c.vv)return this.dominio.habilidades;if(this.dominio instanceof c.PJ){let n=this.dominio.id;return this.allHabilidades.filter(i=>i.dominioId==n)}}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["dominio-form"]],inputs:{disabled:"disabled",dominio:"dominio",allHabilidades:"allHabilidades",tiposConfirmacao:"tiposConfirmacao"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:39,vars:29,consts:[["codigoModel","ngModel","codigoEl",""],["nomeModel","ngModel","nomeEl",""],["descModel","ngModel","descEl",""],[1,"form-group","row","required","mx-0"],["for","codigo",1,"col-md-2","col-form-label","mx-0","px-0"],[1,"col","mx-0","px-0"],["type","text","name","codigo","id","codigo","required","","maxlength","20",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],["for","nome",1,"col-md-2","col-form-label","mx-0","px-0"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row","m-0"],[1,"form-group","col","mx-0","px-0"],["for","desc",1,"row-0","form-label","mx-0","px-0"],[1,"row","mx-0","px-0"],["type","text","name","desc","id","desc","maxlength","1000",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"pl-5","pr-0","mx-0"],["class","mx-0",4,"ngFor","ngForOf"],[1,"row","align-content-center","justify-content-center","mx-0",3,"hidden"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"mx-0"],[1,"mb-2","p-2","row",2,"border","1px solid lightgray"],[1,"col-0","align-content-start","justify-content-center","px-0","mx-0",3,"hidden"],["href","javascript:;",1,"btn","bg-danger",3,"click"],[1,"fa","fa-trash"],[1,"col",3,"habilidade","tiposConfirmacao","disabled","ngModelGroup"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",3)(1,"label",4),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",5)(5,"input",6,0),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.dominio.codigo,r)||(o.dominio.codigo=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",7),e.k0s()(),e.j41(9,"div",3)(10,"label",8),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",5)(14,"input",9,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.dominio.nome,r)||(o.dominio.nome=r),e.Njj(r)}),e.k0s(),e.nrm(17,"abp-validation-summary",7),e.k0s()(),e.j41(18,"div",10)(19,"div",11)(20,"label",12),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"div",13)(24,"textarea",14,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.dominio.desc,r)||(o.dominio.desc=r),e.Njj(r)}),e.EFF(27,"            "),e.k0s(),e.nrm(28,"abp-validation-summary",7),e.k0s()()(),e.j41(29,"label",13),e.EFF(30),e.nI1(31,"localize"),e.k0s(),e.j41(32,"div",15),e.DNE(33,Va,6,5,"div",16),e.j41(34,"div",17)(35,"a",18),e.bIt("click",function(){return e.eBV(t),e.Njj(o.createHabilidade())}),e.nrm(36,"i",19),e.EFF(37),e.nI1(38,"localize"),e.k0s()()()}if(2&i){const t=e.sdS(6),s=e.sdS(7),r=e.sdS(15),m=e.sdS(16),f=e.sdS(25),v=e.sdS(26);e.R7$(2),e.SpI(" ",e.bMT(3,19,"Codigo")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.dominio.codigo),e.R7$(3),e.Y8G("control",t)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,21,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.dominio.nome),e.R7$(3),e.Y8G("control",r)("controlEl",m),e.R7$(4),e.SpI(" ",e.bMT(22,23,"Descricao")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.dominio.desc),e.R7$(4),e.Y8G("control",f)("controlEl",v),e.R7$(2),e.SpI(" ",e.bMT(31,25,"Habilidades"),"\n"),e.R7$(3),e.Y8G("ngForOf",o.habilidades),e.R7$(),e.Y8G("hidden",!o.isNovo||o.disabled),e.R7$(3),e.SpI(" ",e.bMT(38,27,"CreateNewHabilidade")," ")}},dependencies:[p.Sq,l.me,l.BC,l.cb,l.YS,l.tU,l.vS,l.Y4,G.e,K,h.S],encapsulation:2})}return a})();function Ba(a,d){1&a&&(e.j41(0,"label",13),e.EFF(1),e.nI1(2,"localize"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Dom\xednios"),"\n"))}function za(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",31)(1,"a",32),e.bIt("click",function(){e.eBV(n);const o=e.XpG().index,t=e.XpG(2);return e.Njj(t.removeDominio(o))}),e.nrm(2,"i",33),e.k0s()()}}function Ya(a,d){if(1&a&&(e.j41(0,"div",27)(1,"div",28),e.DNE(2,za,3,0,"div",29),e.nrm(3,"dominio-form",30),e.k0s()()),2&a){const n=d.$implicit,i=d.index,o=e.XpG(2);e.R7$(2),e.Y8G("ngIf",o.isNovo&&!o.disabled),e.R7$(),e.Y8G("disabled",!o.isNovo||o.disabled)("dominio",n)("allHabilidades",o.allHabilidades)("tiposConfirmacao",o.tiposConfirmacao)("ngModelGroup","dominio"+i+"Form")}}function Ua(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",34)(1,"a",35),e.bIt("click",function(){e.eBV(n);const o=e.XpG(2);return e.Njj(o.createDominio())}),e.nrm(2,"i",36),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"CreateNewDominio")," "))}function Xa(a,d){if(1&a&&(e.j41(0,"div",24),e.DNE(1,Ya,4,6,"div",25)(2,Ua,5,3,"div",26),e.k0s()),2&a){const n=e.XpG();e.R7$(),e.Y8G("ngForOf",n.dominios),e.R7$(),e.Y8G("ngIf",n.isNovo&&!n.disabled)}}let le=(()=>{class a extends _.q{constructor(n){super(n),this.disabled=!1,this.tiposConfirmacao=[]}ngOnInit(){null!=this.nivel.mesIniFaixaEtaria&&(this._faixaIniAnos=Math.floor(this.nivel.mesIniFaixaEtaria/12),this._faixaIniMeses=this.nivel.mesIniFaixaEtaria%12),null!=this.nivel.mesFimFaixaEtaria&&(this._faixaFimAnos=Math.floor(this.nivel.mesFimFaixaEtaria/12),this._faixaFimMeses=this.nivel.mesFimFaixaEtaria%12)}get isNovo(){return this.nivel instanceof c.cl}createDominio(){this.nivel instanceof c.cl&&this.nivel.dominios.push(new c.vv)}removeDominio(n){this.nivel instanceof c.cl&&this.nivel.dominios.splice(n,1)}get dominios(){if(this.nivel instanceof c.cl)return this.nivel.dominios;if(this.nivel instanceof c.I$){let n=this.nivel.id;return this.allDominios?.filter(i=>i.nivelId==n)??[]}}_updateFaixaIni(){null!=this._faixaIniAnos||null!=this._faixaIniMeses?this.nivel.mesIniFaixaEtaria=12*(this._faixaIniAnos??0)+(this._faixaIniMeses??0):this.nivel.mesFimFaixaEtaria=void 0}_updateFaixaFim(){this.nivel.mesFimFaixaEtaria=null!=this._faixaFimAnos||null!=this._faixaFimMeses?12*(this._faixaFimAnos??0)+(this._faixaFimMeses??0):void 0}get faixaIniAnos(){return this._faixaIniAnos?.toString()??""}set faixaIniAnos(n){this._faixaIniAnos=""==(n??"")?void 0:Number(n),this._updateFaixaIni()}get faixaIniMeses(){return this._faixaIniMeses?.toString()??""}set faixaIniMeses(n){this._faixaIniMeses=""==(n??"")?void 0:Number(n),this._updateFaixaIni()}get faixaFimAnos(){return this._faixaFimAnos?.toString()??""}set faixaFimAnos(n){this._faixaFimAnos=""==(n??"")?void 0:Number(n),this._updateFaixaFim()}get faixaFimMeses(){return this._faixaFimMeses?.toString()??""}set faixaFimMeses(n){this._faixaFimMeses=""==(n??"")?void 0:Number(n),this._updateFaixaFim()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["nivel-form"]],inputs:{disabled:"disabled",nivel:"nivel",allDominios:"allDominios",allHabilidades:"allHabilidades",tiposConfirmacao:"tiposConfirmacao"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:53,vars:27,consts:[["nomeModel","ngModel","nomeEl",""],["faixaIniAnosModel","ngModel","faixaIniAnosEl",""],["faixaIniMesesModel","ngModel","faixaIniMesesEl",""],["faixaFimAnosModel","ngModel","faixaFimAnosEl",""],["faixaFimMesesModel","ngModel","faixaFimMesesEl",""],["descModel","ngModel","descEl",""],[1,"form-group","row","required","mx-0"],["for","nome",1,"col-md-2","col-form-label","mx-0","px-0"],[1,"col","mx-0","px-0"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],[1,"row","m-0"],["for","faixa",1,"col-md-2","col-form-label","mx-0","px-0"],[1,"row","mx-0","px-0"],[1,"col-0","px-2","py-1"],["type","number","name","faixaIniAnos","id","faixaIniAnos","min","0",1,"form-control","col-md-2",3,"ngModelChange","disabled","ngModel"],["type","number","name","faixaIniMeses","id","faixaIniMeses","min","0",1,"form-control","col-md-2",3,"ngModelChange","disabled","ngModel"],["type","number","name","faixaFimAnos","id","faixaFimAnos","min","0",1,"form-control","col-md-2",3,"ngModelChange","disabled","ngModel"],["type","number","name","faixaFimMeses","id","faixaFimMeses","min","0",1,"form-control","col-md-2",3,"ngModelChange","disabled","ngModel"],[1,"form-group","col","mx-0","px-0"],["for","desc",1,"row-0","form-label","mx-0","px-0"],["type","text","name","desc","id","desc","maxlength","1000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["class","row mx-0 px-0",4,"ngIf"],["class","pl-5 pr-0 mx-0",4,"ngIf"],[1,"pl-5","pr-0","mx-0"],["class","mx-0",4,"ngFor","ngForOf"],["class","row align-content-center justify-content-center mx-0",4,"ngIf"],[1,"mx-0"],[1,"mb-2","p-2","row",2,"border","1px solid lightgray"],["class","col-0 align-content-start justify-content-center px-0 mx-0",4,"ngIf"],[1,"col",3,"disabled","dominio","allHabilidades","tiposConfirmacao","ngModelGroup"],[1,"col-0","align-content-start","justify-content-center","px-0","mx-0"],["href","javascript:;",1,"btn","bg-danger",3,"click"],[1,"fa","fa-trash"],[1,"row","align-content-center","justify-content-center","mx-0"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",6)(1,"label",7),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",8)(5,"input",9,0),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.nivel.nome,r)||(o.nivel.nome=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",10),e.k0s()(),e.j41(9,"div",11)(10,"label",12),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",8)(14,"div",13)(15,"div",14),e.EFF(16,"A partir de"),e.k0s(),e.j41(17,"input",15,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.faixaIniAnos,r)||(o.faixaIniAnos=r),e.Njj(r)}),e.k0s(),e.j41(20,"div",14),e.EFF(21,"anos e"),e.k0s(),e.j41(22,"input",16,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.faixaIniMeses,r)||(o.faixaIniMeses=r),e.Njj(r)}),e.k0s(),e.j41(25,"div",14),e.EFF(26,"meses."),e.k0s()(),e.j41(27,"div",13)(28,"div",14),e.EFF(29,"At\xe9"),e.k0s(),e.j41(30,"input",17,3),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.faixaFimAnos,r)||(o.faixaFimAnos=r),e.Njj(r)}),e.k0s(),e.j41(33,"div",14),e.EFF(34,"anos e"),e.k0s(),e.j41(35,"input",18,4),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.faixaFimMeses,r)||(o.faixaFimMeses=r),e.Njj(r)}),e.k0s(),e.j41(38,"div",14),e.EFF(39,"meses."),e.k0s()()()(),e.j41(40,"div",11)(41,"div",19)(42,"label",20),e.EFF(43),e.nI1(44,"localize"),e.k0s(),e.j41(45,"div",13)(46,"textarea",21,5),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.nivel.desc,r)||(o.nivel.desc=r),e.Njj(r)}),e.EFF(49,"            "),e.k0s(),e.nrm(50,"abp-validation-summary",10),e.k0s()()(),e.DNE(51,Ba,3,3,"label",22)(52,Xa,3,2,"div",23)}if(2&i){const t=e.sdS(6),s=e.sdS(7),r=e.sdS(47),m=e.sdS(48);e.R7$(2),e.SpI(" ",e.bMT(3,21,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.nivel.nome),e.R7$(3),e.Y8G("control",t)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,23,"FaixaEtaria")," "),e.R7$(6),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.faixaIniAnos),e.R7$(5),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.faixaIniMeses),e.R7$(8),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.faixaFimAnos),e.R7$(5),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.faixaFimMeses),e.R7$(8),e.SpI(" ",e.bMT(44,25,"Descricao")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.nivel.desc),e.R7$(4),e.Y8G("control",r)("controlEl",m),e.R7$(),e.Y8G("ngIf",o.isNovo),e.R7$(),e.Y8G("ngIf",o.isNovo)}},dependencies:[p.Sq,p.bT,l.me,l.Q0,l.BC,l.cb,l.YS,l.tU,l.VZ,l.vS,l.Y4,G.e,re,h.S],encapsulation:2})}return a})(),qa=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._protocoloAvaliacaoService=i,this.bsModalRef=o,this.tiposConfirmacao=[],this.onSave=new e.bkB,this.nivel=new c.cl}ngOnInit(){}add(){this.saving=!0,this.nivel.protocoloAvaliacaoId=this.protocoloAvaliacao.id,this._protocoloAvaliacaoService.createNivel(this.nivel).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.saving=!1,this.onSave.emit()})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["addNivelModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","nivelForm",3,"nivel","tiposConfirmacao"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.add())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"nivel-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"AddNewNivel")),e.R7$(3),e.Y8G("nivel",o.nivel)("tiposConfirmacao",o.tiposConfirmacao),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,k.x,j.z,le,h.S],encapsulation:2})}return a})(),Ha=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._protocoloAvaliacaoService=i,this.bsModalRef=o,this.tiposConfirmacao=[],this.onSave=new e.bkB}ngOnInit(){}add(){this.saving=!0;let n=new c.t2(this.nivel);this._protocoloAvaliacaoService.updateNivel(n).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.saving=!1,this.onSave.emit()})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["updateNivelModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","nivelForm",3,"tiposConfirmacao","nivel"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.add())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"nivel-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"UpdateNivel")),e.R7$(3),e.Y8G("tiposConfirmacao",o.tiposConfirmacao)("nivel",o.nivel),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,k.x,j.z,le,h.S],encapsulation:2})}return a})(),xa=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._protocoloAvaliacaoService=i,this.bsModalRef=o,this.tiposConfirmacao=[],this.onSave=new e.bkB,this.dominio=new c.vv}ngOnInit(){}add(){this.saving=!0,this.dominio.nivelId=this.nivel.id,this._protocoloAvaliacaoService.createDominio(this.dominio).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.saving=!1,this.onSave.emit()})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["addDominioModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","dominioForm",3,"dominio","tiposConfirmacao"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.add())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"dominio-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"AddNewDominio")),e.R7$(3),e.Y8G("dominio",o.dominio)("tiposConfirmacao",o.tiposConfirmacao),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,k.x,j.z,re,h.S],encapsulation:2})}return a})(),Oa=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._protocoloAvaliacaoService=i,this.bsModalRef=o,this.tiposConfirmacao=[],this.onSave=new e.bkB}ngOnInit(){}add(){this.saving=!0;let n=new c.Wm(this.dominio);this._protocoloAvaliacaoService.updateDominio(n).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.saving=!1,this.onSave.emit()})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["updateDominioModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","dominioForm",3,"tiposConfirmacao","dominio"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.add())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"dominio-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"UpdateDominio")),e.R7$(3),e.Y8G("tiposConfirmacao",o.tiposConfirmacao)("dominio",o.dominio),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,k.x,j.z,re,h.S],encapsulation:2})}return a})(),Ja=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._protocoloAvaliacaoService=i,this.bsModalRef=o,this.tiposConfirmacao=[],this.onSave=new e.bkB}ngOnInit(){this.habilidade=new c.ft,this.habilidade.isPersonalizada=!1}get codificada(){return!this.habilidade.isPersonalizada}set codificada(n){this.habilidade.isPersonalizada=!n}add(){this.saving=!0,this.habilidade.dominioId=this.dominio.id,this._protocoloAvaliacaoService.createHabilidade(this.habilidade).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.saving=!1,this.onSave.emit()})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["addHabilidadeModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","habilidadeForm",3,"habilidade","tiposConfirmacao"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.add())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"habilidade-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"AddNewHabilidade")),e.R7$(3),e.Y8G("habilidade",o.habilidade)("tiposConfirmacao",o.tiposConfirmacao),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,k.x,j.z,K,h.S],encapsulation:2})}return a})(),La=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._protocoloAvaliacaoService=i,this.bsModalRef=o,this.tiposConfirmacao=[],this.onSave=new e.bkB}ngOnInit(){}add(){this.saving=!0;let n=new c.WJ(this.habilidade);this._protocoloAvaliacaoService.updateHabilidade(n).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.saving=!1,this.onSave.emit()})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["updateHabilidadeModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","habilidadeForm",3,"tiposConfirmacao","habilidade"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.add())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"habilidade-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"UpdateHabilidade")),e.R7$(3),e.Y8G("tiposConfirmacao",o.tiposConfirmacao)("habilidade",o.habilidade),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,k.x,j.z,K,h.S],encapsulation:2})}return a})();function Za(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",3)(1,"button",8),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.deleteHabilidade())}),e.nrm(2,"i",9),e.k0s()()}}function Qa(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",3)(1,"button",4),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.updateHabilidade())}),e.nrm(2,"i",10),e.k0s()()}}let Wa=(()=>{class a extends _.q{get isCodificada(){return this.habilidade instanceof c.Bg}get codigo(){return this.habilidade instanceof c.Bg?this.habilidade.codigo:""}set codigo(n){this.habilidade instanceof c.Bg&&(this.habilidade.codigo=n)}constructor(n,i,o,t,s){super(n),this._protocoloAvaliacaoService=i,this._modalService=o,this._router=t,this._route=s,this.deetsHidden=!0,this.onDelete=new e.bkB,this.onUpdate=new e.bkB}ngOnInit(){}updateHabilidade(){let n;n=this._modalService.show(La,{class:"modal-lg",initialState:{protocoloAvaliacao:this.protocoloAvaliacao,dominio:this.dominio,habilidade:this.habilidade,tiposConfirmacao:this.tiposConfirmacao}}),n.content.onSave.subscribe(()=>{this.onUpdate.emit()})}deleteHabilidade(){abp.message.confirm("A seguinte habilidade ser\xe1 exclu\xedda do banco: "+this.habilidade.nome,void 0,n=>{n&&this._protocoloAvaliacaoService.deleteHabilidade(this.habilidade.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.onDelete.emit()})})}getNomeConfirmacao(){return this.tiposConfirmacao?.find(n=>n.id==this.habilidade.confirmacaoExplicitaRequeridaId)?.nome}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["habilidade-details"]],inputs:{protocoloAvaliacao:"protocoloAvaliacao",dominio:"dominio",habilidade:"habilidade",tiposConfirmacao:"tiposConfirmacao"},outputs:{onDelete:"onDelete",onUpdate:"onUpdate"},features:[e.Vt3],decls:15,vars:9,consts:[[1,"row","m-0","p-0"],[1,"col","p-1","m-0","align-self-end","justify-self-end"],["class","col-0 p-1 align-self-end justify-self-end",4,"ngIf"],[1,"col-0","p-1","align-self-end","justify-self-end"],["type","button",1,"btn-sm","bg-secondary",3,"click"],[1,"fa","fa-angle-right",3,"hidden"],[1,"fa","fa-angle-down",3,"hidden"],[1,"m-0","p-0","pl-4",2,"font-size","10pt",3,"hidden"],["type","button",1,"btn-sm","bg-danger",3,"click"],[1,"fa","fa-trash"],[1,"fa","fa-pencil-alt"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"label",0),e.EFF(3),e.k0s()(),e.DNE(4,Za,3,0,"div",2)(5,Qa,3,0,"div",2),e.j41(6,"div",3)(7,"button",4),e.bIt("click",function(){return o.deetsHidden=!o.deetsHidden}),e.nrm(8,"i",5)(9,"i",6),e.k0s()()(),e.j41(10,"div",7)(11,"span"),e.EFF(12),e.k0s(),e.j41(13,"p"),e.EFF(14),e.k0s()()),2&i&&(e.R7$(3),e.Lme("",""!=o.codigo?o.codigo+" -":""," ",o.habilidade.nome,""),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(3),e.Y8G("hidden",!o.deetsHidden),e.R7$(),e.Y8G("hidden",o.deetsHidden),e.R7$(),e.Y8G("hidden",o.deetsHidden),e.R7$(2),e.SpI("Tipo de confirma\xe7\xe3o: ",o.getNomeConfirmacao(),""),e.R7$(2),e.JRh(o.habilidade.desc))},dependencies:[p.bT],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();function Ka(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",3)(1,"button",13),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.deleteDominio())}),e.nrm(2,"i",14),e.k0s()()}}function es(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",3)(1,"button",4),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.updateDominio())}),e.nrm(2,"i",15),e.k0s()()}}function os(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",16)(1,"a",17),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.addHabilidade(!0))}),e.nrm(2,"i",18),e.k0s()()}}function ns(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",19)(1,"div",20)(2,"habilidade-details",21),e.bIt("onUpdate",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.onUpdate.emit())})("onDelete",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.onUpdate.emit())}),e.k0s()()()}if(2&a){const n=d.$implicit,i=e.XpG();e.R7$(2),e.Y8G("tiposConfirmacao",i.tiposConfirmacao)("protocoloAvaliacao",i.protocoloAvaliacao)("dominio",i.dominio)("habilidade",n)}}function is(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",16)(1,"a",17),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.addHabilidade(!1))}),e.nrm(2,"i",18),e.k0s()()}}function ts(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",19)(1,"div",20)(2,"habilidade-details",22),e.bIt("onUpdate",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.onUpdate.emit())})("onDelete",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.onUpdate.emit())}),e.k0s()()()}if(2&a){const n=d.$implicit,i=e.XpG();e.R7$(2),e.Y8G("protocoloAvaliacao",i.protocoloAvaliacao)("dominio",i.dominio)("habilidade",n)}}let as=(()=>{class a extends _.q{constructor(n,i,o,t,s){super(n),this._protocoloAvaliacaoService=i,this._modalService=o,this._router=t,this._route=s,this.deetsHidden=!0,this.onDelete=new e.bkB,this.onUpdate=new e.bkB}_splitHabilidades(){this.habilidadesCodificadas=this.habilidades.filter(n=>!n.isPersonalizada),this.habilidadesPersonalizadas=this.habilidades.filter(n=>n.isPersonalizada)}ngOnInit(){null!=this.habilidades?(this.habilidades=this.habilidades.filter(n=>n.dominioId==this.dominio.id),this._splitHabilidades()):this._protocoloAvaliacaoService.getAllHabilidades(void 0,void 0,void 0,this.dominio.id,void 0,void 0,void 0,void 0,void 0,void 0).subscribe(n=>{this.habilidades=n.items,this._splitHabilidades()})}updateDominio(){let n;n=this._modalService.show(Oa,{class:"modal-lg",initialState:{nivel:this.nivel,dominio:this.dominio,tiposConfirmacao:this.tiposConfirmacao}}),n.content.onSave.subscribe(()=>{this.onUpdate.emit()})}deleteDominio(){abp.message.confirm("O seguinte dominio ser\xe1 exclu\xeddo do banco: "+this.dominio.nome,void 0,n=>{n&&this._protocoloAvaliacaoService.deleteDominio(this.dominio.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.onDelete.emit()})})}addHabilidade(n){let i;i=this._modalService.show(Ja,{class:"modal-lg",initialState:{protocoloAvaliacao:this.protocoloAvaliacao,dominio:this.dominio,codificada:n,tiposConfirmacao:this.tiposConfirmacao}}),i.content.onSave.subscribe(()=>{this.onUpdate.emit()})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["dominio-details"]],inputs:{protocoloAvaliacao:"protocoloAvaliacao",nivel:"nivel",dominio:"dominio",habilidades:"habilidades",tiposConfirmacao:"tiposConfirmacao"},outputs:{onDelete:"onDelete",onUpdate:"onUpdate"},features:[e.Vt3],decls:22,vars:11,consts:[[1,"row","m-0","p-0"],[1,"col","p-1","m-0","align-self-end","justify-self-end"],["class","col-0 p-1 align-self-end justify-self-end",4,"ngIf"],[1,"col-0","p-1","align-self-end","justify-self-end"],["type","button",1,"btn-sm","bg-secondary",3,"click"],[1,"fa","fa-angle-right",3,"hidden"],[1,"fa","fa-angle-down",3,"hidden"],[1,"m-0","p-0","pl-4",3,"hidden"],[1,"row","p-0","m-0",2,"font-size","10pt"],[1,"row","mx-0","my-1","p-0"],[1,"col","p-0","m-0","align-self-center","justify-self-center"],["class","col-0 p-0 m-0 align-self-end justify-self-end",4,"ngIf"],["class","pl-2",4,"ngFor","ngForOf"],["type","button",1,"btn-sm","bg-danger",3,"click"],[1,"fa","fa-trash"],[1,"fa","fa-pencil-alt"],[1,"col-0","p-0","m-0","align-self-end","justify-self-end"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"pl-2"],[1,"mb-2","p-2",2,"border","1px solid lightgray"],[3,"onUpdate","onDelete","tiposConfirmacao","protocoloAvaliacao","dominio","habilidade"],[3,"onUpdate","onDelete","protocoloAvaliacao","dominio","habilidade"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"label",1),e.EFF(2),e.k0s(),e.DNE(3,Ka,3,0,"div",2)(4,es,3,0,"div",2),e.j41(5,"div",3)(6,"button",4),e.bIt("click",function(){return o.deetsHidden=!o.deetsHidden}),e.nrm(7,"i",5)(8,"i",6),e.k0s()()(),e.j41(9,"div",7)(10,"span",8),e.EFF(11),e.k0s(),e.j41(12,"div",9)(13,"label",10),e.EFF(14,"Habilidades"),e.k0s(),e.DNE(15,os,3,0,"div",11),e.k0s(),e.DNE(16,ns,3,4,"div",12),e.j41(17,"div",9)(18,"label",10),e.EFF(19,"Habilidades Personalizadas"),e.k0s(),e.DNE(20,is,3,0,"div",11),e.k0s(),e.DNE(21,ts,3,3,"div",12),e.k0s()),2&i&&(e.R7$(2),e.SpI(" ",o.dominio.nome," "),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(3),e.Y8G("hidden",!o.deetsHidden),e.R7$(),e.Y8G("hidden",o.deetsHidden),e.R7$(),e.Y8G("hidden",o.deetsHidden),e.R7$(2),e.JRh(o.dominio.desc),e.R7$(4),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(),e.Y8G("ngForOf",o.habilidadesCodificadas),e.R7$(4),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(),e.Y8G("ngForOf",o.habilidadesPersonalizadas))},dependencies:[p.Sq,p.bT,Wa],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();function ss(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",3)(1,"button",13),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.deleteNivel())}),e.nrm(2,"i",14),e.k0s()()}}function rs(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",3)(1,"button",4),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.updateNivel())}),e.nrm(2,"i",15),e.k0s()()}}function ls(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",16)(1,"a",17),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.addDominio())}),e.nrm(2,"i",18),e.k0s()()}}function ds(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",19)(1,"div",20)(2,"dominio-details",21),e.bIt("onUpdate",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.onUpdate.emit())})("onDelete",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.onUpdate.emit())}),e.k0s()()()}if(2&a){const n=d.$implicit,i=e.XpG();e.R7$(2),e.Y8G("tiposConfirmacao",i.tiposConfirmacao)("protocoloAvaliacao",i.protocoloAvaliacao)("nivel",i.nivel)("dominio",n)}}let cs=(()=>{class a extends _.q{get dominios(){return this._dominios}set dominios(n){this._dominios=n?.filter(i=>i.nivelId==this.nivel?.id)??[]}get habilidades(){return this._habilidades}set habilidades(n){this._habilidades=n?.filter(i=>this.dominios?.some(o=>o.id==i.dominioId)??!1)??[]}constructor(n,i,o,t,s){super(n),this._protocoloAvaliacaoService=i,this._modalService=o,this._router=t,this._route=s,this.deetsHidden=!0,this.onDelete=new e.bkB,this.onUpdate=new e.bkB}ngOnInit(){null==this.dominios&&this._protocoloAvaliacaoService.getAllDominios(void 0,void 0,this.nivel.id,void 0,void 0,void 0,void 0).subscribe(n=>{this._dominios=n.items}),null==this.habilidades&&this._protocoloAvaliacaoService.getAllHabilidades(void 0,void 0,void 0,void 0,this.nivel.id,void 0,void 0,void 0,void 0,void 0).subscribe(n=>{this._habilidades=n.items})}updateNivel(){let n;n=this._modalService.show(Ha,{class:"modal-lg",initialState:{protocoloAvaliacao:this.protocoloAvaliacao,nivel:this.nivel,tiposConfirmacao:this.tiposConfirmacao}}),n.content.onSave.subscribe(()=>{this.onUpdate.emit()})}deleteNivel(){abp.message.confirm("O seguinte nivel ser\xe1 exclu\xeddo do banco: "+this.nivel.nome,void 0,n=>{n&&this._protocoloAvaliacaoService.deleteNivel(this.nivel.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.onDelete.emit()})})}addDominio(){let n;n=this._modalService.show(xa,{class:"modal-lg",initialState:{nivel:this.nivel,tiposConfirmacao:this.tiposConfirmacao}}),n.content.onSave.subscribe(()=>{this.onUpdate.emit()})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["nivel-details"]],inputs:{protocoloAvaliacao:"protocoloAvaliacao",nivel:"nivel",dominios:"dominios",habilidades:"habilidades",tiposConfirmacao:"tiposConfirmacao"},outputs:{onDelete:"onDelete",onUpdate:"onUpdate"},features:[e.Vt3],decls:18,vars:12,consts:[[1,"row","m-0","p-0"],[1,"col","p-1","m-0","align-self-end","justify-self-end"],["class","col-0 p-1 align-self-end justify-self-end",4,"ngIf"],[1,"col-0","p-1","align-self-end","justify-self-end"],["type","button",1,"btn-sm","bg-secondary",3,"click"],[1,"fa","fa-angle-right",3,"hidden"],[1,"fa","fa-angle-down",3,"hidden"],[1,"m-0","p-0","pl-4",3,"hidden"],[1,"row","p-0","m-0",2,"font-size","10pt"],[1,"row","mx-0","my-1","p-0"],[1,"col","p-0","m-0","align-self-center","justify-self-center"],["class","col-0 p-0 m-0 align-self-end justify-self-end",4,"ngIf"],["class","pl-2",4,"ngFor","ngForOf"],["type","button",1,"btn-sm","bg-danger",3,"click"],[1,"fa","fa-trash"],[1,"fa","fa-pencil-alt"],[1,"col-0","p-0","m-0","align-self-end","justify-self-end"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"pl-2"],[1,"mb-2","p-2",2,"border","1px solid lightgray"],[3,"onUpdate","onDelete","tiposConfirmacao","protocoloAvaliacao","nivel","dominio"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"label",1),e.EFF(2),e.k0s(),e.DNE(3,ss,3,0,"div",2)(4,rs,3,0,"div",2),e.j41(5,"div",3)(6,"button",4),e.bIt("click",function(){return o.deetsHidden=!o.deetsHidden}),e.nrm(7,"i",5)(8,"i",6),e.k0s()()(),e.j41(9,"div",7)(10,"span",8),e.EFF(11),e.k0s(),e.j41(12,"div",9)(13,"label",10),e.EFF(14),e.nI1(15,"localize"),e.k0s(),e.DNE(16,ls,3,0,"div",11),e.k0s(),e.DNE(17,ds,3,4,"div",12),e.k0s()),2&i&&(e.R7$(2),e.SpI(" ",o.nivel.nome," "),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(3),e.Y8G("hidden",!o.deetsHidden),e.R7$(),e.Y8G("hidden",o.deetsHidden),e.R7$(),e.Y8G("hidden",o.deetsHidden),e.R7$(2),e.JRh(o.nivel.desc),e.R7$(3),e.JRh(e.bMT(15,10,"Dominios")),e.R7$(2),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(),e.Y8G("ngForOf",o.dominios))},dependencies:[p.Sq,p.bT,as,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();function us(a,d){if(1&a){const n=e.RV6();e.qex(0),e.j41(1,"div",1)(2,"label",2),e.EFF(3),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.detailsAluno(o.caso.aluno))}),e.nrm(6,"i",5),e.k0s()()(),e.bVm()}if(2&a){const n=d.$implicit;e.R7$(3),e.SpI(" ",n.caso.aluno.nome," ")}}let ms=(()=>{class a extends _.q{constructor(n,i,o,t,s,r,m){super(n),this._protocoloAvaliacaoService=i,this._casoService=o,this._alunoService=t,this._modalService=s,this._router=r,this._route=m}ngOnInit(){this.refresh()}refresh(){this.aplicacoes=[],null!=this.protocoloAvaliacao&&this._casoService.getAllAplicacoesProtocoloAvaliacao(void 0,this.protocoloAvaliacao.id).subscribe(n=>this.aplicacoes=n)}detailsAluno(n){this._router.navigate(["../../../alunos/details",n.id],{relativeTo:this._route})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(c.iD),e.rXU(c.pg),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["casos-protocolo-avaliacao"]],inputs:{protocoloAvaliacao:"protocoloAvaliacao"},features:[e.Vt3],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"row"],[1,"col-0"],[1,"col-2"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-link"]],template:function(i,o){1&i&&e.DNE(0,us,7,1,"ng-container",0),2&i&&e.Y8G("ngForOf",o.aplicacoes)},dependencies:[p.Sq],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const ps=()=>[];function hs(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",21)(1,"button",22),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.toRefBibDetails())}),e.nrm(2,"i",23),e.k0s()()}if(2&a){const n=e.XpG();e.R7$(),e.Y8G("disabled",null==(null==n.protocoloAvaliacao?null:n.protocoloAvaliacao.refBibliograficaId))}}function gs(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",24)(1,"nivel-details",25),e.bIt("onUpdate",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.ngOnInit())})("onDelete",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.ngOnInit())}),e.k0s()()}if(2&a){const n=d.$implicit,i=e.XpG();e.R7$(),e.Y8G("tiposConfirmacao",i.tiposConfirmacao)("protocoloAvaliacao",i.protocoloAvaliacao)("nivel",n)("dominios",i.dominios)("habilidades",i.habilidades)}}function fs(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",26)(1,"a",27),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.addNivel())}),e.nrm(2,"i",28),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"AddNewNivel")," "))}function bs(a,d){if(1&a&&(e.j41(0,"tab",12),e.nI1(1,"localize"),e.nrm(2,"casos-protocolo-avaliacao",29),e.k0s()),2&a){const n=e.XpG();e.Y8G("heading",e.bMT(1,2,"Casos")),e.R7$(2),e.Y8G("protocoloAvaliacao",n.protocoloAvaliacao)}}let _s=(()=>{class a extends _.q{constructor(n,i,o,t,s,r,m,f){super(n),this._protocoloAvaliacaoService=i,this._refBibliograficaService=o,this._alunoService=t,this._changeDetector=s,this._modalService=r,this._router=m,this._route=f,this.tiposConfirmacao=[],this._protocoloAvaliacaoService.getAllTiposConfirmacaoHabilidade().subscribe(v=>{this.tiposConfirmacao=v.sort((C,S)=>{let $=(C?.nome??"").toLowerCase().startsWith("obs");return $==(S?.nome??"").toLowerCase().startsWith("obs")?0:$?-1:1})})}ngOnInit(){const i=Number(this._route.snapshot.paramMap.get("protocoloAvaliacaoId"));this._protocoloAvaliacaoService.get(i).subscribe(o=>{this.protocoloAvaliacao=o,null!=o?.refBibliograficaId&&this._refBibliograficaService.get(o.refBibliograficaId).subscribe(t=>{this.refBibliografica=t})}),this._protocoloAvaliacaoService.getAllNiveis(void 0,i,void 0,void 0,void 0,void 0).subscribe(o=>{this.niveis=o.items,console.log(o)}),this._protocoloAvaliacaoService.getAllDominios(void 0,i,void 0,void 0,void 0,0,100).subscribe(o=>{this.dominios=o.items,console.log(o)}),this._protocoloAvaliacaoService.getAllHabilidades(void 0,void 0,void 0,void 0,void 0,i,void 0,void 0,0,1e3).subscribe(o=>{this.habilidades=o.items,console.log(o)})}addNivel(){let n;n=this._modalService.show(qa,{class:"modal-lg",initialState:{protocoloAvaliacao:this.protocoloAvaliacao,tiposConfirmacao:this.tiposConfirmacao}}),n.content.onSave.subscribe(()=>{this.ngOnInit()})}goBack(){this._router.navigate(["app","protocolos-avaliacao"])}toRefBibDetails(){null!=this.protocoloAvaliacao?.refBibliograficaId&&this._router.navigate(["app","ref-bibliograficas","details",this.protocoloAvaliacao.refBibliograficaId])}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(c.xR),e.rXU(c.pg),e.rXU(e.gRc),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:32,vars:21,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","m-0","p-0"],[1,"row","m-0","mt-4","p-0"],[1,"col-0","m-0","p-0","align-content-center"],[1,"col-0","m-0","p-0","align-content-center","mx-2"],["class","col-0 m-0 p-0",4,"ngIf"],["class","mb-2 p-1","style","border: 1px solid lightgray;",4,"ngFor","ngForOf"],["class","row m-0 align-content-center justify-content-center",4,"ngIf"],["class","p-3","style","\n                    border: 1px solid #dee2e6; \n                    border-top: 0px; \n                    border-bottom-left-radius: .25rem;\n                    border-bottom-right-radius: .25rem; \n                    background-color: white;",3,"heading",4,"ngIf"],[1,"col-0","m-0","p-0"],["type","button",1,"btn","bg-blue",3,"click","disabled"],[1,"fa","fa-link"],[1,"mb-2","p-1",2,"border","1px solid lightgray"],[1,"m-0",3,"onUpdate","onDelete","tiposConfirmacao","protocoloAvaliacao","nivel","dominios","habilidades"],[1,"row","m-0","align-content-center","justify-content-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[3,"protocoloAvaliacao"]],template:function(i,o){if(1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"h1",8),e.EFF(12),e.k0s()()()(),e.j41(13,"section",9)(14,"div",10)(15,"tabset",11)(16,"tab",12),e.nI1(17,"localize"),e.j41(18,"p",13),e.EFF(19),e.k0s(),e.j41(20,"div",14)(21,"div",15),e.EFF(22),e.nI1(23,"localize"),e.k0s(),e.j41(24,"div",16),e.EFF(25),e.k0s(),e.DNE(26,hs,3,1,"div",17),e.k0s()(),e.j41(27,"tab",12),e.nI1(28,"localize"),e.DNE(29,gs,2,5,"div",18)(30,fs,5,3,"div",19),e.k0s(),e.DNE(31,bs,3,4,"tab",20),e.k0s()()()()),2&i){let t,s;e.Y8G("@routerTransition",void 0),e.R7$(9),e.SpI(" ",e.bMT(10,12,"Detalhes do Protocolo de Avalia\xe7\xe3o")," "),e.R7$(3),e.SpI(" ",null==o.protocoloAvaliacao?null:o.protocoloAvaliacao.nome," "),e.R7$(4),e.Y8G("heading",e.bMT(17,14,"Descricao")),e.R7$(3),e.SpI(" ",null==o.protocoloAvaliacao?null:o.protocoloAvaliacao.desc," "),e.R7$(3),e.SpI("",e.bMT(23,16,"Refer\xeancia Bibliogr\xe1fica"),":"),e.R7$(3),e.JRh(null!==(t=null==o.refBibliografica?null:o.refBibliografica.nome)&&void 0!==t?t:"N/A"),e.R7$(),e.Y8G("ngIf",null!=(null==o.protocoloAvaliacao?null:o.protocoloAvaliacao.refBibliograficaId)),e.R7$(),e.Y8G("heading",e.bMT(28,18,"Niveis")),e.R7$(2),e.Y8G("ngForOf",null!==(s=o.niveis)&&void 0!==s?s:e.lJ4(20,ps)),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Admin.People"))}},dependencies:[p.Sq,p.bT,F.V6,F.fw,cs,ms,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})(),vs=(()=>{class a extends _.q{constructor(n){super(n),this.disabled=!1}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["info-protocolo-avaliacao-form"]],inputs:{disabled:"disabled",protocoloAvaliacao:"protocoloAvaliacao"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:20,vars:14,consts:[["nomeModel","ngModel","nomeEl",""],["descModel","ngModel","descEl",""],[1,"form-group","row","required","mx-0"],["for","nome",1,"col-md-2","col-form-label","mx-0"],[1,"col","mx-0"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],[1,"row","m-0"],[1,"form-group","col","mx-0"],["for","desc",1,"row-0","form-label","mx-0"],[1,"row","mx-0"],["type","text","name","desc","id","desc","maxlength","1000",1,"form-control",3,"ngModelChange","disabled","ngModel"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",2)(1,"label",3),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",4)(5,"input",5,0),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.protocoloAvaliacao.nome,r)||(o.protocoloAvaliacao.nome=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",6),e.k0s()(),e.j41(9,"div",7)(10,"div",8)(11,"label",9),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"div",10)(15,"textarea",11,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.protocoloAvaliacao.desc,r)||(o.protocoloAvaliacao.desc=r),e.Njj(r)}),e.EFF(18,"            "),e.k0s(),e.nrm(19,"abp-validation-summary",6),e.k0s()()()}if(2&i){const t=e.sdS(6),s=e.sdS(7),r=e.sdS(16),m=e.sdS(17);e.R7$(2),e.SpI(" ",e.bMT(3,10,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.protocoloAvaliacao.nome),e.R7$(3),e.Y8G("control",t)("controlEl",s),e.R7$(4),e.SpI(" ",e.bMT(13,12,"Descricao")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.protocoloAvaliacao.desc),e.R7$(4),e.Y8G("control",r)("controlEl",m)}},dependencies:[l.me,l.BC,l.YS,l.tU,l.vS,G.e,h.S],encapsulation:2})}return a})();function Cs(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"a",14),e.bIt("click",function(){const o=e.eBV(n).index,t=e.XpG();return e.Njj(t.removeNivel(o))}),e.nrm(4,"i",15),e.k0s()(),e.nrm(5,"nivel-form",16),e.k0s()()}if(2&a){const n=d.$implicit,i=d.index,o=e.XpG();e.R7$(5),e.Y8G("nivel",n)("tiposConfirmacao",o.tiposConfirmacao)("ngModelGroup","nivel"+i+"Form")}}let Is=(()=>{class a extends _.q{get tipoConfDefault(){return this.tiposConfirmacao?.find(n=>n.nome.toLowerCase().startsWith("obs"))?.id}constructor(n,i,o){super(n),this._protocoloAvaliacaoService=i,this.bsModalRef=o,this.tiposConfirmacao=[],this.onSave=new e.bkB,this.protocoloAvaliacao=new c._m,this._protocoloAvaliacaoService.getAllTiposConfirmacaoHabilidade().subscribe(t=>{this.tiposConfirmacao=t.sort((s,r)=>{let m=s.nome.toLowerCase().startsWith("obs");return m==r.nome.toLowerCase().startsWith("obs")?0:m?-1:1})})}ngOnInit(){}create(){this.saving=!0,console.log(this.protocoloAvaliacao),this._protocoloAvaliacaoService.create(this.protocoloAvaliacao).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.saving=!1,this.onSave.emit()})}createNivel(){this.protocoloAvaliacao.niveis.push(new c.cl)}removeNivel(n){this.protocoloAvaliacao.niveis.splice(n,1)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:18,vars:16,consts:[["createProtocoloAvaliacaoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],["ngModelGroup","infoProtocoloAvaliacao",3,"protocoloAvaliacao"],["class","mx-0",4,"ngFor","ngForOf"],[1,"row","align-content-center","justify-content-center","mx-0"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[1,"mx-0"],[1,"mb-2","p-2","row",2,"border","1px solid lightgray"],[1,"col-0","align-content-start","justify-content-center","px-0","mx-0"],["href","javascript:;",1,"btn","bg-danger",3,"click"],[1,"fa","fa-trash"],[1,"col",3,"nivel","tiposConfirmacao","ngModelGroup"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.create())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"tabset")(6,"tab",4),e.nI1(7,"localize"),e.nrm(8,"info-protocolo-avaliacao-form",5),e.k0s(),e.j41(9,"tab",4),e.nI1(10,"localize"),e.DNE(11,Cs,6,3,"div",6),e.j41(12,"div",7)(13,"a",8),e.bIt("click",function(){return e.eBV(t),e.Njj(o.createNivel())}),e.nrm(14,"i",9),e.EFF(15),e.nI1(16,"localize"),e.k0s()()()()(),e.j41(17,"abp-modal-footer",10),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,8,"CreateNewProtocoloAvaliacao")),e.R7$(4),e.Y8G("heading",e.bMT(7,10,"InfoProtocoloAvaliacao")),e.R7$(2),e.Y8G("protocoloAvaliacao",o.protocoloAvaliacao),e.R7$(),e.Y8G("heading",e.bMT(10,12,"Niveis")),e.R7$(2),e.Y8G("ngForOf",o.protocoloAvaliacao.niveis),e.R7$(4),e.SpI(" ",e.bMT(16,14,"CreateNewNivel")," "),e.R7$(2),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.cb,l.Y4,l.cV,F.V6,F.fw,k.x,j.z,vs,le,h.S],encapsulation:2})}return a})();const Fs=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function ks(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function js(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"button",38),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.detailsProtocoloAvaliacao(o))}),e.nrm(7,"i",39),e.EFF(8),e.nI1(9,"localize"),e.k0s()()()}if(2&a){const n=d.$implicit;e.R7$(2),e.JRh(n.nome),e.R7$(2),e.JRh(n.desc),e.R7$(4),e.SpI(" ",e.bMT(9,3,"Details")," ")}}let Rs=(()=>{class a extends y{constructor(n,i,o,t,s){super(n),this._protocoloAvaliacaoService=i,this._modalService=o,this._router=t,this._route=s,this.protocolosAvaliacao=[],this.keyword="",this.advancedFiltersVisible=!1}createProtocoloAvaliacao(){let n;n=this._modalService.show(Is,{class:"modal-lg"}),n.content.onSave.subscribe(()=>{this.refresh()})}detailsProtocoloAvaliacao(n){this._router.navigate(["details",n.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.isActive=void 0,this.getDataPage(1)}list(n,i,o){n.keyword=this.keyword,this._protocoloAvaliacaoService.getAll(n.keyword,void 0,void 0,n.skipCount,n.maxResultCount).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.protocolosAvaliacao=t.items,this.showPaging(t,i)})}delete(n){abp.message.confirm("O seguinte protocolo de avalia\xe7\xe3o ser\xe1 exclu\xeddo do banco",void 0,i=>{i&&this._protocoloAvaliacaoService.delete(n.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:59,vars:38,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"]],template:function(i,o){1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createProtocoloAvaliacao()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,ks,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th",24),e.EFF(42),e.nI1(43,"localize"),e.k0s()()(),e.j41(44,"tbody"),e.DNE(45,js,10,5,"tr",25),e.nI1(46,"paginate"),e.k0s()()()(),e.j41(47,"div",26)(48,"div",2)(49,"div",27)(50,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(51,"i",29),e.k0s()(),e.j41(52,"div",30)(53,"p",31),e.EFF(54),e.nI1(55,"localize"),e.k0s()(),e.j41(56,"div",32)(57,"div",33)(58,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&i&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,16,"ProtocolosAvaliacao")),e.R7$(5),e.SpI(" ",e.bMT(12,18,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,20,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,22,"Nome")),e.R7$(3),e.JRh(e.bMT(40,24,"Descricao")),e.R7$(3),e.JRh(e.bMT(43,26,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(46,28,o.protocolosAvaliacao,e.sMw(34,Fs,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(55,31,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const to=()=>[""],Ss=()=>[];function Ms(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",38)(1,"button",39),e.bIt("click",function(){e.eBV(n);const o=e.XpG().$implicit,t=e.XpG(3);return e.Njj(t.setHabilidadeAdquirida(o.aquisicao,!0))}),e.EFF(2),e.nI1(3,"localize"),e.k0s()()}if(2&a){const n=e.XpG().$implicit,i=e.XpG(3);e.Y8G("hidden",null!=(null==n||null==n.aquisicao?null:n.aquisicao.dataAdquirida)),e.R7$(),e.Y8G("disabled",i.saving),e.R7$(),e.SpI(" ",e.bMT(3,3,"Marcar adquirida")," ")}}function Es(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",38)(1,"button",39),e.bIt("click",function(){e.eBV(n);const o=e.XpG().$implicit,t=e.XpG(3);return e.Njj(t.setHabilidadeAdquirida(o.aquisicao,!1))}),e.EFF(2),e.nI1(3,"localize"),e.k0s()()}if(2&a){const n=e.XpG().$implicit,i=e.XpG(3);e.Y8G("hidden",null==(null==n||null==n.aquisicao?null:n.aquisicao.dataAdquirida)),e.R7$(),e.Y8G("disabled",i.saving),e.R7$(),e.SpI(" ",e.bMT(3,3,"Desmarcar adquirida")," ")}}function Ts(a,d){if(1&a){const n=e.RV6();e.j41(0,"input",40),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG().$implicit;return e.DH7(t.aquisicao.notaConfirmacao,o)||(t.aquisicao.notaConfirmacao=o),e.Njj(o)}),e.k0s()}if(2&a){const n=e.XpG().$implicit,i=e.XpG(3);e.Y8G("name",(null==n?null:n.habilidade.nome)+"NotaAquisicao")("name",(null==n?null:n.habilidade.nome)+"NotaAquisicao")("id",(null==n?null:n.habilidade.nome)+"NotaAquisicao")("hidden",null==n.aquisicao.dataAdquirida)("disabled",null==n.aquisicao.dataAdquirida||i.saving),e.R50("ngModel",n.aquisicao.notaConfirmacao)}}function Ds(a,d){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&a){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ",null==n||null==n.aquisicao?null:n.aquisicao.notaConfirmacao," ")}}function As(a,d){if(1&a){const n=e.RV6();e.j41(0,"textarea",41),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG().$implicit;return e.DH7(t.aquisicao.observacao,o)||(t.aquisicao.observacao=o),e.Njj(o)}),e.EFF(1,"                                                    "),e.k0s()}if(2&a){const n=e.XpG().$implicit,i=e.XpG(3);e.Y8G("disabled",i.saving)("name",(null==n||null==n.habilidade?null:n.habilidade.nome)+"Obs")("id",(null==n||null==n.habilidade?null:n.habilidade.nome)+"Obs"),e.R50("ngModel",n.aquisicao.observacao)}}function ys(a,d){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&a){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ",null==n||null==n.aquisicao?null:n.aquisicao.observacao," ")}}function Gs(a,d){if(1&a&&(e.j41(0,"div",24)(1,"div",25)(2,"label",26),e.EFF(3),e.k0s(),e.j41(4,"div",27)(5,"span",28),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.DNE(8,Ms,4,5,"div",29),e.j41(9,"span",28),e.EFF(10),e.k0s(),e.DNE(11,Es,4,5,"div",29),e.k0s(),e.j41(12,"div",30)(13,"label",31),e.EFF(14),e.nI1(15,"localize"),e.k0s(),e.j41(16,"div",32),e.DNE(17,Ts,1,6,"input",33)(18,Ds,2,1,"span",34),e.k0s()(),e.j41(19,"div",35)(20,"label",31),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"div",36),e.DNE(24,As,2,4,"textarea",37)(25,ys,2,1,"span",34),e.k0s()()()()),2&a){let n;const i=d.$implicit,o=e.XpG(3);e.R7$(3),e.Lme(" ",null==i||null==i.habilidade?null:i.habilidade.codigo," - ",null==i||null==i.habilidade?null:i.habilidade.nome," "),e.R7$(2),e.Y8G("hidden",null!=(null==i||null==i.aquisicao?null:i.aquisicao.dataAdquirida)),e.R7$(),e.SpI(" ",e.bMT(7,18,"Habilidade n\xe3o adquirida")," "),e.R7$(2),e.Y8G("ngIf",o.permission.isGranted("Business.Personal.Colaborador.Supervisor")),e.R7$(),e.Y8G("hidden",null==(null==i||null==i.aquisicao?null:i.aquisicao.dataAdquirida)),e.R7$(),e.Lme(" Habilidade adquirida (",null!==(n=null==i||null==i.aquisicao?null:i.aquisicao.confirmacaoDireta)&&void 0!==n&&n?"Registro Direto":"Registro Indireto"," no dia ",null==i||null==i.aquisicao||null==i.aquisicao.dataAdquirida?null:i.aquisicao.dataAdquirida.format("DD/MM/yyyy"),") "),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Personal.Colaborador.Supervisor")),e.R7$(),e.Y8G("hidden",null==i.aquisicao.dataAdquirida),e.R7$(),e.Y8G("for",(null==i?null:i.habilidade.nome)+"NotaAquisicao"),e.R7$(),e.SpI(" ",e.bMT(15,20,"Nota Aquisi\xe7\xe3o")," "),e.R7$(3),e.Y8G("ngIf",o.permission.isGranted("Business.Personal.Colaborador.Supervisor")),e.R7$(),e.Y8G("ngIf",!o.permission.isGranted("Business.Personal.Colaborador.Supervisor")),e.R7$(2),e.Y8G("for",(null==i||null==i.habilidade?null:i.habilidade.nome)+"Obs"),e.R7$(),e.SpI(" ",e.bMT(22,22,"Observacao")," "),e.R7$(3),e.Y8G("ngIf",o.permission.isGranted("Business.Personal.Colaborador.Supervisor")),e.R7$(),e.Y8G("ngIf",!o.permission.isGranted("Business.Personal.Colaborador.Supervisor"))}}function $s(a,d){if(1&a&&(e.j41(0,"div",20)(1,"div",21)(2,"label",22),e.EFF(3),e.k0s(),e.DNE(4,Gs,26,24,"div",23),e.k0s()()),2&a){let n;const i=d.$implicit;e.R7$(3),e.Lme(" ",null==i||null==i.dominio?null:i.dominio.codigo," - ",null==i||null==i.dominio?null:i.dominio.nome," "),e.R7$(),e.Y8G("ngForOf",null!==(n=null==i?null:i.pares)&&void 0!==n?n:e.lJ4(3,Ss))}}function Ps(a,d){if(1&a&&(e.j41(0,"div",20)(1,"div",21)(2,"label",22),e.EFF(3),e.k0s(),e.DNE(4,$s,5,4,"div",18),e.k0s()()),2&a){const n=d.$implicit;e.R7$(3),e.SpI(" ",null==n||null==n.nivel?null:n.nivel.nome," "),e.R7$(),e.Y8G("ngForOf",n.dominioPares)}}function ws(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",42)(1,"div",43)(2,"button",44),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.cancel())}),e.EFF(3),e.nI1(4,"localize"),e.k0s()(),e.j41(5,"div",43)(6,"button",39),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.save())}),e.EFF(7),e.nI1(8,"localize"),e.k0s()()()}if(2&a){const n=e.XpG();e.R7$(2),e.Y8G("disabled",n.saving||!n.hasChanged()),e.R7$(),e.SpI(" ",e.bMT(4,4,"Cancelar")," "),e.R7$(3),e.Y8G("disabled",n.saving||!n.hasChanged()),e.R7$(),e.SpI(" ",e.bMT(8,6,"Salvar")," ")}}let Ns=(()=>{class a extends _.q{constructor(n,i,o,t,s,r,m,f){super(n),this._modalService=i,this._alunoService=o,this._casoService=t,this._protocoloAvaliacaoService=s,this._changeDetector=r,this._router=m,this._route=f,this.saving=!1}goBack(){this.permission.isGranted("Business.Personal.Cliente.Aluno")&&this.appSession.user.aluno?.id==this.alunoId?this._router.navigate(["app","personal"]):this._router.navigate(["../.."],{relativeTo:this._route})}setHabilidadeAdquirida(n,i){i?(n.dataAdquirida=V(V.now()),n.confirmacaoDireta=!0,n.notaConfirmacao=""):(n.dataAdquirida=void 0,n.notaConfirmacao=void 0,n.confirmacaoDireta=void 0),this._changeDetector.detectChanges()}ngOnInit(){const n=this._route.snapshot.paramMap;this.alunoId=Number(n.get("alunoId")),this.apliId=Number(n.get("apliId")),this.load()}refresh(){this._setApli(this.original)}_setApli(n){this.original=n,this.aplicacao=new c.XU(this.original),this.aplicacao.habilidades=[],this.original.habilidades.forEach(i=>this.aplicacao.habilidades.push(new c.aA(i)))}load(){this.alunoLoading=!0,this._alunoService.get(this.alunoId).subscribe(n=>{this.aluno=n,this.alunoLoading=!1,this._changeDetector.detectChanges()}),this.aplicacaoLoading=!0,this._casoService.getAplicacaoProtocoloAvaliacao(this.apliId).subscribe(n=>{this._setApli(n),this.aplicacaoLoading=!1,this.setNivelPares()}),this.protocoloAvaliacaoLoading=!0,this.niveisLoading=!0,this.dominiosLoading=!0,this.habilidadesLoading=!0,this._protocoloAvaliacaoService.getByAplicacao(this.apliId).subscribe(n=>{this.protocoloAvaliacao=n,this._protocoloAvaliacaoService.getAllNiveis(void 0,n.id,void 0,void 0,void 0,void 0).subscribe(i=>{this.niveis=i.items,this.niveisLoading=!1,this.setNivelPares()}),this._protocoloAvaliacaoService.getAllDominios(void 0,n.id,void 0,void 0,void 0,void 0,void 0).subscribe(i=>{this.dominios=i.items,this.dominiosLoading=!1,this.setNivelPares()}),this._protocoloAvaliacaoService.getAllHabilidades(void 0,void 0,void 0,void 0,void 0,n.id,void 0,void 0,void 0,void 0).subscribe(i=>{this.habilidades=i.items,this.habilidadesLoading=!1,this.setNivelPares()}),this.protocoloAvaliacaoLoading=!1,this.setNivelPares()})}setNivelPares(){if(!(this.aplicacaoLoading||this.protocoloAvaliacaoLoading||this.dominiosLoading||this.habilidadesLoading)){this.nivelPares=[],this.niveis.forEach(i=>{this.nivelPares.push({nivel:i,dominioPares:[]})});let n=[];this.dominios.forEach(i=>{let o={dominio:i,pares:[]};n.push(o),this.nivelPares.find(t=>t.nivel.id==i.nivelId).dominioPares.push(o)}),this.habilidades.forEach(i=>{n.find(t=>t.dominio.id==i.dominioId).pares.push({habilidade:i,aquisicao:this.aplicacao.habilidades.find(t=>t.habilidadeId==i.id)})})}this._changeDetector.detectChanges()}hasChanged(){return JSON.stringify(this.original)!==JSON.stringify(this.aplicacao)}save(){this.saving=!0,this.aplicacaoLoading=!0;let n=new c.I8(this.aplicacao);this._casoService.updateAplicacaoProtocoloAvaliacao(n).subscribe(i=>{this.notify.info(this.l("SavedSuccessfully")),this._setApli(i),this.aplicacaoLoading=!1,this.saving=!1})}cancel(){console.log(this.hasChanged()),this.refresh()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(b.I8),e.rXU(c.pg),e.rXU(c.iD),e.rXU(c.WD),e.rXU(e.gRc),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:40,vars:23,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","p-0","m-0"],[1,"col","m-0","p-0"],[1,"col","p-0","m-0"],[1,"row","p-0","m-0","mt-2"],[1,"pr-2"],["class","row m-0 mb-2 p-0",4,"ngFor","ngForOf"],["class","row m-0 p-0",4,"ngIf"],[1,"row","m-0","mb-2","p-0"],[1,"col","m-0"],[1,"row","m-0","text-left"],["class","row mx-0 mt-0 mb-2 p-0",4,"ngFor","ngForOf"],[1,"row","mx-0","mt-0","mb-2","p-0"],[1,"col","m-0","ml-4","p-2",2,"border","1px solid lightgray"],[1,"row","m-0","p-0","text-left"],[1,"row","m-0","ml-4","p-0"],[1,"col","m-0","p-0",3,"hidden"],["class","col-3 m-0 p-0 text-center",3,"hidden",4,"ngIf"],[1,"form-group","row","m-0","ml-4","p-0",3,"hidden"],[1,"col-3","form-label","mx-0","p-0",3,"for"],[1,"col-5","m-0","p-0"],["class","form-control","type","text","maxlength","100",3,"name","id","hidden","disabled","ngModel","ngModelChange",4,"ngIf"],[4,"ngIf"],[1,"form-group","row","m-0","ml-4","p-0"],[1,"col","mx-0","p-0"],["type","text","class","form-control","maxlength","500",3,"disabled","name","id","ngModel","ngModelChange",4,"ngIf"],[1,"col-3","m-0","p-0","text-center",3,"hidden"],["type","button",1,"btn","btn-sm","bg-primary",3,"click","disabled"],["type","text","maxlength","100",1,"form-control",3,"ngModelChange","name","id","hidden","disabled","ngModel"],["type","text","maxlength","500",1,"form-control",3,"ngModelChange","disabled","name","id","ngModel"],[1,"row","m-0","p-0"],[1,"col","m-0","p-0","text-center"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click","disabled"]],template:function(i,o){if(1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"h1",8),e.EFF(12),e.k0s()()()(),e.j41(13,"section",9)(14,"div",10)(15,"tabset",11)(16,"tab",12),e.nI1(17,"localize"),e.j41(18,"div",13)(19,"div",14)(20,"div",13)(21,"label",15),e.EFF(22," Data in\xedcio: "),e.k0s(),e.j41(23,"span",15),e.EFF(24),e.k0s()()(),e.j41(25,"div",14)(26,"div",13)(27,"label",15),e.EFF(28," Data arquivamento: "),e.k0s(),e.j41(29,"span",15),e.EFF(30),e.k0s()()()(),e.j41(31,"p",16)(32,"b",17),e.EFF(33),e.nI1(34,"localize"),e.k0s(),e.EFF(35),e.k0s()(),e.j41(36,"tab",12),e.nI1(37,"localize"),e.DNE(38,Ps,5,2,"div",18)(39,ws,9,8,"div",19),e.k0s()()()()()),2&i){let t,s;e.Y8G("@routerTransition",void 0),e.R7$(9),e.SpI(" ",e.bMT(10,13,"Detalhes da Aplica\xe7\xe3o de Protocolo de Avalia\xe7\xe3o")," "),e.R7$(3),e.E5c(" ",null==o.protocoloAvaliacao?null:o.protocoloAvaliacao.nome," para ",(null!==(t=null==o.aluno||null==o.aluno.nome?null:o.aluno.nome.split(" "))&&void 0!==t?t:e.lJ4(21,to))[0]," ",(null!==(t=null==o.aluno||null==o.aluno.nome||null==(t=o.aluno.nome.split(" "))?null:t.reverse())&&void 0!==t?t:e.lJ4(22,to))[0]," "),e.R7$(4),e.Y8G("heading",e.bMT(17,15,"InfoAplicacao")),e.R7$(8),e.SpI(" ",null==o.aplicacao||null==o.aplicacao.dataInicio?null:o.aplicacao.dataInicio.format("DD/MM/yyyy")," "),e.R7$(6),e.SpI(" ",null!==(s=null==o.aplicacao?null:o.aplicacao.dataArquivamento)&&void 0!==s?s:"-"," "),e.R7$(3),e.SpI("",e.bMT(34,17,"Descri\xe7\xe3o do Protocolo Avaliacao"),":"),e.R7$(2),e.SpI(" ",null==o.protocoloAvaliacao?null:o.protocoloAvaliacao.desc,""),e.R7$(),e.Y8G("heading",e.bMT(37,19,"Habilidades")),e.R7$(2),e.Y8G("ngForOf",o.nivelPares),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Personal.Colaborador.Supervisor"))}},dependencies:[p.Sq,p.bT,l.me,l.BC,l.tU,l.vS,F.V6,F.fw,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})(),ao=(()=>{class a extends Y{constructor(n){super(n)}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ref-bibliografica-form"]],inputs:{refBibliografica:"refBibliografica"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:28,vars:21,consts:[["nomeModel","ngModel","nomeEl",""],["refStringModel","ngModel","refStringEl",""],["linkModel","ngModel","linkEl",""],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","200",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","refString",1,"col-md-3","col-form-label"],["type","text","name","refString","id","refString","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","link",1,"col-md-3","col-form-label"],["type","text","name","link","id","link","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",3)(1,"label",4),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",5)(5,"input",6,0),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.refBibliografica.nome,r)||(o.refBibliografica.nome=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",7),e.k0s()(),e.j41(9,"div",8)(10,"label",9),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",5)(14,"textarea",10,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.refBibliografica.refString,r)||(o.refBibliografica.refString=r),e.Njj(r)}),e.EFF(17,"        "),e.k0s(),e.nrm(18,"abp-validation-summary",7),e.k0s()(),e.j41(19,"div",8)(20,"label",11),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"div",5)(24,"input",12,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.refBibliografica.link,r)||(o.refBibliografica.link=r),e.Njj(r)}),e.k0s(),e.nrm(27,"abp-validation-summary",7),e.k0s()()}if(2&i){const t=e.sdS(6),s=e.sdS(7),r=e.sdS(15),m=e.sdS(16),f=e.sdS(25),v=e.sdS(26);e.R7$(2),e.SpI(" ",e.bMT(3,15,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.refBibliografica.nome),e.R7$(3),e.Y8G("control",t)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,17,"Texto de Refer\xeancia")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.refBibliografica.refString),e.R7$(4),e.Y8G("control",r)("controlEl",m),e.R7$(3),e.SpI(" ",e.bMT(22,19,"Link")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.refBibliografica.link),e.R7$(3),e.Y8G("control",f)("controlEl",v)}},dependencies:[l.me,l.BC,l.YS,l.tU,l.vS,G.e,h.S],encapsulation:2})}return a})(),Vs=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._refbibliograficaService=i,this.bsModalRef=o,this.saving=!1,this.refBibliografica=new c.hN,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,this._refbibliograficaService.create(this.refBibliografica).subscribe(n=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(n)})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.xR),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["createRefBibliograficaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","refBibliografica",3,"refBibliografica"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"ref-bibliografica-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"CreateNewRefBibliografica")),e.R7$(3),e.Y8G("refBibliografica",o.refBibliografica),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,k.x,j.z,ao,h.S],encapsulation:2})}return a})();const Bs=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function zs(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function Ys(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"button",38),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.detailsRefBibliografica(o))}),e.nrm(9,"i",39),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"button",40),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.delete(o))}),e.nrm(13,"i",41),e.EFF(14),e.nI1(15,"localize"),e.k0s()()()}if(2&a){let n,i;const o=d.$implicit;e.R7$(2),e.JRh(o.nome),e.R7$(2),e.JRh(null!==(n=null==o?null:o.refString)&&void 0!==n?n:"-"),e.R7$(2),e.JRh(null!==(i=null==o?null:o.link)&&void 0!==i?i:"-"),e.R7$(4),e.SpI(" ",e.bMT(11,5,"Edit")," "),e.R7$(4),e.SpI(" ",e.bMT(15,7,"Delete")," ")}}let Us=(()=>{class a extends y{constructor(n,i,o,t,s){super(n),this._refbibliograficaService=i,this._modalService=o,this._router=t,this._route=s,this.refBibliograficas=[],this.keyword="",this.advancedFiltersVisible=!1}createRefBibliografica(){let n;n=this._modalService.show(Vs,{class:"modal-lg"}),n.content.onSave.subscribe(i=>{this.refresh(),this._router.navigate(["details",i.id],{relativeTo:this._route})})}detailsRefBibliografica(n){this._router.navigate(["details",n.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.getDataPage(1)}list(n,i,o){n.keyword=this.keyword,this._refbibliograficaService.getAll(n.keyword,n.skipCount,n.maxResultCount).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.refBibliograficas=t.items,this.showPaging(t,i)})}delete(n){abp.message.confirm("O seguinte refbibliografica ser\xe1 exclu\xeddo do banco",void 0,i=>{i&&this._refbibliograficaService.delete(n.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.xR),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:62,vars:41,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(i,o){1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createRefBibliografica()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,zs,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th",24),e.EFF(45),e.nI1(46,"localize"),e.k0s()()(),e.j41(47,"tbody"),e.DNE(48,Ys,16,9,"tr",25),e.nI1(49,"paginate"),e.k0s()()()(),e.j41(50,"div",26)(51,"div",2)(52,"div",27)(53,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(54,"i",29),e.k0s()(),e.j41(55,"div",30)(56,"p",31),e.EFF(57),e.nI1(58,"localize"),e.k0s()(),e.j41(59,"div",32)(60,"div",33)(61,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&i&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,17,"Refer\xeancias Bibliogr\xe1ficas")),e.R7$(5),e.SpI(" ",e.bMT(12,19,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,21,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,23,"Nome")),e.R7$(3),e.JRh(e.bMT(40,25,"Refer\xeancia")),e.R7$(3),e.JRh(e.bMT(43,27,"Link")),e.R7$(3),e.JRh(e.bMT(46,29,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(49,31,o.refBibliograficas,e.sMw(37,Bs,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(58,34,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const Xs=()=>[];function qs(a,d){if(1&a&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",n.id),e.R7$(),e.JRh(n.nome)}}let so=(()=>{class a extends Y{get refBibId(){return this.tecnica?.refBibliograficaId??-1}set refBibId(n){-1==n&&(n=void 0),this.tecnica.refBibliograficaId=n}constructor(n,i,o){super(n),this.refBibService=i,this.changeDetectorRef=o,this.hasPresetRefBib=!1}ngOnInit(){this.hasPresetRefBib||this.refBibService.getAll(void 0,void 0,void 0).subscribe(n=>{this.refBibliograficas=n.items,this.changeDetectorRef.detectChanges()})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.xR),e.rXU(e.gRc))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["tecnica-form"]],inputs:{hasPresetRefBib:"hasPresetRefBib",tecnica:"tecnica"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:31,vars:24,consts:[["nomeModel","ngModel","nomeEl",""],["descModel","ngModel","descEl",""],["refBibModel","ngModel","refBibEl",""],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","100",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","desc",1,"col-md-3","col-form-label"],["type","text","name","desc","id","desc","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"form-group","row",3,"hidden"],["for","refBib",1,"col-md-3","col-form-label"],["id","refBib","name","refBib",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value","-1"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",3)(1,"label",4),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",5)(5,"input",6,0),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.tecnica.nome,r)||(o.tecnica.nome=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",7),e.k0s()(),e.j41(9,"div",8)(10,"label",9),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",5)(14,"textarea",10,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.tecnica.desc,r)||(o.tecnica.desc=r),e.Njj(r)}),e.EFF(17,"        "),e.k0s(),e.nrm(18,"abp-validation-summary",7),e.k0s()(),e.j41(19,"div",11)(20,"label",12),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"div",5)(24,"select",13,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.refBibId,r)||(o.refBibId=r),e.Njj(r)}),e.j41(27,"option",14),e.EFF(28,"Nenhuma"),e.k0s(),e.DNE(29,qs,2,2,"option",15),e.k0s(),e.nrm(30,"abp-validation-summary",7),e.k0s()()}if(2&i){let t;const s=e.sdS(6),r=e.sdS(7),m=e.sdS(15),f=e.sdS(16),v=e.sdS(25),C=e.sdS(26);e.R7$(2),e.SpI(" ",e.bMT(3,17,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.tecnica.nome),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(12,19,"Descri\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.tecnica.desc),e.R7$(4),e.Y8G("control",m)("controlEl",f),e.R7$(),e.Y8G("hidden",o.hasPresetRefBib),e.R7$(2),e.SpI(" ",e.bMT(22,21,"Refer\xeancia Bibliogr\xe1fica")," "),e.R7$(3),e.Y8G("disabled",o.disabled||o.hasPresetRefBib),e.R50("ngModel",o.refBibId),e.R7$(5),e.Y8G("ngForOf",null!==(t=o.refBibliograficas)&&void 0!==t?t:e.lJ4(23,Xs)),e.R7$(),e.Y8G("control",v)("controlEl",C)}},dependencies:[p.Sq,l.xH,l.y7,l.me,l.wz,l.BC,l.YS,l.tU,l.vS,G.e,h.S],encapsulation:2})}return a})(),de=(()=>{class a extends _.q{get hasPresetRefBib(){return null!=this.presetRefBib}constructor(n,i,o){super(n),this._tecnicaService=i,this.bsModalRef=o,this.saving=!1,this.tecnica=new c.Z1,this.onSave=new e.bkB}ngOnInit(){this.hasPresetRefBib&&(this.tecnica.refBibliograficaId=this.presetRefBib)}save(){this.saving=!0,this._tecnicaService.create(this.tecnica).subscribe(n=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(n)})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.$Q),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["createTecnicaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","tecnica",3,"tecnica","hasPresetRefBib"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"tecnica-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"CreateNewTecnica")),e.R7$(3),e.Y8G("tecnica",o.tecnica)("hasPresetRefBib",o.hasPresetRefBib),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,k.x,j.z,so,h.S],encapsulation:2})}return a})();const Hs=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function xs(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function Os(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"button",38),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.detailsTecnica(o))}),e.nrm(7,"i",14),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"button",39),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.delete(o))}),e.nrm(11,"i",40),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){let n;const i=d.$implicit,o=e.XpG();e.R7$(2),e.JRh(i.nome),e.R7$(2),e.JRh(null!==(n=null==(n=o.getRefBib(i.refBibliograficaId))?null:n.nome)&&void 0!==n?n:"-"),e.R7$(4),e.SpI(" ",e.bMT(9,4,"Details")," "),e.R7$(4),e.SpI(" ",e.bMT(13,6,"Delete")," ")}}let Js=(()=>{class a extends y{constructor(n,i,o,t,s,r,m){super(n),this._tecnicaService=i,this._refBibService=o,this._modalService=t,this._changeDetector=s,this._router=r,this._route=m,this.tecnicas=[],this.referencias=[],this.keyword="",this.advancedFiltersVisible=!1}ngOnInit(){this._refBibService.getAll(void 0,void 0,void 0).subscribe(n=>{this.referencias=n.items,this._changeDetector.detectChanges()}),this.refresh()}getRefBib(n){return this.referencias?.find(i=>i.id==n)}createTecnica(){let n;n=this._modalService.show(de,{class:"modal-lg"}),n.content.onSave.subscribe(()=>{this.refresh()})}detailsTecnica(n){this._router.navigate(["details",n.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.getDataPage(1)}list(n,i,o){n.keyword=this.keyword,this._tecnicaService.getAll(n.keyword,n.refBibId,n.skipCount,n.maxResultCount).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.tecnicas=t.items,this.showPaging(t,i)})}delete(n){abp.message.confirm("O seguinte tecnica ser\xe1 exclu\xeddo do banco",void 0,i=>{i&&this._tecnicaService.delete(n.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.$Q),e.rXU(c.xR),e.rXU(b.I8),e.rXU(e.gRc),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:59,vars:38,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(i,o){1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createTecnica()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,xs,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th",24),e.EFF(42),e.nI1(43,"localize"),e.k0s()()(),e.j41(44,"tbody"),e.DNE(45,Os,14,8,"tr",25),e.nI1(46,"paginate"),e.k0s()()()(),e.j41(47,"div",26)(48,"div",2)(49,"div",27)(50,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(51,"i",29),e.k0s()(),e.j41(52,"div",30)(53,"p",31),e.EFF(54),e.nI1(55,"localize"),e.k0s()(),e.j41(56,"div",32)(57,"div",33)(58,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&i&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,16,"T\xe9cnicas")),e.R7$(5),e.SpI(" ",e.bMT(12,18,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,20,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,22,"Nome")),e.R7$(3),e.JRh(e.bMT(40,24,"Refer\xeancia")),e.R7$(3),e.JRh(e.bMT(43,26,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(46,28,o.tecnicas,e.sMw(34,Hs,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(55,31,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})(),Ls=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._refbibliograficaService=i,this.bsModalRef=o,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,this._refbibliograficaService.update(this.refBibliografica).subscribe(()=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.xR),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["editRefBibliograficaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","refBibliografica",3,"refBibliografica"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"ref-bibliografica-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"EditNewRefBibliografica")),e.R7$(3),e.Y8G("refBibliografica",o.refBibliografica),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,k.x,j.z,ao,h.S],encapsulation:2})}return a})(),Zs=(()=>{class a extends _.q{constructor(n,i,o,t){super(n),this._router=i,this._route=o,this.bsModalRef=t}ngOnInit(){}moreInfo(){this._router.navigate(["app","tecnicas","details",this.tecnica.id]),this.bsModalRef.hide()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(g.Ix),e.rXU(g.nX),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:17,vars:5,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","m-0","p-2","text-center","justify-content-center"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-plus-square"],[1,"modal-footer","justify-content-end",3,"click"],["type","button",1,"btn","btn-primary"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"h4",1),e.EFF(2),e.k0s(),e.j41(3,"button",2),e.bIt("click",function(){return o.bsModalRef.hide()}),e.j41(4,"span",3),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",4)(7,"p"),e.EFF(8),e.k0s(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return o.moreInfo()}),e.nrm(11,"i",7),e.EFF(12),e.nI1(13,"localize"),e.k0s()()(),e.j41(14,"div",8),e.bIt("click",function(){return o.bsModalRef.hide()}),e.j41(15,"button",9),e.EFF(16," OK "),e.k0s()()),2&i&&(e.R7$(2),e.JRh(o.tecnica.nome),e.R7$(6),e.SpI(" ",o.tecnica.desc," "),e.R7$(4),e.SpI(" ",e.bMT(13,3,"MoreInfo")," "))},dependencies:[h.S],encapsulation:2})}return a})();const Qs=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function Ws(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"button",1),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.detailsTecnica(o))}),e.nrm(5,"i",14),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}if(2&a){const n=d.$implicit;e.R7$(2),e.JRh(n.nome),e.R7$(4),e.SpI(" ",e.bMT(7,2,"Details")," ")}}let Ks=(()=>{class a extends y{set refBibId(n){this._refBibId=n,this.refresh()}get refBibId(){return this._refBibId}constructor(n,i,o,t,s){super(n),this._tecnicaService=i,this._modalService=o,this._router=t,this._route=s,this.onSave=new e.bkB}detailsTecnica(n){let i;i=this._modalService.show(Zs,{class:"modal-lg",initialState:{tecnica:n}})}clearFilters(){this.getDataPage(1)}list(n,i,o){if(null==this.refBibId)return this.showPaging({items:[],totalCount:0},i),void o();this._tecnicaService.getAll(void 0,this.refBibId,n.skipCount,n.maxResultCount).subscribe(t=>{this.tecnicas=t.items,this.showPaging(t,i),o(),this.isTableLoading=!1})}createTecnica(){let n;n=this._modalService.show(de,{class:"modal-lg",initialState:{presetRefBib:this._refBibId}}),n.content.onSave.subscribe(()=>{this.refresh(),this.onSave.emit()})}delete(n){abp.message.confirm("O seguinte tecnica ser\xe1 exclu\xeddo do banco",void 0,i=>{i&&this._tecnicaService.delete(n.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.$Q),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["tecnicas-ref-bib"]],inputs:{refBibId:"refBibId"},outputs:{onSave:"onSave"},features:[e.Vt3],decls:24,vars:19,consts:[[1,"row","m-0","p-2","text-center","justify-content-center"],["type","button",1,"btn","btn-sm","bg-primary",3,"click"],[1,"fas","fa-plus-square"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","15%"],[4,"ngFor","ngForOf"],[1,"row","justify-content-end"],[1,"col-sm-4","col","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-6"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"fas","fa-search"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"button",1),e.bIt("click",function(){return o.createTecnica()}),e.nrm(2,"i",2),e.EFF(3),e.nI1(4,"localize"),e.k0s()(),e.j41(5,"div",3)(6,"table",4)(7,"thead",5)(8,"tr")(9,"th"),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.nrm(12,"th",6),e.k0s()(),e.j41(13,"tbody"),e.DNE(14,Ws,8,4,"tr",7),e.nI1(15,"paginate"),e.k0s()()(),e.j41(16,"div",8)(17,"div",9)(18,"p",10),e.EFF(19),e.nI1(20,"localize"),e.k0s()(),e.j41(21,"div",11)(22,"div",12)(23,"abp-pagination-controls",13),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,5,"AddTecnica")," "),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(11,7,"Nome")),e.R7$(4),e.Y8G("ngForOf",e.i5U(15,9,o.tecnicas,e.sMw(15,Qs,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(5),e.SpI(" ",e.i5U(20,12,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})(),er=(()=>{class a extends _.q{constructor(n,i,o,t,s){super(n),this._refbibliograficaService=i,this._modalService=o,this._router=t,this._route=s}ngOnInit(){this.id=Number(this._route.snapshot.paramMap.get("refBibId")),this.refresh()}refresh(){this._refbibliograficaService.get(this.id).subscribe(n=>{this.refBibliografica=n})}goBack(){this._router.navigate(["../.."],{relativeTo:this._route})}editInfo(){let n;n=this._modalService.show(Ls,{class:"modal-lg",initialState:{refBibliografica:this.refBibliografica}}),n.content.onSave.subscribe(()=>{this.refresh()})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.xR),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:35,vars:14,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","m-0","p-0"],[1,"col-2"],[1,"col"],[1,"row","m-0","p-2","text-center","justify-content-center"],["type","button",1,"btn","btn-sm","bg-primary",3,"click"],[1,"fas","fa-alt-pencil"],[3,"onSave","refBibId"]],template:function(i,o){if(1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes da Refer\xeancia Bibliogr\xe1fica "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"div",13)(18,"label",14),e.EFF(19,"Link:"),e.k0s(),e.j41(20,"span",15),e.EFF(21),e.k0s()(),e.j41(22,"div",13)(23,"label",14),e.EFF(24,"Texto de Refer\xeancia:"),e.k0s(),e.j41(25,"p",15),e.EFF(26),e.k0s()(),e.j41(27,"div",16)(28,"button",17),e.bIt("click",function(){return o.editInfo()}),e.nrm(29,"i",18),e.EFF(30),e.nI1(31,"localize"),e.k0s()()(),e.j41(32,"tab",12),e.nI1(33,"localize"),e.j41(34,"tecnicas-ref-bib",19),e.bIt("onSave",function(){return o.refresh()}),e.k0s()()()()()()),2&i){let t;e.Y8G("@routerTransition",void 0),e.R7$(11),e.SpI(" ",null==o.refBibliografica?null:o.refBibliografica.nome," "),e.R7$(4),e.Y8G("heading",e.bMT(16,8,"Informa\xe7\xe3o Geral")),e.R7$(6),e.JRh(null!==(t=null==o.refBibliografica?null:o.refBibliografica.link)&&void 0!==t?t:"-"),e.R7$(5),e.JRh(null==o.refBibliografica?null:o.refBibliografica.refString),e.R7$(4),e.SpI(" ",e.bMT(31,10,"Edit")," "),e.R7$(2),e.Y8G("heading",e.bMT(33,12,"T\xe9cnicas")),e.R7$(2),e.Y8G("refBibId",o.id)}},dependencies:[F.V6,F.fw,Ks,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})(),or=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._tecnicaService=i,this.bsModalRef=o,this.saving=!1,this.tecnica=new c.uJ,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,console.log(this.tecnica),this._tecnicaService.update(this.tecnica).subscribe(()=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.$Q),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["editTecnicaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","tecnica",3,"tecnica"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"tecnica-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"EditNewTecnica")),e.R7$(3),e.Y8G("tecnica",o.tecnica),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,k.x,j.z,so,h.S],encapsulation:2})}return a})(),nr=(()=>{class a extends _.q{constructor(n,i,o,t,s,r){super(n),this._tecnicaService=i,this._refBibService=o,this._modalService=t,this._router=s,this._route=r}ngOnInit(){this.id=Number(this._route.snapshot.paramMap.get("tecnicaId")),this.refresh()}refresh(){this._tecnicaService.get(this.id).subscribe(n=>{this.tecnica=n,null!=this.tecnica.refBibliograficaId&&this._refBibService.get(this.tecnica.refBibliograficaId).subscribe(i=>{this.refBibliografica=i})})}goBack(){this._router.navigate(["../.."],{relativeTo:this._route})}editInfo(){let n,i=new c.uJ(this.tecnica);i.refBibliograficaId=this.tecnica.refBibliograficaId,n=this._modalService.show(or,{class:"modal-lg",initialState:{tecnica:i}}),n.content.onSave.subscribe(()=>{this.refresh()})}toRefBibDetails(){null!=this.tecnica.refBibliograficaId&&this._router.navigate(["app","ref-bibliograficas","details",this.tecnica.refBibliograficaId])}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.$Q),e.rXU(c.xR),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:32,vars:12,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","m-0","p-0"],[1,"row","m-0","mt-4","p-0"],[1,"col-0","m-0","p-0","align-content-center"],[1,"col-0","m-0","p-0","align-content-center","mx-2"],[1,"col-0","m-0","p-0",3,"hidden"],["type","button",1,"btn","bg-blue",3,"click","disabled"],[1,"fa","fa-link"],[1,"row","m-0","px-2","text-center","justify-content-end"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-alt-pencil"]],template:function(i,o){if(1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes da T\xe9cnica "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"div",13),e.EFF(18),e.k0s(),e.j41(19,"div",14)(20,"div",15),e.EFF(21,"Refer\xeancia Bibliogr\xe1fica:"),e.k0s(),e.j41(22,"div",16),e.EFF(23),e.k0s(),e.j41(24,"div",17)(25,"button",18),e.bIt("click",function(){return o.toRefBibDetails()}),e.nrm(26,"i",19),e.k0s()()(),e.j41(27,"div",20)(28,"button",21),e.bIt("click",function(){return o.editInfo()}),e.nrm(29,"i",22),e.EFF(30),e.nI1(31,"localize"),e.k0s()()()()()()()),2&i){let t;e.Y8G("@routerTransition",void 0),e.R7$(11),e.SpI(" ",null==o.tecnica?null:o.tecnica.nome," "),e.R7$(4),e.Y8G("heading",e.bMT(16,8,"Informa\xe7\xe3o Geral")),e.R7$(3),e.SpI(" ",null==o.tecnica?null:o.tecnica.desc," "),e.R7$(5),e.JRh(null!=(null==o.tecnica?null:o.tecnica.refBibliograficaId)?null!==(t=null==o.refBibliografica?null:o.refBibliografica.nome)&&void 0!==t?t:"...":"N/A"),e.R7$(),e.Y8G("hidden",null==(null==o.tecnica?null:o.tecnica.refBibliograficaId)),e.R7$(),e.Y8G("disabled",null==(null==o.tecnica?null:o.tecnica.refBibliograficaId)),e.R7$(5),e.SpI(" ",e.bMT(31,10,"Edit")," ")}},dependencies:[F.V6,F.fw,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})(),ro=(()=>{class a extends Y{constructor(n){super(n)}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["formato-ensino-form"]],inputs:{formatoEnsino:"formatoEnsino"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:19,vars:14,consts:[["nomeModel","ngModel","nomeEl",""],["descModel","ngModel","descEl",""],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","desc",1,"col-md-3","col-form-label"],["type","text","name","desc","id","desc","maxlength","2500",1,"form-control",3,"ngModelChange","disabled","ngModel"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",2)(1,"label",3),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",4)(5,"input",5,0),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.formatoEnsino.nome,r)||(o.formatoEnsino.nome=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",6),e.k0s()(),e.j41(9,"div",7)(10,"label",8),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",4)(14,"textarea",9,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.formatoEnsino.desc,r)||(o.formatoEnsino.desc=r),e.Njj(r)}),e.EFF(17,"        "),e.k0s(),e.nrm(18,"abp-validation-summary",6),e.k0s()()}if(2&i){const t=e.sdS(6),s=e.sdS(7),r=e.sdS(15),m=e.sdS(16);e.R7$(2),e.SpI(" ",e.bMT(3,10,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.formatoEnsino.nome),e.R7$(3),e.Y8G("control",t)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,12,"Descri\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.formatoEnsino.desc),e.R7$(4),e.Y8G("control",r)("controlEl",m)}},dependencies:[l.me,l.BC,l.YS,l.tU,l.vS,G.e,h.S],encapsulation:2})}return a})(),lo=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._formatoEnsinoService=i,this.bsModalRef=o,this.saving=!1,this.formatoEnsino=new c.Av,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,this._formatoEnsinoService.create(this.formatoEnsino).subscribe(n=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(n)})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.ql),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["createFormatoEnsinoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","formatoEnsino",3,"formatoEnsino"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"formato-ensino-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"CreateNewFormatoEnsino")),e.R7$(3),e.Y8G("formatoEnsino",o.formatoEnsino),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,k.x,j.z,ro,h.S],encapsulation:2})}return a})();const ir=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function tr(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function ar(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"button",38),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.detailsFormatoEnsino(o))}),e.nrm(7,"i",14),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"button",39),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.delete(o))}),e.nrm(11,"i",40),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){const n=d.$implicit,i=e.XpG();e.R7$(2),e.JRh(n.nome),e.R7$(2),e.JRh(n.desc.length>i.maxDescLength?n.desc.slice(0,i.maxDescLength)+"...":n.desc),e.R7$(4),e.SpI(" ",e.bMT(9,4,"Details")," "),e.R7$(4),e.SpI(" ",e.bMT(13,6,"Delete")," ")}}let sr=(()=>{class a extends y{constructor(n,i,o,t,s){super(n),this._formatoEnsinoService=i,this._modalService=o,this._router=t,this._route=s,this.formatosEnsino=[],this.maxDescLength=250,this.keyword="",this.advancedFiltersVisible=!1}createFormatoEnsino(){let n;n=this._modalService.show(lo,{class:"modal-lg"}),n.content.onSave.subscribe(i=>{this.refresh(),this._router.navigate(["details",i.id],{relativeTo:this._route})})}detailsFormatoEnsino(n){this._router.navigate(["details",n.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.getDataPage(1)}list(n,i,o){n.keyword=this.keyword,this._formatoEnsinoService.getAll(n.skipCount,n.maxResultCount).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.formatosEnsino=t.items,this.showPaging(t,i)})}delete(n){abp.message.confirm("O seguinte formatoensino ser\xe1 exclu\xeddo do banco",void 0,i=>{i&&this._formatoEnsinoService.delete(n.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.ql),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:59,vars:38,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(i,o){1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createFormatoEnsino()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,tr,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th",24),e.EFF(42),e.nI1(43,"localize"),e.k0s()()(),e.j41(44,"tbody"),e.DNE(45,ar,14,8,"tr",25),e.nI1(46,"paginate"),e.k0s()()()(),e.j41(47,"div",26)(48,"div",2)(49,"div",27)(50,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(51,"i",29),e.k0s()(),e.j41(52,"div",30)(53,"p",31),e.EFF(54),e.nI1(55,"localize"),e.k0s()(),e.j41(56,"div",32)(57,"div",33)(58,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&i&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,16,"Formatos de Ensino")),e.R7$(5),e.SpI(" ",e.bMT(12,18,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,20,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,22,"Nome")),e.R7$(3),e.JRh(e.bMT(40,24,"Descri\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(43,26,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(46,28,o.formatosEnsino,e.sMw(34,ir,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(55,31,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})(),rr=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._formatoensinoService=i,this.bsModalRef=o,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,this._formatoensinoService.update(this.formatoEnsino).subscribe(()=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.ql),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["editFormatoEnsinoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","formatoEnsino",3,"formatoEnsino"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"formato-ensino-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"EditNewFormatoEnsino")),e.R7$(3),e.Y8G("formatoEnsino",o.formatoEnsino),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,k.x,j.z,ro,h.S],encapsulation:2})}return a})(),lr=(()=>{class a extends _.q{constructor(n,i,o,t,s){super(n),this._formatoEnsinoService=i,this._modalService=o,this._router=t,this._route=s}ngOnInit(){this.id=Number(this._route.snapshot.paramMap.get("formatoEnsinoId")),this.refresh()}refresh(){this._formatoEnsinoService.get(this.id).subscribe(n=>{this.formatoEnsino=n})}goBack(){this._router.navigate(["../.."],{relativeTo:this._route})}editInfo(){let n,i=new c.Av(this.formatoEnsino);n=this._modalService.show(rr,{class:"modal-lg",initialState:{formatoEnsino:i}}),n.content.onSave.subscribe(()=>{this.refresh()})}toRefBibDetails(){}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.ql),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:24,vars:9,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","m-0","p-0"],[1,"row","m-0","px-2","text-center","justify-content-end"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-alt-pencil"]],template:function(i,o){1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes do Formato de Ensino "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"div",13),e.EFF(18),e.k0s(),e.j41(19,"div",14)(20,"button",15),e.bIt("click",function(){return o.editInfo()}),e.nrm(21,"i",16),e.EFF(22),e.nI1(23,"localize"),e.k0s()()()()()()()),2&i&&(e.Y8G("@routerTransition",void 0),e.R7$(11),e.SpI(" ",null==o.formatoEnsino?null:o.formatoEnsino.nome," "),e.R7$(4),e.Y8G("heading",e.bMT(16,5,"Informa\xe7\xe3o Geral")),e.R7$(3),e.SpI(" ",null==o.formatoEnsino?null:o.formatoEnsino.desc," "),e.R7$(4),e.SpI(" ",e.bMT(23,7,"Edit")," "))},dependencies:[F.V6,F.fw,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const dr=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function cr(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function ur(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"button",38),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.detailsHierarquiaAjuda(o))}),e.nrm(9,"i",14),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"button",39),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.delete(o))}),e.nrm(13,"i",40),e.EFF(14),e.nI1(15,"localize"),e.k0s()()()}if(2&a){let n;const i=d.$implicit;e.R7$(2),e.JRh(i.nome),e.R7$(2),e.JRh(null!==(n=i.desc)&&void 0!==n?n:"-"),e.R7$(2),e.JRh(i.tiposAjuda.length),e.R7$(4),e.SpI(" ",e.bMT(11,5,"Details")," "),e.R7$(4),e.SpI(" ",e.bMT(15,7,"Delete")," ")}}let mr=(()=>{class a extends y{constructor(n,i,o,t,s){super(n),this._hierarquiaAjudaService=i,this._modalService=o,this._router=t,this._route=s,this.hierarquiasAjuda=[],this.maxDescLength=250,this.keyword="",this.advancedFiltersVisible=!1}createHierarquiaAjuda(){this._router.navigate(["create"],{relativeTo:this._route})}detailsHierarquiaAjuda(n){this._router.navigate(["details",n.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.getDataPage(1)}list(n,i,o){n.keyword=this.keyword,this._hierarquiaAjudaService.getAll(n.skipCount,n.maxResultCount).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.hierarquiasAjuda=t.items,this.showPaging(t,i)})}delete(n){abp.message.confirm("O seguinte hierarquiaajuda ser\xe1 exclu\xeddo do banco",void 0,i=>{i&&this._hierarquiaAjudaService.delete(n.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.Qk),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:62,vars:41,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(i,o){1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createHierarquiaAjuda()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,cr,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th",24),e.EFF(45),e.nI1(46,"localize"),e.k0s()()(),e.j41(47,"tbody"),e.DNE(48,ur,16,9,"tr",25),e.nI1(49,"paginate"),e.k0s()()()(),e.j41(50,"div",26)(51,"div",2)(52,"div",27)(53,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(54,"i",29),e.k0s()(),e.j41(55,"div",30)(56,"p",31),e.EFF(57),e.nI1(58,"localize"),e.k0s()(),e.j41(59,"div",32)(60,"div",33)(61,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&i&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,17,"Hierarquias de Ajuda")),e.R7$(5),e.SpI(" ",e.bMT(12,19,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,21,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,23,"Nome")),e.R7$(3),e.JRh(e.bMT(40,25,"Descri\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(43,27,"No. Tipos Ajuda")),e.R7$(3),e.JRh(e.bMT(46,29,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(49,31,o.hierarquiasAjuda,e.sMw(37,dr,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(58,34,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();function pr(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",16)(1,"label",17),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",18)(5,"div",3)(6,"label",17),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",5)(10,"input",19,0),e.mxI("ngModelChange",function(o){const t=e.eBV(n).$implicit;return e.DH7(t.nome,o)||(t.nome=o),e.Njj(o)}),e.k0s(),e.nrm(13,"abp-validation-summary",7),e.k0s()(),e.j41(14,"div",8)(15,"label",17),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.j41(18,"div",5)(19,"input",20,2),e.mxI("ngModelChange",function(o){const t=e.eBV(n).$implicit;return e.DH7(t.sigla,o)||(t.sigla=o),e.Njj(o)}),e.k0s(),e.nrm(22,"abp-validation-summary",7),e.k0s()(),e.j41(23,"div",21)(24,"label",17),e.EFF(25),e.nI1(26,"localize"),e.k0s(),e.j41(27,"div",5)(28,"textarea",22,1),e.mxI("ngModelChange",function(o){const t=e.eBV(n).$implicit;return e.DH7(t.desc,o)||(t.desc=o),e.Njj(o)}),e.EFF(31,"                "),e.k0s(),e.nrm(32,"abp-validation-summary",7),e.k0s()()(),e.j41(33,"div",23)(34,"button",24),e.bIt("click",function(){const o=e.eBV(n).index,t=e.XpG();return e.Njj(t.rmvTipoAjuda(o))}),e.nrm(35,"i",25),e.k0s()()()}if(2&a){const n=d.$implicit,i=d.index,o=e.sdS(11),t=e.sdS(12),s=e.sdS(20),r=e.sdS(21),m=e.sdS(29),f=e.sdS(30),v=e.XpG();e.R7$(),e.Y8G("for","tipo"+i),e.R7$(),e.SpI(" ",e.bMT(3,27,"Tipo de Ajuda "+(i+1))," "),e.R7$(4),e.Y8G("for","nome"+i),e.R7$(),e.SpI(" ",e.bMT(8,29,"Nome")," "),e.R7$(3),e.Y8G("name","nome"+i)("id","nome"+i),e.R50("ngModel",n.nome),e.Y8G("disabled",v.disabled),e.R7$(3),e.Y8G("control",o)("controlEl",t),e.R7$(2),e.Y8G("for","sigla"+i),e.R7$(),e.SpI(" ",e.bMT(17,31,"Sigla")," "),e.R7$(3),e.Y8G("name","sigla"+i)("id","sigla"+i),e.R50("ngModel",n.sigla),e.Y8G("disabled",v.disabled),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(2),e.Y8G("for","desc"+i),e.R7$(),e.SpI(" ",e.bMT(26,33,"Descri\xe7\xe3o")," "),e.R7$(3),e.Y8G("name","desc"+i)("id","desc"+i),e.R50("ngModel",n.desc),e.Y8G("disabled",v.disabled),e.R7$(4),e.Y8G("control",m)("controlEl",f),e.R7$(2),e.Y8G("disabled",v.disabled)}}let co=(()=>{class a extends Y{constructor(n){super(n)}ngOnInit(){}addTipoAjuda(){this.hierarquiaAjuda.tiposAjuda.push(new c.RM)}rmvTipoAjuda(n){this.hierarquiaAjuda.tiposAjuda.splice(n,1)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["hierarquia-ajuda-form"]],inputs:{hierarquiaAjuda:"hierarquiaAjuda"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:28,vars:19,consts:[["nomeModel","ngModel","nomeEl",""],["descModel","ngModel","descEl",""],["siglaModel","ngModel","siglaEl",""],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","ngModel","disabled"],[3,"control","controlEl"],[1,"form-group","row"],["for","desc",1,"col-md-3","col-form-label"],["type","text","name","desc","id","desc","maxlength","500",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"row","m-0","p-0"],["class","form-group row m-0 ml-2 mb-2 px-2 py-3","style","border: 1px solid lightgray; border-radius: 10px;",4,"ngFor","ngForOf"],[1,"row","m-0","p-0","justify-content-center"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"fa","fa-plus-square"],[1,"form-group","row","m-0","ml-2","mb-2","px-2","py-3",2,"border","1px solid lightgray","border-radius","10px"],[1,"col-md-3","col-form-label",3,"for"],[1,"col-md-8"],["type","text","required","","maxlength","100",1,"form-control",3,"ngModelChange","name","id","ngModel","disabled"],["type","text","maxlength","100",1,"form-control",3,"ngModelChange","name","id","ngModel","disabled"],[1,"form-group","row","mb-0"],["type","text","maxlength","500",1,"form-control",3,"ngModelChange","name","id","ngModel","disabled"],[1,"col-md-1"],["type","button",1,"btn","btn-danger",3,"click","disabled"],[1,"fa","fa-x"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",3)(1,"label",4),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",5)(5,"input",6,0),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.hierarquiaAjuda.nome,r)||(o.hierarquiaAjuda.nome=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",7),e.k0s()(),e.j41(9,"div",8)(10,"label",9),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",5)(14,"textarea",10,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.hierarquiaAjuda.desc,r)||(o.hierarquiaAjuda.desc=r),e.Njj(r)}),e.EFF(17,"        "),e.k0s(),e.nrm(18,"abp-validation-summary",7),e.k0s()(),e.j41(19,"div",11)(20,"label"),e.EFF(21,"Tipos de Ajuda"),e.k0s()(),e.DNE(22,pr,36,35,"div",12),e.j41(23,"div",13)(24,"button",14),e.bIt("click",function(){return e.eBV(t),e.Njj(o.addTipoAjuda())}),e.nrm(25,"i",15),e.EFF(26),e.nI1(27,"localize"),e.k0s()()}if(2&i){const t=e.sdS(6),s=e.sdS(7),r=e.sdS(15),m=e.sdS(16);e.R7$(2),e.SpI(" ",e.bMT(3,13,"Nome")," "),e.R7$(3),e.R50("ngModel",o.hierarquiaAjuda.nome),e.Y8G("disabled",o.disabled),e.R7$(3),e.Y8G("control",t)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,15,"Descri\xe7\xe3o")," "),e.R7$(3),e.R50("ngModel",o.hierarquiaAjuda.desc),e.Y8G("disabled",o.disabled),e.R7$(4),e.Y8G("control",r)("controlEl",m),e.R7$(4),e.Y8G("ngForOf",o.hierarquiaAjuda.tiposAjuda),e.R7$(2),e.Y8G("disabled",o.disabled),e.R7$(2),e.SpI(" ",e.bMT(27,17,"Add Tipo de Ajuda")," ")}},dependencies:[p.Sq,l.me,l.BC,l.YS,l.tU,l.vS,G.e,h.S],encapsulation:2})}return a})(),hr=(()=>{class a extends _.q{constructor(n,i,o,t,s){super(n),this._hierarquiaAjudaService=i,this._modalService=o,this._router=t,this._route=s,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){this.hierarquiaAjuda=new c.sl,this.hierarquiaAjuda.tiposAjuda=[]}save(){this.saving=!0,this._hierarquiaAjudaService.create(this.hierarquiaAjuda).subscribe(n=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.onSave.emit(n),this._router.navigate(["..","details",n.id],{relativeTo:this._route})})}goBack(){this._router.navigate([".."],{relativeTo:this._route})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.Qk),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:21,vars:8,consts:[["createHierarquiAjudaPage","ngForm"],[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click","disabled"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[2,"height","100%","width","100%","border","0px solid black"],[1,"card",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white"],[1,"card-body"],["ngModelGroup","hierarquiaAjuda",3,"disabled","hierarquiaAjuda"],[1,"row","m-0","mt-4","p-0","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),e.bIt("click",function(){return e.eBV(t),e.Njj(o.goBack())}),e.nrm(6,"i",6),e.k0s()()(),e.j41(7,"div",7)(8,"h1",8),e.EFF(9," Criar Nova Hierarquia de Ajuda "),e.k0s()()()(),e.j41(10,"section",9)(11,"form",10,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(13,"div",11)(14,"div",12)(15,"div",13),e.nrm(16,"hierarquia-ajuda-form",14),e.j41(17,"div",15)(18,"button",16),e.EFF(19),e.nI1(20,"localize"),e.k0s()()()()()()()()}if(2&i){const t=e.sdS(12);e.Y8G("@routerTransition",void 0),e.R7$(5),e.Y8G("disabled",o.saving),e.R7$(11),e.Y8G("disabled",o.saving)("hierarquiaAjuda",o.hierarquiaAjuda),e.R7$(2),e.Y8G("disabled",o.saving||!t.form.valid||0==o.hierarquiaAjuda.tiposAjuda.length),e.R7$(),e.SpI(" ",e.bMT(20,6,"Save")," ")}},dependencies:[l.qT,l.cb,l.Y4,l.cV,co,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const gr=()=>[];function fr(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s()()),2&a){const n=d.$implicit;e.R7$(2),e.Lme("",null==n?null:n.nome," ",null!=(null==n?null:n.sigla)?"("+n.sigla+")":"",""),e.R7$(2),e.JRh(null==n?null:n.desc)}}let br=(()=>{class a extends _.q{constructor(n,i,o,t,s){super(n),this._hierarquiaAjudaService=i,this._modalService=o,this._router=t,this._route=s,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){this.id=Number(this._route.snapshot.paramMap.get("hierarquiaAjudaId")),this.refresh()}refresh(){this._hierarquiaAjudaService.get(this.id).subscribe(n=>{this.hierarquiaAjuda=n})}save(){}goBack(){this._router.navigate(["../.."],{relativeTo:this._route})}addTipoAjuda(){this.hierarquiaAjuda.tiposAjuda.push(new c.RM)}rmvTipoAjuda(n){this.hierarquiaAjuda.tiposAjuda.splice(n,1)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.Qk),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:35,vars:14,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","m-0","p-0"],[1,"row","m-0","p-0","mt-4"],[2,"font-size","100%"],[1,"row","mt-0","mb-4","mx-4","p-0"],[1,"table","table-bordered","m-0","p-0"],[1,"bg-light"],[4,"ngFor","ngForOf"]],template:function(i,o){if(1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes da Hierarquia de Ajuda "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"div",13),e.EFF(18),e.k0s(),e.j41(19,"div",14)(20,"h1",15)(21,"b"),e.EFF(22,"Tipos de Ajuda"),e.k0s()()(),e.j41(23,"div",16)(24,"table",17)(25,"thead",18)(26,"tr")(27,"th"),e.EFF(28),e.nI1(29,"localize"),e.k0s(),e.j41(30,"th"),e.EFF(31),e.nI1(32,"localize"),e.k0s()()(),e.j41(33,"tbody"),e.DNE(34,fr,5,3,"tr",19),e.k0s()()()()()()()()),2&i){let t;e.Y8G("@routerTransition",void 0),e.R7$(11),e.SpI(" ",null==o.hierarquiaAjuda?null:o.hierarquiaAjuda.nome," "),e.R7$(4),e.Y8G("heading",e.bMT(16,7,"Informa\xe7\xe3o Geral")),e.R7$(3),e.SpI(" ",null==o.hierarquiaAjuda?null:o.hierarquiaAjuda.desc," "),e.R7$(10),e.JRh(e.bMT(29,9,"Nome")),e.R7$(3),e.JRh(e.bMT(32,11,"Descri\xe7\xe3o")),e.R7$(3),e.Y8G("ngForOf",null!==(t=null==o.hierarquiaAjuda?null:o.hierarquiaAjuda.tiposAjuda)&&void 0!==t?t:e.lJ4(13,gr))}},dependencies:[p.Sq,F.V6,F.fw,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const _r=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function vr(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function Cr(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"button",38),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.detailsProtocoloIntervencao(o))}),e.nrm(7,"i",14),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"button",39),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.delete(o))}),e.nrm(11,"i",40),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){const n=d.$implicit;e.R7$(2),e.JRh(null==n?null:n.nome),e.R7$(2),e.JRh(null==n||null==n.versoes?null:n.versoes.length),e.R7$(4),e.SpI(" ",e.bMT(9,4,"Details")," "),e.R7$(4),e.SpI(" ",e.bMT(13,6,"Delete")," ")}}let Ir=(()=>{class a extends y{constructor(n,i,o,t,s){super(n),this._protocoloIntervencaoService=i,this._modalService=o,this._router=t,this._route=s,this.protocolosIntervencao=[],this.maxDescLength=250,this.keyword="",this.advancedFiltersVisible=!1}createProtocoloIntervencao(){this._router.navigate(["create"],{relativeTo:this._route})}detailsProtocoloIntervencao(n){this._router.navigate(["details",n.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.getDataPage(1)}list(n,i,o){n.keyword=this.keyword,this._protocoloIntervencaoService.getAll(n.skipCount,n.maxResultCount).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.protocolosIntervencao=t.items,this.showPaging(t,i)})}delete(n){abp.message.confirm("O seguinte protocolo de interven\xe7\xe3o ser\xe1 exclu\xeddo do banco",void 0,i=>{i&&this._protocoloIntervencaoService.delete(n.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:59,vars:38,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(i,o){1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createProtocoloIntervencao()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,vr,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th",24),e.EFF(42),e.nI1(43,"localize"),e.k0s()()(),e.j41(44,"tbody"),e.DNE(45,Cr,14,8,"tr",25),e.nI1(46,"paginate"),e.k0s()()()(),e.j41(47,"div",26)(48,"div",2)(49,"div",27)(50,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(51,"i",29),e.k0s()(),e.j41(52,"div",30)(53,"p",31),e.EFF(54),e.nI1(55,"localize"),e.k0s()(),e.j41(56,"div",32)(57,"div",33)(58,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&i&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,16,"Protocolos de Interven\xe7\xe3o")),e.R7$(5),e.SpI(" ",e.bMT(12,18,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,20,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,22,"Nome")),e.R7$(3),e.JRh(e.bMT(40,24,"No. de Vers\xf5es")),e.R7$(3),e.JRh(e.bMT(43,26,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(46,28,o.protocolosIntervencao,e.sMw(34,_r,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(55,31,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const Fr=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function kr(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"th"),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"th"),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"td")(8,"button",18),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.selectUnselect(o))}),e.EFF(9),e.nI1(10,"localize"),e.k0s()()()}if(2&a){const n=d.$implicit,i=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,null==n?null:n.nome)),e.R7$(3),e.JRh(e.bMT(6,5,null==n?null:n.desc)),e.R7$(4),e.SpI(" ",e.bMT(10,7,i.isSelected(n)?"Remover T\xe9cnica":"Selecionar T\xe9cnica")," ")}}let jr=(()=>{class a extends y{constructor(n,i,o){super(n),this._tecnicaService=i,this.bsModalRef=o,this.saving=!1,this.selected=[],this.tecnicas=[],this.onSubmit=new e.bkB}list(n,i,o){this._tecnicaService.getAll(void 0,void 0,n.skipCount,n.maxResultCount).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.tecnicas=t.items,this.showPaging(t,i)})}delete(n){}isSelected(n){return this.selected.some(i=>i.id==n.id)}selectUnselect(n){let i=this.selected.findIndex(o=>o.id==n.id);-1!=i?this.selected.splice(i,1):this.selected.push(n)}submit(){this.saving=!0,this.onSubmit.emit(this.selected),this.bsModalRef.hide(),this.saving=!1}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.$Q),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:31,vars:23,consts:[["selectTecnicaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[3,"onCancelClick","cancelDisabled"],["type","button",1,"btn","btn-sm","bg-primary",3,"click"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.submit())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"div",4)(6,"table",5)(7,"thead",6)(8,"tr")(9,"th"),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"localize"),e.k0s(),e.nrm(15,"th"),e.k0s()(),e.j41(16,"tbody"),e.DNE(17,kr,11,9,"tr",7),e.nI1(18,"paginate"),e.k0s()()(),e.j41(19,"div",8)(20,"div",9)(21,"button",10),e.bIt("click",function(){return e.eBV(t),e.Njj(o.refresh())}),e.nrm(22,"i",11),e.k0s()(),e.j41(23,"div",12)(24,"p",13),e.EFF(25),e.nI1(26,"localize"),e.k0s()(),e.j41(27,"div",14)(28,"div",15)(29,"abp-pagination-controls",16),e.bIt("pageChange",function(r){return e.eBV(t),e.Njj(o.getDataPage(r))}),e.k0s()()()()(),e.j41(30,"abp-modal-footer",17),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}2&i&&(e.R7$(2),e.Y8G("title",e.bMT(3,7,"Selecionar T\xe9cnicas")),e.R7$(4),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(11,9,"Nome")),e.R7$(3),e.JRh(e.bMT(14,11,"Descri\xe7\xe3o")),e.R7$(4),e.Y8G("ngForOf",e.i5U(18,13,o.tecnicas,e.sMw(19,Fr,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(8),e.SpI(" ",e.i5U(26,16,"TotalRecordsCount",o.totalItems)," "),e.R7$(5),e.Y8G("cancelDisabled",o.saving))},dependencies:[p.Sq,l.qT,l.cb,l.cV,D,k.x,j.z,E,h.S,T.kf],encapsulation:2})}return a})();const Rr=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function Sr(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"td"),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"td"),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td"),e.EFF(13),e.nI1(14,"localize"),e.k0s(),e.j41(15,"td")(16,"button",18),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.selectUnselect(o))}),e.EFF(17),e.nI1(18,"localize"),e.k0s()()()}if(2&a){let n;const i=d.$implicit,o=e.XpG();e.R7$(2),e.JRh(e.bMT(3,6,null!==(n=null==i?null:i.isPersonalizada)&&void 0!==n&&n?"Sim":"N\xe3o")),e.R7$(3),e.JRh(e.bMT(6,8,null==i?null:i.codigo)),e.R7$(3),e.JRh(e.bMT(9,10,null==i?null:i.nome)),e.R7$(3),e.JRh(o.getProtocoloString(i)),e.R7$(2),e.JRh(e.bMT(14,12,o.getDominioString(i))),e.R7$(4),e.SpI(" ",e.bMT(18,14,o.isSelected(i)?"Remover alvo":"Selecionar alvo")," ")}}let Mr=(()=>{class a extends y{constructor(n,i,o){super(n),this._protocoloAvaliacaoService=i,this.bsModalRef=o,this.saving=!1,this.selected=[],this.habilidades=[],this.dominios=new Map,this.niveis=new Map,this.protocolos=new Map,this.onSubmit=new e.bkB}list(n,i,o){this._protocoloAvaliacaoService.getAllHabilidades(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,n.skipCount,n.maxResultCount).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.habilidades=t.items,this.showPaging(t,i),this.habilidades.forEach(s=>{null!=s.dominioId&&(this.dominios.has(s.dominioId)||(this.dominios.set(s.dominioId,void 0),this._protocoloAvaliacaoService.getDominio(s.dominioId).subscribe(r=>{this.dominios.set(s.dominioId,r),!this.niveis.has(r.nivelId)&&(this.niveis.set(r.nivelId,void 0),this._protocoloAvaliacaoService.getNivel(r.nivelId).subscribe(m=>{this.niveis.set(r.nivelId,m),!this.protocolos.has(m.protocoloAvaliacaoId)&&(this.protocolos.set(m.protocoloAvaliacaoId,void 0),this._protocoloAvaliacaoService.get(m.protocoloAvaliacaoId).subscribe(f=>{this.protocolos.set(m.protocoloAvaliacaoId,f)}))}))})))})})}delete(n){}isSelected(n){return this.selected.some(i=>i.id==n.id)}selectUnselect(n){let i=this.selected.findIndex(o=>o.id==n.id);-1!=i?this.selected.splice(i,1):this.selected.push(n)}getSelectedDominios(){var n=[];return this.selected.forEach(i=>{null!=i.dominioId&&n.push(this.dominios.get(i.dominioId))}),n}getSelectedNiveis(){var n=this.getSelectedDominios(),i=[];return n.forEach(o=>{i.push(this.niveis.get(o.nivelId))}),i}getSelectedProtocolos(){var n=this.getSelectedNiveis(),i=[];return n.forEach(o=>{i.push(this.protocolos.get(o.protocoloAvaliacaoId))}),i}getDominioString(n){return null==n?.dominioId?"-":this.dominios.get(n.dominioId)?.nome}getProtocoloString(n){if(null==n?.dominioId)return"-";var i=this.dominios.get(n.dominioId);if(null==i?.nivelId)return"-";var o=this.niveis.get(i.nivelId);if(null==o?.protocoloAvaliacaoId)return"-";var t=this.protocolos.get(o.protocoloAvaliacaoId);return t?.nome}submit(){this.saving=!0,this.onSubmit.emit(this.selected),this.bsModalRef.hide(),this.saving=!1}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:40,vars:33,consts:[["selectHabilidadesAlvoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[3,"onCancelClick","saveDisabled","cancelDisabled"],["type","button",1,"btn","btn-sm","bg-primary",3,"click"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.submit())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"div",4)(6,"table",5)(7,"thead",6)(8,"tr")(9,"th"),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"localize"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"localize"),e.k0s(),e.j41(21,"th"),e.EFF(22),e.nI1(23,"localize"),e.k0s(),e.nrm(24,"th"),e.k0s()(),e.j41(25,"tbody"),e.DNE(26,Sr,19,16,"tr",7),e.nI1(27,"paginate"),e.k0s()()(),e.j41(28,"div",8)(29,"div",9)(30,"button",10),e.bIt("click",function(){return e.eBV(t),e.Njj(o.refresh())}),e.nrm(31,"i",11),e.k0s()(),e.j41(32,"div",12)(33,"p",13),e.EFF(34),e.nI1(35,"localize"),e.k0s()(),e.j41(36,"div",14)(37,"div",15)(38,"abp-pagination-controls",16),e.bIt("pageChange",function(r){return e.eBV(t),e.Njj(o.getDataPage(r))}),e.k0s()()()()(),e.j41(39,"abp-modal-footer",17),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}2&i&&(e.R7$(2),e.Y8G("title",e.bMT(3,11,"Selecionar Alvos")),e.R7$(4),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(11,13,"Personalizada")),e.R7$(3),e.JRh(e.bMT(14,15,"C\xf3digo")),e.R7$(3),e.JRh(e.bMT(17,17,"Nome")),e.R7$(3),e.JRh(e.bMT(20,19,"Protocolo")),e.R7$(3),e.JRh(e.bMT(23,21,"Dom\xednio")),e.R7$(4),e.Y8G("ngForOf",e.i5U(27,23,o.habilidades,e.sMw(29,Rr,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(8),e.SpI(" ",e.i5U(35,26,"TotalRecordsCount",o.totalItems)," "),e.R7$(5),e.Y8G("saveDisabled",o.saving)("cancelDisabled",o.saving))},dependencies:[p.Sq,l.qT,l.cb,l.cV,D,k.x,j.z,E,h.S,T.kf],encapsulation:2})}return a})();function Er(a,d){if(1&a&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.nome," ")}}function Tr(a,d){if(1&a&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.nome," ")}}function Dr(a,d){if(1&a&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.nome," ")}}let Ar=(()=>{class a extends _.q{set passo(n){this._passo=n}get passo(){return this._passo}constructor(n,i,o){super(n),this._changeDetector=i,this.bsModalRef=o,this.saving=!1,this._passo=new c.h2,this.onSubmit=new e.bkB}ngOnInit(){this.passo=new c.h2}save(){this.saving=!0,this.onSubmit.emit(this.passo),this.bsModalRef.hide(),this.saving=!1}set objetivosAlvoId(n){this._objetivosAlvoId=n,this.objetivosAlvo=[],this._objetivosAlvoId.forEach(i=>{this.objetivosAlvo.push(this.habilidades.find(o=>o.id==i))}),this._changeDetector.detectChanges()}get objetivosAlvoId(){return this._objetivosAlvoId}get marcoHabilidadeLinhaDeBaseId(){return this.passo.marcoHabilidadeLinhaDeBaseId?.toString()??""}set marcoHabilidadeLinhaDeBaseId(n){this.passo.marcoHabilidadeLinhaDeBaseId=""!=n?Number(n):void 0}get marcoHabilidadeIntroducaoId(){return this.passo.marcoHabilidadeIntroducaoId?.toString()??""}set marcoHabilidadeIntroducaoId(n){this.passo.marcoHabilidadeIntroducaoId=""!=n?Number(n):void 0}get marcoHabilidadeCriterioAlcancadoId(){return this.passo.marcoHabilidadeCriterioAlcancadoId?.toString()??""}set marcoHabilidadeCriterioAlcancadoId(n){this.passo.marcoHabilidadeCriterioAlcancadoId=""!=n?Number(n):void 0}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(e.gRc),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],inputs:{habilidades:"habilidades",objetivosAlvoId:"objetivosAlvoId"},outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:48,vars:32,consts:[["createPassoProtIntervencaoModal","ngForm"],["descModel","ngModel","descEl",""],["marcoHabilidadeLinhaDeBaseModel","ngModel","marcoHabilidadeLinhaDeBaseEl",""],["marcoHabilidadeIntroducaoModel","ngModel","marcoHabilidadeIntroducaoEl",""],["marcoHabilidadeCriterioAlcancadoModel","ngModel","marcoHabilidadeCriterioAlcancadoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","passo",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","desc","id","desc","required","","maxlength","500",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","marcoHabilidadeLinhaDeBase",1,"col-md-3","col-form-label"],["name","marcoHabilidadeLinhaDeBase","id","marcoHabilidadeLinhaDeBase",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","marcoHabilidadeIntroducao",1,"col-md-3","col-form-label"],["name","marcoHabilidadeIntroducao","id","marcoHabilidadeIntroducao",1,"form-control",3,"ngModelChange","ngModel"],["for","marcoHabilidadeCriterioAlcancado",1,"col-md-3","col-form-label"],["name","marcoHabilidadeCriterioAlcancado","id","marcoHabilidadeCriterioAlcancado",1,"form-control",3,"ngModelChange","ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",5,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",6),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",7)(5,"div",8)(6,"label",9),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",10)(10,"input",11,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.passo.desc,r)||(o.passo.desc=r),e.Njj(r)}),e.k0s(),e.nrm(13,"abp-validation-summary",12),e.k0s()(),e.j41(14,"div",13)(15,"label",14),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.j41(18,"div",10)(19,"select",15,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.marcoHabilidadeLinhaDeBaseId,r)||(o.marcoHabilidadeLinhaDeBaseId=r),e.Njj(r)}),e.nrm(22,"option",16),e.DNE(23,Er,2,2,"option",17),e.k0s(),e.nrm(24,"abp-validation-summary",12),e.k0s()(),e.j41(25,"div",13)(26,"label",18),e.EFF(27),e.nI1(28,"localize"),e.k0s(),e.j41(29,"div",10)(30,"select",19,3),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.marcoHabilidadeIntroducaoId,r)||(o.marcoHabilidadeIntroducaoId=r),e.Njj(r)}),e.nrm(33,"option",16),e.DNE(34,Tr,2,2,"option",17),e.k0s(),e.nrm(35,"abp-validation-summary",12),e.k0s()(),e.j41(36,"div",13)(37,"label",20),e.EFF(38),e.nI1(39,"localize"),e.k0s(),e.j41(40,"div",10)(41,"select",21,4),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.marcoHabilidadeCriterioAlcancadoId,r)||(o.marcoHabilidadeCriterioAlcancadoId=r),e.Njj(r)}),e.nrm(44,"option",16),e.DNE(45,Dr,2,2,"option",17),e.k0s(),e.nrm(46,"abp-validation-summary",12),e.k0s()()(),e.j41(47,"abp-modal-footer",22),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1),s=e.sdS(11),r=e.sdS(12),m=e.sdS(20),f=e.sdS(21),v=e.sdS(31),C=e.sdS(32),S=e.sdS(42),$=e.sdS(43);e.R7$(2),e.Y8G("title",e.bMT(3,22,"CreatePassoProtIntervencao")),e.R7$(5),e.SpI(" ",e.bMT(8,24,"Descri\xe7\xe3o Curta")," "),e.R7$(3),e.R50("ngModel",o.passo.desc),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(17,26,"Marco de Linha de Base")," "),e.R7$(3),e.R50("ngModel",o.marcoHabilidadeLinhaDeBaseId),e.R7$(4),e.Y8G("ngForOf",o.objetivosAlvo),e.R7$(),e.Y8G("control",m)("controlEl",f),e.R7$(3),e.SpI(" ",e.bMT(28,28,"Marco de Introdu\xe7\xe3o")," "),e.R7$(3),e.R50("ngModel",o.marcoHabilidadeIntroducaoId),e.R7$(4),e.Y8G("ngForOf",o.objetivosAlvo),e.R7$(),e.Y8G("control",v)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(39,30,"Marco de Crit\xe9rio Alcan\xe7ado")," "),e.R7$(3),e.R50("ngModel",o.marcoHabilidadeCriterioAlcancadoId),e.R7$(4),e.Y8G("ngForOf",o.objetivosAlvo),e.R7$(),e.Y8G("control",S)("controlEl",$),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.xH,l.y7,l.me,l.wz,l.BC,l.cb,l.YS,l.tU,l.vS,l.cV,G.e,k.x,j.z,h.S],encapsulation:2})}return a})();const yr=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function Gr(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"th"),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"th"),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"td")(8,"button",18),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.selectUnselect(o))}),e.EFF(9),e.nI1(10,"localize"),e.k0s()()()}if(2&a){const n=d.$implicit,i=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,null==n?null:n.nome)),e.R7$(3),e.JRh(e.bMT(6,5,null==n?null:n.desc)),e.R7$(4),e.SpI(" ",e.bMT(10,7,i.isSelected(n)?"Remover Formato de Ensino":"Selecionar Formato de Ensino")," ")}}let $r=(()=>{class a extends y{constructor(n,i,o){super(n),this._formatoEnsinoService=i,this.bsModalRef=o,this.saving=!1,this.selected=[],this.formatosEnsino=[],this.novoFormatoEnsino=void 0,this.onSubmit=new e.bkB}list(n,i,o){this._formatoEnsinoService.getAll(n.skipCount,n.maxResultCount).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.formatosEnsino=t.items,this.showPaging(t,i)})}delete(n){}isSelected(n){return this.selected.some(i=>i.id==n.id)}selectUnselect(n){let i=this.selected.findIndex(o=>o.id==n.id);-1!=i?this.selected.splice(i,1):this.selected.push(n)}criarNovoFormatoEnsino(){this.novoFormatoEnsino=new c.Av}saveNovoFormatoEnsino(){this.saving=!0,this._formatoEnsinoService.create(this.novoFormatoEnsino).subscribe(n=>{this.selected.push(n),this.novoFormatoEnsino=void 0,this.saving=!1,this.refresh()})}save(){this.saving=!0,this.onSubmit.emit(this.selected),this.bsModalRef.hide(),this.saving=!1}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.ql),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:31,vars:24,consts:[["selectFormatosEnsinoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[3,"onCancelClick","cancelDisabled","saveDisabled"],["type","button",1,"btn","btn-sm","bg-primary",3,"click"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"div",4)(6,"table",5)(7,"thead",6)(8,"tr")(9,"th"),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"localize"),e.k0s(),e.nrm(15,"th"),e.k0s()(),e.j41(16,"tbody"),e.DNE(17,Gr,11,9,"tr",7),e.nI1(18,"paginate"),e.k0s()()(),e.j41(19,"div",8)(20,"div",9)(21,"button",10),e.bIt("click",function(){return e.eBV(t),e.Njj(o.refresh())}),e.nrm(22,"i",11),e.k0s()(),e.j41(23,"div",12)(24,"p",13),e.EFF(25),e.nI1(26,"localize"),e.k0s()(),e.j41(27,"div",14)(28,"div",15)(29,"abp-pagination-controls",16),e.bIt("pageChange",function(r){return e.eBV(t),e.Njj(o.getDataPage(r))}),e.k0s()()()()(),e.j41(30,"abp-modal-footer",17),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}2&i&&(e.R7$(2),e.Y8G("title",e.bMT(3,8,"SelectFormatoEnsino")),e.R7$(4),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(11,10,"Nome")),e.R7$(3),e.JRh(e.bMT(14,12,"Descri\xe7\xe3o")),e.R7$(4),e.Y8G("ngForOf",e.i5U(18,14,o.formatosEnsino,e.sMw(20,yr,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(8),e.SpI(" ",e.i5U(26,17,"TotalRecordsCount",o.totalItems)," "),e.R7$(5),e.Y8G("cancelDisabled",o.saving)("saveDisabled",o.saving))},dependencies:[p.Sq,l.qT,l.cb,l.cV,D,k.x,j.z,E,h.S,T.kf],encapsulation:2})}return a})(),Pr=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._hierarquiaAjudaService=i,this.bsModalRef=o,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){this.hierarquiaAjuda=new c.GY,this.hierarquiaAjuda.tiposAjuda=[]}save(){this.saving=!0,this._hierarquiaAjudaService.create(this.hierarquiaAjuda).subscribe(n=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(n)})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.Qk),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["createHierarquiaAjudaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","hierarquiaAjuda",3,"disabled","hierarquiaAjuda"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"hierarquia-ajuda-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"CreateNewHierarquiaAjuda")),e.R7$(3),e.Y8G("disabled",o.saving)("hierarquiaAjuda",o.hierarquiaAjuda),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving||0==o.hierarquiaAjuda.tiposAjuda.length)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,k.x,j.z,co,h.S],encapsulation:2})}return a})();const wr=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function Nr(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"th"),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"th"),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"td")(8,"button",15),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.select(o))}),e.EFF(9),e.nI1(10,"localize"),e.k0s()()()}if(2&a){const n=d.$implicit,i=e.XpG();e.R7$(2),e.JRh(e.bMT(3,4,null==n?null:n.nome)),e.R7$(3),e.JRh(e.bMT(6,6,i.getTiposDeAjudaString(n))),e.R7$(3),e.Y8G("disabled",i.isSelected(n)),e.R7$(),e.SpI(" ",e.bMT(10,8,"Selecionar Hierarquia de Ajuda")," ")}}let Vr=(()=>{class a extends y{constructor(n,i,o){super(n),this._hierarquiaService=i,this.bsModalRef=o,this.saving=!1,this.hierarquias=[],this.onSubmit=new e.bkB}list(n,i,o){this._hierarquiaService.getAll(n.skipCount,n.maxResultCount).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.hierarquias=t.items,this.showPaging(t,i)})}delete(n){}isSelected(n){return null!=this.selected&&this.selected.id==n.id}getTiposDeAjudaString(n){let i="";return n.tiposAjuda.forEach(o=>{let t=o?.sigla??"";i+=(""==t?o?.nome??"":t)+", "}),i.slice(0,i.length-2)}select(n){this.saving=!0,this.onSubmit.emit(n),this.bsModalRef.hide(),this.saving=!1}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.Qk),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:28,vars:22,consts:[[3,"onCloseClick","title"],[1,"modal-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],["type","button",1,"btn","btn-sm","bg-primary",3,"click","disabled"]],template:function(i,o){1&i&&(e.j41(0,"abp-modal-header",0),e.nI1(1,"localize"),e.bIt("onCloseClick",function(){return o.bsModalRef.hide()}),e.k0s(),e.j41(2,"div",1)(3,"div",2)(4,"table",3)(5,"thead",4)(6,"tr")(7,"th"),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.nrm(13,"th"),e.k0s()(),e.j41(14,"tbody"),e.DNE(15,Nr,11,10,"tr",5),e.nI1(16,"paginate"),e.k0s()()(),e.j41(17,"div",6)(18,"div",7)(19,"button",8),e.bIt("click",function(){return o.refresh()}),e.nrm(20,"i",9),e.k0s()(),e.j41(21,"div",10)(22,"p",11),e.EFF(23),e.nI1(24,"localize"),e.k0s()(),e.j41(25,"div",12)(26,"div",13)(27,"abp-pagination-controls",14),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()),2&i&&(e.Y8G("title",e.bMT(1,6,"Selecionar Hierarquia de Ajuda")),e.R7$(4),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(9,8,"Nome")),e.R7$(3),e.JRh(e.bMT(12,10,"Tipos de Ajuda")),e.R7$(4),e.Y8G("ngForOf",e.i5U(16,12,o.hierarquias,e.sMw(18,wr,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(8),e.SpI(" ",e.i5U(24,15,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,D,k.x,E,h.S,T.kf],encapsulation:2})}return a})(),Br=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._protocoloAvaliacaoService=i,this.bsModalRef=o,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){this.habilidade=new c.ft,this.habilidade.isPersonalizada=!0}save(){this.saving=!0,this._protocoloAvaliacaoService.createHabilidade(this.habilidade).subscribe(n=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(n)})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["createHabilidadeAvulsaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","habilidade",3,"habilidade"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"habilidade-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"CreateNewHabilidadeAvulsa")),e.R7$(3),e.Y8G("habilidade",o.habilidade),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,k.x,j.z,K,h.S],encapsulation:2})}return a})();const zr=()=>[2,3,4,5,6,7],Yr=()=>[];function Ur(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",68)(1,"div",69),e.EFF(2),e.k0s(),e.j41(3,"div",24)(4,"button",70),e.bIt("click",function(){const o=e.eBV(n).index,t=e.XpG();return e.Njj(t.rmvAlvo(o))}),e.nrm(5,"i",71),e.k0s()()()}if(2&a){const n=d.$implicit,i=e.XpG();e.R7$(2),e.SpI(" ",i.getHabilidadeString(n.id)," "),e.R7$(2),e.Y8G("disabled",i.habilidadesLoading||i.saving||i.disabled)}}function Xr(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",68)(1,"div",72),e.EFF(2),e.k0s(),e.j41(3,"div",73)(4,"button",70),e.bIt("click",function(){const o=e.eBV(n).index,t=e.XpG();return e.Njj(t.rmvFormatoEnsino(o))}),e.nrm(5,"i",71),e.k0s()()()}if(2&a){const n=d.$implicit,i=e.XpG();e.R7$(2),e.SpI(" ",i.getFormatoEnsinoNome(n.id)," "),e.R7$(2),e.Y8G("disabled",i.formatosEnsinoLoading||i.saving||i.disabled)}}function qr(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",38)(1,"label",39),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"input",74,13),e.mxI("ngModelChange",function(o){const t=e.eBV(n).$implicit,s=e.XpG();return e.DH7(s.versao["tentativas_Dia"+t],o)||(s.versao["tentativas_Dia"+t]=o),e.Njj(o)}),e.k0s(),e.nrm(7,"abp-validation-summary",18),e.k0s()}if(2&a){const n=d.$implicit,i=e.sdS(5),o=e.sdS(6),t=e.XpG();e.R7$(2),e.Lme("",e.bMT(3,8,"Dia")," ",n,""),e.R7$(2),e.Y8G("name","tentativas"+n)("id","tentativas"+n),e.R50("ngModel",t.versao["tentativas_Dia"+n]),e.Y8G("disabled",t.saving||t.disabled),e.R7$(3),e.Y8G("control",i)("controlEl",o)}}function Hr(a,d){1&a&&(e.j41(0,"div",75),e.EFF(1),e.nI1(2,"localize"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"N\xe3o selecionada")," "))}function xr(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",75)(1,"div",73),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",73)(5,"button",70),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.unselectHierarquiaAjuda())}),e.nrm(6,"i",71),e.k0s()()()}if(2&a){const n=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,2,n.getHierarquiaAjudaNome())," "),e.R7$(3),e.Y8G("disabled",n.saving||n.disabled)}}function Or(a,d){if(1&a&&(e.j41(0,"option",76),e.EFF(1),e.k0s()),2&a){const n=d.$implicit,i=e.XpG();e.Y8G("value",n.id),e.R7$(),e.JRh(i.getHabilidadeString(n.id))}}function Jr(a,d){if(1&a&&(e.j41(0,"option",76),e.EFF(1),e.k0s()),2&a){const n=d.$implicit,i=e.XpG();e.Y8G("value",n.id),e.R7$(),e.JRh(i.getHabilidadeString(n.id))}}function Lr(a,d){if(1&a&&(e.j41(0,"option",76),e.EFF(1),e.k0s()),2&a){const n=d.$implicit,i=e.XpG();e.Y8G("value",null==n?null:n.id),e.R7$(),e.JRh(i.getHabilidadeString(n.id))}}function Zr(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",77)(1,"div",24)(2,"label",75),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"div",78),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"div",78),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"div",78),e.EFF(12),e.nI1(13,"localize"),e.k0s()(),e.j41(14,"button",79),e.bIt("click",function(){const o=e.eBV(n).index,t=e.XpG();return e.Njj(t.rmvPasso(o))}),e.nrm(15,"i",71),e.k0s()()}if(2&a){let n,i,o;const t=d.$implicit,s=d.index,r=e.XpG();e.R7$(3),e.Lme("",e.bMT(4,9,"Passo "+(s+1)),": ",null==t?null:t.desc,""),e.R7$(3),e.Lme("",e.bMT(7,11,"Marco de Linha de Base"),": ",null!==(n=r.getHabilidadeString(null==t?null:t.marcoHabilidadeLinhaDeBaseId))&&void 0!==n?n:"Nenhum",""),e.R7$(3),e.Lme("",e.bMT(10,13,"Marco de Introdu\xe7\xe3o"),": ",null!==(i=r.getHabilidadeString(null==t?null:t.marcoHabilidadeIntroducaoId))&&void 0!==i?i:"Nenhum",""),e.R7$(3),e.Lme("",e.bMT(13,15,"Marco de Crit\xe9rio Alcan\xe7ado"),": ",null!==(o=r.getHabilidadeString(null==t?null:t.marcoHabilidadeCriterioAlcancadoId))&&void 0!==o?o:"Nenhum",""),e.R7$(2),e.Y8G("disabled",r.saving||r.disabled)}}function Qr(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",80)(1,"div",81),e.EFF(2),e.k0s(),e.j41(3,"div",82)(4,"button",70),e.bIt("click",function(){const o=e.eBV(n).index,t=e.XpG();return e.Njj(t.rmvTecnica(o))}),e.nrm(5,"i",71),e.k0s()()()}if(2&a){const n=d.$implicit,i=e.XpG();e.R7$(2),e.SpI(" ",i.getTecnicaNome(n.id)," "),e.R7$(2),e.Y8G("disabled",i.tecnicasLoading||i.saving||i.disabled)}}let ce=(()=>{class a extends Y{get versao(){return this._versao}set versao(n){this._versao=n,this.loadSuplementaryData()}updateLoading(){this.loadingChange.emit(this.habilidadesLoading||this.dominiosLoading||this.niveisLoading||this.protocolosAvaliacaoLoading||this.formatosEnsinoLoading||this.hierarquiaAjudaLoading||this.tecnicasLoading)}constructor(n,i,o,t,s,r,m,f,v,C){super(n),this._protocoloIntervencaoService=i,this._formatoEnsinoService=o,this._hierarquiaAjudaService=t,this._protocoloAvaliacaoService=s,this._tecnicaService=r,this._changeDetector=m,this._modalService=f,this._router=v,this._route=C,this.versaoChange=new e.bkB,this.loadingChange=new e.bkB,this.disabled=!1,this.saving=!1,this.protocolosAvaliacaoMap=new Map,this.niveisMap=new Map,this.dominiosMap=new Map,this.habilidadesMap=new Map,this.formatosEnsinoMap=new Map,this.tecnicasMap=new Map}loadSuplementaryData(){this.loadHabilidades(),this.loadFormatosEnsino(),this.loadHierarquiaAjuda(),this.loadTecnicas()}loadHabilidades(){(this.versao?.objetivosAlvo?.length??0)>0&&(this.protocolosAvaliacaoLoading=!0,this.updateLoading(),this._protocoloAvaliacaoService.getAll(void 0,void 0,this.versao.objetivosAlvo.map(n=>n.id),0,this.versao.objetivosAlvo.length).subscribe(n=>{this.protocolosAvaliacaoMap=new Map,n.items.forEach(i=>this.protocolosAvaliacaoMap.set(i.id,i)),this.protocolosAvaliacaoLoading=!1,this.updateLoading()}),this.niveisLoading=!0,this.updateLoading(),this._protocoloAvaliacaoService.getAllNiveis(void 0,void 0,void 0,this.versao.objetivosAlvo.map(n=>n.id),0,this.versao.objetivosAlvo.length).subscribe(n=>{this.niveisMap=new Map,n.items.forEach(i=>this.niveisMap.set(i.id,i)),this.niveisLoading=!1,this.updateLoading()}),this.dominiosLoading=!0,this.updateLoading(),this._protocoloAvaliacaoService.getAllDominios(void 0,void 0,void 0,void 0,this.versao.objetivosAlvo.map(n=>n.id),0,this.versao.objetivosAlvo.length).subscribe(n=>{this.dominiosMap=new Map,n.items.forEach(i=>this.dominiosMap.set(i.id,i)),this.dominiosLoading=!1,this.updateLoading()}),this.habilidadesLoading=!0,this.updateLoading(),this._protocoloAvaliacaoService.getAllHabilidades(void 0,void 0,void 0,void 0,void 0,void 0,void 0,this.versao.objetivosAlvo.map(n=>n.id),0,this.versao.objetivosAlvo.length).subscribe(n=>{this.habilidadesMap=new Map,n.items.forEach(i=>this.habilidadesMap.set(i.id,i)),this.habilidadesLoading=!1,this.updateLoading()}))}loadFormatosEnsino(){if((this.versao?.formatosEnsino?.length??0)>0){this.formatosEnsinoLoading=!0,this.updateLoading(),this.formatosEnsinoMap=new Map;for(let n=0;n<this.versao.formatosEnsino.length;n++)this._formatoEnsinoService.get(this.versao.formatosEnsino[n].id).subscribe(i=>{this.formatosEnsinoMap.set(i.id,i),this.formatosEnsinoMap.size==this.versao.formatosEnsino.length&&(this.formatosEnsinoLoading=!1,this.updateLoading())})}}loadHierarquiaAjuda(){null!=this.versao?.hierarquiaAjudaId&&(this.hierarquiaAjudaLoading=!0,this.updateLoading(),this._hierarquiaAjudaService.get(this.versao.hierarquiaAjudaId).subscribe(n=>{this.hierarquiaAjuda=n,this.hierarquiaAjudaLoading=!1,this.updateLoading()}))}loadTecnicas(){if((this.versao?.tecnicasUtilizadas?.length??0)>0){this.tecnicasLoading=!0,this.updateLoading(),this.tecnicasMap=new Map;for(let n=0;n<this.versao.tecnicasUtilizadas.length;n++)this._tecnicaService.get(this.versao.tecnicasUtilizadas[n].id).subscribe(i=>{this.tecnicasMap.set(i.id,i),this.tecnicasMap.size==this.versao.tecnicasUtilizadas.length&&(this.tecnicasLoading=!1,this.updateLoading())})}}getHabilidadeString(n){if(null==n)return;if(this.habilidadesLoading)return"Carregando...";let i=this.habilidadesMap?.get(Number(n));if(null==i)return"Erro";let o="";if(null!=i.codigo&&(o+="["+i.codigo+"] "),o+=i.nome,null!=i?.dominioId)if(this.dominiosLoading)o+=" (Carregando...)";else{let t=this.dominiosMap.get(i.dominioId);if(null==t)o+="(Erro)";else{if(o+=" (",this.niveisLoading||this.protocolosAvaliacaoLoading)o+="Carregando...";else{let s=this.niveisMap.get(t.nivelId);if(null==s)o+="Erro";else{let r=this.protocolosAvaliacaoMap.get(s?.protocoloAvaliacaoId);o+=r?.nome??"Erro"}}o+=": "+t.nome+")"}}return o}selectAlvos(){let n;n=this._modalService.show(Mr,{class:"modal-lg",initialState:{selected:this.versao.objetivosAlvo.map(i=>this.habilidadesMap.get(i.id)),dominios:this.dominiosMap,niveis:this.niveisMap,protocolos:this.protocolosAvaliacaoMap}}),n.content.onSubmit.subscribe((i=>{this.versao.objetivosAlvo=i.map(o=>new c.GO({id:o.id})),i.forEach(o=>{this.habilidadesMap.set(o.id,o)}),n.content.getSelectedDominios().forEach(o=>{this.dominiosMap.set(o.id,o)}),n.content.getSelectedNiveis().forEach(o=>{this.niveisMap.set(o.id,o)}),n.content.getSelectedProtocolos().forEach(o=>{this.protocolosAvaliacaoMap.set(o.id,o)}),this._changeDetector.detectChanges()}).bind(this))}createHabilidadePersonalizada(){let n;n=this._modalService.show(Br,{class:"modal-lg"}),n.content.onSave.subscribe(i=>{this.versao.objetivosAlvo=this.versao.objetivosAlvo??[],this.versao.objetivosAlvo.push(new c.GO({id:i.id})),this.habilidadesMap.set(i.id,i),this._changeDetector.detectChanges()})}rmvAlvo(n){this.versao.objetivosAlvo.splice(n,1),this._changeDetector.detectChanges()}getFormatoEnsinoNome(n){return this.formatosEnsinoLoading?"Carregando...":this.formatosEnsinoMap?.get(n)?.nome??"Erro"}selectFormatosEnsino(){let n;n=this._modalService.show($r,{class:"modal-lg"}),n.content.onSubmit.subscribe(i=>{this.versao.formatosEnsino=i.map(o=>new c.z2({id:o.id})),i.forEach(o=>this.formatosEnsinoMap.set(o.id,o)),this._changeDetector.detectChanges()})}createFormatoEnsino(){let n;n=this._modalService.show(lo,{class:"modal-lg"}),n.content.onSave.subscribe(i=>{this.versao.formatosEnsino=this.versao.formatosEnsino??[],this.versao.formatosEnsino.push(new c.z2({id:i.id})),this.formatosEnsinoMap.set(i.id,i),this._changeDetector.detectChanges()})}rmvFormatoEnsino(n){this.versao.formatosEnsino.splice(n,1),this._changeDetector.detectChanges()}getHierarquiaAjudaNome(){return this.hierarquiaAjudaLoading?"Carregando...":this.hierarquiaAjuda?.nome??"Erro"}selectHierarquiaAjuda(){let n;n=this._modalService.show(Vr,{class:"modal-lg"}),n.content.onSubmit.subscribe(i=>{this.versao.hierarquiaAjudaId=i.id,this.hierarquiaAjuda=i,this._changeDetector.detectChanges()})}createHierarquiaAjuda(){let n;n=this._modalService.show(Pr,{class:"modal-lg"}),n.content.onSave.subscribe(i=>{this.versao.hierarquiaAjudaId=i.id,this.hierarquiaAjuda=i,this._changeDetector.detectChanges()})}unselectHierarquiaAjuda(){this.versao.hierarquiaAjudaId=void 0,this._changeDetector.detectChanges()}getTecnicaNome(n){return this.tecnicasLoading?"Carregando...":this.tecnicasMap?.get(n)?.nome??"Erro"}selectTecnicas(){let n;n=this._modalService.show(jr,{class:"modal-lg"}),n.content.onSubmit.subscribe(i=>{i.forEach(o=>this.tecnicasMap.set(o.id,o)),this.versao.tecnicasUtilizadas=i.map(o=>new c.z2({id:o.id})),this._changeDetector.detectChanges()})}createTecnica(){let n;n=this._modalService.show(de,{class:"modal-lg"}),n.content.onSave.subscribe(i=>{this.versao.tecnicasUtilizadas=this.versao.tecnicasUtilizadas??[],this.versao.tecnicasUtilizadas.push(new c.z2({id:i.id})),this.tecnicasMap.set(i.id,i),this._changeDetector.detectChanges()})}rmvTecnica(n){this.versao.tecnicasUtilizadas.splice(n,1),this._changeDetector.detectChanges()}addReforcador(){}rmvReforcador(n){}get passos(){return this.versao.passosProtIntervencao}addPasso(){let n;n=this._modalService.show(Ar,{class:"modal-lg",initialState:{habilidades:[...this.habilidadesMap.values()],objetivosAlvoId:this.versao.objetivosAlvo.map(i=>i.id)}}),n.content.onSubmit.subscribe(i=>{if(this.versao instanceof c.Zz)this.versao.passosProtIntervencao.push(i);else if(this.versao instanceof c.uf){var o=i;o.id=0,this.versao.passosProtIntervencao.push(new c.c0(o))}this._changeDetector.detectChanges()})}rmvPasso(n){this.versao.passosProtIntervencao.splice(n,1),this._changeDetector.detectChanges()}get hierarquiaAjudaId(){return this.versao.hierarquiaAjudaId?.toString()??""}set hierarquiaAjudaId(n){this.versao.hierarquiaAjudaId=""!=n?Number(n):void 0}get marcoHabilidadeManutencaoId(){return this.versao.marcoHabilidadeManutencaoId?.toString()??""}set marcoHabilidadeManutencaoId(n){this.versao.marcoHabilidadeManutencaoId=""!=n?Number(n):void 0}get marcoHabilidadeAmbienteNaturalId(){return this.versao.marcoHabilidadeAmbienteNaturalId?.toString()??""}set marcoHabilidadeAmbienteNaturalId(n){this.versao.marcoHabilidadeAmbienteNaturalId=""!=n?Number(n):void 0}get marcoHabilidadeArquivamentoId(){return this.versao.marcoHabilidadeArquivamentoId?.toString()??""}set marcoHabilidadeArquivamentoId(n){this.versao.marcoHabilidadeArquivamentoId=""!=n?Number(n):void 0}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(c.ql),e.rXU(c.Qk),e.rXU(c.WD),e.rXU(c.$Q),e.rXU(e.gRc),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["versao-form"]],inputs:{versao:"versao",disabled:"disabled"},outputs:{versaoChange:"versaoChange",loadingChange:"loadingChange"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:215,vars:160,consts:[["nomeVersaoModel","ngModel","nomeVersaoEl",""],["descModel","ngModel","descEl",""],["sdModel","ngModel","sdEl",""],["respostaModel","ngModel","respostaEl",""],["reforcadoresModel","ngModel","reforcadoresEl",""],["criterioEvolucaoModel","ngModel","criterioEvolucaoEl",""],["tentativas1Model","ngModel","tentativas1El",""],["criterioManutencaoModel","ngModel","criterioManutencaoEl",""],["marcoManutencaoModel","ngModel","marcoManutencaoEl",""],["criterioAmbienteNaturalModel","ngModel","criterioAmbienteNaturalEl",""],["marcoAmbienteNaturalModel","ngModel","marcoAmbienteNaturalEl",""],["criterioArquivamentoModel","ngModel","criterioArquivamentoEl",""],["marcoArquivamentoModel","ngModel","marcoArquivamentoEl",""],["tentativasModel","ngModel","tentativasEl",""],[1,"form-group","row","required"],["for","nomeVersao",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nomeVersao","id","nomeVersao","required","","maxlength","250",1,"form-control",3,"ngModelChange","ngModel","disabled"],[3,"control","controlEl"],["for","desc",1,"col-md-3","col-form-label"],["type","text","name","desc","id","desc","required","","maxlength","500",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","alvos",1,"col-md-3","col-form-label","align-content-center"],["class","row m-0 p-0 mb-2",4,"ngFor","ngForOf"],[1,"row","text-center","justify-content-center","align-content-center"],[1,"col"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"fa","fa-plus"],["for","sd",1,"col-md-3","col-form-label"],["type","text","name","sd","id","sd","required","","maxlength","250",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","resposta",1,"col-md-3","col-form-label"],["type","text","name","resposta","id","resposta","required","","maxlength","250",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","reforcadores",1,"col-md-3","col-form-label","align-content-center"],["type","text","name","reforcadores","id","reforcadores","required","","maxlength","500",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","criterioEvolucao",1,"col-md-3","col-form-label"],["type","text","name","criterioEvolucao","id","criterioEvolucao","required","","maxlength","500",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","formatos",1,"col-md-3","col-form-label","align-content-center"],["for","tentativasSemana",1,"col-md-3","col-form-label"],[1,"row","m-0","p-0"],[1,"col","m-0","p-0"],[2,"font-size","75%"],["type","number","name","tentativas1","id","tentativas1","min","1","defaultValue","1","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["class","col m-0 p-0",4,"ngFor","ngForOf"],["for","hierarquiaAjuda",1,"col-md-3","col-form-label"],[1,"col-md-5"],["class","row m-0",4,"ngIf"],[1,"col-md-2"],[1,"row","m-2","p-0","text-center"],[1,"col","text-center"],["for","criterioManutencao",1,"col-md-3","col-form-label"],["type","text","name","criterioManutencao","id","criterioManutencao","required","","maxlength","500",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"form-group","row"],["for","marcoManutencao",1,"col-md-3","col-form-label"],["name","marcoManutencao","id","marcoManutencao",1,"form-control",3,"ngModelChange","ngModel","disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","criterioAmbienteNatural",1,"col-md-3","col-form-label"],["type","text","name","criterioAmbienteNatural","id","criterioAmbienteNatural","required","","maxlength","500",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","marcoAmbienteNatural",1,"col-md-3","col-form-label"],["name","marcoAmbienteNatural","id","marcoAmbienteNatural",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","criterioArquivamento",1,"col-md-3","col-form-label"],["type","text","name","criterioArquivamento","id","criterioArquivamento","maxlength","500","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","marcoArquivamento",1,"col-md-3","col-form-label"],["name","marcoArquivamento","id","marcoArquivamento",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"col","m-0","p-0","text-center"],["class","row m-2 mb-4 p-2","style","border: 1px solid lightgray; border-radius: 5px;",4,"ngFor","ngForOf"],[1,"row","m-2","p-0","text-center","justify-content-center","align-content-center"],["for","tecnicas",1,"row","m-2","p-0","text-center","justify-content-center","align-content-center"],["class","row m-0 p-0 mb-2 justify-content-center align-content-center",4,"ngFor","ngForOf"],[1,"row","m-0","p-0","mb-2"],[1,"col-10","mr-2","align-content-center"],["type","button",1,"row-0","btn","btn-danger",3,"click","disabled"],[1,"fa","fa-x"],[1,"col-0","mr-2","align-content-center"],[1,"col-0"],["type","number","min","0","defaultValue","0",1,"form-control",3,"ngModelChange","name","id","ngModel","disabled"],[1,"row","m-0"],[3,"value"],[1,"row","m-2","mb-4","p-2",2,"border","1px solid lightgray","border-radius","5px"],[1,"row","m-0","ml-2"],["type","button",1,"col-md-1","btn","btn-danger",3,"click","disabled"],[1,"row","m-0","p-0","mb-2","justify-content-center","align-content-center"],[1,"col-0","m-0","p-2"],[1,"col-0","m-0","p-0"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",14)(1,"label",15),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",16)(5,"input",17,0),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.versao.nome,r)||(o.versao.nome=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",18),e.k0s()(),e.j41(9,"div",14)(10,"label",19),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",16)(14,"textarea",20,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.versao.desc,r)||(o.versao.desc=r),e.Njj(r)}),e.EFF(17,"        "),e.k0s(),e.nrm(18,"abp-validation-summary",18),e.k0s()(),e.j41(19,"div",14)(20,"label",21),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"div",16),e.DNE(24,Ur,6,2,"div",22),e.j41(25,"div",23)(26,"div",24)(27,"button",25),e.bIt("click",function(){return e.eBV(t),e.Njj(o.selectAlvos())}),e.nrm(28,"i",26),e.EFF(29),e.nI1(30,"localize"),e.k0s()(),e.j41(31,"div",24)(32,"button",25),e.bIt("click",function(){return e.eBV(t),e.Njj(o.createHabilidadePersonalizada())}),e.nrm(33,"i",26),e.EFF(34),e.nI1(35,"localize"),e.k0s()()()()(),e.j41(36,"div",14)(37,"label",27),e.EFF(38),e.nI1(39,"localize"),e.k0s(),e.j41(40,"div",16)(41,"input",28,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.versao.sd_EstimuloDiscriminativo,r)||(o.versao.sd_EstimuloDiscriminativo=r),e.Njj(r)}),e.k0s(),e.nrm(44,"abp-validation-summary",18),e.k0s()(),e.j41(45,"div",14)(46,"label",29),e.EFF(47),e.nI1(48,"localize"),e.k0s(),e.j41(49,"div",16)(50,"input",30,3),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.versao.resposta,r)||(o.versao.resposta=r),e.Njj(r)}),e.k0s(),e.nrm(53,"abp-validation-summary",18),e.k0s()(),e.j41(54,"div",14)(55,"label",31),e.EFF(56),e.nI1(57,"localize"),e.k0s(),e.j41(58,"div",16)(59,"textarea",32,4),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.versao.descricaoReforcadores,r)||(o.versao.descricaoReforcadores=r),e.Njj(r)}),e.EFF(62,"        "),e.k0s(),e.nrm(63,"abp-validation-summary",18),e.k0s()(),e.j41(64,"div",14)(65,"label",33),e.EFF(66),e.nI1(67,"localize"),e.k0s(),e.j41(68,"div",16)(69,"textarea",34,5),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.versao.criterioEvolucao,r)||(o.versao.criterioEvolucao=r),e.Njj(r)}),e.EFF(72,"        "),e.k0s(),e.nrm(73,"abp-validation-summary",18),e.k0s()(),e.j41(74,"div",14)(75,"label",35),e.EFF(76),e.nI1(77,"localize"),e.k0s(),e.j41(78,"div",16),e.DNE(79,Xr,6,2,"div",22),e.j41(80,"div",23)(81,"div",24)(82,"button",25),e.bIt("click",function(){return e.eBV(t),e.Njj(o.selectFormatosEnsino())}),e.nrm(83,"i",26),e.EFF(84),e.nI1(85,"localize"),e.k0s()(),e.j41(86,"div",24)(87,"button",25),e.bIt("click",function(){return e.eBV(t),e.Njj(o.createFormatoEnsino())}),e.nrm(88,"i",26),e.EFF(89),e.nI1(90,"localize"),e.k0s()()()()(),e.j41(91,"div",14)(92,"label",36),e.EFF(93),e.nI1(94,"localize"),e.k0s(),e.j41(95,"div",16)(96,"div",37)(97,"div",38)(98,"label",39),e.EFF(99),e.nI1(100,"localize"),e.k0s(),e.j41(101,"input",40,6),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.versao.tentativas_Dia1,r)||(o.versao.tentativas_Dia1=r),e.Njj(r)}),e.k0s(),e.nrm(104,"abp-validation-summary",18),e.k0s(),e.DNE(105,qr,8,10,"div",41),e.k0s()()(),e.j41(106,"div",14)(107,"label",42),e.EFF(108),e.nI1(109,"localize"),e.k0s(),e.j41(110,"div",43),e.DNE(111,Hr,3,3,"div",44)(112,xr,7,4,"div",44),e.k0s(),e.j41(113,"div",45)(114,"button",25),e.bIt("click",function(){return e.eBV(t),e.Njj(o.selectHierarquiaAjuda())}),e.EFF(115),e.nI1(116,"localize"),e.k0s()(),e.j41(117,"div",45)(118,"button",25),e.bIt("click",function(){return e.eBV(t),e.Njj(o.createHierarquiaAjuda())}),e.EFF(119),e.nI1(120,"localize"),e.k0s()()(),e.j41(121,"div",46)(122,"label",47),e.EFF(123),e.nI1(124,"localize"),e.k0s()(),e.j41(125,"div",14)(126,"label",48),e.EFF(127),e.nI1(128,"localize"),e.k0s(),e.j41(129,"div",16)(130,"textarea",49,7),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.versao.procedimentoEvanescimentoEnsino_CriterioManutencao,r)||(o.versao.procedimentoEvanescimentoEnsino_CriterioManutencao=r),e.Njj(r)}),e.EFF(133,"        "),e.k0s(),e.nrm(134,"abp-validation-summary",18),e.k0s()(),e.j41(135,"div",50)(136,"label",51),e.EFF(137),e.nI1(138,"localize"),e.k0s(),e.j41(139,"div",16)(140,"select",52,8),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.marcoHabilidadeManutencaoId,r)||(o.marcoHabilidadeManutencaoId=r),e.Njj(r)}),e.nrm(143,"option",53),e.DNE(144,Or,2,2,"option",54),e.k0s(),e.nrm(145,"abp-validation-summary",18),e.k0s()(),e.j41(146,"div",14)(147,"label",55),e.EFF(148),e.nI1(149,"localize"),e.k0s(),e.j41(150,"div",16)(151,"textarea",56,9),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.versao.procedimentoEvanescimentoEnsino_CriterioAmbienteNatural,r)||(o.versao.procedimentoEvanescimentoEnsino_CriterioAmbienteNatural=r),e.Njj(r)}),e.EFF(154,"        "),e.k0s(),e.nrm(155,"abp-validation-summary",18),e.k0s()(),e.j41(156,"div",50)(157,"label",57),e.EFF(158),e.nI1(159,"localize"),e.k0s(),e.j41(160,"div",16)(161,"select",58,10),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.marcoHabilidadeAmbienteNaturalId,r)||(o.marcoHabilidadeAmbienteNaturalId=r),e.Njj(r)}),e.nrm(164,"option",53),e.DNE(165,Jr,2,2,"option",54),e.k0s(),e.nrm(166,"abp-validation-summary",18),e.k0s()(),e.j41(167,"div",14)(168,"label",59),e.EFF(169),e.nI1(170,"localize"),e.k0s(),e.j41(171,"div",16)(172,"textarea",60,11),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.versao.procedimentoEvanescimentoEnsino_CriterioArquivamento,r)||(o.versao.procedimentoEvanescimentoEnsino_CriterioArquivamento=r),e.Njj(r)}),e.EFF(175,"        "),e.k0s(),e.nrm(176,"abp-validation-summary",18),e.k0s()(),e.j41(177,"div",50)(178,"label",61),e.EFF(179),e.nI1(180,"localize"),e.k0s(),e.j41(181,"div",16)(182,"select",62,12),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.marcoHabilidadeArquivamentoId,r)||(o.marcoHabilidadeArquivamentoId=r),e.Njj(r)}),e.nrm(185,"option",53),e.DNE(186,Lr,2,2,"option",54),e.k0s(),e.nrm(187,"abp-validation-summary",18),e.k0s()(),e.j41(188,"div",46)(189,"label",63),e.EFF(190),e.nI1(191,"localize"),e.k0s()(),e.DNE(192,Zr,16,17,"div",64),e.j41(193,"div",65)(194,"button",25),e.bIt("click",function(){return e.eBV(t),e.Njj(o.addPasso())}),e.nrm(195,"i",26),e.EFF(196),e.nI1(197,"localize"),e.k0s()(),e.j41(198,"label",66),e.EFF(199),e.nI1(200,"localize"),e.k0s(),e.j41(201,"div",37)(202,"div",24),e.DNE(203,Qr,6,2,"div",67),e.j41(204,"div",23)(205,"div",24)(206,"button",25),e.bIt("click",function(){return e.eBV(t),e.Njj(o.selectTecnicas())}),e.nrm(207,"i",26),e.EFF(208),e.nI1(209,"localize"),e.k0s()(),e.j41(210,"div",24)(211,"button",25),e.bIt("click",function(){return e.eBV(t),e.Njj(o.createTecnica())}),e.nrm(212,"i",26),e.EFF(213),e.nI1(214,"localize"),e.k0s()()()()()}if(2&i){let t;const s=e.sdS(6),r=e.sdS(7),m=e.sdS(15),f=e.sdS(16),v=e.sdS(42),C=e.sdS(43),S=e.sdS(51),$=e.sdS(52),P=e.sdS(70),N=e.sdS(71),B=e.sdS(102),z=e.sdS(103),U=e.sdS(131),pe=e.sdS(132),he=e.sdS(141),ge=e.sdS(142),fe=e.sdS(152),be=e.sdS(153),_e=e.sdS(162),ve=e.sdS(163),Ce=e.sdS(173),Ie=e.sdS(174),Fe=e.sdS(183),ke=e.sdS(184);e.R7$(2),e.SpI(" ",e.bMT(3,100,"Nome da Vers\xe3o")," "),e.R7$(3),e.R50("ngModel",o.versao.nome),e.Y8G("disabled",o.saving||o.disabled),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(12,102,"Descri\xe7\xe3o da Vers\xe3o")," "),e.R7$(3),e.R50("ngModel",o.versao.desc),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("control",m)("controlEl",f),e.R7$(3),e.SpI(" ",e.bMT(22,104,"Habilidades-Alvo")," "),e.R7$(3),e.Y8G("ngForOf",o.versao.objetivosAlvo),e.R7$(3),e.Y8G("disabled",o.habilidadesLoading||o.saving||o.disabled),e.R7$(2),e.SpI(" ",e.bMT(30,106,"Selecionar Alvo(s)")," "),e.R7$(3),e.Y8G("disabled",o.habilidadesLoading||o.saving||o.disabled),e.R7$(2),e.SpI(" ",e.bMT(35,108,"Criar Nova Habilidade Alvo Personalizada")," "),e.R7$(4),e.SpI(" ",e.bMT(39,110,"Est\xedmulo Discriminativo")," "),e.R7$(3),e.R50("ngModel",o.versao.sd_EstimuloDiscriminativo),e.Y8G("disabled",o.saving||o.disabled),e.R7$(3),e.Y8G("control",v)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(48,112,"Resposta")," "),e.R7$(3),e.R50("ngModel",o.versao.resposta),e.Y8G("disabled",o.saving||o.disabled),e.R7$(3),e.Y8G("control",S)("controlEl",$),e.R7$(3),e.SpI(" ",e.bMT(57,114,"Refor\xe7adores")," "),e.R7$(3),e.R50("ngModel",o.versao.descricaoReforcadores),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("control",P)("controlEl",N),e.R7$(3),e.SpI(" ",e.bMT(67,116,"Crit\xe9rio de Evolu\xe7\xe3o")," "),e.R7$(3),e.R50("ngModel",o.versao.criterioEvolucao),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("control",P)("controlEl",N),e.R7$(3),e.SpI(" ",e.bMT(77,118,"Formatos de Ensino")," "),e.R7$(3),e.Y8G("ngForOf",o.versao.formatosEnsino),e.R7$(3),e.Y8G("disabled",o.formatosEnsinoLoading||o.saving||o.disabled),e.R7$(2),e.SpI(" ",e.bMT(85,120,"Selecionar Formato(s) de Ensino")," "),e.R7$(3),e.Y8G("disabled",o.formatosEnsinoLoading||o.saving||o.disabled),e.R7$(2),e.SpI(" ",e.bMT(90,122,"Criar Novo Formato de Ensino")," "),e.R7$(4),e.SpI(" ",e.bMT(94,124,"N\xfamero de Tentativas")," "),e.R7$(6),e.SpI("",e.bMT(100,126,"Dia")," 1"),e.R7$(2),e.R50("ngModel",o.versao.tentativas_Dia1),e.Y8G("disabled",o.saving||o.disabled),e.R7$(3),e.Y8G("control",B)("controlEl",z),e.R7$(),e.Y8G("ngForOf",e.lJ4(158,zr)),e.R7$(3),e.SpI(" ",e.bMT(109,128,"Hierarquia de Ajuda")," "),e.R7$(3),e.Y8G("ngIf",null==(null==o.versao?null:o.versao.hierarquiaAjudaId)),e.R7$(),e.Y8G("ngIf",null!=(null==o.versao?null:o.versao.hierarquiaAjudaId)),e.R7$(2),e.Y8G("disabled",o.saving||o.disabled),e.R7$(),e.SpI(" ",e.bMT(116,130,"Selecionar")," "),e.R7$(3),e.Y8G("disabled",o.saving||o.disabled),e.R7$(),e.SpI(" ",e.bMT(120,132,"Criar Nova")," "),e.R7$(4),e.JRh(e.bMT(124,134,"Procedimento de Evanescimento de Ensino")),e.R7$(4),e.SpI(" ",e.bMT(128,136,"Crit\xe9rio de Manuten\xe7\xe3o")," "),e.R7$(3),e.R50("ngModel",o.versao.procedimentoEvanescimentoEnsino_CriterioManutencao),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("control",U)("controlEl",pe),e.R7$(3),e.SpI(" ",e.bMT(138,138,"Marco de Manuten\xe7\xe3o")," "),e.R7$(3),e.R50("ngModel",o.marcoHabilidadeManutencaoId),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("ngForOf",o.versao.objetivosAlvo),e.R7$(),e.Y8G("control",he)("controlEl",ge),e.R7$(3),e.SpI(" ",e.bMT(149,140,"Crit\xe9rio de Ambiente Natural")," "),e.R7$(3),e.R50("ngModel",o.versao.procedimentoEvanescimentoEnsino_CriterioAmbienteNatural),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("control",fe)("controlEl",be),e.R7$(3),e.SpI(" ",e.bMT(159,142,"Marco de Ambiente Natural")," "),e.R7$(3),e.R50("ngModel",o.marcoHabilidadeAmbienteNaturalId),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("ngForOf",o.versao.objetivosAlvo),e.R7$(),e.Y8G("control",_e)("controlEl",ve),e.R7$(3),e.SpI(" ",e.bMT(170,144,"Crit\xe9rio de Arquivamento")," "),e.R7$(3),e.R50("ngModel",o.versao.procedimentoEvanescimentoEnsino_CriterioArquivamento),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("control",Ce)("controlEl",Ie),e.R7$(3),e.SpI(" ",e.bMT(180,146,"Marco de Arquivamento")," "),e.R7$(3),e.R50("ngModel",o.marcoHabilidadeArquivamentoId),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("ngForOf",o.versao.objetivosAlvo),e.R7$(),e.Y8G("control",Fe)("controlEl",ke),e.R7$(3),e.SpI(" ",e.bMT(191,148,"Passos")," "),e.R7$(2),e.Y8G("ngForOf",null!==(t=o.passos)&&void 0!==t?t:e.lJ4(159,Yr)),e.R7$(2),e.Y8G("disabled",o.saving||o.disabled),e.R7$(2),e.SpI(" ",e.bMT(197,150,"Adicionar Passo")," "),e.R7$(3),e.SpI(" ",e.bMT(200,152,"T\xe9cnicas Utilizadas"),"\n"),e.R7$(4),e.Y8G("ngForOf",o.versao.tecnicasUtilizadas),e.R7$(3),e.Y8G("disabled",o.tecnicasLoading||o.saving||o.disabled),e.R7$(2),e.SpI(" ",e.bMT(209,154,"Selecionar T\xe9cnica(s)")," "),e.R7$(3),e.Y8G("disabled",o.tecnicasLoading||o.saving||o.disabled),e.R7$(2),e.SpI(" ",e.bMT(214,156,"Criar Nova T\xe9cnica")," ")}},dependencies:[p.Sq,p.bT,l.xH,l.y7,l.me,l.Q0,l.wz,l.BC,l.YS,l.tU,l.VZ,l.vS,G.e,h.S],encapsulation:2})}return a})(),Wr=(()=>{class a extends _.q{constructor(n,i,o,t,s,r){super(n),this._protocoloIntervencaoService=i,this._changeDetector=o,this._modalService=t,this._router=s,this._route=r,this.loading=!1,this.saving=!1,this.protocoloIntervencao=new c.pn,this.onSave=new e.bkB}ngOnInit(){this.protocoloIntervencao=new c.pn,this.protocoloIntervencao.versaoPadrao=new c.Zz}save(){this.saving=!0,this._protocoloIntervencaoService.create(this.protocoloIntervencao).subscribe(n=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.onSave.emit(n),this._router.navigate(["..","details",n.id],{relativeTo:this._route})})}goBack(){this._router.navigate([".."],{relativeTo:this._route})}log(n){console.log(n)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(e.gRc),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:35,vars:19,consts:[["createProtocoloIntervencaoPage","ngForm"],["nomeModel","ngModel","nomeEl",""],[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click","disabled"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[2,"height","100%","width","100%","border","0px solid black"],[1,"card",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white"],[1,"card-body"],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],[1,"row","m-2","p-0","text-center"],[1,"col","text-center"],["ngModelGroup","versaoInicial",3,"versaoChange","loadingChange","versao"],[1,"row","m-0","mt-4","p-0","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"section",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"button",6),e.bIt("click",function(){return e.eBV(t),e.Njj(o.goBack())}),e.nrm(6,"i",7),e.k0s()()(),e.j41(7,"div",8)(8,"h1",9),e.EFF(9),e.nI1(10,"localize"),e.k0s()()()(),e.j41(11,"section",10)(12,"form",11,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(14,"div",12)(15,"div",13)(16,"div",14)(17,"div",15)(18,"label",16),e.EFF(19),e.nI1(20,"localize"),e.k0s(),e.j41(21,"div",17)(22,"input",18,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.protocoloIntervencao.nome,r)||(o.protocoloIntervencao.nome=r),e.Njj(r)}),e.k0s(),e.nrm(25,"abp-validation-summary",19),e.k0s()(),e.j41(26,"div",20)(27,"label",21),e.EFF(28),e.nI1(29,"localize"),e.k0s()(),e.j41(30,"versao-form",22),e.mxI("versaoChange",function(r){return e.eBV(t),e.DH7(o.protocoloIntervencao.versaoPadrao,r)||(o.protocoloIntervencao.versaoPadrao=r),e.Njj(r)}),e.bIt("loadingChange",function(r){return e.eBV(t),e.Njj(o.loading=r)}),e.k0s(),e.j41(31,"div",23)(32,"button",24),e.EFF(33),e.nI1(34,"localize"),e.k0s()()()()()()()()}if(2&i){const t=e.sdS(13),s=e.sdS(23),r=e.sdS(24);e.Y8G("@routerTransition",void 0),e.R7$(5),e.Y8G("disabled",o.saving),e.R7$(4),e.SpI(" ",e.bMT(10,11,"Criar Novo Protocolo de Interven\xe7\xe3o")," "),e.R7$(10),e.SpI(" ",e.bMT(20,13,"Nome")," "),e.R7$(3),e.R50("ngModel",o.protocoloIntervencao.nome),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(29,15,"Vers\xe3o Inicial")," "),e.R7$(2),e.R50("versao",o.protocoloIntervencao.versaoPadrao),e.R7$(2),e.Y8G("disabled",o.saving||o.loading||!t.form.valid),e.R7$(),e.SpI(" ",e.bMT(34,17,"Save")," ")}},dependencies:[l.qT,l.me,l.BC,l.cb,l.YS,l.tU,l.vS,l.Y4,l.cV,G.e,ce,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const Kr=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function el(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"button",17),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.detailsVersaoProtIntervencao(o))}),e.nrm(9,"i",18),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"button",19),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.delete(o))}),e.nrm(13,"i",20),e.EFF(14),e.nI1(15,"localize"),e.k0s()()()}if(2&a){const n=d.$implicit,i=e.XpG();e.R7$(2),e.JRh(null==n?null:n.nome),e.R7$(2),e.JRh(null==n?null:n.desc),e.R7$(2),e.JRh(i.getProtocolosAvaliacaoString(n)),e.R7$(4),e.SpI(" ",e.bMT(11,5,"Details")," "),e.R7$(4),e.SpI(" ",e.bMT(15,7,"Delete")," ")}}let ol=(()=>{class a extends y{constructor(n,i,o,t,s){super(n),this._protocoloIntervencaoService=i,this._modalService=o,this._router=t,this._route=s,this.versoes=[],this.maxDescLength=250,this.advancedFiltersVisible=!1}detailsVersaoProtIntervencao(n){console.log(n),this._router.navigate(["app","protocolos-intervencao","versoes","details",n.id])}clearFilters(){this.getDataPage(1)}list(n,i,o){n.protIntervencaoId=this.protIntervencaoId,this._protocoloIntervencaoService.getAllVersoes(n.protIntervencaoId,void 0,void 0,void 0).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.versoes=t.items,this.showPaging(t,i)})}delete(n){abp.message.confirm("O seguinte protocolo de interven\xe7\xe3o ser\xe1 exclu\xeddo do banco",void 0,i=>{i&&this._protocoloIntervencaoService.deleteVersao(n.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}getProtocolosAvaliacaoString(n){return"NotImplemented"}createVersao(){null!=this.protIntervencaoId&&this._router.navigate(["app","protocolos-intervencao","versoes","create",this.protIntervencaoId])}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["versoes-list"]],inputs:{protIntervencaoId:"protIntervencaoId"},features:[e.Vt3],decls:36,vars:28,consts:[[1,"row","m-0","mb-1"],[1,"justify-self-end","col","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],["type","button",1,"btn","btn-sm","bg-secondary","mx-1",3,"click"],[1,"fas","fa-search"],["type","button",1,"btn","btn-sm","bg-danger","mx-1",3,"click"],[1,"fas","fa-trash"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"a",2),e.bIt("click",function(){return o.createVersao()}),e.nrm(3,"i",3),e.EFF(4),e.nI1(5,"localize"),e.k0s()()(),e.j41(6,"div",4)(7,"table",5)(8,"thead",6)(9,"tr")(10,"th"),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"localize"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"localize"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"localize"),e.k0s()()(),e.j41(22,"tbody"),e.DNE(23,el,16,9,"tr",7),e.nI1(24,"paginate"),e.k0s()()(),e.j41(25,"div",8)(26,"div",9)(27,"button",10),e.bIt("click",function(){return o.refresh()}),e.nrm(28,"i",11),e.k0s()(),e.j41(29,"div",12)(30,"p",13),e.EFF(31),e.nI1(32,"localize"),e.k0s()(),e.j41(33,"div",14)(34,"div",15)(35,"abp-pagination-controls",16),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&i&&(e.R7$(4),e.SpI(" ",e.bMT(5,8,"Create")," "),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(12,10,"Nome")),e.R7$(3),e.JRh(e.bMT(15,12,"Descri\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(18,14,"ProtocolosAvaliacao Relacionados")),e.R7$(3),e.JRh(e.bMT(21,16,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(24,18,o.versoes,e.sMw(24,Kr,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(8),e.SpI(" ",e.i5U(32,21,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const ee=()=>[];function nl(a,d){if(1&a&&(e.j41(0,"div",20),e.EFF(1),e.k0s()),2&a){const n=d.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.getHabilidadeString(n.id)," ")}}function il(a,d){if(1&a){const n=e.RV6();e.j41(0,"div"),e.EFF(1),e.j41(2,"button",21),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.formatoEnsinoDetails(o))}),e.nrm(3,"i",13),e.k0s()()}if(2&a){const n=d.$implicit;e.R7$(),e.SpI(" ",null==n?null:n.nome," ")}}function tl(a,d){if(1&a&&(e.j41(0,"div",22)(1,"div",2)(2,"label",23),e.EFF(3),e.k0s(),e.j41(4,"div",24),e.EFF(5),e.k0s(),e.j41(6,"div",24),e.EFF(7),e.k0s(),e.j41(8,"div",24),e.EFF(9),e.k0s()()()),2&a){let n,i,o;const t=d.$implicit,s=d.index,r=e.XpG();e.R7$(3),e.Lme("Passo ",s+1,": ",t.desc,""),e.R7$(2),e.SpI("Marco de Linha de Base: ",null!==(n=r.getHabilidadeString(null==t?null:t.marcoHabilidadeLinhaDeBaseId))&&void 0!==n?n:"Nenhum",""),e.R7$(2),e.SpI("Marco de Introdu\xe7\xe3o: ",null!==(i=r.getHabilidadeString(null==t?null:t.marcoHabilidadeIntroducaoId))&&void 0!==i?i:"Nenhum",""),e.R7$(2),e.SpI("Marco de Crit\xe9rio Alcan\xe7ado: ",null!==(o=r.getHabilidadeString(null==t?null:t.marcoHabilidadeCriterioAlcancadoId))&&void 0!==o?o:"Nenhum","")}}function al(a,d){if(1&a&&(e.j41(0,"div",25)(1,"div",2)(2,"div",0),e.EFF(3),e.k0s()()()),2&a){const n=d.$implicit,i=e.XpG();e.R7$(3),e.JRh(i.getNomeTecnica(null==n?null:n.id))}}let uo=(()=>{class a extends _.q{set versao(n){this._versao=n,this.refresh()}get versao(){return this._versao}constructor(n,i,o,t,s,r,m){super(m),this._formatoEnsinoService=n,this._hierarquiaAjudaService=i,this._protocoloAvaliacaoService=o,this._tecnicaService=t,this._changeDetector=s,this._router=r,this.onClickEdit=new e.bkB}ngOnInit(){}getNomeTecnica(n){return this.tecnicas?.find(i=>i.id==n)?.nome}refresh(){null!=this.versao&&(this._hierarquiaAjudaService.get(this.versao.hierarquiaAjudaId).subscribe(n=>{this.hierarquiaAjuda=n,this._changeDetector.detectChanges()}),this.tecnicas=[],this.versao.tecnicasUtilizadas.forEach(n=>{this._tecnicaService.get(n.id).subscribe(i=>{this.tecnicas.push(i),this._changeDetector.detectChanges()})}),this.formatosEnsino=[],this.versao.formatosEnsino.forEach(n=>{this._formatoEnsinoService.get(n.id).subscribe(i=>this.formatosEnsino.push(i))}),this.protocolosAvaliacaoRelacionados=[],this._protocoloAvaliacaoService.getAll(void 0,void 0,this.versao.objetivosAlvo.map(n=>n.id),void 0,void 0).subscribe(n=>{this.protocolosAvaliacaoRelacionados=n.items,this._changeDetector.detectChanges()}),this.niveis=[],this._protocoloAvaliacaoService.getAllNiveis(void 0,void 0,void 0,this.versao.objetivosAlvo.map(n=>n.id),void 0,void 0).subscribe(n=>{this.niveis=n.items,this._changeDetector.detectChanges()}),this.dominios=[],this._protocoloAvaliacaoService.getAllDominios(void 0,void 0,void 0,void 0,this.versao.objetivosAlvo.map(n=>n.id),void 0,void 0).subscribe(n=>{this.dominios=n.items,this._changeDetector.detectChanges()}),this.habilidades=[],this._protocoloAvaliacaoService.getAllHabilidades(void 0,void 0,void 0,void 0,void 0,void 0,void 0,this.versao.objetivosAlvo.map(n=>n.id),void 0,void 0).subscribe(n=>{this.habilidades=n.items,this._changeDetector.detectChanges()}))}getHabilidadeString(n){let i=this.habilidades?.find(t=>t.id==n),o="";if(null!=i?.dominioId){let t=this.dominios.find(s=>s.id==i?.dominioId);if(null!=t){let s=this.niveis?.find(m=>m.id==t?.nivelId),r=this.protocolosAvaliacaoRelacionados?.find(m=>m.id==s?.protocoloAvaliacaoId);o+=r?.nome??"",o+=" - "+(s?.nome??""),o+=" - "+t?.nome+" - "}}if(o+=i?.nome??"",""!=o)return o}hierarquiaAjudaDetails(){this._router.navigate(["app","hierarquias-ajuda","details",this.hierarquiaAjuda.id])}formatoEnsinoDetails(n){this._router.navigate(["app","formatos-ensino","details",n.id])}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(c.ql),e.rXU(c.Qk),e.rXU(c.WD),e.rXU(c.$Q),e.rXU(e.gRc),e.rXU(g.Ix),e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["versao-details"]],inputs:{versao:"versao"},outputs:{onClickEdit:"onClickEdit"},features:[e.Vt3],decls:134,vars:32,consts:[[1,"row","m-0","p-0","pb-2"],[1,"col-md-3"],[1,"col","m-0","p-0"],["class","row m-0 p-0",4,"ngFor","ngForOf"],[1,"col","mr-1"],[4,"ngFor","ngForOf"],[1,"row","m-0","p-0",2,"border","1px solid lightgray","border-radius","5px"],[1,"col","m-0","p-0","px-1",2,"border-right","1px solid lightgray"],[1,"row","text-center","m-0","p-0",2,"justify-self","center"],[1,"row","text-center","m-0","p-0","pb-2",2,"justify-self","center"],[1,"col","m-0","p-0","px-1"],[1,"col-0","mr-1"],["type","button",1,"col-0","btn","btn-secondary",3,"click","disabled"],[1,"fas","fa-link"],[1,"row","m-0","p-0","text-center"],[1,"col","text-center"],["type","button",1,"col-0","btn","btn-secondary",3,"hidden"],[1,"col","m-0","p-0","text-center"],["class","row m-2 mb-4 p-2","style","border: 1px solid lightgray; border-radius: 5px;",4,"ngFor","ngForOf"],["class","row m-0 mb-1 p-0",4,"ngFor","ngForOf"],[1,"row","m-0","p-0"],["type","button",1,"col-0","btn","btn-secondary",3,"click"],[1,"row","m-2","mb-4","p-2",2,"border","1px solid lightgray","border-radius","5px"],[1,"row","m-0"],[1,"row","m-0","ml-2"],[1,"row","m-0","mb-1","p-0"]],template:function(i,o){if(1&i&&(e.j41(0,"div",0)(1,"label",1),e.EFF(2,"Nome:"),e.k0s(),e.j41(3,"span",2),e.EFF(4),e.k0s()(),e.j41(5,"div",0)(6,"label",1),e.EFF(7,"Descri\xe7\xe3o:"),e.k0s(),e.j41(8,"span",2),e.EFF(9),e.k0s()(),e.j41(10,"div",0)(11,"label",1),e.EFF(12,"Habilidades-Alvo:"),e.k0s(),e.j41(13,"div",2),e.DNE(14,nl,2,1,"div",3),e.k0s()(),e.j41(15,"div",0)(16,"label",1),e.EFF(17,"Est\xedmulo Discriminativo:"),e.k0s(),e.j41(18,"span",2),e.EFF(19),e.k0s()(),e.j41(20,"div",0)(21,"label",1),e.EFF(22,"Resposta:"),e.k0s(),e.j41(23,"span",2),e.EFF(24),e.k0s()(),e.j41(25,"div",0)(26,"label",1),e.EFF(27,"Refor\xe7adores:"),e.k0s(),e.j41(28,"div",2),e.EFF(29),e.k0s()(),e.j41(30,"div",0)(31,"label",1),e.EFF(32,"Crit\xe9rio de Evolu\xe7\xe3o:"),e.k0s(),e.j41(33,"span",2),e.EFF(34),e.k0s()(),e.j41(35,"div",0)(36,"label",1),e.EFF(37,"Formatos de Ensino:"),e.k0s(),e.j41(38,"div",4),e.DNE(39,il,4,1,"div",5),e.k0s()(),e.j41(40,"div",0)(41,"label",1),e.EFF(42,"N\xfamero de Tentativas:"),e.k0s(),e.j41(43,"div",2)(44,"div",6)(45,"div",7)(46,"label",8),e.EFF(47,"Dia 1"),e.k0s(),e.j41(48,"div",9),e.EFF(49),e.k0s()(),e.j41(50,"div",7)(51,"label",8),e.EFF(52,"Dia 2"),e.k0s(),e.j41(53,"div",9),e.EFF(54),e.k0s()(),e.j41(55,"div",7)(56,"label",8),e.EFF(57,"Dia 3"),e.k0s(),e.j41(58,"div",9),e.EFF(59),e.k0s()(),e.j41(60,"div",7)(61,"label",8),e.EFF(62,"Dia 4"),e.k0s(),e.j41(63,"div",9),e.EFF(64),e.k0s()(),e.j41(65,"div",7)(66,"label",8),e.EFF(67,"Dia 5"),e.k0s(),e.j41(68,"div",9),e.EFF(69),e.k0s()(),e.j41(70,"div",7)(71,"label",8),e.EFF(72,"Dia 6"),e.k0s(),e.j41(73,"div",9),e.EFF(74),e.k0s()(),e.j41(75,"div",10)(76,"label",8),e.EFF(77,"Dia 7"),e.k0s(),e.j41(78,"div",9),e.EFF(79),e.k0s()()()()(),e.j41(80,"div",0)(81,"label",1),e.EFF(82,"Hierarquia de Ajuda:"),e.k0s(),e.j41(83,"span",11),e.EFF(84),e.k0s(),e.j41(85,"button",12),e.bIt("click",function(){return o.hierarquiaAjudaDetails()}),e.nrm(86,"i",13),e.k0s()(),e.j41(87,"div",14)(88,"label",15),e.EFF(89,"Procedimento de Evanescimento de Ensino"),e.k0s()(),e.j41(90,"div",0)(91,"label",1),e.EFF(92,"Crit\xe9rio de Manuten\xe7\xe3o:"),e.k0s(),e.j41(93,"span",2),e.EFF(94),e.k0s()(),e.j41(95,"div",0)(96,"label",1),e.EFF(97,"Marco de Manuten\xe7\xe3o:"),e.k0s(),e.j41(98,"span",11),e.EFF(99),e.k0s(),e.j41(100,"button",16),e.nrm(101,"i",13),e.k0s()(),e.j41(102,"div",0)(103,"label",1),e.EFF(104,"Crit\xe9rio de Ambiente Natural:"),e.k0s(),e.j41(105,"span",2),e.EFF(106),e.k0s()(),e.j41(107,"div",0)(108,"label",1),e.EFF(109,"Marco de Ambiente Natural:"),e.k0s(),e.j41(110,"span",11),e.EFF(111),e.k0s(),e.j41(112,"button",16),e.nrm(113,"i",13),e.k0s()(),e.j41(114,"div",0)(115,"label",1),e.EFF(116,"Crit\xe9rio de Arquivamento:"),e.k0s(),e.j41(117,"span",2),e.EFF(118),e.k0s()(),e.j41(119,"div",0)(120,"label",1),e.EFF(121,"Marco de Arquivamento:"),e.k0s(),e.j41(122,"span",11),e.EFF(123),e.k0s(),e.j41(124,"button",16),e.nrm(125,"i",13),e.k0s()(),e.j41(126,"div",14)(127,"label",17),e.EFF(128," Passos "),e.k0s()(),e.DNE(129,tl,10,5,"div",18),e.j41(130,"div",14)(131,"label",17),e.EFF(132," T\xe9cnicas "),e.k0s()(),e.DNE(133,al,4,1,"div",19)),2&i){let t,s,r,m,f,v,C,S,$,P,N,B,z,U;e.R7$(4),e.JRh(null==o.versao?null:o.versao.nome),e.R7$(5),e.JRh(null==o.versao?null:o.versao.desc),e.R7$(5),e.Y8G("ngForOf",null!==(t=null==o.versao?null:o.versao.objetivosAlvo)&&void 0!==t?t:e.lJ4(28,ee)),e.R7$(5),e.JRh(null==o.versao?null:o.versao.sd_EstimuloDiscriminativo),e.R7$(5),e.JRh(null==o.versao?null:o.versao.resposta),e.R7$(5),e.SpI(" ",null==o.versao?null:o.versao.descricaoReforcadores," "),e.R7$(5),e.JRh(null==o.versao?null:o.versao.criterioEvolucao),e.R7$(5),e.Y8G("ngForOf",null!==(s=o.formatosEnsino)&&void 0!==s?s:e.lJ4(29,ee)),e.R7$(10),e.JRh(null!==(r=null==o.versao?null:o.versao.tentativas_Dia1)&&void 0!==r?r:0),e.R7$(5),e.JRh(null!==(m=null==o.versao?null:o.versao.tentativas_Dia2)&&void 0!==m?m:0),e.R7$(5),e.JRh(null!==(f=null==o.versao?null:o.versao.tentativas_Dia3)&&void 0!==f?f:0),e.R7$(5),e.JRh(null!==(v=null==o.versao?null:o.versao.tentativas_Dia4)&&void 0!==v?v:0),e.R7$(5),e.JRh(null!==(C=null==o.versao?null:o.versao.tentativas_Dia5)&&void 0!==C?C:0),e.R7$(5),e.JRh(null!==(S=null==o.versao?null:o.versao.tentativas_Dia6)&&void 0!==S?S:0),e.R7$(5),e.JRh(null!==($=null==o.versao?null:o.versao.tentativas_Dia7)&&void 0!==$?$:0),e.R7$(5),e.JRh(null==o.hierarquiaAjuda?null:o.hierarquiaAjuda.nome),e.R7$(),e.Y8G("disabled",null==o.hierarquiaAjuda),e.R7$(9),e.JRh(null==o.versao?null:o.versao.procedimentoEvanescimentoEnsino_CriterioManutencao),e.R7$(5),e.JRh(null!==(P=o.getHabilidadeString(null==o.versao?null:o.versao.marcoHabilidadeManutencaoId))&&void 0!==P?P:"Nenhum"),e.R7$(),e.Y8G("hidden",null==(null==o.versao?null:o.versao.marcoHabilidadeManutencaoId)),e.R7$(6),e.JRh(null==o.versao?null:o.versao.procedimentoEvanescimentoEnsino_CriterioAmbienteNatural),e.R7$(5),e.JRh(null!==(N=o.getHabilidadeString(null==o.versao?null:o.versao.marcoHabilidadeAmbienteNaturalId))&&void 0!==N?N:"Nenhum"),e.R7$(),e.Y8G("hidden",null==(null==o.versao?null:o.versao.marcoHabilidadeAmbienteNaturalId)),e.R7$(6),e.JRh(null==o.versao?null:o.versao.procedimentoEvanescimentoEnsino_CriterioArquivamento),e.R7$(5),e.JRh(null!==(B=o.getHabilidadeString(null==o.versao?null:o.versao.marcoHabilidadeArquivamentoId))&&void 0!==B?B:"Nenhum"),e.R7$(),e.Y8G("hidden",null==(null==o.versao?null:o.versao.marcoHabilidadeArquivamentoId)),e.R7$(5),e.Y8G("ngForOf",null!==(z=null==o.versao?null:o.versao.passosProtIntervencao)&&void 0!==z?z:e.lJ4(30,ee)),e.R7$(4),e.Y8G("ngForOf",null!==(U=null==o.versao?null:o.versao.tecnicasUtilizadas)&&void 0!==U?U:e.lJ4(31,ee))}},dependencies:[p.Sq],encapsulation:2})}return a})();function sl(a,d){1&a&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"localize"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"N\xe3o h\xe1 vers\xe3o padr\xe3o definida"),". "))}function rl(a,d){if(1&a&&e.nrm(0,"versao-details",27),2&a){const n=e.XpG();e.Y8G("versao",n.versaoPadrao)}}function ll(a,d){if(1&a&&(e.j41(0,"option",9),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",n.id),e.R7$(),e.Lme("",n.id," - ",n.nome,"")}}let dl=(()=>{class a extends _.q{constructor(n,i,o,t,s){super(n),this._protocoloIntervencaoService=i,this._modalService=o,this._router=t,this._route=s}ngOnInit(){this.id=Number(this._route.snapshot.paramMap.get("protocoloIntervencaoId")),this.refresh()}refresh(){this._protocoloIntervencaoService.get(this.id).subscribe(n=>{this.protocoloIntervencao=n,this._protocoloIntervencaoService.getVersao(n.versaoPadraoId).subscribe(i=>{this.versaoPadrao=i})})}goBack(){this._router.navigate(["app","protocolos-intervencao"])}delete(){abp.message.confirm("O seguinte protocolo de interven\xe7\xe3o ser\xe1 exclu\xeddo do banco",void 0,n=>{n&&this._protocoloIntervencaoService.delete(this.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.goBack()})})}editNome(){if(null==this.protocoloIntervencao)return;let n=new c.uS({id:this.protocoloIntervencao.id,nome:this.protocoloIntervencao.nome,versaoPadraoId:this.protocoloIntervencao.versaoPadraoId});this._modalService.show(cl,{class:"modal-lg",initialState:{protIntervencao:n}}).content.onSave.subscribe(()=>{this.refresh()})}editVersaoPadrao(){if(null==this.protocoloIntervencao)return;let n=new c.uS({id:this.protocoloIntervencao.id,nome:this.protocoloIntervencao.nome,versaoPadraoId:this.protocoloIntervencao.versaoPadraoId});this._modalService.show(ul,{class:"modal-lg",initialState:{protIntervencao:n}}).content.onSave.subscribe(()=>{this.refresh()})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:49,vars:31,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"height","75%","align-content","center"],[1,"col-0","m-0","p-0",2,"font-palette","dark"],[1,"col-0","m-0","p-0",2,"display","flex"],["type","button",1,"row-0","m-0","ml-4","py-1","px-2","btn","btn-secondary",2,"align-self","center",3,"click"],[1,"fas","fa-pencil-alt"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","m-0","p-0"],[1,"mr-1"],[1,"row","m-0","p-0","justify-content-end"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"row","justify-content-center"],["type","button",1,"btn","btn-secondary",3,"click"],[4,"ngIf"],[3,"versao",4,"ngIf"],[3,"protIntervencaoId"],[3,"versao"]],template:function(i,o){if(1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"div",8)(12,"h1",9),e.EFF(13),e.k0s(),e.j41(14,"div",10)(15,"button",11),e.bIt("click",function(){return o.editNome()}),e.nrm(16,"i",12),e.k0s()()()()()(),e.j41(17,"section",13)(18,"div",14)(19,"tabset",15)(20,"tab",16),e.nI1(21,"localize"),e.j41(22,"div",17)(23,"label",18),e.EFF(24),e.nI1(25,"localize"),e.k0s(),e.EFF(26),e.k0s(),e.j41(27,"div",17)(28,"label",18),e.EFF(29),e.nI1(30,"localize"),e.k0s(),e.EFF(31),e.k0s(),e.j41(32,"div",19)(33,"button",20),e.bIt("click",function(){return o.delete()}),e.nrm(34,"i",21),e.EFF(35),e.nI1(36,"localize"),e.k0s()()(),e.j41(37,"tab",16),e.nI1(38,"localize"),e.j41(39,"div",22)(40,"button",23),e.bIt("click",function(){return o.editVersaoPadrao()}),e.nrm(41,"i",12),e.EFF(42),e.nI1(43,"localize"),e.k0s()(),e.DNE(44,sl,3,3,"p",24)(45,rl,1,1,"versao-details",25),e.k0s(),e.j41(46,"tab",16),e.nI1(47,"localize"),e.nrm(48,"versoes-list",26),e.k0s()()()()()),2&i){let t,s;e.Y8G("@routerTransition",void 0),e.R7$(9),e.SpI(" ",e.bMT(10,15,"Detalhes do Protocolo de Interven\xe7\xe3o")," "),e.R7$(4),e.SpI(" ",null==o.protocoloIntervencao?null:o.protocoloIntervencao.nome," "),e.R7$(7),e.Y8G("heading",e.bMT(21,17,"Informa\xe7\xe3o Geral")),e.R7$(4),e.SpI("",e.bMT(25,19,"Vers\xe3o Padr\xe3o"),":"),e.R7$(2),e.SpI("",null!==(t=null==o.versaoPadrao?null:o.versaoPadrao.nome)&&void 0!==t?t:"-"," "),e.R7$(3),e.SpI("",e.bMT(30,21,"No. de Vers\xf5es"),":"),e.R7$(2),e.SpI("",null!==(s=null==o.protocoloIntervencao||null==o.protocoloIntervencao.versoes?null:o.protocoloIntervencao.versoes.length)&&void 0!==s?s:"-"," "),e.R7$(4),e.SpI(" ",e.bMT(36,23,"Excluir")," "),e.R7$(2),e.Y8G("heading",e.bMT(38,25,"Vers\xe3o Padr\xe3o")),e.R7$(5),e.SpI(" ",e.bMT(43,27,"Mudar Versao Padrao")," "),e.R7$(2),e.Y8G("ngIf",null==(null==o.protocoloIntervencao?null:o.protocoloIntervencao.versaoPadraoId)),e.R7$(),e.Y8G("ngIf",null!=o.versaoPadrao),e.R7$(),e.Y8G("heading",e.bMT(47,29,"Vers\xf5es")),e.R7$(2),e.Y8G("protIntervencaoId",o.id)}},dependencies:[p.bT,F.V6,F.fw,ol,uo,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})(),cl=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._protocoloIntervencaoService=i,this.bsModalRef=o,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,this._protocoloIntervencaoService.update(this.protIntervencao).subscribe(n=>{this.onSave.emit(n),this.bsModalRef.hide(),this.saving=!1})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:15,vars:11,consts:[["editNomeProtocoloIntervencaoModal","ngForm"],["nomeModel","ngModel","nomeEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"label",6),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",7)(10,"input",8,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.protIntervencao.nome,r)||(o.protIntervencao.nome=r),e.Njj(r)}),e.k0s(),e.nrm(13,"abp-validation-summary",9),e.k0s()()(),e.j41(14,"abp-modal-footer",10),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1),s=e.sdS(11),r=e.sdS(12);e.R7$(2),e.Y8G("title",e.bMT(3,7,"EditNomeProtocoloIntervencao")),e.R7$(5),e.SpI(" ",e.bMT(8,9,"Nome")," "),e.R7$(3),e.R50("ngModel",o.protIntervencao.nome),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.me,l.BC,l.cb,l.YS,l.tU,l.vS,l.cV,G.e,k.x,j.z,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})(),ul=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._protocoloIntervencaoService=i,this.bsModalRef=o,this.loading=!1,this.saving=!1,this.versoes=[],this.onSave=new e.bkB}ngOnInit(){this.loading=!0,this._protocoloIntervencaoService.getAllVersoes(this.protIntervencao.id,void 0,void 0,void 0).subscribe(n=>{this.versoes=n.items,this.loading=!1})}get versaoId(){return this.protIntervencao.versaoPadraoId.toString()}set versaoId(n){this.protIntervencao.versaoPadraoId=Number(n)}save(){this.saving=!0,this._protocoloIntervencaoService.update(this.protIntervencao).subscribe(n=>{this.onSave.emit(n),this.bsModalRef.hide(),this.saving=!1})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],inputs:{versoes:"versoes"},features:[e.Vt3],decls:11,vars:8,consts:[["selectVersaoPadraoModal","ngForm"],["versaoModel","ngModel","versaoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"col-md-6"],["name","versao","id","versao","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"select",6,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.versaoId,r)||(o.versaoId=r),e.Njj(r)}),e.DNE(9,ll,2,3,"option",7),e.k0s()()(),e.j41(10,"abp-modal-footer",8),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,6,"VersaoPadraoSelect")),e.R7$(4),e.Y8G("disabled",o.loading||o.saving),e.R50("ngModel",o.versaoId),e.R7$(3),e.Y8G("ngForOf",o.versoes),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.xH,l.y7,l.wz,l.BC,l.cb,l.YS,l.vS,l.cV,k.x,j.z,h.S],encapsulation:2})}return a})();function ml(a,d){if(1&a&&e.nrm(0,"versao-details",17),2&a){const n=e.XpG();e.Y8G("versao",n.versao)}}let pl=(()=>{class a extends _.q{constructor(n,i,o,t,s){super(n),this._protocoloIntervencaoService=i,this._modalService=o,this._router=t,this._route=s}ngOnInit(){this.id=Number(this._route.snapshot.paramMap.get("versaoProtIntervencaoId")),this.refresh()}edit(){this._router.navigate(["app","protocolos-intervencao","versoes","edit",this.id])}refresh(){this._protocoloIntervencaoService.getVersao(this.id).subscribe(n=>{this.versao=n})}goBack(){this._router.navigate(null!=this.versao?.protocoloIntervencaoId?["../../..","details",this.versao.protocoloIntervencaoId]:["../../.."],{relativeTo:this._route})}editInfo(){}toRefBibDetails(){}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:24,vars:14,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[3,"versao",4,"ngIf"],[1,"row","mx-0","mb-0","mt-5","justify-content-center"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],[1,"fas","fa-pencil-alt"],[3,"versao"]],template:function(i,o){1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"h1",8),e.EFF(12),e.k0s()()()(),e.j41(13,"section",9)(14,"div",10)(15,"tabset",11)(16,"tab",12),e.nI1(17,"localize"),e.DNE(18,ml,1,1,"versao-details",13),e.j41(19,"div",14)(20,"button",15),e.bIt("click",function(){return o.edit()}),e.nrm(21,"i",16),e.EFF(22),e.nI1(23,"localize"),e.k0s()()()()()()()),2&i&&(e.Y8G("@routerTransition",void 0),e.R7$(9),e.Lme(" ",e.bMT(10,8,"Detalhes de Vers\xe3o do Protocolo de Interven\xe7\xe3o")," ",null==o.versao?null:o.versao.protocoloIntervencaoNome," "),e.R7$(3),e.SpI(" ",null==o.versao?null:o.versao.nome," "),e.R7$(4),e.Y8G("heading",e.bMT(17,10,"Informa\xe7\xe3o Geral")),e.R7$(2),e.Y8G("ngIf",null!=o.versao),e.R7$(2),e.Y8G("disabled",null==o.versao),e.R7$(2),e.SpI(" ",e.bMT(23,12,"Edit")," "))},dependencies:[p.bT,F.V6,F.fw,uo,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})(),hl=(()=>{class a extends _.q{constructor(n,i,o,t,s,r){super(n),this._protocoloIntervencaoService=i,this._changeDetector=o,this._modalService=t,this._router=s,this._route=r,this.loading=!1,this.saving=!1,this.versao=new c.Zz,this.onSave=new e.bkB}ngOnInit(){const n=this._route.snapshot.paramMap;this.loading=!0,this.versao=new c.Zz,this.versao.protocoloIntervencaoId=Number(n.get("protocoloIntervencaoId")),this._protocoloIntervencaoService.get(this.versao.protocoloIntervencaoId).subscribe(i=>{this.protocoloIntervencao=i,this._protocoloIntervencaoService.getVersao(i.versaoPadraoId).subscribe(o=>{this.versao=new c.Zz(o),this.loading=!1})})}save(){this.saving=!0,this._protocoloIntervencaoService.createVersao(this.versao).subscribe(n=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.onSave.emit(n),this._router.navigate(["app","protocolos-intervencao","versao","details",n.id])})}goBack(){this._router.navigate(["app","protocolos-intervencao","versao","details",this.versao.protocoloIntervencaoId])}log(n){console.log(n)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(e.gRc),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:24,vars:9,consts:[["createVersaoProtIntervencaoPage","ngForm"],[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click","disabled"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"height","75%","align-content","center"],[1,"col-0","m-0","p-0",2,"font-palette","dark"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[2,"height","100%","width","100%","border","0px solid black"],[1,"card",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white"],[1,"card-body"],["ngModelGroup","versao",3,"versaoChange","loadingChange","disabled","versao"],[1,"row","m-0","mt-4","p-0","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),e.bIt("click",function(){return e.eBV(t),e.Njj(o.goBack())}),e.nrm(6,"i",6),e.k0s()()(),e.j41(7,"div",7)(8,"h1",8),e.EFF(9," Criar Nova Vers\xe3o do Protocolo de Interven\xe7\xe3o: "),e.k0s(),e.j41(10,"div",9)(11,"h1",10),e.EFF(12),e.k0s()()()()(),e.j41(13,"section",11)(14,"form",12,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(16,"div",13)(17,"div",14)(18,"div",15)(19,"versao-form",16),e.mxI("versaoChange",function(r){return e.eBV(t),e.DH7(o.versao,r)||(o.versao=r),e.Njj(r)}),e.bIt("loadingChange",function(r){return e.eBV(t),e.Njj(o.loading=r)}),e.k0s(),e.j41(20,"div",17)(21,"button",18),e.EFF(22),e.nI1(23,"localize"),e.k0s()()()()()()()()}if(2&i){let t;const s=e.sdS(15);e.Y8G("@routerTransition",void 0),e.R7$(5),e.Y8G("disabled",o.saving),e.R7$(7),e.SpI(" ",null==o.protocoloIntervencao?null:o.protocoloIntervencao.nome," "),e.R7$(7),e.Y8G("disabled",o.loading||o.saving),e.R50("versao",o.versao),e.R7$(2),e.Y8G("disabled",o.saving||o.loading||null===(t=null==o.versao||null==o.versao.passosProtIntervencao?null:o.versao.passosProtIntervencao.length)||void 0===t||t||!s.form.valid),e.R7$(),e.SpI(" ",e.bMT(23,7,"Save")," ")}},dependencies:[l.qT,l.cb,l.Y4,l.cV,ce,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})(),gl=(()=>{class a extends _.q{constructor(n,i,o,t,s,r){super(n),this._protocoloIntervencaoService=i,this._changeDetector=o,this._modalService=t,this._router=s,this._route=r,this.loading=!1,this.saving=!1,this.versao=new c.uf,this.onSave=new e.bkB}ngOnInit(){this.id=Number(this._route.snapshot.paramMap.get("versaoProtIntervencaoId")),this.refresh()}refresh(){this._protocoloIntervencaoService.getVersao(this.id).subscribe(n=>{this._protocoloIntervencaoService.get(n.protocoloIntervencaoId).subscribe(i=>{this.protocoloIntervencao=i}),this.versao=new c.uf(n),this.versao.passosProtIntervencao=[],this.initialPassos=[],n.passosProtIntervencao.forEach(i=>{let o=new c.c0(i);this.initialPassos.push(o),this.versao.passosProtIntervencao.push(new c.c0(o))})})}save(){this.saving=!0,this._protocoloIntervencaoService.updateVersao(this.versao).subscribe(n=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.onSave.emit(n),this._navToDetailsVersao()})}goBack(){this._navToDetailsVersao()}_navToDetailsVersao(){this._router.navigate(["app","protocolos-intervencao","versoes","details",this.id])}log(n){console.log(n)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(e.gRc),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:25,vars:11,consts:[["createVersaoProtIntervencaoPage","ngForm"],[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click","disabled"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"height","75%","align-content","center"],[1,"col-0","m-0","p-0",2,"font-palette","dark"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[2,"height","100%","width","100%","border","0px solid black"],[1,"card",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white"],[1,"card-body"],["ngModelGroup","versao",3,"versaoChange","loadingChange","versao"],[1,"row","m-0","mt-4","p-0","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),e.bIt("click",function(){return e.eBV(t),e.Njj(o.goBack())}),e.nrm(6,"i",6),e.k0s()()(),e.j41(7,"div",7)(8,"h1",8),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"div",9)(12,"h1",10),e.EFF(13),e.k0s()()()()(),e.j41(14,"section",11)(15,"form",12,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(17,"div",13)(18,"div",14)(19,"div",15)(20,"versao-form",16),e.mxI("versaoChange",function(r){return e.eBV(t),e.DH7(o.versao,r)||(o.versao=r),e.Njj(r)}),e.bIt("loadingChange",function(r){return e.eBV(t),e.Njj(o.loading=r)}),e.k0s(),e.j41(21,"div",17)(22,"button",18),e.EFF(23),e.nI1(24,"localize"),e.k0s()()()()()()()()}if(2&i){let t;const s=e.sdS(16);e.Y8G("@routerTransition",void 0),e.R7$(5),e.Y8G("disabled",o.saving),e.R7$(4),e.SpI(" ",e.bMT(10,7,"Editar Vers\xe3o do Protocolo de Interven\xe7\xe3o"),": "),e.R7$(4),e.SpI(" ",null==o.protocoloIntervencao?null:o.protocoloIntervencao.nome," "),e.R7$(7),e.R50("versao",o.versao),e.R7$(2),e.Y8G("disabled",o.saving||o.loading||(null!==(t=null==o.versao||null==o.versao.passosProtIntervencao?null:o.versao.passosProtIntervencao.length)&&void 0!==t?t:0)<1||!s.form.valid),e.R7$(),e.SpI(" ",e.bMT(24,9,"Save")," ")}},dependencies:[l.qT,l.cb,l.Y4,l.cV,ce,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})(),fl=(()=>{class a extends _.q{constructor(n,i){super(n),this.bsModalRef=i,this.saving=!1,this._data=V(),this.onSubmit=new e.bkB}ngOnInit(){}get etapaNome(){return 0==this.etapa?"In\xedcio":1==this.etapa?"Linha de Base":2==this.etapa?"Introdu\xe7\xe3o":"Crit\xe9rio Alcan\xe7ado"}get data(){return this._data.format("yyyy-MM-DD")}set data(n){this._data=V(n)}save(){this.saving=!0,this.onSubmit.emit(this._data),this.bsModalRef.hide(),this.saving=!1}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:13,vars:9,consts:[["marcoIntervencaoModal","ngForm"],["dataModel","ngModel","dataEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"row","m-0"],[1,"row","m-0","align-content-center"],[1,"col-md-6"],["type","date","name","data","id","data","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5),e.EFF(6),e.k0s(),e.j41(7,"div",6)(8,"div",7)(9,"input",8,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.data,r)||(o.data=r),e.Njj(r)}),e.k0s()()()(),e.j41(12,"abp-modal-footer",9),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,7,"MarcoIntervencao")),e.R7$(4),e.Lme(" Qual a data do marco de ",o.etapaNome," do passo ",o.passoNome,"? "),e.R7$(3),e.Y8G("disabled",o.saving),e.R50("ngModel",o.data),e.R7$(3),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.me,l.BC,l.cb,l.YS,l.vS,l.cV,k.x,j.z,h.S],encapsulation:2})}return a})();const ue=()=>[],bl=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function _l(a,d){if(1&a&&(e.j41(0,"th"),e.EFF(1),e.nI1(2,"localize"),e.k0s()),2&a){const n=d.$implicit;e.R7$(),e.SpI(" ",e.bMT(2,1,n.nome)," ")}}function vl(a,d){if(1&a&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&a){const n=d.$implicit,i=e.XpG().$implicit,o=e.XpG();e.R7$(),e.SpI(" ",o.getNoAjudas(i,n)," ")}}function Cl(a,d){if(1&a&&(e.j41(0,"tr")(1,"td",14),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.DNE(11,vl,2,1,"td",6),e.j41(12,"td"),e.EFF(13),e.k0s()()),2&a){let n,i,o,t;const s=d.$implicit,r=e.XpG();e.R7$(2),e.JRh(r.getIdxPasso(s)+1),e.R7$(2),e.JRh(r.getNomeAT(s)),e.R7$(2),e.JRh(r.getDataHora(s)),e.R7$(2),e.JRh(null!==(n=null==s?null:s.tipo)&&void 0!==n?n:""),e.R7$(2),e.JRh(null!==(i=null==s?null:s.descricao)&&void 0!==i?i:""),e.R7$(),e.Y8G("ngForOf",null!==(o=null==r.modeloHierarquiaAjuda?null:r.modeloHierarquiaAjuda.tiposAjuda)&&void 0!==o?o:e.lJ4(7,ue)),e.R7$(2),e.JRh(null!==(t=null==s?null:s.observacao)&&void 0!==t?t:"")}}let Il=(()=>{class a extends y{constructor(n,i,o,t,s,r,m,f,v,C){super(n),this._alunoService=i,this._casoService=o,this._colaboradorService=t,this._protocoloIntervencaoService=s,this._hierarquiaAjudaService=r,this._modalService=m,this._router=f,this._route=v,this._changeDetector=C}ngOnInit(){const n=this._route.snapshot.paramMap;this.alunoId=Number(n.get("alunoId")),this.apliId=Number(n.get("apliId")),this.refresh()}list(n,i,o){this._casoService.getAllUnidadesEnsino(void 0,void 0,this.apliId,void 0,void 0,void 0).pipe((0,A.j)(()=>o())).subscribe(t=>{this.unidades=t,this.showPaging({items:this.unidades,totalCount:this.unidades.length},i)})}delete(n){}getAtendimento(n){return this.atendimentos?.find(i=>i.id==n.registroAtendimentoId)}getIdxPasso(n){for(let i=0;i<(this.aplicacao?.passos?.length??0);i++)if(this.aplicacao?.passos[i]?.id==n?.passoId)return i;return-1}getAtuacao(n){return this.staff?.find(i=>i.id==n)}getColabFuncao(n){return this.funcoesColaborador?.find(i=>i.id==n)}getColaborador(n){return this.colaboradores?.find(i=>i.id==n)}getNomeAT(n){var i=this.getAtendimento(n)?.atuacaoTerapeutaId;return this.getColaborador(this.getColabFuncao(this.getAtuacao(i)?.colabFuncaoId)?.colaboradorId)?.nome??""}getDataHora(n){var i=this.getAtendimento(n);return(i?.inicio?.format("DD/MM/yyyy HH:mm")??"")+"~"+(i?.fim?.format("HH:mm")??"")}getNoAjudas(n,i){return n?.ajudas?.find(o=>o.key==i.id)?.value}podeRegistrarAtendimento(){return(this.permission.isGranted("Business.Personal.Colaborador.Supervisor")||this.permission.isGranted("Business.Personal.Colaborador.AT"))&&(this.permission.isGranted("Business.Admin.People")||this.staff.some(n=>this.getColabFuncao(n.colabFuncaoId).colaboradorId==this.appSession.user.colaborador.id&&null==n.dataFim))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.iD),e.rXU(c.i9),e.rXU(c.J3),e.rXU(c.Qk),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX),e.rXU(e.gRc))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["unidades-protocolo-intervencao"]],inputs:{aluno:"aluno",aplicacao:"aplicacao",modelo:"modelo",atendimentos:"atendimentos",colaboradores:"colaboradores",funcoesColaborador:"funcoesColaborador",staff:"staff",modeloHierarquiaAjuda:"modeloHierarquiaAjuda"},features:[e.Vt3],decls:35,vars:34,consts:[[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","5%"],[2,"width","15%"],[2,"width","10%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"text-center"]],template:function(i,o){if(1&i&&(e.j41(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th",3),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"th",4),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"th",5),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"th",5),e.EFF(14),e.nI1(15,"localize"),e.k0s(),e.j41(16,"th",5),e.EFF(17),e.nI1(18,"localize"),e.k0s(),e.DNE(19,_l,3,3,"th",6),e.j41(20,"th",5),e.EFF(21),e.nI1(22,"localize"),e.k0s()()(),e.j41(23,"tbody"),e.DNE(24,Cl,14,8,"tr",6),e.nI1(25,"paginate"),e.k0s()()(),e.j41(26,"div",7),e.nrm(27,"div",8),e.j41(28,"div",9)(29,"p",10),e.EFF(30),e.nI1(31,"localize"),e.k0s()(),e.j41(32,"div",11)(33,"div",12)(34,"abp-pagination-controls",13),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&i){let t,s;e.R7$(),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(6,10,"Passo")),e.R7$(3),e.JRh(e.bMT(9,12,"AT")),e.R7$(3),e.JRh(e.bMT(12,14,"Data & Hora")),e.R7$(3),e.JRh(e.bMT(15,16,"Tipo")),e.R7$(3),e.JRh(e.bMT(18,18,"Descri\xe7\xe3o")),e.R7$(2),e.Y8G("ngForOf",null!==(t=null==o.modeloHierarquiaAjuda?null:o.modeloHierarquiaAjuda.tiposAjuda)&&void 0!==t?t:e.lJ4(28,ue)),e.R7$(2),e.JRh(e.bMT(22,20,"Observa\xe7\xe3o")),e.R7$(3),e.Y8G("ngForOf",e.i5U(25,22,null!==(s=o.unidades)&&void 0!==s?s:e.lJ4(29,ue),e.sMw(30,bl,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(6),e.SpI(" ",e.i5U(31,25,"TotalRecordsCount",o.totalItems)," ")}},dependencies:[p.Sq,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const mo=()=>[""],Fl=()=>[],kl=()=>[0,1,2,3];function jl(a,d){if(1&a){const n=e.RV6();e.j41(0,"td",28),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG().$implicit,s=e.XpG();return e.Njj(s.onClickCell(t,o))}),e.EFF(1),e.k0s()}if(2&a){const n=d.$implicit,i=e.XpG().$implicit,o=e.XpG();e.Aen(o.canClickCell(i,n)?"background-color: skyblue;":"background-color: white;"),e.R7$(),e.SpI(" ",o.getPassoMarco(i,n)," ")}}function Rl(a,d){if(1&a&&(e.j41(0,"tr")(1,"td",26),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.DNE(7,jl,2,3,"td",27),e.k0s()),2&a){const n=d.$implicit,i=d.index,o=e.XpG();e.R7$(2),e.JRh(i+1),e.R7$(2),e.JRh(n.desc),e.R7$(2),e.JRh(o.getPassoSituacao(n.id)),e.R7$(),e.Y8G("ngForOf",e.lJ4(4,kl))}}let Sl=(()=>{class a extends _.q{get aluno(){return this._aluno}set aluno(n){this._aluno=n}constructor(n,i,o,t,s,r,m,f,v,C){super(n),this._modalService=i,this._alunoService=o,this._casoService=t,this._colaboradorService=s,this._protocoloIntervencaoService=r,this._hierarquiaAjudaService=m,this._changeDetector=f,this._router=v,this._route=C,this.saving=!1}goBack(){this.permission.isGranted("Business.Personal.Cliente.Aluno")&&this.appSession.user.aluno?.id==this.alunoId?this._router.navigate(["app","personal"]):this._router.navigate(["app","alunos","details",this.alunoId])}ngOnInit(){const n=this._route.snapshot.paramMap;this.alunoId=Number(n.get("alunoId")),this.apliId=Number(n.get("apliId")),this.refresh()}get loading(){return this.alunoLoading||this.apliLoading||this.procLoading}refresh(){this.alunoLoading=!0,this._alunoService.get(this.alunoId).subscribe(n=>{this.aluno=n,this._casoService.getAllAtuacoes(this.aluno.casoId,void 0,void 0,void 0,void 0,void 0).subscribe(i=>{this.staff=i}),this._colaboradorService.getAllColabFuncoes(void 0,void 0,void 0,void 0,void 0,this.aluno.casoId,void 0,void 0,void 0,void 0).subscribe(i=>{this.funcoesColaborador=i.items}),this._colaboradorService.getAll(void 0,void 0,void 0,void 0,this.aluno.casoId,void 0,void 0,void 0,void 0).subscribe(i=>{this.colaboradores=i.items}),this.alunoLoading=!1,this._changeDetector.detectChanges()}),this.apliLoading=!0,this.procLoading=!0,this._casoService.getAplicacaoProtocoloIntervencao(this.apliId).subscribe(n=>{this.aplicacao=n,this.apliLoading=!1,this._protocoloIntervencaoService.getVersao(this.aplicacao.modeloId).subscribe(i=>{this.modelo=i,this._hierarquiaAjudaService.get(this.modelo.hierarquiaAjudaId).subscribe(o=>this.modeloHierarquiaAjuda=o),this.procLoading=!1,this._changeDetector.detectChanges()}),this._changeDetector.detectChanges()}),this._casoService.getAllRegistrosAtendimento(void 0,this.apliId,void 0,void 0,void 0).subscribe(n=>{this.atendimentos=n})}save(){this.saving=!0;let n=new c.hG(this.aplicacao);this._casoService.updateAplicacaoProtocoloIntervencao(n).subscribe(i=>{this.notify.info(this.l("SavedSuccessfully")),this.aplicacao=i,this.saving=!1})}cancel(){this.refresh()}getEtapaPassoByModeloId(n){let i=this.aplicacao.passos.find(o=>o.modeloPassoId==n);return this.getEtapaPasso(i)}getEtapaPasso(n){return null==n.dataInicio?0:null==n.dataLinhaDeBase&&null==n.dataIntroducao?1:null==n.dataIntroducao?2:null==n.dataCriterioAlcancado?3:4}getPassoNome(n){return this.modelo?.passosProtIntervencao?.find(i=>i.id==n)?.desc}getPassoSituacao(n){let i=this.aplicacao.passos.find(o=>o.modeloPassoId==n);return null==i.dataInicio?"N\xe3o iniciado":null==i.dataLinhaDeBase&&null==i.dataIntroducao?"Linha de base ou Introdu\xe7\xe3o":null==i.dataIntroducao?"Introdu\xe7\xe3o":null==i.dataCriterioAlcancado?"Manuten\xe7\xe3o":"Crit\xe9rio alcan\xe7ado"}getPassoMarco(n,i){let o=this.aplicacao.passos.find(t=>t.modeloPassoId==n.id);return 0==i?o?.dataInicio?.format("DD/MM/yyyy")??"":1==i?o?.dataLinhaDeBase?.format("DD/MM/yyyy")??"":2==i?o?.dataIntroducao?.format("DD/MM/yyyy")??"":3==i?o?.dataCriterioAlcancado?.format("DD/MM/yyyy")??"":""}canClickCell(n,i){if(!this.permission.isGranted("Business.Personal.Colaborador.Supervisor")&&!this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico"))return!1;let o=this.aplicacao.passos.find(s=>s.modeloPassoId==n.id),t=this.getEtapaPasso(o);return 0==i&&0==t||1==i&&1==t||2==i&&(1==t||2==t)||3==i&&3==t}onClickCell(n,i){if(!this.permission.isGranted("Business.Personal.Colaborador.Supervisor")&&!this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico"))return;let s,o=this.aplicacao.passos.find(r=>r.modeloPassoId==n.id),t=this.getEtapaPasso(o);0==i&&0!=t||1==i&&1!=t||2==i&&1!=t&&2!=t||3==i&&3!=t||(s=this._modalService.show(fl,{class:"modal-lg",initialState:{etapa:i,passoNome:n.desc}}),s.content.onSubmit.subscribe(r=>{let m=new c.hG(this.aplicacao);m.passos=this.aplicacao.passos.map(v=>new c.FV(v));var f=m.passos.find(v=>v.id==o.id);0==i?f.dataInicio=r:1==i?f.dataLinhaDeBase=r:2==i?f.dataIntroducao=r:f.dataCriterioAlcancado=r,this._casoService.updateAplicacaoProtocoloIntervencao(m).subscribe(v=>{this.aplicacao=v,this._changeDetector.detectChanges()})}))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(b.I8),e.rXU(c.pg),e.rXU(c.iD),e.rXU(c.i9),e.rXU(c.J3),e.rXU(c.Qk),e.rXU(e.gRc),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:64,vars:44,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","p-0","m-0"],[1,"col-0","p-0","m-0","mr-2"],[1,"col-0","p-0","m-0"],[1,"col","m-0","p-0"],[1,"row","m-0","justify-content-center"],[1,"table-responsive","col","mt-3"],[1,"table","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","5%"],[2,"width","45%"],[2,"width","10%"],[4,"ngFor","ngForOf"],[3,"aluno","colaboradores","funcoesColaborador","staff","aplicacao","modelo","atendimentos","modeloHierarquiaAjuda"],[1,"text-center"],[3,"style","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(i,o){if(1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes da Aplica\xe7\xe3o de Protocolo de Avalia\xe7\xe3o "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"div",13)(18,"label",14),e.EFF(19," Vers\xe3o: "),e.k0s(),e.j41(20,"span",15),e.EFF(21),e.k0s()(),e.j41(22,"div",13)(23,"div",16)(24,"div",13)(25,"label",14),e.EFF(26," Data in\xedcio: "),e.k0s(),e.j41(27,"span",15),e.EFF(28),e.k0s()()(),e.j41(29,"div",16)(30,"div",13)(31,"label",14),e.EFF(32," Data arquivamento: "),e.k0s(),e.j41(33,"span",15),e.EFF(34),e.k0s()()()(),e.j41(35,"div",17)(36,"div",18)(37,"table",19)(38,"thead",20)(39,"tr"),e.nrm(40,"th",21),e.j41(41,"th",22),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th",23),e.EFF(45),e.nI1(46,"localize"),e.k0s(),e.j41(47,"th",23),e.EFF(48),e.nI1(49,"localize"),e.k0s(),e.j41(50,"th",23),e.EFF(51),e.nI1(52,"localize"),e.k0s(),e.j41(53,"th",23),e.EFF(54),e.nI1(55,"localize"),e.k0s(),e.j41(56,"th",23),e.EFF(57),e.nI1(58,"localize"),e.k0s()()(),e.j41(59,"tbody"),e.DNE(60,Rl,8,5,"tr",24),e.k0s()()()()(),e.j41(61,"tab",12),e.nI1(62,"localize"),e.nrm(63,"unidades-protocolo-intervencao",25),e.k0s()()()()()),2&i){let t,s,r;e.Y8G("@routerTransition",void 0),e.R7$(11),e.E5c(" ",null==o.modelo?null:o.modelo.protocoloIntervencaoNome," para ",(null!==(t=null==o.aluno||null==o.aluno.nome?null:o.aluno.nome.split(" "))&&void 0!==t?t:e.lJ4(41,mo))[0]," ",(null!==(t=null==o.aluno||null==o.aluno.nome||null==(t=o.aluno.nome.split(" "))?null:t.reverse())&&void 0!==t?t:e.lJ4(42,mo))[0]," "),e.R7$(4),e.Y8G("heading",e.bMT(16,25,"InfoAplicacao")),e.R7$(6),e.SpI(" ",null==o.modelo?null:o.modelo.nome," "),e.R7$(7),e.SpI(" ",null==o.aplicacao||null==o.aplicacao.dataInicio?null:o.aplicacao.dataInicio.format("DD/MM/yyyy")," "),e.R7$(6),e.SpI(" ",null!==(s=null==o.aplicacao?null:o.aplicacao.dataArquivamento)&&void 0!==s?s:"-"," "),e.R7$(3),e.Y8G("busy",o.loading),e.R7$(5),e.JRh(e.bMT(43,27,"Nome")),e.R7$(3),e.JRh(e.bMT(46,29,"Situa\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(49,31,"In\xedcio")),e.R7$(3),e.JRh(e.bMT(52,33,"Linha de Base")),e.R7$(3),e.JRh(e.bMT(55,35,"Introdu\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(58,37,"Crit\xe9rio Alcan\xe7ado")),e.R7$(3),e.Y8G("ngForOf",null!==(r=null==o.modelo?null:o.modelo.passosProtIntervencao)&&void 0!==r?r:e.lJ4(43,Fl)),e.R7$(),e.Y8G("heading",e.bMT(62,39,"UnidadesEnsino")),e.R7$(2),e.Y8G("aluno",o.aluno)("colaboradores",o.colaboradores)("funcoesColaborador",o.funcoesColaborador)("staff",o.staff)("aplicacao",o.aplicacao)("modelo",o.modelo)("atendimentos",o.atendimentos)("modeloHierarquiaAjuda",o.modeloHierarquiaAjuda)}},dependencies:[p.Sq,F.V6,F.fw,E,Il,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const Ml=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function El(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",34)(1,"div",35)(2,"button",13),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",36),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function Tl(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.nrm(9,"td"),e.k0s()),2&a){let n,i;const o=d.$implicit,t=e.XpG();e.R7$(2),e.JRh(t.getTipoServicoNome(o.tipoServicoId)),e.R7$(2),e.JRh(t.getColaborador(t.getFuncaoColaborador(o.colabFuncaoOrgId).colaboradorId).nome),e.R7$(2),e.JRh(null!==(n=null==o||null==o.inicio?null:o.inicio.format("DD/MM/YYYY HH:mm"))&&void 0!==n?n:"-"),e.R7$(2),e.JRh(null!==(i=null==o||null==o.fim?null:o.fim.format("DD/MM/YYYY HH:mm"))&&void 0!==i?i:"-")}}let Dl=(()=>{class a extends y{constructor(n,i,o,t,s,r,m,f){super(n),this._servicoPrestadoService=i,this._tipoServicoPrestadoService=o,this._colaboradorService=t,this._modalService=s,this._changeDectetor=r,this._router=m,this._route=f,this.servicos=[],this.keyword="",this.advancedFiltersVisible=!1}ngOnInit(){this.isTableLoading=!0,this._tipoServicoPrestadoService.getAll(void 0,void 0,void 0,void 0,void 0).subscribe(n=>{this.tiposServico=n.items,this.refresh()}),this._colaboradorService.getAll(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0).subscribe(n=>{this.colaboradores=n.items,this._changeDectetor.detectChanges()}),this._colaboradorService.getAllColabFuncoes(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0).subscribe(n=>{this.funcoesColaborador=n.items,this._changeDectetor.detectChanges()})}getFuncaoColaborador(n){return this.funcoesColaborador?.find(i=>i.id==n)}getColaborador(n){return this.colaboradores?.find(i=>i.id==n)}getTipoServicoNome(n){return this.tiposServico?.find(i=>i.id==n)?.nome??"-"}createServicoPrestado(){let n;n=this._modalService.show(Ke,{class:"modal-lg",initialState:{tiposServico:this.tiposServico}}),n.content.onSave.subscribe(()=>{this.refresh()})}list(n,i,o){this._servicoPrestadoService.getAll(void 0,void 0,void 0,void 0,void 0,void 0,n.skipCount,n.maxResultCount).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.servicos=t.items,this.showPaging(t,i)})}clearFilters(){this.keyword="",this.getDataPage(1)}delete(n){abp.message.confirm("O seguinte tecnica ser\xe1 exclu\xeddo do banco",void 0,i=>{i&&this._servicoPrestadoService.delete(n.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.Fr),e.rXU(c.$B),e.rXU(c.i9),e.rXU(b.I8),e.rXU(e.gRc),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:65,vars:44,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"]],template:function(i,o){1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createServicoPrestado()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,El,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th"),e.EFF(45),e.nI1(46,"localize"),e.k0s(),e.j41(47,"th"),e.EFF(48),e.nI1(49,"localize"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,Tl,10,4,"tr",24),e.nI1(52,"paginate"),e.k0s()()()(),e.j41(53,"div",25)(54,"div",2)(55,"div",26)(56,"button",27),e.bIt("click",function(){return o.refresh()}),e.nrm(57,"i",28),e.k0s()(),e.j41(58,"div",29)(59,"p",30),e.EFF(60),e.nI1(61,"localize"),e.k0s()(),e.j41(62,"div",31)(63,"div",32)(64,"abp-pagination-controls",33),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&i&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,18,"Servi\xe7os Prestados")),e.R7$(5),e.SpI(" ",e.bMT(12,20,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,22,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,24,"Tipo")),e.R7$(3),e.JRh(e.bMT(40,26,"Colaborador")),e.R7$(3),e.JRh(e.bMT(43,28,"In\xedcio")),e.R7$(3),e.JRh(e.bMT(46,30,"Fim")),e.R7$(3),e.JRh(e.bMT(49,32,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(52,34,o.servicos,e.sMw(40,Ml,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(61,37,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const Al=()=>[];function yl(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",19)(1,"div",20),e.EFF(2),e.k0s(),e.j41(3,"div",24)(4,"button",27),e.bIt("click",function(){const o=e.eBV(n).index,t=e.XpG();return e.Njj(t.unselect(o))}),e.nrm(5,"i",28),e.k0s()()()}if(2&a){const n=d.$implicit,i=e.XpG();e.R7$(2),e.JRh(n.nome),e.R7$(2),e.Y8G("disabled",i.disabled)}}function Gl(a,d){if(1&a&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.JRh(n.nome)}}let po=(()=>{class a extends _.q{constructor(n,i,o,t){super(n),this._tipoServicoPrestadoService=i,this._funcaoOrgService=o,this.bsModalRef=t,this.disabled=!1,this.funcoesSelected=[],this.funcaoSelectIdx="",this.loadingFuncoes=!1}get loading(){return this.loadingFuncoes}ngOnInit(){null==this.tipoServico.funcoesOrg&&(this.tipoServico.funcoesOrg=[]),this.loadingFuncoes=!0,this._funcaoOrgService.getAll(void 0,void 0,void 0).subscribe(n=>{this.funcoes=n.items,this.funcoesSelected=[];let i=[];this.tipoServico.funcoesOrg.forEach(o=>{this.funcoesSelected.push(void 0)}),this.funcoes.forEach(o=>{let t=this.tipoServico.funcoesOrg.findIndex(s=>s.id==o.id);-1!=t?this.funcoesSelected[t]=o:i.push(o)}),this.funcoes=i,this.loadingFuncoes=!1})}select(){if(""!=this.funcaoSelectIdx){let n=this.funcaoSelectIdx;this.funcaoSelectIdx="";let i=this.funcoes.splice(Number(n),1)[0];this.funcoesSelected.push(i),this.tipoServico.funcoesOrg.push(new c.z2({id:i.id}))}}unselect(n){this.funcoes.push(this.funcoesSelected.splice(n,1)[0]),this.tipoServico.funcoesOrg.splice(n,1)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.$B),e.rXU(c.AM),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["tipo-servico-prestado-form"]],inputs:{disabled:"disabled",tipoServico:"tipoServico"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:46,vars:30,consts:[["nomeModel","ngModel","nomeEl",""],["descModel","ngModel","descEl",""],["associadoACasoModel","ngModel","associadoACasoEl",""],["funcaoSelectModel","ngModel","funcaoSelectEl",""],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","desc",1,"col-md-3","col-form-label"],["type","text","name","desc","id","desc","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","associadoACaso",1,"col-md-4","col-form-label"],[1,"col-md-2"],["type","checkbox","name","associadoACaso","id","associadoACaso",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row"],[1,"col","text-center"],[1,"row",3,"hidden"],["class","row mx-5",4,"ngFor","ngForOf"],[1,"row","mx-5"],[1,"col"],["id","funcaoSelect","name","funcaoSelect",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-0"],["type","button",1,"row-0","btn","btn-primary",3,"click","disabled"],[1,"fa","fa-plus"],["type","button",1,"row-0","btn","btn-danger",3,"click","disabled"],[1,"fa","fa-x"],[3,"value"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",4)(1,"label",5),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",6)(5,"input",7,0),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.tipoServico.nome,r)||(o.tipoServico.nome=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",8),e.k0s()(),e.j41(9,"div",9)(10,"label",10),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",6)(14,"textarea",11,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.tipoServico.desc,r)||(o.tipoServico.desc=r),e.Njj(r)}),e.EFF(17,"        "),e.k0s(),e.nrm(18,"abp-validation-summary",8),e.k0s()(),e.j41(19,"div",9)(20,"label",12),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"div",13)(24,"input",14,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.tipoServico.associadoACaso,r)||(o.tipoServico.associadoACaso=r),e.Njj(r)}),e.k0s(),e.nrm(27,"abp-validation-summary",8),e.k0s()(),e.j41(28,"div",15)(29,"label",16),e.EFF(30,"Fun\xe7\xf5es Prestadoras"),e.k0s()(),e.j41(31,"div",17)(32,"div",16),e.EFF(33,"Nenhuma fun\xe7\xe3o selecionada"),e.k0s()(),e.DNE(34,yl,6,2,"div",18),e.j41(35,"div",19)(36,"div",20)(37,"select",21,3),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.funcaoSelectIdx,r)||(o.funcaoSelectIdx=r),e.Njj(r)}),e.nrm(40,"option",22),e.DNE(41,Gl,2,2,"option",23),e.k0s(),e.nrm(42,"abp-validation-summary",8),e.k0s(),e.j41(43,"div",24)(44,"button",25),e.bIt("click",function(){return e.eBV(t),e.Njj(o.select())}),e.nrm(45,"i",26),e.k0s()()()}if(2&i){let t;const s=e.sdS(6),r=e.sdS(7),m=e.sdS(15),f=e.sdS(16),v=e.sdS(25),C=e.sdS(26),S=e.sdS(38),$=e.sdS(39);e.R7$(2),e.SpI(" ",e.bMT(3,23,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.tipoServico.nome),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(12,25,"Descri\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.tipoServico.desc),e.R7$(4),e.Y8G("control",m)("controlEl",f),e.R7$(3),e.SpI(" ",e.bMT(22,27,"Vinculado a caso")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.tipoServico.associadoACaso),e.R7$(3),e.Y8G("control",v)("controlEl",C),e.R7$(4),e.Y8G("hidden",o.funcoesSelected.length>0),e.R7$(3),e.Y8G("ngForOf",o.funcoesSelected),e.R7$(3),e.Y8G("disabled",o.loadingFuncoes),e.R50("ngModel",o.funcaoSelectIdx),e.R7$(4),e.Y8G("ngForOf",null!==(t=o.funcoes)&&void 0!==t?t:e.lJ4(29,Al)),e.R7$(),e.Y8G("control",S)("controlEl",$),e.R7$(2),e.Y8G("disabled",o.loadingFuncoes||""==o.funcaoSelectIdx||o.disabled)}},dependencies:[p.Sq,l.xH,l.y7,l.me,l.Zm,l.wz,l.BC,l.YS,l.tU,l.vS,G.e,h.S],encapsulation:2})}return a})(),$l=(()=>{class a extends _.q{constructor(n,i,o,t){super(n),this._tipoServicoPrestadoService=i,this._funcaoOrgService=o,this.bsModalRef=t,this.onSave=new e.bkB,this.saving=!1}ngOnInit(){this.tipoServico=new c.D7}save(){this.saving=!0,this.tipoServico.registravelAvulso=!0,this._tipoServicoPrestadoService.create(this.tipoServico).subscribe(n=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(n)})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.$B),e.rXU(c.AM),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:7,vars:7,consts:[["createTipoServicoPrestadoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","tipoServicoForm",3,"disabled","tipoServico"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"tipo-servico-prestado-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"CreateNewTipoServicoPrestado")),e.R7$(3),e.Y8G("disabled",o.saving)("tipoServico",o.tipoServico),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving||0==o.tipoServico.funcoesOrg.length)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,k.x,j.z,po,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})(),Pl=(()=>{class a extends _.q{constructor(n,i,o,t){super(n),this._tipoServicoPrestadoService=i,this._funcaoOrgService=o,this.bsModalRef=t,this.onSave=new e.bkB,this.saving=!1}ngOnInit(){}save(){this.saving=!0,this.tipoServico.registravelAvulso=!0,this._tipoServicoPrestadoService.update(this.tipoServico).subscribe(n=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(n)})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.$B),e.rXU(c.AM),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:7,vars:7,consts:[["editTipoServicoPrestadoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","tipoServicoForm",3,"disabled","tipoServico"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"tipo-servico-prestado-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"EditNewTipoServicoPrestado")),e.R7$(3),e.Y8G("disabled",o.saving)("tipoServico",o.tipoServico),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving||0==o.tipoServico.funcoesOrg.length)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,k.x,j.z,po,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const wl=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function Nl(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",34)(1,"div",35)(2,"button",13),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",36),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function Vl(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"button",37),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.editTipoServicoPrestado(o))}),e.nrm(11,"i",38),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){const n=d.$implicit;e.R7$(2),e.JRh(n.nome),e.R7$(2),e.JRh(n.desc),e.R7$(2),e.JRh(n.registravelAvulso?"Sim":"N\xe3o"),e.R7$(2),e.JRh(n.associadoACaso?"Sim":"N\xe3o"),e.R7$(4),e.SpI(" ",e.bMT(13,5,"Edit")," ")}}let Bl=(()=>{class a extends y{constructor(n,i,o,t,s,r,m){super(n),this._servicoPrestadoService=i,this._tipoServicoPrestadoService=o,this._modalService=t,this._changeDectetor=s,this._router=r,this._route=m,this.tiposServico=[],this.keyword="",this.advancedFiltersVisible=!1}ngOnInit(){this.refresh()}getTipoServicoNome(n){return this.tiposServico?.find(i=>i.id==n)?.nome??"-"}createTipoServicoPrestado(){let n;n=this._modalService.show($l,{class:"modal-lg",initialState:{}}),n.content.onSave.subscribe(()=>{this.refresh()})}editTipoServicoPrestado(n){let i;i=this._modalService.show(Pl,{class:"modal-lg",initialState:{tipoServico:n}}),i.content.onSave.subscribe(()=>{this.refresh()})}list(n,i,o){this._tipoServicoPrestadoService.getAll(void 0,void 0,void 0,n.skipCount,n.maxResultCount).pipe((0,A.j)(()=>{o()})).subscribe(t=>{this.tiposServico=t.items,this.showPaging(t,i)})}clearFilters(){this.keyword="",this.getDataPage(1)}delete(n){abp.message.confirm("O seguinte tecnica ser\xe1 exclu\xeddo do banco",void 0,i=>{i&&this._servicoPrestadoService.delete(n.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.Fr),e.rXU(c.$B),e.rXU(b.I8),e.rXU(e.gRc),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:65,vars:44,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"]],template:function(i,o){1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createTipoServicoPrestado()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,Nl,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th"),e.EFF(45),e.nI1(46,"localize"),e.k0s(),e.j41(47,"th"),e.EFF(48),e.nI1(49,"localize"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,Vl,14,7,"tr",24),e.nI1(52,"paginate"),e.k0s()()()(),e.j41(53,"div",25)(54,"div",2)(55,"div",26)(56,"button",27),e.bIt("click",function(){return o.refresh()}),e.nrm(57,"i",28),e.k0s()(),e.j41(58,"div",29)(59,"p",30),e.EFF(60),e.nI1(61,"localize"),e.k0s()(),e.j41(62,"div",31)(63,"div",32)(64,"abp-pagination-controls",33),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&i&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,18,"Tipos de Servi\xe7o Prestado")),e.R7$(5),e.SpI(" ",e.bMT(12,20,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,22,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,24,"Nome")),e.R7$(3),e.JRh(e.bMT(40,26,"Desc")),e.R7$(3),e.JRh(e.bMT(43,28,"Avulso")),e.R7$(3),e.JRh(e.bMT(46,30,"Associado a Caso")),e.R7$(3),e.JRh(e.bMT(49,32,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(52,34,o.tiposServico,e.sMw(40,wl,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(61,37,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();function zl(a,d){if(1&a&&(e.j41(0,"option",21),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",n),e.R7$(),e.JRh(n)}}function Yl(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"button",22),e.bIt("click",function(){const o=e.eBV(n).index,t=e.XpG();return e.Njj(t.removeTipoServicoPrestado(o))}),e.nrm(5,"i",23),e.EFF(6," Remover "),e.k0s()()()}if(2&a){const n=d.$implicit;e.R7$(2),e.JRh(n.nome)}}function Ul(a,d){if(1&a&&(e.j41(0,"option",21),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.JRh(n.nome)}}let ho=(()=>{class a extends Y{constructor(n,i){super(n),this._tipoServicoPrestadoService=i,this.optionsAcessoACaso=["Nenhum","Caso a Caso","Todos"],this.isTableLoading=!1,this._tipoServicoPrestadoAdd=void 0}ngOnInit(){this.isTableLoading=!0,this._tipoServicoPrestadoService.getAll(void 0,void 0,void 0,void 0,void 0).subscribe(n=>{this.tiposServicoPrestado=n.items,this.refreshTable(),this.isTableLoading=!1})}get tipoServicoPrestadoAdd(){return this._tipoServicoPrestadoAdd?.toString()??""}set tipoServicoPrestadoAdd(n){this._tipoServicoPrestadoAdd=""==n||null==n?void 0:Number(n)}addTipoServicoPrestado(){if(null!=this._tipoServicoPrestadoAdd){let n=this.tiposServicoPrestado[this._tipoServicoPrestadoAdd];this.tiposServicoNaoPrestadoPorFunc.splice(this._tipoServicoPrestadoAdd,1),this.funcao.tiposServicoPrestado.push(new c.z2({id:n.id})),this.tiposServicoPrestadoPorFunc.push(n),this._tipoServicoPrestadoAdd=void 0}}removeTipoServicoPrestado(n){this.funcao.tiposServicoPrestado.splice(n,1),this.tiposServicoNaoPrestadoPorFunc.push(this.tiposServicoPrestadoPorFunc.splice(n,1)[0])}refreshTable(){this.tiposServicoPrestadoPorFunc=[],this.tiposServicoNaoPrestadoPorFunc=[],this.funcao.tiposServicoPrestado.forEach(()=>{this.tiposServicoPrestadoPorFunc.push(void 0)}),this.tiposServicoPrestado.forEach(n=>{let i=this.funcao.tiposServicoPrestado.findIndex(o=>o.id==n.id);-1!=i?this.tiposServicoPrestadoPorFunc[i]=n:this.tiposServicoNaoPrestadoPorFunc.push(n)})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.$B))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["funcao-form"]],inputs:{funcao:"funcao"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:41,vars:21,consts:[["nomeModel","ngModel","nomeEl",""],["acessoACasoModel","ngModel","acessoACasoEl",""],["tipoServicoPrestadoAddModel","ngModel","tipoServicoPrestadoAddEl",""],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","100",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","acessoACaso",1,"col-md-3","col-form-label"],["name","acessoACaso","id","acessoACaso",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","200px"],[4,"ngFor","ngForOf"],["name","tipoServicoPrestadoAdd","id","tipoServicoPrestadoAdd",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-sm","bg-primary","mx-2",3,"click","disabled"],[1,"fas","fa-plus"],[3,"value"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-x"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",3)(1,"label",4),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",5)(5,"input",6,0),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.funcao.nome,r)||(o.funcao.nome=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",7),e.k0s()(),e.j41(9,"div",8)(10,"label",9),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",5)(14,"select",10,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.funcao.acessoCasoNome,r)||(o.funcao.acessoCasoNome=r),e.Njj(r)}),e.nrm(17,"option",11),e.DNE(18,zl,2,2,"option",12),e.k0s(),e.nrm(19,"abp-validation-summary",7),e.k0s()(),e.j41(20,"div",13)(21,"table",14)(22,"thead",15)(23,"tr")(24,"th"),e.EFF(25),e.nI1(26,"localize"),e.k0s(),e.nrm(27,"th",16),e.k0s()(),e.j41(28,"tbody"),e.DNE(29,Yl,7,1,"tr",17),e.j41(30,"tr")(31,"td")(32,"select",18,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.tipoServicoPrestadoAdd,r)||(o.tipoServicoPrestadoAdd=r),e.Njj(r)}),e.nrm(35,"option",11),e.DNE(36,Ul,2,2,"option",12),e.k0s()(),e.j41(37,"td")(38,"button",19),e.bIt("click",function(){return e.eBV(t),e.Njj(o.addTipoServicoPrestado())}),e.nrm(39,"i",20),e.EFF(40," Adicionar Tipo de Servi\xe7o Prestado "),e.k0s()()()()()()}if(2&i){const t=e.sdS(6),s=e.sdS(7),r=e.sdS(15),m=e.sdS(16);e.R7$(2),e.SpI(" ",e.bMT(3,15,"Nome")," "),e.R7$(3),e.R50("ngModel",o.funcao.nome),e.R7$(3),e.Y8G("control",t)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,17,"Acesso a Caso")," "),e.R7$(3),e.R50("ngModel",o.funcao.acessoCasoNome),e.R7$(4),e.Y8G("ngForOf",o.optionsAcessoACaso),e.R7$(),e.Y8G("control",r)("controlEl",m),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(26,19,"Tipos de Servi\xe7o Prestado")),e.R7$(4),e.Y8G("ngForOf",o.tiposServicoPrestadoPorFunc),e.R7$(3),e.R50("ngModel",o.tipoServicoPrestadoAdd),e.R7$(4),e.Y8G("ngForOf",o.tiposServicoNaoPrestadoPorFunc),e.R7$(2),e.Y8G("disabled",""==o.tipoServicoPrestadoAdd)}},dependencies:[p.Sq,l.xH,l.y7,l.me,l.wz,l.BC,l.YS,l.tU,l.vS,G.e,E,h.S],encapsulation:2})}return a})(),Xl=(()=>{class a extends _.q{constructor(n,i,o){super(n),this._funcaoService=i,this.bsModalRef=o,this.saving=!1,this.funcao=new c.sR,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,console.log(this.funcao),this._funcaoService.create(this.funcao).subscribe(n=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(n)})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.AM),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["createFuncaoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","funcaoForm",3,"funcao"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"funcao-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"CreateNewFuncao")),e.R7$(3),e.Y8G("funcao",o.funcao),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,k.x,j.z,ho,h.S],encapsulation:2})}return a})(),ql=(()=>{class a extends _.q{constructor(n,i,o,t){super(n),this._funcaoService=i,this._tipoServicoPrestadoService=o,this.bsModalRef=t,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,this._funcaoService.update(this.funcao).subscribe(n=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(n)})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.AM),e.rXU(c.$B),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["editFuncaoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","funcaoForm",3,"funcao"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"funcao-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){const t=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"EditNewFuncao")),e.R7$(3),e.Y8G("funcao",o.funcao),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!t.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,k.x,j.z,ho,h.S],encapsulation:2})}return a})();const Hl=(a,d,n)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:n});function xl(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function Ol(a,d){if(1&a){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"button",38),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.editFuncao(o))}),e.nrm(5,"i",39),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"button",40),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.delete(o))}),e.nrm(9,"i",41),e.EFF(10),e.nI1(11,"localize"),e.k0s()()()}if(2&a){const n=d.$implicit;e.R7$(2),e.JRh(n.nome),e.R7$(4),e.SpI(" ",e.bMT(7,3,"Edit")," "),e.R7$(4),e.SpI(" ",e.bMT(11,5,"Delete")," ")}}let Jl=(()=>{class a extends y{constructor(n,i,o,t,s,r){super(n),this._funcaoService=i,this._modalService=o,this._changeDectetor=t,this._router=s,this._route=r,this.funcoes=[],this.keyword="",this.advancedFiltersVisible=!1}ngOnInit(){this.refresh()}createFuncao(){let n;n=this._modalService.show(Xl,{class:"modal-lg"}),n.content.onSave.subscribe(()=>{this.refresh()})}editFuncao(n){let i;i=this._modalService.show(ql,{class:"modal-lg",initialState:{funcao:n}}),i.content.onSave.subscribe(()=>{this.refresh()})}list(n,i,o){console.log(n),this._funcaoService.getAll(void 0,n.skipCount,n.maxResultCount).pipe((0,A.j)(()=>{o()})).subscribe(t=>{console.log(t),this.funcoes=t.items,this.showPaging(t,i)})}clearFilters(){this.keyword="",this.getDataPage(1)}delete(n){abp.message.confirm("O seguinte tecnica ser\xe1 exclu\xedda do banco",void 0,i=>{i&&this._funcaoService.delete(n.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.AM),e.rXU(b.I8),e.rXU(e.gRc),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:56,vars:35,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","200px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(i,o){1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createFuncao()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,xl,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th",24),e.EFF(39),e.nI1(40,"localize"),e.k0s()()(),e.j41(41,"tbody"),e.DNE(42,Ol,12,7,"tr",25),e.nI1(43,"paginate"),e.k0s()()()(),e.j41(44,"div",26)(45,"div",2)(46,"div",27)(47,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(48,"i",29),e.k0s()(),e.j41(49,"div",30)(50,"p",31),e.EFF(51),e.nI1(52,"localize"),e.k0s()(),e.j41(53,"div",32)(54,"div",33)(55,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&i&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,15,"Fun\xe7\xf5es")),e.R7$(5),e.SpI(" ",e.bMT(12,17,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,19,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,21,"Nome")),e.R7$(3),e.JRh(e.bMT(40,23,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(43,25,o.funcoes,e.sMw(31,Hl,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(52,28,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,E,h.S,T.kf],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const go=()=>[""];function Ll(a,d){if(1&a){const n=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"funcoes-colaborador-details",11),e.mxI("funcoesChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.funcoes,o)||(t.funcoes=o),e.Njj(o)})("historicoFuncoesChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.historicoFuncoes,o)||(t.historicoFuncoes=o),e.Njj(o)})("gerentesChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.gerentes,o)||(t.gerentes=o),e.Njj(o)})("gerentesCFChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.gerentesCF,o)||(t.gerentesCF=o),e.Njj(o)}),e.k0s()()}if(2&a){const n=e.XpG();e.Y8G("heading",e.bMT(1,6,"Funcoes")),e.R7$(2),e.Y8G("colaboradorId",n.id),e.R50("funcoes",n.funcoes)("historicoFuncoes",n.historicoFuncoes)("gerentes",n.gerentes)("gerentesCF",n.gerentesCF)}}function Zl(a,d){if(1&a){const n=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"servicos-prestados-colaborador",12),e.mxI("casosChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.casos,o)||(t.casos=o),e.Njj(o)}),e.k0s()()}if(2&a){const n=e.XpG();e.Y8G("heading",e.bMT(1,6,"ServicosPrestados")),e.R7$(2),e.Y8G("colaboradorId",n.id)("colaborador",n.pessoa)("funcoes",n.funcoes)("historicoFuncoes",n.historicoFuncoes),e.R50("casos",n.casos)}}function Ql(a,d){if(1&a&&(e.j41(0,"tab",8),e.nI1(1,"localize"),e.nrm(2,"casos-colaborador",13),e.k0s()),2&a){const n=e.XpG();e.Y8G("heading",e.bMT(1,7,"Casos")),e.R7$(2),e.Y8G("colaboradorId",n.id)("funcoes",n.funcoes)("historicoFuncoes",n.historicoFuncoes)("casos",n.casos)("gerentes",n.gerentes)("gerentesCF",n.gerentesCF)}}function Wl(a,d){if(1&a){const n=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"gerenciados-colaborador",14),e.mxI("gerenciadosChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.gerenciados,o)||(t.gerenciados=o),e.Njj(o)})("gerenciadosFuncoesChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.gerenciadosFuncoes,o)||(t.gerenciadosFuncoes=o),e.Njj(o)}),e.k0s()()}if(2&a){const n=e.XpG();e.Y8G("heading",e.bMT(1,6,"Gerenciados")),e.R7$(2),e.Y8G("colaborador",n.pessoa)("funcoes",n.funcoes)("historicoFuncoes",n.historicoFuncoes),e.R50("gerenciados",n.gerenciados)("gerenciadosFuncoes",n.gerenciadosFuncoes)}}function Kl(a,d){if(1&a){const n=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"dependentes-details",15),e.mxI("responsavelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.pessoa,o)||(t.pessoa=o),e.Njj(o)}),e.k0s()()}if(2&a){const n=e.XpG();e.Y8G("heading",e.bMT(1,2,"AlunosDependentes")),e.R7$(2),e.R50("responsavel",n.pessoa)}}function ed(a,d){if(1&a){const n=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"responsaveis-aluno",16),e.mxI("alunoChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.pessoa,o)||(t.pessoa=o),e.Njj(o)}),e.k0s()()}if(2&a){const n=e.XpG();e.Y8G("heading",e.bMT(1,2,"Responsaveis")),e.R7$(2),e.R50("aluno",n.pessoa)}}function od(a,d){if(1&a){const n=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"provedores-saude-caso",16),e.mxI("alunoChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.pessoa,o)||(t.pessoa=o),e.Njj(o)}),e.k0s()()}if(2&a){const n=e.XpG();e.Y8G("heading",e.bMT(1,2,"HealthProviders")),e.R7$(2),e.R50("aluno",n.pessoa)}}function nd(a,d){if(1&a&&(e.j41(0,"tab",8),e.nI1(1,"localize"),e.nrm(2,"staff-caso",17),e.k0s()),2&a){const n=e.XpG();e.Y8G("heading",e.bMT(1,5,"Staff")),e.R7$(2),e.Y8G("aluno",n.pessoa)("staff",n.staff)("funcoesColaborador",n.funcoesColaborador)("colaboradores",n.colaboradores)}}function id(a,d){if(1&a&&(e.j41(0,"tab",8),e.nI1(1,"localize"),e.nrm(2,"supervisoes-caso",17),e.k0s()),2&a){const n=e.XpG();e.Y8G("heading",e.bMT(1,5,"Supervisoes")),e.R7$(2),e.Y8G("aluno",n.pessoa)("staff",n.staff)("funcoesColaborador",n.funcoesColaborador)("colaboradores",n.colaboradores)}}function td(a,d){if(1&a&&(e.j41(0,"tab",8),e.nI1(1,"localize"),e.nrm(2,"atendimentos-caso",17),e.k0s()),2&a){const n=e.XpG();e.Y8G("heading",e.bMT(1,5,"Atendimentos")),e.R7$(2),e.Y8G("aluno",n.pessoa)("staff",n.staff)("funcoesColaborador",n.funcoesColaborador)("colaboradores",n.colaboradores)}}function ad(a,d){if(1&a){const n=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"protocolos-avaliacao-caso",16),e.mxI("alunoChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.pessoa,o)||(t.pessoa=o),e.Njj(o)}),e.k0s()()}if(2&a){const n=e.XpG();e.Y8G("heading",e.bMT(1,2,"ProtocolosAvaliacao")),e.R7$(2),e.R50("aluno",n.pessoa)}}function sd(a,d){if(1&a){const n=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"protocolos-intervencao-caso",16),e.mxI("alunoChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.pessoa,o)||(t.pessoa=o),e.Njj(o)}),e.k0s()()}if(2&a){const n=e.XpG();e.Y8G("heading",e.bMT(1,2,"ProtocolosIntervencao")),e.R7$(2),e.R50("aluno",n.pessoa)}}let rd=(()=>{class a extends W{initEmptyPessoa(){}constructor(n,i,o,t,s,r,m,f,v,C){super(n,m,f,v,C),this._alunoService=i,this._casoService=o,this._colaboradorService=t,this._responsavelService=s,this._funcaoService=r,this._paisService=m,this._modalService=f,this._router=v,this._route=C,this.tipoPessoa="Usuario",this.busy=!1}ngOnInit(){null!=this.appSession.user.colaborador&&this._funcaoService.getAll(void 0,void 0,void 0).subscribe(n=>this.funcoes=n.items),super.ngOnInit()}proccessDto(n){super.proccessDto(n),n instanceof c.lG&&null!=n.casoId&&(this._casoService.getAllAtuacoes(n.casoId,void 0,void 0,void 0,void 0,void 0).subscribe(i=>{this.staff=i}),this._colaboradorService.getAllColabFuncoes(void 0,void 0,void 0,void 0,void 0,n.casoId,!0,void 0,void 0,void 0).subscribe(i=>{this.funcoesColaborador=i.items}),this._colaboradorService.getAll(void 0,void 0,void 0,void 0,n.casoId,!0,void 0,void 0,void 0).subscribe(i=>{this.colaboradores=i.items}))}getPessoa(){return null!=this.appSession.user.aluno?(this.id=this.appSession.user.aluno.id,this.tipoPessoa="Aluno",this._alunoService.get(this.appSession.user.aluno.id)):null!=this.appSession.user.colaborador?(this.id=this.appSession.user.colaborador.id,this.tipoPessoa="Colaborador",this._colaboradorService.get(this.appSession.user.colaborador.id)):null!=this.appSession.user.responsavel?(this.id=this.appSession.user.responsavel.id,this.tipoPessoa="Responsavel",this._responsavelService.get(this.appSession.user.responsavel.id)):void 0}getTipoPessoa(){return this.tipoPessoa}getFuncaoOrg(n){return this.funcoes?.find(i=>i.id==n)}showAbaCasos(){return this.historicoFuncoes?.some(n=>"Caso a Caso"==this.getFuncaoOrg(n.funcaoOrgId)?.acessoCasoNome)}cfGerencia(n){return(this.getFuncaoOrg(n.funcaoOrgId)?.funcoesGeridasDiretamente?.length??0)>0}showAbaGerenciados(){return"Colaborador"==this.tipoPessoa&&this.historicoFuncoes?.some(this.cfGerencia.bind(this))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.iD),e.rXU(c.i9),e.rXU(c.o5),e.rXU(c.AM),e.rXU(c.B5),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:27,vars:28,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col","p-0","text-left",2,"vertical-align","middle","margin-left","40px"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","40px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[3,"pessoaChange","onClickEdit","pessoal","pessoa","cidade","uf","pais"],["class","p-3","style","\n                    border: 1px solid #dee2e6; \n                    border-top: 0px; \n                    border-bottom-left-radius: .25rem;\n                    border-bottom-right-radius: .25rem; \n                    background-color: white;",3,"heading",4,"ngIf"],[3,"funcoesChange","historicoFuncoesChange","gerentesChange","gerentesCFChange","colaboradorId","funcoes","historicoFuncoes","gerentes","gerentesCF"],[3,"casosChange","colaboradorId","colaborador","funcoes","historicoFuncoes","casos"],[3,"colaboradorId","funcoes","historicoFuncoes","casos","gerentes","gerentesCF"],[3,"gerenciadosChange","gerenciadosFuncoesChange","colaborador","funcoes","historicoFuncoes","gerenciados","gerenciadosFuncoes"],[3,"responsavelChange","responsavel"],[3,"alunoChange","aluno"],[3,"aluno","staff","funcoesColaborador","colaboradores"]],template:function(i,o){if(1&i&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"h1",3),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"h1",4),e.EFF(8),e.k0s()()()(),e.j41(9,"section",5)(10,"div",6)(11,"tabset",7)(12,"tab",8),e.nI1(13,"localize"),e.j41(14,"info-pessoal-details",9),e.mxI("pessoaChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.bIt("onClickEdit",function(){return o.editInfoPessoal()}),e.k0s()(),e.DNE(15,Ll,3,8,"tab",10)(16,Zl,3,8,"tab",10)(17,Ql,3,9,"tab",10)(18,Wl,3,8,"tab",10)(19,Kl,3,4,"tab",10)(20,ed,3,4,"tab",10)(21,od,3,4,"tab",10)(22,nd,3,7,"tab",10)(23,id,3,7,"tab",10)(24,td,3,7,"tab",10)(25,ad,3,4,"tab",10)(26,sd,3,4,"tab",10),e.k0s()()()()),2&i){let t;e.Y8G("@routerTransition",void 0),e.R7$(5),e.SpI(" ",e.bMT(6,22,"Meu perfil")," "),e.R7$(3),e.Lme(" ",(null!==(t=null==o.pessoa||null==o.pessoa.nome?null:o.pessoa.nome.split(" "))&&void 0!==t?t:e.lJ4(26,go))[0]," ",(null!==(t=null==o.pessoa||null==o.pessoa.nome||null==(t=o.pessoa.nome.split(" "))?null:t.reverse())&&void 0!==t?t:e.lJ4(27,go))[0]," "),e.R7$(4),e.Y8G("heading",e.bMT(13,24,"PersonalInfo")),e.R7$(2),e.Y8G("pessoal",!0),e.R50("pessoa",o.pessoa),e.Y8G("cidade",o.cidade)("uf",o.uf)("pais",o.pais),e.R7$(),e.Y8G("ngIf","Colaborador"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Colaborador"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Colaborador"==o.tipoPessoa&&o.showAbaCasos()),e.R7$(),e.Y8G("ngIf",o.showAbaGerenciados()),e.R7$(),e.Y8G("ngIf","Responsavel"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Aluno"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Aluno"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Aluno"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Aluno"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Aluno"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Aluno"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Aluno"==o.tipoPessoa)}},dependencies:[p.bT,F.V6,F.fw,J,Be,ze,Ue,Qe,eo,oo,no,Le,Xe,qe,He,xe,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const me=()=>[];function ld(a,d){if(1&a&&(e.j41(0,"option",28),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.Lme(" ",n.protocoloIntervencaoNome," (",n.nome,") ")}}function dd(a,d){if(1&a&&(e.j41(0,"option",28),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.SpI(" ",n.desc," ")}}function cd(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",10)(1,"label",29),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",12)(5,"select",30,5),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.passoIdx,o)||(t.passoIdx=o),e.Njj(o)}),e.DNE(8,dd,2,2,"option",14),e.k0s(),e.nrm(9,"abp-validation-summary",15),e.k0s()()}if(2&a){let n;const i=e.sdS(6),o=e.sdS(7),t=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,6,"Passo do Protocolo de Interven\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",t.disabled),e.R50("ngModel",t.passoIdx),e.R7$(3),e.Y8G("ngForOf",null!==(n=t.passoOptions)&&void 0!==n?n:e.lJ4(8,me)),e.R7$(),e.Y8G("control",i)("controlEl",o)}}function ud(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",17)(1,"label",31),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",12)(5,"input",32,6),e.mxI("ngModelChange",function(o){const t=e.eBV(n).index,s=e.XpG();return e.DH7(s.unidade.ajudas[t].value,o)||(s.unidade.ajudas[t].value=o),e.Njj(o)}),e.k0s(),e.nrm(8,"abp-validation-summary",15),e.k0s()()}if(2&a){const n=d.$implicit,i=d.index,o=e.sdS(6),t=e.sdS(7),s=e.XpG();e.R7$(),e.Y8G("for","ajuda"+i),e.R7$(),e.Lme(" ",e.bMT(3,9,n.nome)," ",null!=(null==n?null:n.abreviacao)?"("+n.abreviacao+")":""," "),e.R7$(3),e.Y8G("disabled",s.disabled)("name","ajuda"+i)("id","ajuda"+i),e.R50("ngModel",s.unidade.ajudas[i].value),e.R7$(3),e.Y8G("control",o)("controlEl",t)}}let md=(()=>{class a extends _.q{get disabled(){return this.loading||this.saving}constructor(n,i,o,t,s){super(n),this._casoService=i,this._protocoloIntervencaoService=o,this._hierarquiaAjudaService=t,this.bsModalRef=s,this.NOME_SERVICO_ATENDIMENTO="Atendimento",this.loading=!1,this.saving=!1,this.unidade=new c.s8,this.onSave=new e.bkB}ngOnInit(){null==this.protocolosIntervencao?(this.protocolosIntervencao=[],this._protocoloIntervencaoService.getAllVersoes(void 0,this.aluno.casoId,void 0,void 0).subscribe(n=>{this.protocolosIntervencao=n.items,null==this.hierarquiasAjuda&&(this.hierarquiasAjuda=[],this.protocolosIntervencao.map(i=>i.hierarquiaAjudaId).forEach(i=>{this.hierarquiasAjuda.every(o=>o.id!=i)&&this._hierarquiaAjudaService.get(i).subscribe(this.hierarquiasAjuda.push)}))})):null==this.hierarquiasAjuda&&(this.hierarquiasAjuda=[],this.protocolosIntervencao.map(n=>n.hierarquiaAjudaId).forEach(n=>{this.hierarquiasAjuda.every(i=>i.id!=n)&&this._hierarquiaAjudaService.get(n).subscribe(this.hierarquiasAjuda.push)})),null==this.aplicacoes&&(this.aplicacoes=[],this._casoService.getAllAplicacoesProtocoloIntervencao(this.aluno.casoId,void 0).subscribe(n=>{this.aplicacoes=n}))}get protocoloIdx(){return this._protocoloIdx?.toString()??""}set protocoloIdx(n){n!=this.protocoloIdx&&(this.passoIdx="",this.unidade.ajudas=void 0),this._protocoloIdx=""!=(n??"")?Number(n):void 0,null==this.unidade.ajudas&&(this.unidade.ajudas=[],this.tiposAjuda.forEach(i=>this.unidade.ajudas.push(new c.yu({key:i.id,value:0}))))}get passoOptions(){return this.protocolosIntervencao[this._protocoloIdx]?.passosProtIntervencao}get passoIdx(){return this._passoIdx?.toString()??""}set passoIdx(n){this._passoIdx=""!=(n??"")?Number(n):void 0,this.unidade.passoId=(this.passoOptions??[])[this._passoIdx]?.id}get tiposAjuda(){let n=this.protocolosIntervencao[this._protocoloIdx]?.hierarquiaAjudaId;if(null!=n)return this.hierarquiasAjuda.find(i=>i.id==n).tiposAjuda}save(){this.onSave.emit(this.unidade),this.bsModalRef.hide()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.iD),e.rXU(c.J3),e.rXU(c.Qk),e.rXU(b.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:48,vars:38,consts:[["unidadeIntervencaoModal","ngForm"],["protocoloModel","ngModel","protocoloEl",""],["tipoModel","ngModel","tipoEl",""],["descricaoModel","ngModel","descricaoEl",""],["observacaoModel","ngModel","observacaoEl",""],["passoModel","ngModel","passoEl",""],["ajudaModel","ngModel","ajudaEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","protocolo",1,"col-md-3","col-form-label"],[1,"col-md-9"],["name","protocolo","id","protocolo","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],["class","form-group row required",4,"ngIf"],[1,"form-group","row"],["for","tipo",1,"col-md-3","col-form-label"],["type","text","name","tipo","id","tipo","maxlength","50",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","descricao",1,"col-md-3","col-form-label"],["type","text","name","descricao","id","descricao","maxlength","200",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row","m-1","text-center","justify-content-center"],["class","form-group row",4,"ngFor","ngForOf"],["for","observacao",1,"row","m-1","text-center","row-form-label","justify-content-center"],[1,"col"],["type","text","name","observacao","id","observacao","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"],["for","passo",1,"col-md-3","col-form-label"],["name","passo","id","passo","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"col-md-3","col-form-label",3,"for"],["type","number","min","0",1,"form-control",3,"ngModelChange","disabled","name","id","ngModel"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"form",7,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(2,"abp-modal-header",8),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",9)(5,"div",10)(6,"label",11),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",12)(10,"select",13,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.protocoloIdx,r)||(o.protocoloIdx=r),e.Njj(r)}),e.DNE(13,ld,2,3,"option",14),e.k0s(),e.nrm(14,"abp-validation-summary",15),e.k0s()(),e.DNE(15,cd,10,9,"div",16),e.j41(16,"div",17)(17,"label",18),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.j41(20,"div",12)(21,"input",19,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.unidade.tipo,r)||(o.unidade.tipo=r),e.Njj(r)}),e.k0s(),e.nrm(24,"abp-validation-summary",15),e.k0s()(),e.j41(25,"div",17)(26,"label",20),e.EFF(27),e.nI1(28,"localize"),e.k0s(),e.j41(29,"div",12)(30,"input",21,3),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.unidade.descricao,r)||(o.unidade.descricao=r),e.Njj(r)}),e.k0s(),e.nrm(33,"abp-validation-summary",15),e.k0s()(),e.j41(34,"label",22),e.EFF(35,"Ajudas"),e.k0s(),e.DNE(36,ud,9,11,"div",23),e.j41(37,"label",24),e.EFF(38),e.nI1(39,"localize"),e.k0s(),e.j41(40,"div",17)(41,"div",25)(42,"textarea",26,4),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.unidade.observacao,r)||(o.unidade.observacao=r),e.Njj(r)}),e.EFF(45,"                "),e.k0s(),e.nrm(46,"abp-validation-summary",15),e.k0s()()(),e.j41(47,"abp-modal-footer",27),e.bIt("onCancelClick",function(){return e.eBV(t),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&i){let t,s;const r=e.sdS(1),m=e.sdS(11),f=e.sdS(12),v=e.sdS(22),C=e.sdS(23),S=e.sdS(31),$=e.sdS(32),P=e.sdS(43),N=e.sdS(44);e.R7$(2),e.Y8G("title",e.bMT(3,26,"UnidadeEnsino")),e.R7$(5),e.SpI(" ",e.bMT(8,28,"Protocolo de Interven\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.protocoloIdx),e.R7$(3),e.Y8G("ngForOf",null!==(t=o.protocolosIntervencao)&&void 0!==t?t:e.lJ4(36,me)),e.R7$(),e.Y8G("control",m)("controlEl",f),e.R7$(),e.Y8G("ngIf",""!=o.protocoloIdx),e.R7$(3),e.SpI(" ",e.bMT(19,30,"Tipo")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.unidade.tipo),e.R7$(3),e.Y8G("control",v)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(28,32,"Descri\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.unidade.descricao),e.R7$(3),e.Y8G("control",S)("controlEl",$),e.R7$(3),e.Y8G("ngForOf",null!==(s=o.tiposAjuda)&&void 0!==s?s:e.lJ4(37,me)),e.R7$(2),e.SpI(" ",e.bMT(39,34,"Observa\xe7\xe3o")," "),e.R7$(4),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.unidade.observacao),e.R7$(4),e.Y8G("control",P)("controlEl",N),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!r.form.valid||o.saving)}},dependencies:[p.Sq,p.bT,l.qT,l.xH,l.y7,l.me,l.Q0,l.wz,l.BC,l.cb,l.YS,l.tU,l.VZ,l.vS,l.cV,G.e,k.x,j.z,h.S],encapsulation:2})}return a})();const fo=()=>[""],oe=()=>[];function pd(a,d){if(1&a&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&a){const n=d.$implicit,i=e.XpG();e.Y8G("value",n.id),e.R7$(),e.SpI(" ",i.getOptionString(n)," ")}}function hd(a,d){if(1&a&&(e.j41(0,"div",42)(1,"label",43),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",44),e.EFF(5),e.k0s()()),2&a){const n=e.XpG().$implicit;e.R7$(2),e.SpI(" ",e.bMT(3,2,"Observa\xe7\xe3o"),": "),e.R7$(3),e.SpI(" ",n.observacao," ")}}function gd(a,d){if(1&a&&(e.j41(0,"th",54),e.EFF(1),e.k0s()),2&a){const n=d.$implicit;e.R7$(),e.SpI(" ",n.nome," ")}}function fd(a,d){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const n=d.$implicit,i=e.XpG().$implicit,o=e.XpG();e.R7$(),e.SpI(" ",o.getNoAjudas(i,n)," ")}}function bd(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",40)(1,"div",41)(2,"div",42)(3,"label",43),e.EFF(4),e.nI1(5,"localize"),e.k0s(),e.j41(6,"div",44),e.EFF(7),e.k0s()(),e.j41(8,"div",45)(9,"label",43),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"div",44),e.EFF(13),e.k0s()(),e.j41(14,"div",42)(15,"label",43),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.j41(18,"div",44),e.EFF(19),e.k0s(),e.j41(20,"label",43),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"div",44),e.EFF(24),e.k0s()(),e.DNE(25,hd,6,4,"div",46),e.j41(26,"div",47)(27,"table",48)(28,"thead",49)(29,"tr")(30,"th",50),e.EFF(31),e.nI1(32,"localize"),e.k0s()(),e.j41(33,"tr"),e.DNE(34,gd,2,1,"th",51),e.k0s()(),e.j41(35,"tbody")(36,"tr"),e.DNE(37,fd,2,1,"td",51),e.k0s()()()()(),e.j41(38,"button",52),e.bIt("click",function(){const o=e.eBV(n).index,t=e.XpG();return e.Njj(t.rmvUnidade(o))}),e.nrm(39,"i",53),e.EFF(40),e.nI1(41,"localize"),e.k0s()()}if(2&a){let n,i,o;const t=d.$implicit,s=d.index,r=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,15,"Protocolo de Interven\xe7\xe3o"),": "),e.R7$(3),e.Lme(" ",r.protocolosByUnidade[s].protocoloIntervencaoNome," (",r.protocolosByUnidade[s].nome,") "),e.R7$(3),e.SpI(" ",e.bMT(11,17,"Passo"),": "),e.R7$(3),e.SpI(" ",r.passosByUnidade[s].desc," "),e.R7$(3),e.SpI(" ",e.bMT(17,19,"Tipo"),": "),e.R7$(3),e.SpI(" ",t.tipo," "),e.R7$(2),e.SpI(" ",e.bMT(22,21,"Descri\xe7\xe3o"),": "),e.R7$(3),e.SpI(" ",t.descricao," "),e.R7$(),e.Y8G("ngIf",null!=t.observacao&&""!=t.observacao),e.R7$(5),e.Y8G("colSpan",null!==(n=null==r.hierarquiasAjudaByUnidade[s]||null==r.hierarquiasAjudaByUnidade[s].tiposAjuda?null:r.hierarquiasAjudaByUnidade[s].tiposAjuda.length)&&void 0!==n?n:1),e.R7$(),e.SpI(" ",e.bMT(32,23,"Ajudas")," "),e.R7$(3),e.Y8G("ngForOf",null!==(i=null==r.hierarquiasAjudaByUnidade[s]?null:r.hierarquiasAjudaByUnidade[s].tiposAjuda)&&void 0!==i?i:e.lJ4(27,oe)),e.R7$(3),e.Y8G("ngForOf",null!==(o=null==r.hierarquiasAjudaByUnidade[s]?null:r.hierarquiasAjudaByUnidade[s].tiposAjuda)&&void 0!==o?o:e.lJ4(28,oe)),e.R7$(3),e.SpI(" ",e.bMT(41,25,"Remove")," ")}}let _d=(()=>{class a extends _.q{get disabled(){return this.loading||this.saving}constructor(n,i,o,t,s,r,m,f,v,C,S,$,P){super(n),this._casoService=i,this._alunoService=o,this._colaboradorService=t,this._tipoServicoService=s,this._protocoloIntervencaoService=r,this._hierarquiaAjudaService=m,this._funcaoService=f,this._changeDetector=v,this._bsModalService=C,this._router=S,this._route=$,this._localService=P,this.NOME_SERVICO_ATENDIMENTO="Atendimento",this.loading=!1,this.saving=!1,this.protocolosByUnidade=[],this.passosByUnidade=[],this.hierarquiasAjudaByUnidade=[]}goBack(){this._router.navigate([".."],{relativeTo:this._route})}getOptionString(n){let i=this.getColabFuncao(n?.colabFuncaoId),o=this.getColaborador(i?.colaboradorId),t=this.getFuncao(i?.funcaoOrgId);return o?.nome+" ("+t?.nome+")"}getFuncao(n){return this.funcoes?.find(i=>i.id==n)}getAtuacao(n){return this.ats?.find(i=>i.id==n)}getColabFuncao(n){return this.funcoesColaborador.get(n)}getColaborador(n){return this.colaboradores.get(n)}ngOnInit(){if(this.loading=!0,this.aluno=this._localService.aluno,null==this.aluno){const i=Number(this._route.snapshot.paramMap.get("alunoId"));this._alunoService.get(i).subscribe(o=>{this.aluno=o,this.refresh()})}else this.refresh()}refresh(){this.funcoes=[],this._funcaoService.getAll(void 0,void 0,void 0).subscribe(n=>{this.funcoes=n.items}),this._tipoServicoService.getAll(this.NOME_SERVICO_ATENDIMENTO,void 0,void 0,void 0,void 0).subscribe(n=>{this._funcoesApropriadas=[],n.items.forEach(i=>{i.funcoesOrg.forEach(o=>{this._funcoesApropriadas.includes(o.id)||this._funcoesApropriadas.push(o.id)})}),this.ats=[],this._casoService.getAllAtuacoes(this.aluno.casoId,!0,!0,void 0,void 0,this._funcoesApropriadas).subscribe(i=>{this.ats=i,!this.permission.isGranted("Business.Personal.Colaborador.Supervisor")&&!this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico")&&(this.ats=this.ats.filter(o=>this.getColabFuncao(o.colabFuncaoId)?.colaboradorId==(this.appSession.user?.colaborador?.id??-1))),this.loading=!1,this._changeDetector.detectChanges()}),this.funcoesColaborador=new Map,this._colaboradorService.getAllColabFuncoes(void 0,void 0,void 0,this._funcoesApropriadas,!0,this.aluno.casoId,void 0,void 0,void 0,void 0).subscribe(i=>{i.items.forEach(o=>{this.funcoesColaborador.set(o.id,o)}),this._changeDetector.detectChanges()}),this.colaboradores=new Map,this._colaboradorService.getAll(void 0,void 0,this._funcoesApropriadas,!0,this.aluno.casoId,void 0,void 0,void 0,void 0).subscribe(i=>{i.items.forEach(o=>{this.colaboradores.set(o.id,o)}),this._changeDetector.detectChanges()})}),this.loadingHierarquias=!0,this.hierarquiasAjuda=[],this._hierarquiaAjudaService.getAll(void 0,void 0).subscribe(n=>{this.hierarquiasAjuda=n.items,this.loadingHierarquias=!1}),this.loadingProtocolosIntervencao=!0,this.protocolosIntervencao=[],this._protocoloIntervencaoService.getAllVersoes(void 0,this.aluno.casoId,void 0,void 0).subscribe(n=>{this.protocolosIntervencao=n.items,this.loadingProtocolosIntervencao=!1}),this.loadingAplicacoes=!0,this.aplicacoes=[],this._casoService.getAllAplicacoesProtocoloIntervencao(this.aluno.casoId,void 0).subscribe(n=>{this.aplicacoes=n,this.loadingAplicacoes=!1}),this.atendimento=new c.Tg,this.atendimento.casoId=this.aluno.casoId,this.atendimento.inicio=V(),this.atendimento.fim=V(),this.atendimento.unidadesEnsino=[]}addUnidade(){let n;n=this._bsModalService.show(md,{class:"modal-lg",initialState:{aluno:this.aluno,protocolosIntervencao:this.protocolosIntervencao,aplicacoes:this.aplicacoes,hierarquiasAjuda:this.hierarquiasAjuda}}),n.content.onSave.subscribe(i=>{this.atendimento.unidadesEnsino.push(i);var o,t=this.protocolosIntervencao.find(s=>null!=(o=s.passosProtIntervencao.find(r=>r.id==i.passoId)));this.protocolosByUnidade.push(t),this.passosByUnidade.push(o),this.hierarquiasAjudaByUnidade.push(this.hierarquiasAjuda.find(s=>s.id==t.hierarquiaAjudaId))})}rmvUnidade(n){this.atendimento.unidadesEnsino.splice(n,1),this.protocolosByUnidade.splice(n,1),this.passosByUnidade.splice(n,1),this.hierarquiasAjudaByUnidade.splice(n,1)}getNoAjudas(n,i){return n.ajudas.find(o=>o.key==i.id).value}get data(){return this.atendimento?.inicio?.format("YYYY-MM-DD")}set data(n){let i=V(n),o=V(n);i=i.hour(this.atendimento?.inicio?.hour()??0),o=o.hour(this.atendimento?.fim?.hour()??0),i=i.minute(this.atendimento?.inicio?.minute()??0),o=o.minute(this.atendimento?.fim?.minute()??0),this.atendimento.inicio=i,this.atendimento.fim=o}get horarioInicio(){return this.atendimento?.inicio?.format("HH:mm")}set horarioInicio(n){let i=Number(n.substring(0,2)),o=Number(n.substring(3,5));this.atendimento.inicio=this.atendimento?.inicio?.hour(i),this.atendimento.inicio=this.atendimento?.inicio?.minute(o)}get horarioFim(){return this.atendimento?.fim?.format("HH:mm")}set horarioFim(n){let i=Number(n.substring(0,2)),o=Number(n.substring(3,5));this.atendimento.fim=this.atendimento?.fim?.hour(i),this.atendimento.fim=this.atendimento?.fim?.minute(o)}get atId(){return this.atendimento?.atuacaoTerapeutaId?.toString()??""}set atId(n){this.atendimento.atuacaoTerapeutaId=""!=n&&null!=n?Number(n):void 0}save(){this.saving=!0;let n={next:i=>{this.saving=!1,this.notify.success(this.l("Salvo com sucesso!")),this._router.navigate([".."],{relativeTo:this._route})},error:i=>{console.log(i),this.saving=!1},complete:()=>{}};this.atendimento.inicio=this.atendimento.inicio.utcOffset(0,!0),this.atendimento.fim=this.atendimento.fim.utcOffset(0,!0),this._casoService.registrarAtendimento(this.atendimento).subscribe(n)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.iD),e.rXU(c.pg),e.rXU(c.i9),e.rXU(c.$B),e.rXU(c.J3),e.rXU(c.Qk),e.rXU(c.AM),e.rXU(e.gRc),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX),e.rXU(x.n))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:69,vars:48,consts:[["registroAtendimentoPage","ngForm"],["atModel","ngModel","atEl",""],["dataModel","ngModel","dataEl",""],["horarioInicioModel","ngModel","horarioInicioEl",""],["horarioFimModel","ngModel","horarioFimEl",""],[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[2,"height","100%","width","100%","border","0px solid black"],[1,"card",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white"],[1,"card-body"],[1,"form-group","row","required"],["for","at",1,"col-md-3","col-form-label"],[1,"col-md-9"],["name","at","id","at","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],["for","data",1,"col-md-3","col-form-label"],["type","date","name","data","id","data","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","horarioInicio",1,"col-md-3","col-form-label"],["type","time","name","horarioInicio","id","horarioInicio","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","horarioFim",1,"col-md-3","col-form-label"],["type","time","name","horarioFim","id","horarioFim","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row","mx-0","my-2","justify-content-center"],["style","border: 1px solid lightgray; border-radius: 10px;","class","row mx-0 my-1",4,"ngFor","ngForOf"],[1,"row","m-0","pb-2","justify-content-center"],["type","button",1,"btn","btn-sm","bg-primary",3,"click","disabled"],[1,"fas","fa-plus-square"],[1,"row","m-0","justify-content-center"],["type","submit",1,"btn","bg-primary",3,"disabled"],[3,"value"],[1,"row","mx-0","my-1",2,"border","1px solid lightgray","border-radius","10px"],[1,"col-md-11","p-0"],[1,"row","m-0","px-1","pb-1","pt-2"],[1,"col-md-3","p-0","pl-2"],[1,"col"],[1,"row","m-0","p-1"],["class","row m-0 px-1 pb-1 pt-2",4,"ngIf"],[1,"row","m-0"],[1,"table","table-bordered","m-0"],[1,"bg-light"],[1,"text-center",3,"colSpan"],["class","text-center",4,"ngFor","ngForOf"],["type","button",1,"col","btn","btn-sm","bg-danger",3,"click"],[1,"fas","fa-x"],[1,"text-center"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"section",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"button",9),e.bIt("click",function(){return e.eBV(t),e.Njj(o.goBack())}),e.nrm(6,"i",10),e.k0s()()(),e.j41(7,"div",11)(8,"h1",12),e.EFF(9," Registro de Atendimento ao Aluno "),e.k0s(),e.j41(10,"h1",13),e.EFF(11),e.k0s()()()(),e.j41(12,"section",14)(13,"form",15,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(15,"div",16)(16,"div",17)(17,"div",18)(18,"div",19)(19,"label",20),e.EFF(20),e.nI1(21,"localize"),e.k0s(),e.j41(22,"div",21)(23,"select",22,1),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.atId,r)||(o.atId=r),e.Njj(r)}),e.nrm(26,"option",23),e.DNE(27,pd,2,2,"option",24),e.k0s(),e.nrm(28,"abp-validation-summary",25),e.k0s()(),e.j41(29,"div",19)(30,"label",26),e.EFF(31),e.nI1(32,"localize"),e.k0s(),e.j41(33,"div",21)(34,"input",27,2),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.data,r)||(o.data=r),e.Njj(r)}),e.k0s(),e.nrm(37,"abp-validation-summary",25),e.k0s()(),e.j41(38,"div",19)(39,"label",28),e.EFF(40),e.nI1(41,"localize"),e.k0s(),e.j41(42,"div",21)(43,"input",29,3),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.horarioInicio,r)||(o.horarioInicio=r),e.Njj(r)}),e.k0s(),e.nrm(46,"abp-validation-summary",25),e.k0s()(),e.j41(47,"div",19)(48,"label",30),e.EFF(49),e.nI1(50,"localize"),e.k0s(),e.j41(51,"div",21)(52,"input",31,4),e.mxI("ngModelChange",function(r){return e.eBV(t),e.DH7(o.horarioFim,r)||(o.horarioFim=r),e.Njj(r)}),e.k0s(),e.nrm(55,"abp-validation-summary",25),e.k0s()(),e.j41(56,"label",32),e.EFF(57),e.nI1(58,"localize"),e.k0s(),e.DNE(59,bd,42,29,"div",33),e.j41(60,"div",34)(61,"button",35),e.bIt("click",function(){return e.eBV(t),e.Njj(o.addUnidade())}),e.nrm(62,"i",36),e.EFF(63),e.nI1(64,"localize"),e.k0s()(),e.j41(65,"div",37)(66,"button",38),e.EFF(67),e.nI1(68,"localize"),e.k0s()()()()()()()()}if(2&i){let t,s,r;const m=e.sdS(14),f=e.sdS(24),v=e.sdS(25),C=e.sdS(35),S=e.sdS(36),$=e.sdS(44),P=e.sdS(45),N=e.sdS(53),B=e.sdS(54);e.Y8G("@routerTransition",void 0),e.R7$(11),e.Lme(" ",(null!==(t=null==o.aluno||null==o.aluno.nome?null:o.aluno.nome.split(" "))&&void 0!==t?t:e.lJ4(44,fo))[0]," ",(null!==(t=null==o.aluno||null==o.aluno.nome||null==(t=o.aluno.nome.split(" "))?null:t.reverse())&&void 0!==t?t:e.lJ4(45,fo))[0]," "),e.R7$(9),e.SpI(" ",e.bMT(21,30,"AT")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.atId),e.R7$(4),e.Y8G("ngForOf",null!==(s=o.ats)&&void 0!==s?s:e.lJ4(46,oe)),e.R7$(),e.Y8G("control",f)("controlEl",v),e.R7$(3),e.SpI(" ",e.bMT(32,32,"Data")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.data),e.R7$(3),e.Y8G("control",C)("controlEl",S),e.R7$(3),e.SpI(" ",e.bMT(41,34,"Hor\xe1rio In\xedcio")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.horarioInicio),e.R7$(3),e.Y8G("control",$)("controlEl",P),e.R7$(3),e.SpI(" ",e.bMT(50,36,"Hor\xe1rio Fim")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.horarioFim),e.R7$(3),e.Y8G("control",N)("controlEl",B),e.R7$(2),e.JRh(e.bMT(58,38,"UnidadesEnsino")),e.R7$(2),e.Y8G("ngForOf",null!==(r=null==o.atendimento?null:o.atendimento.unidadesEnsino)&&void 0!==r?r:e.lJ4(47,oe)),e.R7$(2),e.Y8G("disabled",o.loading||o.loadingHierarquias||o.loadingProtocolosIntervencao||o.loadingAplicacoes),e.R7$(2),e.SpI(" ",e.bMT(64,40,"AddUnidadeEnsino")," "),e.R7$(3),e.Y8G("disabled",o.loading||o.loadingHierarquias||o.loadingProtocolosIntervencao||o.loadingAplicacoes||o.saving||!m.form.valid||0==o.atendimento.unidadesEnsino.length),e.R7$(),e.SpI(" ",e.bMT(68,42,"Save")," ")}},dependencies:[p.Sq,p.bT,l.qT,l.xH,l.y7,l.me,l.wz,l.BC,l.cb,l.YS,l.vS,l.cV,G.e,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const vd=()=>[];function Cd(a,d){if(1&a&&(e.j41(0,"option",188),e.EFF(1),e.k0s()),2&a){const n=d.$implicit,i=e.XpG(2);e.Y8G("value",n.id),e.R7$(),e.SpI(" ",i.getOptionString(n)," ")}}function Id(a,d){if(1&a){const n=e.RV6();e.j41(0,"div")(1,"div",30)(2,"label",31),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.logOptions())}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"div",32)(6,"select",33,0),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.avaliadorId,o)||(t.avaliadorId=o),e.Njj(o)}),e.nrm(9,"option",34),e.DNE(10,Cd,2,2,"option",35),e.k0s(),e.nrm(11,"abp-validation-summary",36),e.k0s()(),e.j41(12,"div",30)(13,"label",37),e.EFF(14),e.nI1(15,"localize"),e.k0s(),e.j41(16,"div",32)(17,"input",38,1),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.data,o)||(t.data=o),e.Njj(o)}),e.k0s(),e.nrm(20,"abp-validation-summary",36),e.k0s()(),e.j41(21,"details")(22,"summary"),e.EFF(23),e.nI1(24,"localize"),e.k0s(),e.j41(25,"div",39)(26,"label",40),e.EFF(27),e.nI1(28,"localize"),e.k0s(),e.j41(29,"div",32)(30,"textarea",41,2),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.diagnostico,o)||(t.anamnese.diagnostico=o),e.Njj(o)}),e.EFF(33,"            "),e.k0s(),e.nrm(34,"abp-validation-summary",36),e.k0s()(),e.j41(35,"div",39)(36,"label",42),e.EFF(37),e.nI1(38,"localize"),e.k0s(),e.j41(39,"div",32)(40,"input",43,3),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.cuidador,o)||(t.anamnese.cuidador=o),e.Njj(o)}),e.k0s(),e.nrm(43,"abp-validation-summary",36),e.k0s()(),e.j41(44,"div",39)(45,"label",44),e.EFF(46),e.nI1(47,"localize"),e.k0s(),e.j41(48,"div",32)(49,"input",45,4),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.profissaoCuidador,o)||(t.anamnese.profissaoCuidador=o),e.Njj(o)}),e.k0s(),e.nrm(52,"abp-validation-summary",36),e.k0s()(),e.j41(53,"div",39)(54,"label",46),e.EFF(55),e.nI1(56,"localize"),e.k0s(),e.j41(57,"div",32)(58,"input",47,5),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.telefone,o)||(t.anamnese.telefone=o),e.Njj(o)}),e.k0s(),e.nrm(61,"abp-validation-summary",36),e.k0s()(),e.j41(62,"div",39)(63,"label",48),e.EFF(64),e.nI1(65,"localize"),e.k0s(),e.j41(66,"div",32)(67,"textarea",49,6),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.historicoPessoal,o)||(t.anamnese.historicoPessoal=o),e.Njj(o)}),e.EFF(70,"            "),e.k0s(),e.nrm(71,"abp-validation-summary",36),e.k0s()(),e.j41(72,"div",39)(73,"label",50),e.EFF(74),e.nI1(75,"localize"),e.k0s(),e.j41(76,"div",32)(77,"textarea",51,7),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.patologiaAssociada,o)||(t.anamnese.patologiaAssociada=o),e.Njj(o)}),e.EFF(80,"            "),e.k0s(),e.nrm(81,"abp-validation-summary",36),e.k0s()(),e.j41(82,"div",39)(83,"label",52),e.EFF(84),e.nI1(85,"localize"),e.k0s(),e.j41(86,"div",32)(87,"textarea",53,8),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.convulsoes,o)||(t.anamnese.convulsoes=o),e.Njj(o)}),e.EFF(90,"            "),e.k0s(),e.nrm(91,"abp-validation-summary",36),e.k0s()()(),e.j41(92,"details")(93,"summary"),e.EFF(94),e.nI1(95,"localize"),e.k0s(),e.j41(96,"div",39)(97,"div",54)(98,"label"),e.EFF(99),e.nI1(100,"localize"),e.k0s(),e.j41(101,"div")(102,"input",55,9),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.sentou,o)||(t.anamnese.sentou=o),e.Njj(o)}),e.k0s(),e.nrm(105,"abp-validation-summary",36),e.k0s()(),e.j41(106,"div",54)(107,"label"),e.EFF(108),e.nI1(109,"localize"),e.k0s(),e.j41(110,"div")(111,"input",56,10),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.engatinhou,o)||(t.anamnese.engatinhou=o),e.Njj(o)}),e.k0s(),e.nrm(114,"abp-validation-summary",36),e.k0s()(),e.j41(115,"div",54)(116,"label"),e.EFF(117),e.nI1(118,"localize"),e.k0s(),e.j41(119,"div")(120,"input",57,11),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.andou,o)||(t.anamnese.andou=o),e.Njj(o)}),e.k0s(),e.nrm(123,"abp-validation-summary",36),e.k0s()()(),e.j41(124,"div",39)(125,"label",58),e.EFF(126),e.nI1(127,"localize"),e.k0s(),e.j41(128,"div",32)(129,"textarea",59,12),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.estereotipiasMotoras,o)||(t.anamnese.estereotipiasMotoras=o),e.Njj(o)}),e.EFF(132,"            "),e.k0s(),e.nrm(133,"abp-validation-summary",36),e.k0s()()(),e.j41(134,"details")(135,"summary"),e.EFF(136),e.nI1(137,"localize"),e.k0s(),e.j41(138,"div",39)(139,"div",54)(140,"label"),e.EFF(141),e.nI1(142,"localize"),e.k0s(),e.j41(143,"div",60)(144,"label",54),e.EFF(145),e.nI1(146,"localize"),e.k0s(),e.j41(147,"div",54)(148,"input",61),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.solidos,o)||(t.solidos=o),e.Njj(o)}),e.k0s()(),e.j41(149,"label",54),e.EFF(150),e.nI1(151,"localize"),e.k0s(),e.j41(152,"div",54)(153,"input",62),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.solidos,o)||(t.solidos=o),e.Njj(o)}),e.k0s()()()(),e.j41(154,"div",54)(155,"label"),e.EFF(156),e.nI1(157,"localize"),e.k0s(),e.j41(158,"div",60)(159,"label",54),e.EFF(160),e.nI1(161,"localize"),e.k0s(),e.j41(162,"div",54)(163,"input",63),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.pastosos,o)||(t.pastosos=o),e.Njj(o)}),e.k0s()(),e.j41(164,"label",54),e.EFF(165),e.nI1(166,"localize"),e.k0s(),e.j41(167,"div",54)(168,"input",64),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.pastosos,o)||(t.pastosos=o),e.Njj(o)}),e.k0s()()()(),e.j41(169,"div",54)(170,"label"),e.EFF(171),e.nI1(172,"localize"),e.k0s(),e.j41(173,"div",60)(174,"label",54),e.EFF(175),e.nI1(176,"localize"),e.k0s(),e.j41(177,"div",54)(178,"input",65),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.liquidos,o)||(t.liquidos=o),e.Njj(o)}),e.k0s()(),e.j41(179,"label",54),e.EFF(180),e.nI1(181,"localize"),e.k0s(),e.j41(182,"div",54)(183,"input",66),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.liquidos,o)||(t.liquidos=o),e.Njj(o)}),e.k0s()()()()(),e.j41(184,"div",39)(185,"label",67),e.EFF(186),e.nI1(187,"localize"),e.k0s(),e.j41(188,"div",32)(189,"textarea",68,13),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.alergiasEIntolerancias,o)||(t.anamnese.alergiasEIntolerancias=o),e.Njj(o)}),e.EFF(192,"            "),e.k0s(),e.nrm(193,"abp-validation-summary",36),e.k0s()()(),e.j41(194,"details")(195,"summary"),e.EFF(196),e.nI1(197,"localize"),e.k0s(),e.j41(198,"div",39)(199,"label",69),e.EFF(200),e.nI1(201,"localize"),e.k0s(),e.j41(202,"div",32)(203,"textarea",70,14),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.alimentacao,o)||(t.anamnese.alimentacao=o),e.Njj(o)}),e.EFF(206,"            "),e.k0s(),e.nrm(207,"abp-validation-summary",36),e.k0s()(),e.j41(208,"div",39)(209,"label",71),e.EFF(210),e.nI1(211,"localize"),e.k0s(),e.j41(212,"div",32)(213,"textarea",72,15),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.banho,o)||(t.anamnese.banho=o),e.Njj(o)}),e.EFF(216,"            "),e.k0s(),e.nrm(217,"abp-validation-summary",36),e.k0s()(),e.j41(218,"div",39)(219,"label",73),e.EFF(220),e.nI1(221,"localize"),e.k0s(),e.j41(222,"div",32)(223,"textarea",74,16),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.vestuario,o)||(t.anamnese.vestuario=o),e.Njj(o)}),e.EFF(226,"            "),e.k0s(),e.nrm(227,"abp-validation-summary",36),e.k0s()(),e.j41(228,"div",39)(229,"label",75),e.EFF(230),e.nI1(231,"localize"),e.k0s(),e.j41(232,"div",32)(233,"textarea",76,17),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.cuidadosPessoais,o)||(t.anamnese.cuidadosPessoais=o),e.Njj(o)}),e.EFF(236,"            "),e.k0s(),e.nrm(237,"abp-validation-summary",36),e.k0s()(),e.j41(238,"div",39)(239,"label",77),e.EFF(240),e.nI1(241,"localize"),e.k0s(),e.j41(242,"div",32)(243,"textarea",78,18),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.sono,o)||(t.anamnese.sono=o),e.Njj(o)}),e.EFF(246,"            "),e.k0s(),e.nrm(247,"abp-validation-summary",36),e.k0s()(),e.j41(248,"div",39)(249,"label",79),e.EFF(250),e.nI1(251,"localize"),e.k0s(),e.j41(252,"div",32)(253,"textarea",80,19),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.esfincter,o)||(t.anamnese.esfincter=o),e.Njj(o)}),e.EFF(256,"            "),e.k0s(),e.nrm(257,"abp-validation-summary",36),e.k0s()()(),e.j41(258,"details")(259,"summary"),e.EFF(260),e.nI1(261,"localize"),e.k0s(),e.j41(262,"label",81),e.EFF(263),e.nI1(264,"localize"),e.k0s(),e.j41(265,"div",39)(266,"label",82),e.EFF(267),e.nI1(268,"localize"),e.k0s(),e.j41(269,"div",32)(270,"div",60)(271,"div",54)(272,"label"),e.EFF(273),e.nI1(274,"localize"),e.k0s()(),e.j41(275,"div",54)(276,"input",83),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.gestosElementares,o)||(t.gestosElementares=o),e.Njj(o)}),e.k0s()(),e.j41(277,"div",54)(278,"label"),e.EFF(279),e.nI1(280,"localize"),e.k0s()(),e.j41(281,"div",54)(282,"input",84),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.gestosElementares,o)||(t.gestosElementares=o),e.Njj(o)}),e.k0s()(),e.j41(283,"div",54)(284,"label"),e.EFF(285),e.nI1(286,"localize"),e.k0s()(),e.j41(287,"div",54)(288,"input",85),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.gestosElementares,o)||(t.gestosElementares=o),e.Njj(o)}),e.k0s()()()()(),e.j41(289,"div",39)(290,"label",86),e.EFF(291),e.nI1(292,"localize"),e.k0s(),e.j41(293,"div",32)(294,"div",60)(295,"div",54)(296,"label"),e.EFF(297),e.nI1(298,"localize"),e.k0s()(),e.j41(299,"div",54)(300,"input",87),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.naoSimbolicosConvencionais,o)||(t.naoSimbolicosConvencionais=o),e.Njj(o)}),e.k0s()(),e.j41(301,"div",54)(302,"label"),e.EFF(303),e.nI1(304,"localize"),e.k0s()(),e.j41(305,"div",54)(306,"input",88),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.naoSimbolicosConvencionais,o)||(t.naoSimbolicosConvencionais=o),e.Njj(o)}),e.k0s()(),e.j41(307,"div",54)(308,"label"),e.EFF(309),e.nI1(310,"localize"),e.k0s()(),e.j41(311,"div",54)(312,"input",89),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.naoSimbolicosConvencionais,o)||(t.naoSimbolicosConvencionais=o),e.Njj(o)}),e.k0s()()()()(),e.j41(313,"div",39)(314,"label",90),e.EFF(315),e.nI1(316,"localize"),e.k0s(),e.j41(317,"div",32)(318,"div",60)(319,"div",54)(320,"label"),e.EFF(321),e.nI1(322,"localize"),e.k0s()(),e.j41(323,"div",54)(324,"input",91),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.simbolicos,o)||(t.simbolicos=o),e.Njj(o)}),e.k0s()(),e.j41(325,"div",54)(326,"label"),e.EFF(327),e.nI1(328,"localize"),e.k0s()(),e.j41(329,"div",54)(330,"input",92),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.simbolicos,o)||(t.simbolicos=o),e.Njj(o)}),e.k0s()(),e.j41(331,"div",54)(332,"label"),e.EFF(333),e.nI1(334,"localize"),e.k0s()(),e.j41(335,"div",54)(336,"input",93),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.simbolicos,o)||(t.simbolicos=o),e.Njj(o)}),e.k0s()()()()(),e.j41(337,"label",81),e.EFF(338),e.nI1(339,"localize"),e.k0s(),e.j41(340,"div",39)(341,"label",94),e.EFF(342),e.nI1(343,"localize"),e.k0s(),e.j41(344,"div",32)(345,"div",60)(346,"div",54)(347,"label"),e.EFF(348),e.nI1(349,"localize"),e.k0s()(),e.j41(350,"div",54)(351,"input",95),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.verbal,o)||(t.verbal=o),e.Njj(o)}),e.k0s()(),e.j41(352,"div",54)(353,"label"),e.EFF(354),e.nI1(355,"localize"),e.k0s()(),e.j41(356,"div",54)(357,"input",96),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.verbal,o)||(t.verbal=o),e.Njj(o)}),e.k0s()(),e.j41(358,"div",54)(359,"label"),e.EFF(360),e.nI1(361,"localize"),e.k0s()(),e.j41(362,"div",54)(363,"input",97),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.verbal,o)||(t.verbal=o),e.Njj(o)}),e.k0s()()()()(),e.j41(364,"div",39)(365,"label",98),e.EFF(366),e.nI1(367,"localize"),e.k0s(),e.j41(368,"div",32)(369,"div",60)(370,"div",54)(371,"label"),e.EFF(372),e.nI1(373,"localize"),e.k0s()(),e.j41(374,"div",54)(375,"input",99),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.balbucio,o)||(t.balbucio=o),e.Njj(o)}),e.k0s()(),e.j41(376,"div",54)(377,"label"),e.EFF(378),e.nI1(379,"localize"),e.k0s()(),e.j41(380,"div",54)(381,"input",100),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.balbucio,o)||(t.balbucio=o),e.Njj(o)}),e.k0s()(),e.j41(382,"div",54)(383,"label"),e.EFF(384),e.nI1(385,"localize"),e.k0s()(),e.j41(386,"div",54)(387,"input",101),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.balbucio,o)||(t.balbucio=o),e.Njj(o)}),e.k0s()()()()(),e.j41(388,"div",39)(389,"label",102),e.EFF(390),e.nI1(391,"localize"),e.k0s(),e.j41(392,"div",32)(393,"div",60)(394,"div",54)(395,"label"),e.EFF(396),e.nI1(397,"localize"),e.k0s()(),e.j41(398,"div",54)(399,"input",103),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.palavrasIsoladas,o)||(t.palavrasIsoladas=o),e.Njj(o)}),e.k0s()(),e.j41(400,"div",54)(401,"label"),e.EFF(402),e.nI1(403,"localize"),e.k0s()(),e.j41(404,"div",54)(405,"input",104),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.palavrasIsoladas,o)||(t.palavrasIsoladas=o),e.Njj(o)}),e.k0s()(),e.j41(406,"div",54)(407,"label"),e.EFF(408),e.nI1(409,"localize"),e.k0s()(),e.j41(410,"div",54)(411,"input",105),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.palavrasIsoladas,o)||(t.palavrasIsoladas=o),e.Njj(o)}),e.k0s()()()()(),e.j41(412,"div",39),e.nrm(413,"label",106),e.j41(414,"div",32)(415,"textarea",107,20),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.palavrasIsoladasDesc,o)||(t.anamnese.palavrasIsoladasDesc=o),e.Njj(o)}),e.EFF(418,"            "),e.k0s(),e.nrm(419,"abp-validation-summary",36),e.k0s()(),e.j41(420,"div",39)(421,"label",108),e.EFF(422),e.nI1(423,"localize"),e.k0s(),e.j41(424,"div",32)(425,"div",60)(426,"div",54)(427,"label"),e.EFF(428),e.nI1(429,"localize"),e.k0s()(),e.j41(430,"div",54)(431,"input",109),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.enunciadoDuasPalavras,o)||(t.enunciadoDuasPalavras=o),e.Njj(o)}),e.k0s()(),e.j41(432,"div",54)(433,"label"),e.EFF(434),e.nI1(435,"localize"),e.k0s()(),e.j41(436,"div",54)(437,"input",110),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.enunciadoDuasPalavras,o)||(t.enunciadoDuasPalavras=o),e.Njj(o)}),e.k0s()(),e.j41(438,"div",54)(439,"label"),e.EFF(440),e.nI1(441,"localize"),e.k0s()(),e.j41(442,"div",54)(443,"input",111),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.enunciadoDuasPalavras,o)||(t.enunciadoDuasPalavras=o),e.Njj(o)}),e.k0s()()()()(),e.j41(444,"div",39)(445,"label",112),e.EFF(446),e.nI1(447,"localize"),e.k0s(),e.j41(448,"div",32)(449,"div",60)(450,"div",54)(451,"label"),e.EFF(452),e.nI1(453,"localize"),e.k0s()(),e.j41(454,"div",54)(455,"input",113),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.frases,o)||(t.frases=o),e.Njj(o)}),e.k0s()(),e.j41(456,"div",54)(457,"label"),e.EFF(458),e.nI1(459,"localize"),e.k0s()(),e.j41(460,"div",54)(461,"input",114),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.frases,o)||(t.frases=o),e.Njj(o)}),e.k0s()(),e.j41(462,"div",54)(463,"label"),e.EFF(464),e.nI1(465,"localize"),e.k0s()(),e.j41(466,"div",54)(467,"input",115),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.frases,o)||(t.frases=o),e.Njj(o)}),e.k0s()()()()(),e.j41(468,"div",39)(469,"label",116),e.EFF(470),e.nI1(471,"localize"),e.k0s(),e.j41(472,"div",32)(473,"div",60)(474,"div",54)(475,"label"),e.EFF(476),e.nI1(477,"localize"),e.k0s()(),e.j41(478,"div",54)(479,"input",117),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.estereotipiasVocais,o)||(t.estereotipiasVocais=o),e.Njj(o)}),e.k0s()(),e.j41(480,"div",54)(481,"label"),e.EFF(482),e.nI1(483,"localize"),e.k0s()(),e.j41(484,"div",54)(485,"input",118),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.estereotipiasVocais,o)||(t.estereotipiasVocais=o),e.Njj(o)}),e.k0s()(),e.j41(486,"div",54)(487,"label"),e.EFF(488),e.nI1(489,"localize"),e.k0s()(),e.j41(490,"div",54)(491,"input",119),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.estereotipiasVocais,o)||(t.estereotipiasVocais=o),e.Njj(o)}),e.k0s()()()()(),e.j41(492,"div",39),e.nrm(493,"label",120),e.j41(494,"div",32)(495,"textarea",121,21),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.estereotipiasVocaisDesc,o)||(t.anamnese.estereotipiasVocaisDesc=o),e.Njj(o)}),e.EFF(498,"            "),e.k0s(),e.nrm(499,"abp-validation-summary",36),e.k0s()()(),e.j41(500,"details")(501,"summary"),e.EFF(502),e.nI1(503,"localize"),e.k0s(),e.j41(504,"div",39)(505,"label",122),e.EFF(506),e.nI1(507,"localize"),e.k0s(),e.j41(508,"div",32)(509,"div",60)(510,"div",54)(511,"label"),e.EFF(512),e.nI1(513,"localize"),e.k0s()(),e.j41(514,"div",54)(515,"input",123),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.faltaExpressaoFacialAdequada,o)||(t.faltaExpressaoFacialAdequada=o),e.Njj(o)}),e.k0s()(),e.j41(516,"div",54)(517,"label"),e.EFF(518),e.nI1(519,"localize"),e.k0s()(),e.j41(520,"div",54)(521,"input",124),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.faltaExpressaoFacialAdequada,o)||(t.faltaExpressaoFacialAdequada=o),e.Njj(o)}),e.k0s()(),e.j41(522,"div",54)(523,"label"),e.EFF(524),e.nI1(525,"localize"),e.k0s()(),e.j41(526,"div",54)(527,"input",125),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.faltaExpressaoFacialAdequada,o)||(t.faltaExpressaoFacialAdequada=o),e.Njj(o)}),e.k0s()()()()(),e.j41(528,"div",39)(529,"label",126),e.EFF(530),e.nI1(531,"localize"),e.k0s(),e.j41(532,"div",32)(533,"div",60)(534,"div",54)(535,"label"),e.EFF(536),e.nI1(537,"localize"),e.k0s()(),e.j41(538,"div",54)(539,"input",127),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.atencaoDiminuida,o)||(t.atencaoDiminuida=o),e.Njj(o)}),e.k0s()(),e.j41(540,"div",54)(541,"label"),e.EFF(542),e.nI1(543,"localize"),e.k0s()(),e.j41(544,"div",54)(545,"input",128),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.atencaoDiminuida,o)||(t.atencaoDiminuida=o),e.Njj(o)}),e.k0s()(),e.j41(546,"div",54)(547,"label"),e.EFF(548),e.nI1(549,"localize"),e.k0s()(),e.j41(550,"div",54)(551,"input",129),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.atencaoDiminuida,o)||(t.atencaoDiminuida=o),e.Njj(o)}),e.k0s()()()()(),e.j41(552,"div",39)(553,"label",130),e.EFF(554),e.nI1(555,"localize"),e.k0s(),e.j41(556,"div",32)(557,"div",60)(558,"div",54)(559,"label"),e.EFF(560),e.nI1(561,"localize"),e.k0s()(),e.j41(562,"div",54)(563,"input",131),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.preferenciaAoIsolamento,o)||(t.preferenciaAoIsolamento=o),e.Njj(o)}),e.k0s()(),e.j41(564,"div",54)(565,"label"),e.EFF(566),e.nI1(567,"localize"),e.k0s()(),e.j41(568,"div",54)(569,"input",132),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.preferenciaAoIsolamento,o)||(t.preferenciaAoIsolamento=o),e.Njj(o)}),e.k0s()(),e.j41(570,"div",54)(571,"label"),e.EFF(572),e.nI1(573,"localize"),e.k0s()(),e.j41(574,"div",54)(575,"input",133),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.preferenciaAoIsolamento,o)||(t.preferenciaAoIsolamento=o),e.Njj(o)}),e.k0s()()()()(),e.j41(576,"div",39)(577,"label",134),e.EFF(578),e.nI1(579,"localize"),e.k0s(),e.j41(580,"div",32)(581,"div",60)(582,"div",54)(583,"label"),e.EFF(584),e.nI1(585,"localize"),e.k0s()(),e.j41(586,"div",54)(587,"input",135),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.ageComoSurdo,o)||(t.ageComoSurdo=o),e.Njj(o)}),e.k0s()(),e.j41(588,"div",54)(589,"label"),e.EFF(590),e.nI1(591,"localize"),e.k0s()(),e.j41(592,"div",54)(593,"input",136),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.ageComoSurdo,o)||(t.ageComoSurdo=o),e.Njj(o)}),e.k0s()(),e.j41(594,"div",54)(595,"label"),e.EFF(596),e.nI1(597,"localize"),e.k0s()(),e.j41(598,"div",54)(599,"input",137),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.ageComoSurdo,o)||(t.ageComoSurdo=o),e.Njj(o)}),e.k0s()()()()(),e.j41(600,"div",39)(601,"label",138),e.EFF(602),e.nI1(603,"localize"),e.k0s(),e.j41(604,"div",32)(605,"div",60)(606,"div",54)(607,"label"),e.EFF(608),e.nI1(609,"localize"),e.k0s()(),e.j41(610,"div",54)(611,"input",139),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.olhaQuemLheFala,o)||(t.olhaQuemLheFala=o),e.Njj(o)}),e.k0s()(),e.j41(612,"div",54)(613,"label"),e.EFF(614),e.nI1(615,"localize"),e.k0s()(),e.j41(616,"div",54)(617,"input",140),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.olhaQuemLheFala,o)||(t.olhaQuemLheFala=o),e.Njj(o)}),e.k0s()(),e.j41(618,"div",54)(619,"label"),e.EFF(620),e.nI1(621,"localize"),e.k0s()(),e.j41(622,"div",54)(623,"input",141),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.olhaQuemLheFala,o)||(t.olhaQuemLheFala=o),e.Njj(o)}),e.k0s()()()()(),e.j41(624,"div",39)(625,"label",142),e.EFF(626),e.nI1(627,"localize"),e.k0s(),e.j41(628,"div",32)(629,"div",60)(630,"div",54)(631,"label"),e.EFF(632),e.nI1(633,"localize"),e.k0s()(),e.j41(634,"div",54)(635,"input",143),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.olhaChamadoNome,o)||(t.olhaChamadoNome=o),e.Njj(o)}),e.k0s()(),e.j41(636,"div",54)(637,"label"),e.EFF(638),e.nI1(639,"localize"),e.k0s()(),e.j41(640,"div",54)(641,"input",144),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.olhaChamadoNome,o)||(t.olhaChamadoNome=o),e.Njj(o)}),e.k0s()(),e.j41(642,"div",54)(643,"label"),e.EFF(644),e.nI1(645,"localize"),e.k0s()(),e.j41(646,"div",54)(647,"input",145),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.olhaChamadoNome,o)||(t.olhaChamadoNome=o),e.Njj(o)}),e.k0s()()()()(),e.j41(648,"div",39)(649,"label",146),e.EFF(650),e.nI1(651,"localize"),e.k0s(),e.j41(652,"div",32)(653,"div",60)(654,"div",54)(655,"label"),e.EFF(656),e.nI1(657,"localize"),e.k0s()(),e.j41(658,"div",54)(659,"input",147),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.pedeItensInteresse,o)||(t.pedeItensInteresse=o),e.Njj(o)}),e.k0s()(),e.j41(660,"div",54)(661,"label"),e.EFF(662),e.nI1(663,"localize"),e.k0s()(),e.j41(664,"div",54)(665,"input",148),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.pedeItensInteresse,o)||(t.pedeItensInteresse=o),e.Njj(o)}),e.k0s()(),e.j41(666,"div",54)(667,"label"),e.EFF(668),e.nI1(669,"localize"),e.k0s()(),e.j41(670,"div",54)(671,"input",149),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.pedeItensInteresse,o)||(t.pedeItensInteresse=o),e.Njj(o)}),e.k0s()()()()(),e.j41(672,"div",39)(673,"label",150),e.EFF(674),e.nI1(675,"localize"),e.k0s(),e.j41(676,"div",32)(677,"div",60)(678,"div",54)(679,"label"),e.EFF(680),e.nI1(681,"localize"),e.k0s()(),e.j41(682,"div",54)(683,"input",151),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.imitacao,o)||(t.imitacao=o),e.Njj(o)}),e.k0s()(),e.j41(684,"div",54)(685,"label"),e.EFF(686),e.nI1(687,"localize"),e.k0s()(),e.j41(688,"div",54)(689,"input",152),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.imitacao,o)||(t.imitacao=o),e.Njj(o)}),e.k0s()(),e.j41(690,"div",54)(691,"label"),e.EFF(692),e.nI1(693,"localize"),e.k0s()(),e.j41(694,"div",54)(695,"input",153),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.imitacao,o)||(t.imitacao=o),e.Njj(o)}),e.k0s()()()()(),e.j41(696,"div",39)(697,"label",154),e.EFF(698),e.nI1(699,"localize"),e.k0s(),e.j41(700,"div",32)(701,"div",60)(702,"div",54)(703,"label"),e.EFF(704),e.nI1(705,"localize"),e.k0s()(),e.j41(706,"div",54)(707,"input",155),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.brincaAdequadoBrinquedo,o)||(t.brincaAdequadoBrinquedo=o),e.Njj(o)}),e.k0s()(),e.j41(708,"div",54)(709,"label"),e.EFF(710),e.nI1(711,"localize"),e.k0s()(),e.j41(712,"div",54)(713,"input",156),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.brincaAdequadoBrinquedo,o)||(t.brincaAdequadoBrinquedo=o),e.Njj(o)}),e.k0s()(),e.j41(714,"div",54)(715,"label"),e.EFF(716),e.nI1(717,"localize"),e.k0s()(),e.j41(718,"div",54)(719,"input",157),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.brincaAdequadoBrinquedo,o)||(t.brincaAdequadoBrinquedo=o),e.Njj(o)}),e.k0s()()()()(),e.j41(720,"div",39)(721,"label",158),e.EFF(722),e.nI1(723,"localize"),e.k0s(),e.j41(724,"div",32)(725,"textarea",159,22),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.preferenciaObjetosEspecificos,o)||(t.anamnese.preferenciaObjetosEspecificos=o),e.Njj(o)}),e.EFF(728,"            "),e.k0s(),e.nrm(729,"abp-validation-summary",36),e.k0s()(),e.j41(730,"div",39)(731,"label",160),e.EFF(732),e.nI1(733,"localize"),e.k0s(),e.j41(734,"div",32)(735,"textarea",161,23),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.aversoes,o)||(t.anamnese.aversoes=o),e.Njj(o)}),e.EFF(738,"            "),e.k0s(),e.nrm(739,"abp-validation-summary",36),e.k0s()(),e.j41(740,"div",39)(741,"div",54)(742,"label"),e.EFF(743),e.nI1(744,"localize"),e.k0s(),e.j41(745,"div",60)(746,"label",54),e.EFF(747),e.nI1(748,"localize"),e.k0s(),e.j41(749,"div",54)(750,"input",162),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.autoEstimulacao,o)||(t.autoEstimulacao=o),e.Njj(o)}),e.k0s()(),e.j41(751,"label",54),e.EFF(752),e.nI1(753,"localize"),e.k0s(),e.j41(754,"div",54)(755,"input",163),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.autoEstimulacao,o)||(t.autoEstimulacao=o),e.Njj(o)}),e.k0s()()()()(),e.j41(756,"div",39)(757,"div",54)(758,"label"),e.EFF(759),e.nI1(760,"localize"),e.k0s(),e.j41(761,"div",60)(762,"label",54),e.EFF(763),e.nI1(764,"localize"),e.k0s(),e.j41(765,"div",54)(766,"input",164),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.autoOuHeteroAgressao,o)||(t.autoOuHeteroAgressao=o),e.Njj(o)}),e.k0s()(),e.j41(767,"label",54),e.EFF(768),e.nI1(769,"localize"),e.k0s(),e.j41(770,"div",54)(771,"input",165),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.autoOuHeteroAgressao,o)||(t.autoOuHeteroAgressao=o),e.Njj(o)}),e.k0s()()()()(),e.j41(772,"div",39)(773,"div",54)(774,"label"),e.EFF(775),e.nI1(776,"localize"),e.k0s(),e.j41(777,"div",60)(778,"label",54),e.EFF(779),e.nI1(780,"localize"),e.k0s(),e.j41(781,"div",54)(782,"input",166),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.birrasIrritabilidade,o)||(t.birrasIrritabilidade=o),e.Njj(o)}),e.k0s()(),e.j41(783,"label",54),e.EFF(784),e.nI1(785,"localize"),e.k0s(),e.j41(786,"div",54)(787,"input",167),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.birrasIrritabilidade,o)||(t.birrasIrritabilidade=o),e.Njj(o)}),e.k0s()()()()(),e.j41(788,"div",39)(789,"div",54)(790,"label"),e.EFF(791),e.nI1(792,"localize"),e.k0s(),e.j41(793,"div",60)(794,"label",54),e.EFF(795),e.nI1(796,"localize"),e.k0s(),e.j41(797,"div",54)(798,"input",168),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.maniasRituais,o)||(t.maniasRituais=o),e.Njj(o)}),e.k0s()(),e.j41(799,"label",54),e.EFF(800),e.nI1(801,"localize"),e.k0s(),e.j41(802,"div",54)(803,"input",169),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.maniasRituais,o)||(t.maniasRituais=o),e.Njj(o)}),e.k0s()()()()()(),e.j41(804,"details")(805,"summary"),e.EFF(806),e.nI1(807,"localize"),e.k0s(),e.j41(808,"div",39)(809,"div",54)(810,"label"),e.EFF(811),e.nI1(812,"localize"),e.k0s(),e.j41(813,"div",60)(814,"label",54),e.EFF(815),e.nI1(816,"localize"),e.k0s(),e.j41(817,"div",54)(818,"input",170),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.estuda,o)||(t.estuda=o),e.Njj(o)}),e.k0s()(),e.j41(819,"label",54),e.EFF(820),e.nI1(821,"localize"),e.k0s(),e.j41(822,"div",54)(823,"input",171),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.estuda,o)||(t.estuda=o),e.Njj(o)}),e.k0s()()()()(),e.j41(824,"div",39)(825,"label",172),e.EFF(826),e.nI1(827,"localize"),e.k0s(),e.j41(828,"div",32)(829,"input",173,24),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.nomeEscola,o)||(t.anamnese.nomeEscola=o),e.Njj(o)}),e.k0s(),e.nrm(832,"abp-validation-summary",36),e.k0s()(),e.j41(833,"div",39)(834,"label",174),e.EFF(835),e.nI1(836,"localize"),e.k0s(),e.j41(837,"div",32)(838,"input",175,25),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.serie,o)||(t.anamnese.serie=o),e.Njj(o)}),e.k0s(),e.nrm(841,"abp-validation-summary",36),e.k0s()(),e.j41(842,"div",39)(843,"div",54)(844,"label"),e.EFF(845),e.nI1(846,"localize"),e.k0s(),e.j41(847,"div",60)(848,"label",54),e.EFF(849),e.nI1(850,"localize"),e.k0s(),e.j41(851,"div",54)(852,"input",176),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.escolaRegular,o)||(t.escolaRegular=o),e.Njj(o)}),e.k0s()(),e.j41(853,"label",54),e.EFF(854),e.nI1(855,"localize"),e.k0s(),e.j41(856,"div",54)(857,"input",177),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.escolaRegular,o)||(t.escolaRegular=o),e.Njj(o)}),e.k0s()()()()(),e.j41(858,"div",39)(859,"div",54)(860,"label"),e.EFF(861),e.nI1(862,"localize"),e.k0s(),e.j41(863,"div",60)(864,"label",54),e.EFF(865),e.nI1(866,"localize"),e.k0s(),e.j41(867,"div",54)(868,"input",178),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.professorApoio,o)||(t.professorApoio=o),e.Njj(o)}),e.k0s()(),e.j41(869,"label",54),e.EFF(870),e.nI1(871,"localize"),e.k0s(),e.j41(872,"div",54)(873,"input",179),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.professorApoio,o)||(t.professorApoio=o),e.Njj(o)}),e.k0s()()()()()(),e.j41(874,"details")(875,"summary"),e.EFF(876),e.nI1(877,"localize"),e.k0s(),e.j41(878,"div",39)(879,"div",54)(880,"label"),e.EFF(881),e.nI1(882,"localize"),e.k0s(),e.j41(883,"div",60)(884,"label",54),e.EFF(885),e.nI1(886,"localize"),e.k0s(),e.j41(887,"div",54)(888,"input",180),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.outroCasoFamilia,o)||(t.outroCasoFamilia=o),e.Njj(o)}),e.k0s()(),e.j41(889,"label",54),e.EFF(890),e.nI1(891,"localize"),e.k0s(),e.j41(892,"div",54)(893,"input",181),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.outroCasoFamilia,o)||(t.outroCasoFamilia=o),e.Njj(o)}),e.k0s()()()()(),e.j41(894,"div",39)(895,"label",182),e.EFF(896),e.nI1(897,"localize"),e.k0s(),e.j41(898,"div",32)(899,"textarea",183,26),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.outrosCasosDesc,o)||(t.anamnese.outrosCasosDesc=o),e.Njj(o)}),e.EFF(902,"            "),e.k0s(),e.nrm(903,"abp-validation-summary",36),e.k0s()(),e.j41(904,"div",39)(905,"label",184),e.EFF(906),e.nI1(907,"localize"),e.k0s(),e.j41(908,"div",32)(909,"textarea",185,27),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.terapias,o)||(t.anamnese.terapias=o),e.Njj(o)}),e.EFF(912,"            "),e.k0s(),e.nrm(913,"abp-validation-summary",36),e.k0s()(),e.j41(914,"div",39)(915,"label",186),e.EFF(916),e.nI1(917,"localize"),e.k0s(),e.j41(918,"div",32)(919,"textarea",187,28),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.anamnese.expectativasFamilia,o)||(t.anamnese.expectativasFamilia=o),e.Njj(o)}),e.EFF(922,"            "),e.k0s(),e.nrm(923,"abp-validation-summary",36),e.k0s()()()()}if(2&a){let n;const i=e.sdS(7),o=e.sdS(8),t=e.sdS(18),s=e.sdS(19),r=e.sdS(31),m=e.sdS(32),f=e.sdS(41),v=e.sdS(42),C=e.sdS(50),S=e.sdS(51),$=e.sdS(59),P=e.sdS(60),N=e.sdS(68),B=e.sdS(69),z=e.sdS(78),U=e.sdS(79),pe=e.sdS(88),he=e.sdS(89),ge=e.sdS(103),fe=e.sdS(104),be=e.sdS(112),_e=e.sdS(113),ve=e.sdS(121),Ce=e.sdS(122),Ie=e.sdS(130),Fe=e.sdS(131),ke=e.sdS(190),Td=e.sdS(191),Dd=e.sdS(204),Ad=e.sdS(205),yd=e.sdS(214),Gd=e.sdS(215),$d=e.sdS(224),Pd=e.sdS(225),wd=e.sdS(234),Nd=e.sdS(235),Vd=e.sdS(244),Bd=e.sdS(245),zd=e.sdS(254),Yd=e.sdS(255),Ud=e.sdS(416),Xd=e.sdS(417),qd=e.sdS(496),Hd=e.sdS(497),xd=e.sdS(726),Od=e.sdS(727),Jd=e.sdS(736),Ld=e.sdS(737),Zd=e.sdS(830),Qd=e.sdS(831),Wd=e.sdS(839),Kd=e.sdS(840),ec=e.sdS(900),oc=e.sdS(901),nc=e.sdS(910),ic=e.sdS(911),tc=e.sdS(920),ac=e.sdS(921),u=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,411,"Avaliador")," "),e.R7$(3),e.Y8G("disabled",u.disabled||!u.isNovo),e.R50("ngModel",u.avaliadorId),e.R7$(4),e.Y8G("ngForOf",null!==(n=u.avaliadores)&&void 0!==n?n:e.lJ4(695,vd)),e.R7$(),e.Y8G("control",i)("controlEl",o),e.R7$(3),e.SpI(" ",e.bMT(15,413,"Data")," "),e.R7$(3),e.Y8G("disabled",u.disabled||!u.isNovo),e.R50("ngModel",u.data),e.R7$(3),e.Y8G("control",t)("controlEl",s),e.R7$(3),e.JRh(e.bMT(24,415,"Hist\xf3rico Pessoal")),e.R7$(4),e.SpI(" ",e.bMT(28,417,"Diagn\xf3stico")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.diagnostico),e.R7$(4),e.Y8G("control",r)("controlEl",m),e.R7$(3),e.SpI(" ",e.bMT(38,419,"Cuidador")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.cuidador),e.R7$(3),e.Y8G("control",f)("controlEl",v),e.R7$(3),e.SpI(" ",e.bMT(47,421,"Descri\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.profissaoCuidador),e.R7$(3),e.Y8G("control",C)("controlEl",S),e.R7$(3),e.SpI(" ",e.bMT(56,423,"Telefone")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.telefone),e.R7$(3),e.Y8G("control",$)("controlEl",P),e.R7$(3),e.SpI(" ",e.bMT(65,425,"Hist\xf3rico Pessoal")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.historicoPessoal),e.R7$(4),e.Y8G("control",N)("controlEl",B),e.R7$(3),e.SpI(" ",e.bMT(75,427,"Patologia Associada")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.patologiaAssociada),e.R7$(4),e.Y8G("control",z)("controlEl",U),e.R7$(3),e.SpI(" ",e.bMT(85,429,"Convuls\xf5es")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.convulsoes),e.R7$(4),e.Y8G("control",pe)("controlEl",he),e.R7$(3),e.JRh(e.bMT(95,431,"Desenvolvimento Motor")),e.R7$(5),e.JRh(e.bMT(100,433,"Sentou")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.sentou),e.R7$(3),e.Y8G("control",ge)("controlEl",fe),e.R7$(3),e.JRh(e.bMT(109,435,"Engatinhou")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.engatinhou),e.R7$(3),e.Y8G("control",be)("controlEl",_e),e.R7$(3),e.JRh(e.bMT(118,437,"Andou")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.andou),e.R7$(3),e.Y8G("control",ve)("controlEl",Ce),e.R7$(3),e.SpI(" ",e.bMT(127,439,"Estereotipias Motoras")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.estereotipiasMotoras),e.R7$(4),e.Y8G("control",Ie)("controlEl",Fe),e.R7$(3),e.JRh(e.bMT(137,441,"Alimenta\xe7\xe3o")),e.R7$(5),e.JRh(e.bMT(142,443,"S\xf3lidos")),e.R7$(4),e.JRh(e.bMT(146,445,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.solidos),e.R7$(2),e.JRh(e.bMT(151,447,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.solidos),e.R7$(3),e.JRh(e.bMT(157,449,"Pastosos")),e.R7$(4),e.JRh(e.bMT(161,451,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.pastosos),e.R7$(2),e.JRh(e.bMT(166,453,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.pastosos),e.R7$(3),e.JRh(e.bMT(172,455,"L\xedquidos")),e.R7$(4),e.JRh(e.bMT(176,457,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.liquidos),e.R7$(2),e.JRh(e.bMT(181,459,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.liquidos),e.R7$(3),e.SpI(" ",e.bMT(187,461,"Alergias e Intoler\xe2ncias")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.alergiasEIntolerancias),e.R7$(4),e.Y8G("control",ke)("controlEl",Td),e.R7$(3),e.JRh(e.bMT(197,463,"AVD")),e.R7$(4),e.SpI(" ",e.bMT(201,465,"Alimenta\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.alimentacao),e.R7$(4),e.Y8G("control",Dd)("controlEl",Ad),e.R7$(3),e.SpI(" ",e.bMT(211,467,"Banho")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.banho),e.R7$(4),e.Y8G("control",yd)("controlEl",Gd),e.R7$(3),e.SpI(" ",e.bMT(221,469,"Vestu\xe1rio")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.vestuario),e.R7$(4),e.Y8G("control",$d)("controlEl",Pd),e.R7$(3),e.SpI(" ",e.bMT(231,471,"Cuidados Pessoais")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.cuidadosPessoais),e.R7$(4),e.Y8G("control",wd)("controlEl",Nd),e.R7$(3),e.SpI(" ",e.bMT(241,473,"Sono")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.sono),e.R7$(4),e.Y8G("control",Vd)("controlEl",Bd),e.R7$(3),e.SpI(" ",e.bMT(251,475,"Esf\xedncter")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.esfincter),e.R7$(4),e.Y8G("control",zd)("controlEl",Yd),e.R7$(3),e.JRh(e.bMT(261,477,"Desenvolvimento da Linguagem")),e.R7$(3),e.JRh(e.bMT(264,479,"N\xe3o Verbal (Gestos)")),e.R7$(4),e.SpI(" ",e.bMT(268,481,"Gestos Elementares")," "),e.R7$(6),e.JRh(e.bMT(274,483,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.gestosElementares),e.R7$(3),e.JRh(e.bMT(280,485,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.gestosElementares),e.R7$(3),e.JRh(e.bMT(286,487,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.gestosElementares),e.R7$(3),e.SpI(" ",e.bMT(292,489,"N\xe3o Simb\xf3licos Convencionais")," "),e.R7$(6),e.JRh(e.bMT(298,491,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.naoSimbolicosConvencionais),e.R7$(3),e.JRh(e.bMT(304,493,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.naoSimbolicosConvencionais),e.R7$(3),e.JRh(e.bMT(310,495,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.naoSimbolicosConvencionais),e.R7$(3),e.SpI(" ",e.bMT(316,497,"Simb\xf3licos")," "),e.R7$(6),e.JRh(e.bMT(322,499,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.simbolicos),e.R7$(3),e.JRh(e.bMT(328,501,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.simbolicos),e.R7$(3),e.JRh(e.bMT(334,503,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.simbolicos),e.R7$(2),e.JRh(e.bMT(339,505,"Verbal")),e.R7$(4),e.SpI(" ",e.bMT(343,507,"Verbal")," "),e.R7$(6),e.JRh(e.bMT(349,509,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.verbal),e.R7$(3),e.JRh(e.bMT(355,511,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.verbal),e.R7$(3),e.JRh(e.bMT(361,513,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.verbal),e.R7$(3),e.SpI(" ",e.bMT(367,515,"Balbucio")," "),e.R7$(6),e.JRh(e.bMT(373,517,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.balbucio),e.R7$(3),e.JRh(e.bMT(379,519,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.balbucio),e.R7$(3),e.JRh(e.bMT(385,521,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.balbucio),e.R7$(3),e.SpI(" ",e.bMT(391,523,"Palavras Isoladas")," "),e.R7$(6),e.JRh(e.bMT(397,525,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.palavrasIsoladas),e.R7$(3),e.JRh(e.bMT(403,527,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.palavrasIsoladas),e.R7$(3),e.JRh(e.bMT(409,529,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.palavrasIsoladas),e.R7$(4),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.palavrasIsoladasDesc),e.R7$(4),e.Y8G("control",Ud)("controlEl",Xd),e.R7$(3),e.SpI(" ",e.bMT(423,531,"Enunciado de duas palavras")," "),e.R7$(6),e.JRh(e.bMT(429,533,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.enunciadoDuasPalavras),e.R7$(3),e.JRh(e.bMT(435,535,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.enunciadoDuasPalavras),e.R7$(3),e.JRh(e.bMT(441,537,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.enunciadoDuasPalavras),e.R7$(3),e.SpI(" ",e.bMT(447,539,"Frases")," "),e.R7$(6),e.JRh(e.bMT(453,541,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.frases),e.R7$(3),e.JRh(e.bMT(459,543,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.frases),e.R7$(3),e.JRh(e.bMT(465,545,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.frases),e.R7$(3),e.SpI(" ",e.bMT(471,547,"Palavras Isoladas")," "),e.R7$(6),e.JRh(e.bMT(477,549,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.estereotipiasVocais),e.R7$(3),e.JRh(e.bMT(483,551,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.estereotipiasVocais),e.R7$(3),e.JRh(e.bMT(489,553,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.estereotipiasVocais),e.R7$(4),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.estereotipiasVocaisDesc),e.R7$(4),e.Y8G("control",qd)("controlEl",Hd),e.R7$(3),e.JRh(e.bMT(503,555,"Intera\xe7\xe3o Social")),e.R7$(4),e.SpI(" ",e.bMT(507,557,"Falta express\xe3o facial adequada?")," "),e.R7$(6),e.JRh(e.bMT(513,559,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.faltaExpressaoFacialAdequada),e.R7$(3),e.JRh(e.bMT(519,561,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.faltaExpressaoFacialAdequada),e.R7$(3),e.JRh(e.bMT(525,563,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.faltaExpressaoFacialAdequada),e.R7$(3),e.SpI(" ",e.bMT(531,565,"Apresenta aten\xe7\xe3o diminu\xedda?")," "),e.R7$(6),e.JRh(e.bMT(537,567,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.atencaoDiminuida),e.R7$(3),e.JRh(e.bMT(543,569,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.atencaoDiminuida),e.R7$(3),e.JRh(e.bMT(549,571,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.atencaoDiminuida),e.R7$(3),e.SpI(" ",e.bMT(555,573,"Apresenta prefer\xeancia ao isolamento?")," "),e.R7$(6),e.JRh(e.bMT(561,575,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.preferenciaAoIsolamento),e.R7$(3),e.JRh(e.bMT(567,577,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.preferenciaAoIsolamento),e.R7$(3),e.JRh(e.bMT(573,579,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.preferenciaAoIsolamento),e.R7$(3),e.SpI(" ",e.bMT(579,581,"Age como se fosse surdo?")," "),e.R7$(6),e.JRh(e.bMT(585,583,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.ageComoSurdo),e.R7$(3),e.JRh(e.bMT(591,585,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.ageComoSurdo),e.R7$(3),e.JRh(e.bMT(597,587,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.ageComoSurdo),e.R7$(3),e.SpI(" ",e.bMT(603,589,"Olha para algu\xe9m que lhe fala?")," "),e.R7$(6),e.JRh(e.bMT(609,591,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.olhaQuemLheFala),e.R7$(3),e.JRh(e.bMT(615,593,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.olhaQuemLheFala),e.R7$(3),e.JRh(e.bMT(621,595,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.olhaQuemLheFala),e.R7$(3),e.SpI(" ",e.bMT(627,597,"Olha quando chamado pelo nome?")," "),e.R7$(6),e.JRh(e.bMT(633,599,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.olhaChamadoNome),e.R7$(3),e.JRh(e.bMT(639,601,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.olhaChamadoNome),e.R7$(3),e.JRh(e.bMT(645,603,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.olhaChamadoNome),e.R7$(3),e.SpI(" ",e.bMT(651,605,"Faz pedido de itens de seu interesse?")," "),e.R7$(6),e.JRh(e.bMT(657,607,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.pedeItensInteresse),e.R7$(3),e.JRh(e.bMT(663,609,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.pedeItensInteresse),e.R7$(3),e.JRh(e.bMT(669,611,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.pedeItensInteresse),e.R7$(3),e.SpI(" ",e.bMT(675,613,"Realiza imita\xe7\xe3o?")," "),e.R7$(6),e.JRh(e.bMT(681,615,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.imitacao),e.R7$(3),e.JRh(e.bMT(687,617,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.imitacao),e.R7$(3),e.JRh(e.bMT(693,619,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.imitacao),e.R7$(3),e.SpI(" ",e.bMT(699,621,"Brinca adequadamente com o brinquedo?")," "),e.R7$(6),e.JRh(e.bMT(705,623,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.brincaAdequadoBrinquedo),e.R7$(3),e.JRh(e.bMT(711,625,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.brincaAdequadoBrinquedo),e.R7$(3),e.JRh(e.bMT(717,627,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.brincaAdequadoBrinquedo),e.R7$(3),e.SpI(" ",e.bMT(723,629,"Prefer\xeancia por objetos espec\xedficos?")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.preferenciaObjetosEspecificos),e.R7$(4),e.Y8G("control",xd)("controlEl",Od),e.R7$(3),e.SpI(" ",e.bMT(733,631,"Apresenta avers\xf5es (tato, audi\xe7\xe3o, visual, paladar e olfativa)?")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.aversoes),e.R7$(4),e.Y8G("control",Jd)("controlEl",Ld),e.R7$(4),e.JRh(e.bMT(744,633,"Apresenta auto estimula\xe7\xe3o?")),e.R7$(4),e.JRh(e.bMT(748,635,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.autoEstimulacao),e.R7$(2),e.JRh(e.bMT(753,637,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.autoEstimulacao),e.R7$(4),e.JRh(e.bMT(760,639,"Apresenta autoagress\xe3o/heteroagress\xe3o?")),e.R7$(4),e.JRh(e.bMT(764,641,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.autoOuHeteroAgressao),e.R7$(2),e.JRh(e.bMT(769,643,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.autoOuHeteroAgressao),e.R7$(4),e.JRh(e.bMT(776,645,"Apresenta birras/irritabilidade?")),e.R7$(4),e.JRh(e.bMT(780,647,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.birrasIrritabilidade),e.R7$(2),e.JRh(e.bMT(785,649,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.birrasIrritabilidade),e.R7$(4),e.JRh(e.bMT(792,651,"Apresenta manias/rituais?")),e.R7$(4),e.JRh(e.bMT(796,653,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.maniasRituais),e.R7$(2),e.JRh(e.bMT(801,655,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.maniasRituais),e.R7$(3),e.JRh(e.bMT(807,657,"Escola")),e.R7$(5),e.JRh(e.bMT(812,659,"Estuda?")),e.R7$(4),e.JRh(e.bMT(816,661,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.estuda),e.R7$(2),e.JRh(e.bMT(821,663,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.estuda),e.R7$(3),e.SpI(" ",e.bMT(827,665,"Nome da escola")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.nomeEscola),e.R7$(3),e.Y8G("control",Zd)("controlEl",Qd),e.R7$(3),e.SpI(" ",e.bMT(836,667,"S\xe9rie")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.serie),e.R7$(3),e.Y8G("control",Wd)("controlEl",Kd),e.R7$(4),e.JRh(e.bMT(846,669,"Escola regular")),e.R7$(4),e.JRh(e.bMT(850,671,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.escolaRegular),e.R7$(2),e.JRh(e.bMT(855,673,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.escolaRegular),e.R7$(4),e.JRh(e.bMT(862,675,"Professor de apoio")),e.R7$(4),e.JRh(e.bMT(866,677,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.professorApoio),e.R7$(2),e.JRh(e.bMT(871,679,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.professorApoio),e.R7$(3),e.JRh(e.bMT(877,681,"Outros")),e.R7$(5),e.JRh(e.bMT(882,683,"Outro caso na fam\xedlia?")),e.R7$(4),e.JRh(e.bMT(886,685,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.outroCasoFamilia),e.R7$(2),e.JRh(e.bMT(891,687,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.outroCasoFamilia),e.R7$(3),e.SpI(" ",e.bMT(897,689,"Detalhamento dos outros casos")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.outrosCasosDesc),e.R7$(4),e.Y8G("control",ec)("controlEl",oc),e.R7$(3),e.SpI(" ",e.bMT(907,691,"Terapias")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.terapias),e.R7$(4),e.Y8G("control",nc)("controlEl",ic),e.R7$(3),e.SpI(" ",e.bMT(917,693,"Expectativa da fam\xedlia")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.expectativasFamilia),e.R7$(4),e.Y8G("control",tc)("controlEl",ac)}}let bo=(()=>{class a extends _.q{get isNovo(){return this.anamnese instanceof c.Qe}constructor(n){super(n)}getOptionString(n){let i=this.getColabFuncao(n?.colabFuncaoId),o=this.getColaborador(i?.colaboradorId),t=this.getFuncao(i?.funcaoOrgId);return o?.nome+" ("+t?.nome+")"}getFuncao(n){return this.funcoes?.find(i=>i.id==n)}getAtuacao(n){return this.avaliadores?.find(i=>i.id==n)}getColabFuncao(n){return this.funcoesColaborador?.find(i=>i.id==n)}getColaborador(n){return this.colaboradores?.find(i=>i.id==n)}logOptions(){console.log(this.avaliadores,this.funcoesColaborador,this.colaboradores,this.funcoes)}get data(){return this.anamnese?.dataAvaliacao?.format("YYYY-MM-DD")??""}set data(n){null==this.anamnese||""==(n??"")||(this.anamnese.dataAvaliacao=V(n))}get avaliadorId(){return this.anamnese?.atuacaoId?.toString()??""}set avaliadorId(n){this.anamnese.atuacaoId=""!=n&&null!=n?Number(n):void 0}get solidos(){return this.anamnese?.solidos?.toString()??""}set solidos(n){this.anamnese.solidos=""!=n&&null!=n?"true"==n:void 0}get pastosos(){return this.anamnese?.pastosos?.toString()??""}set pastosos(n){this.anamnese.pastosos=""!=n&&null!=n?"true"==n:void 0}get liquidos(){return this.anamnese?.liquidos?.toString()??""}set liquidos(n){this.anamnese.liquidos=""!=n&&null!=n?"true"==n:void 0}get gestosElementares(){return this.anamnese?.gestosElementares?.toString()??""}set gestosElementares(n){""==n||null==n?this.anamnese.gestosElementares=void 0:"0"==n?this.anamnese.gestosElementares=c.nb._0:"1"==n?this.anamnese.gestosElementares=c.nb._1:"2"==n&&(this.anamnese.gestosElementares=c.nb._2)}get naoSimbolicosConvencionais(){return this.anamnese?.naoSimbolicosConvencionais?.toString()??""}set naoSimbolicosConvencionais(n){""==n||null==n?this.anamnese.naoSimbolicosConvencionais=void 0:"0"==n?this.anamnese.naoSimbolicosConvencionais=c.nb._0:"1"==n?this.anamnese.naoSimbolicosConvencionais=c.nb._1:"2"==n&&(this.anamnese.naoSimbolicosConvencionais=c.nb._2)}get simbolicos(){return this.anamnese?.simbolicos?.toString()??""}set simbolicos(n){""==n||null==n?this.anamnese.simbolicos=void 0:"0"==n?this.anamnese.simbolicos=c.nb._0:"1"==n?this.anamnese.simbolicos=c.nb._1:"2"==n&&(this.anamnese.simbolicos=c.nb._2)}get verbal(){return this.anamnese?.verbal?.toString()??""}set verbal(n){""==n||null==n?this.anamnese.verbal=void 0:"0"==n?this.anamnese.verbal=c.nb._0:"1"==n?this.anamnese.verbal=c.nb._1:"2"==n&&(this.anamnese.verbal=c.nb._2)}get balbucio(){return this.anamnese?.balbucio?.toString()??""}set balbucio(n){""==n||null==n?this.anamnese.balbucio=void 0:"0"==n?this.anamnese.balbucio=c.nb._0:"1"==n?this.anamnese.balbucio=c.nb._1:"2"==n&&(this.anamnese.balbucio=c.nb._2)}get palavrasIsoladas(){return this.anamnese?.palavrasIsoladas?.toString()??""}set palavrasIsoladas(n){""==n||null==n?this.anamnese.palavrasIsoladas=void 0:"0"==n?this.anamnese.palavrasIsoladas=c.nb._0:"1"==n?this.anamnese.palavrasIsoladas=c.nb._1:"2"==n&&(this.anamnese.palavrasIsoladas=c.nb._2)}get enunciadoDuasPalavras(){return this.anamnese?.enunciadoDuasPalavras?.toString()??""}set enunciadoDuasPalavras(n){""==n||null==n?this.anamnese.enunciadoDuasPalavras=void 0:"0"==n?this.anamnese.enunciadoDuasPalavras=c.nb._0:"1"==n?this.anamnese.enunciadoDuasPalavras=c.nb._1:"2"==n&&(this.anamnese.enunciadoDuasPalavras=c.nb._2)}get frases(){return this.anamnese?.frases?.toString()??""}set frases(n){""==n||null==n?this.anamnese.frases=void 0:"0"==n?this.anamnese.frases=c.nb._0:"1"==n?this.anamnese.frases=c.nb._1:"2"==n&&(this.anamnese.frases=c.nb._2)}get estereotipiasVocais(){return this.anamnese?.estereotipiasVocais?.toString()??""}set estereotipiasVocais(n){""==n||null==n?this.anamnese.estereotipiasVocais=void 0:"0"==n?this.anamnese.estereotipiasVocais=c.nb._0:"1"==n?this.anamnese.estereotipiasVocais=c.nb._1:"2"==n&&(this.anamnese.estereotipiasVocais=c.nb._2)}get faltaExpressaoFacialAdequada(){return this.anamnese?.faltaExpressaoFacialAdequada?.toString()??""}set faltaExpressaoFacialAdequada(n){""==n||null==n?this.anamnese.faltaExpressaoFacialAdequada=void 0:"0"==n?this.anamnese.faltaExpressaoFacialAdequada=c.nb._0:"1"==n?this.anamnese.faltaExpressaoFacialAdequada=c.nb._1:"2"==n&&(this.anamnese.faltaExpressaoFacialAdequada=c.nb._2)}get atencaoDiminuida(){return this.anamnese?.atencaoDiminuida?.toString()??""}set atencaoDiminuida(n){""==n||null==n?this.anamnese.atencaoDiminuida=void 0:"0"==n?this.anamnese.atencaoDiminuida=c.nb._0:"1"==n?this.anamnese.atencaoDiminuida=c.nb._1:"2"==n&&(this.anamnese.atencaoDiminuida=c.nb._2)}get preferenciaAoIsolamento(){return this.anamnese?.preferenciaAoIsolamento?.toString()??""}set preferenciaAoIsolamento(n){""==n||null==n?this.anamnese.preferenciaAoIsolamento=void 0:"0"==n?this.anamnese.preferenciaAoIsolamento=c.nb._0:"1"==n?this.anamnese.preferenciaAoIsolamento=c.nb._1:"2"==n&&(this.anamnese.preferenciaAoIsolamento=c.nb._2)}get ageComoSurdo(){return this.anamnese?.ageComoSurdo?.toString()??""}set ageComoSurdo(n){""==n||null==n?this.anamnese.ageComoSurdo=void 0:"0"==n?this.anamnese.ageComoSurdo=c.nb._0:"1"==n?this.anamnese.ageComoSurdo=c.nb._1:"2"==n&&(this.anamnese.ageComoSurdo=c.nb._2)}get olhaQuemLheFala(){return this.anamnese?.olhaQuemLheFala?.toString()??""}set olhaQuemLheFala(n){""==n||null==n?this.anamnese.olhaQuemLheFala=void 0:"0"==n?this.anamnese.olhaQuemLheFala=c.nb._0:"1"==n?this.anamnese.olhaQuemLheFala=c.nb._1:"2"==n&&(this.anamnese.olhaQuemLheFala=c.nb._2)}get olhaChamadoNome(){return this.anamnese?.olhaChamadoNome?.toString()??""}set olhaChamadoNome(n){""==n||null==n?this.anamnese.olhaChamadoNome=void 0:"0"==n?this.anamnese.olhaChamadoNome=c.nb._0:"1"==n?this.anamnese.olhaChamadoNome=c.nb._1:"2"==n&&(this.anamnese.olhaChamadoNome=c.nb._2)}get pedeItensInteresse(){return this.anamnese?.pedeItensInteresse?.toString()??""}set pedeItensInteresse(n){""==n||null==n?this.anamnese.pedeItensInteresse=void 0:"0"==n?this.anamnese.pedeItensInteresse=c.nb._0:"1"==n?this.anamnese.pedeItensInteresse=c.nb._1:"2"==n&&(this.anamnese.pedeItensInteresse=c.nb._2)}get imitacao(){return this.anamnese?.imitacao?.toString()??""}set imitacao(n){""==n||null==n?this.anamnese.imitacao=void 0:"0"==n?this.anamnese.imitacao=c.nb._0:"1"==n?this.anamnese.imitacao=c.nb._1:"2"==n&&(this.anamnese.imitacao=c.nb._2)}get brincaAdequadoBrinquedo(){return this.anamnese?.brincaAdequadoBrinquedo?.toString()??""}set brincaAdequadoBrinquedo(n){""==n||null==n?this.anamnese.brincaAdequadoBrinquedo=void 0:"0"==n?this.anamnese.brincaAdequadoBrinquedo=c.nb._0:"1"==n?this.anamnese.brincaAdequadoBrinquedo=c.nb._1:"2"==n&&(this.anamnese.brincaAdequadoBrinquedo=c.nb._2)}get autoEstimulacao(){return this.anamnese?.autoEstimulacao?.toString()??""}set autoEstimulacao(n){this.anamnese.autoEstimulacao=""!=n&&null!=n?"true"==n:void 0}get autoOuHeteroAgressao(){return this.anamnese?.autoOuHeteroAgressao?.toString()??""}set autoOuHeteroAgressao(n){this.anamnese.autoOuHeteroAgressao=""!=n&&null!=n?"true"==n:void 0}get birrasIrritabilidade(){return this.anamnese?.birrasIrritabilidade?.toString()??""}set birrasIrritabilidade(n){this.anamnese.birrasIrritabilidade=""!=n&&null!=n?"true"==n:void 0}get maniasRituais(){return this.anamnese?.maniasRituais?.toString()??""}set maniasRituais(n){this.anamnese.maniasRituais=""!=n&&null!=n?"true"==n:void 0}get estuda(){return this.anamnese?.estuda?.toString()??""}set estuda(n){this.anamnese.estuda=""!=n&&null!=n?"true"==n:void 0}get escolaRegular(){return this.anamnese?.escolaRegular?.toString()??""}set escolaRegular(n){this.anamnese.escolaRegular=""!=n&&null!=n?"true"==n:void 0}get professorApoio(){return this.anamnese?.professorApoio?.toString()??""}set professorApoio(n){this.anamnese.professorApoio=""!=n&&null!=n?"true"==n:void 0}get outroCasoFamilia(){return this.anamnese?.outroCasoFamilia?.toString()??""}set outroCasoFamilia(n){this.anamnese.outroCasoFamilia=""!=n&&null!=n?"true"==n:void 0}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["anamnese-form"]],inputs:{disabled:"disabled",aluno:"aluno",anamnese:"anamnese",avaliadores:"avaliadores",funcoesColaborador:"funcoesColaborador",colaboradores:"colaboradores",funcoes:"funcoes"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:1,vars:1,consts:[["avaliadorModel","ngModel","avaliadorEl",""],["dataModel","ngModel","dataEl",""],["diagnosticoModel","ngModel","diagnosticoEl",""],["cuidadorModel","ngModel","cuidadorEl",""],["profissaoCuidadorModel","ngModel","profissaoCuidadorEl",""],["telefoneModel","ngModel","telefoneEl",""],["historicoPessoalModel","ngModel","historicoPessoalEl",""],["patologiaAssociadaModel","ngModel","patologiaAssociadaEl",""],["convulsoesModel","ngModel","convulsoesEl",""],["sentouModel","ngModel","sentouEl",""],["engatinhouModel","ngModel","engatinhouEl",""],["andouModel","ngModel","andouEl",""],["estereotipiasMotorasModel","ngModel","estereotipiasMotorasEl",""],["alergiasEIntoleranciasModel","ngModel","alergiasEIntoleranciasEl",""],["alimentacaoModel","ngModel","alimentacaoEl",""],["banhoModel","ngModel","banhoEl",""],["vestuarioModel","ngModel","vestuarioEl",""],["cuidadosPessoaisModel","ngModel","cuidadosPessoaisEl",""],["sonoModel","ngModel","sonoEl",""],["esfincterModel","ngModel","esfincterEl",""],["palavrasIsoladasDescModel","ngModel","palavrasIsoladasDescEl",""],["estereotipiasVocaisDescModel","ngModel","estereotipiasVocaisDescEl",""],["preferenciaObjetosEspecificosModel","ngModel","preferenciaObjetosEspecificosEl",""],["aversoesModel","ngModel","aversoesEl",""],["nomeEscolaModel","ngModel","nomeEscolaEl",""],["serieModel","ngModel","serieEl",""],["outrosCasosDescModel","ngModel","outrosCasosDescEl",""],["terapiasModel","ngModel","terapiasEl",""],["expectativasFamiliaModel","ngModel","expectativasFamiliaEl",""],[4,"ngIf"],[1,"form-group","row","required"],["for","avaliador",1,"col-md-3","col-form-label",3,"click"],[1,"col-md-9"],["name","avaliador","id","avaliador","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],["for","data",1,"col-md-3","col-form-label"],["type","date","name","data","id","data","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"form-group","row"],["for","diagnostico",1,"col-md-3","col-form-label"],["type","text","name","diagnostico","id","diagnostico","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","cuidador",1,"col-md-3","col-form-label"],["type","text","name","cuidador","id","cuidador","maxlength","1000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","profissaoCuidador",1,"col-md-3","col-form-label"],["type","text","name","profissaoCuidador","id","profissaoCuidador","maxlength","200",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","telefone",1,"col-md-3","col-form-label"],["type","text","name","telefone","id","telefone","maxlength","20",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","historicoPessoal",1,"col-md-3","col-form-label"],["type","text","name","historicoPessoal","id","historicoPessoal","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","patologiaAssociada",1,"col-md-3","col-form-label"],["type","text","name","patologiaAssociada","id","patologiaAssociada","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","convulsoes",1,"col-md-3","col-form-label"],["type","text","name","convulsoes","id","convulsoes","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"col"],["type","text","name","sentou","id","sentou","maxlength","50",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","text","name","engatinhou","id","engatinhou","maxlength","50",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","text","name","andou","id","andou","maxlength","50",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","estereotipiasMotoras",1,"col-md-3","col-form-label"],["type","text","name","estereotipiasMotoras","id","estereotipiasMotoras","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row"],["type","radio","name","solidos","id","solidosSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","solidos","id","solidosN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","pastosos","id","pastososSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","pastosos","id","pastososN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","liquidos","id","liquidosSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","liquidos","id","liquidosN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","alergiasEIntolerancias",1,"col-md-3","col-form-label"],["type","text","name","alergiasEIntolerancias","id","alergiasEIntolerancias","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","alimentacao",1,"col-md-3","col-form-label"],["type","text","name","alimentacao","id","alimentacao","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","banho",1,"col-md-3","col-form-label"],["type","text","name","banho","id","banho","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","vestuario",1,"col-md-3","col-form-label"],["type","text","name","vestuario","id","vestuario","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","cuidadosPessoais",1,"col-md-3","col-form-label"],["type","text","name","cuidadosPessoais","id","cuidadosPessoais","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","sono",1,"col-md-3","col-form-label"],["type","text","name","sono","id","sono","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","esfincter",1,"col-md-3","col-form-label"],["type","text","name","esfincter","id","esfincter","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row","p-0","m-0"],["for","gestosElementares",1,"col-md-3","col-form-label"],["type","radio","name","gestosElementares","id","gestosElementaresSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","gestosElementares","id","gestosElementaresNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","gestosElementares","id","gestosElementaresAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","naoSimbolicosConvencionais",1,"col-md-3","col-form-label"],["type","radio","name","naoSimbolicosConvencionais","id","naoSimbolicosConvencionaisSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","naoSimbolicosConvencionais","id","naoSimbolicosConvencionaisNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","naoSimbolicosConvencionais","id","naoSimbolicosConvencionaisAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","simbolicos",1,"col-md-3","col-form-label"],["type","radio","name","simbolicos","id","simbolicosSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","simbolicos","id","simbolicosNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","simbolicos","id","simbolicosAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","verbal",1,"col-md-3","col-form-label"],["type","radio","name","verbal","id","verbalSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","verbal","id","verbalNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","verbal","id","verbalAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","balbucio",1,"col-md-3","col-form-label"],["type","radio","name","balbucio","id","balbucioSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","balbucio","id","balbucioNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","balbucio","id","balbucioAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","palavrasIsoladas",1,"col-md-3","col-form-label"],["type","radio","name","palavrasIsoladas","id","palavrasIsoladasSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","palavrasIsoladas","id","palavrasIsoladasNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","palavrasIsoladas","id","palavrasIsoladasAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","palavrasIsoladasDesc",1,"col-md-3","col-form-label"],["type","text","name","palavrasIsoladasDesc","id","palavrasIsoladasDesc","maxlength","4000","placeholder","Quais palavras?",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","enunciadoDuasPalavras",1,"col-md-3","col-form-label"],["type","radio","name","enunciadoDuasPalavras","id","enunciadoDuasPalavrasSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","enunciadoDuasPalavras","id","enunciadoDuasPalavrasNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","enunciadoDuasPalavras","id","enunciadoDuasPalavrasAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","frases",1,"col-md-3","col-form-label"],["type","radio","name","frases","id","frasesSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","frases","id","frasesNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","frases","id","frasesAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","estereotipiasVocais",1,"col-md-3","col-form-label"],["type","radio","name","estereotipiasVocais","id","estereotipiasVocaisSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","estereotipiasVocais","id","estereotipiasVocaisNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","estereotipiasVocais","id","estereotipiasVocaisAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","estereotipiasVocaisDesc",1,"col-md-3","col-form-label"],["type","text","name","estereotipiasVocaisDesc","id","estereotipiasVocaisDesc","maxlength","4000","placeholder","Quais estereotipias vocais?",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","faltaExpressaoFacialAdequada",1,"col-md-3","col-form-label"],["type","radio","name","faltaExpressaoFacialAdequada","id","faltaExpressaoFacialAdequadaSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","faltaExpressaoFacialAdequada","id","faltaExpressaoFacialAdequadaNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","faltaExpressaoFacialAdequada","id","faltaExpressaoFacialAdequadaAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","atencaoDiminuida",1,"col-md-3","col-form-label"],["type","radio","name","atencaoDiminuida","id","atencaoDiminuidaSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","atencaoDiminuida","id","atencaoDiminuidaNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","atencaoDiminuida","id","atencaoDiminuidaAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","preferenciaAoIsolamento",1,"col-md-3","col-form-label"],["type","radio","name","preferenciaAoIsolamento","id","preferenciaAoIsolamentoSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","preferenciaAoIsolamento","id","preferenciaAoIsolamentoNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","preferenciaAoIsolamento","id","preferenciaAoIsolamentoAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","ageComoSurdo",1,"col-md-3","col-form-label"],["type","radio","name","ageComoSurdo","id","ageComoSurdoSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","ageComoSurdo","id","ageComoSurdoNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","ageComoSurdo","id","ageComoSurdoAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","olhaQuemLheFala",1,"col-md-3","col-form-label"],["type","radio","name","olhaQuemLheFala","id","olhaQuemLheFalaSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","olhaQuemLheFala","id","olhaQuemLheFalaNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","olhaQuemLheFala","id","olhaQuemLheFalaAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","olhaChamadoNome",1,"col-md-3","col-form-label"],["type","radio","name","olhaChamadoNome","id","olhaChamadoNomeSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","olhaChamadoNome","id","olhaChamadoNomeNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","olhaChamadoNome","id","olhaChamadoNomeAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","pedeItensInteresse",1,"col-md-3","col-form-label"],["type","radio","name","pedeItensInteresse","id","pedeItensInteresseSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","pedeItensInteresse","id","pedeItensInteresseNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","pedeItensInteresse","id","pedeItensInteresseAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","imitacao",1,"col-md-3","col-form-label"],["type","radio","name","imitacao","id","imitacaoSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","imitacao","id","imitacaoNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","imitacao","id","imitacaoAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","brincaAdequadoBrinquedo",1,"col-md-3","col-form-label"],["type","radio","name","brincaAdequadoBrinquedo","id","brincaAdequadoBrinquedoSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","brincaAdequadoBrinquedo","id","brincaAdequadoBrinquedoNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","brincaAdequadoBrinquedo","id","brincaAdequadoBrinquedoAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","preferenciaObjetosEspecificos",1,"col-md-3","col-form-label"],["type","text","name","preferenciaObjetosEspecificos","id","preferenciaObjetosEspecificos","maxlength","8000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","aversoes",1,"col-md-3","col-form-label"],["type","text","name","aversoes","id","aversoes","maxlength","8000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","autoEstimulacao","id","autoEstimulacaoSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","autoEstimulacao","id","autoEstimulacaoN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","autoOuHeteroAgressao","id","autoOuHeteroAgressaoSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","autoOuHeteroAgressao","id","autoOuHeteroAgressaoN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","birrasIrritabilidade","id","birrasIrritabilidadeSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","birrasIrritabilidade","id","birrasIrritabilidadeN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","maniasRituais","id","maniasRituaisSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","maniasRituais","id","maniasRituaisN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","estuda","id","estudaSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","estuda","id","estudaN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","nomeEscola",1,"col-md-3","col-form-label"],["type","text","name","nomeEscola","id","nomeEscola","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","serie",1,"col-md-3","col-form-label"],["type","text","name","serie","id","serie","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","escolaRegular","id","escolaRegularSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","escolaRegular","id","escolaRegularN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","professorApoio","id","professorApoioSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","professorApoio","id","professorApoioN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","outroCasoFamilia","id","outroCasoFamiliaSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","outroCasoFamilia","id","outroCasoFamiliaN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","outrosCasosDesc",1,"col-md-3","col-form-label"],["type","text","name","outrosCasosDesc","id","outrosCasosDesc","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","terapias",1,"col-md-3","col-form-label"],["type","text","name","terapias","id","terapias","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","expectativasFamilia",1,"col-md-3","col-form-label"],["type","text","name","expectativasFamilia","id","expectativasFamilia","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value"]],template:function(i,o){1&i&&e.DNE(0,Id,924,696,"div",29),2&i&&e.Y8G("ngIf",null!=o.anamnese)},dependencies:[p.Sq,p.bT,l.xH,l.y7,l.me,l.wz,l.Fm,l.BC,l.YS,l.tU,l.vS,G.e,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const _o=()=>[""];let Fd=(()=>{class a extends _.q{constructor(n,i,o,t,s,r,m,f,v,C,S,$,P){super(n),this._casoService=i,this._alunoService=o,this._colaboradorService=t,this._tipoServicoService=s,this._protocoloIntervencaoService=r,this._hierarquiaAjudaService=m,this._funcaoService=f,this._changeDetector=v,this._bsModalService=C,this._router=S,this._route=$,this._localService=P,this.loading=!1,this.saving=!1}goBack(){this.permission.isGranted("Business.Personal.Cliente.Aluno")&&this.appSession.user.aluno?.id==this.alunoId?this._router.navigate(["app","personal"]):this._router.navigate(["app","alunos","details",this.alunoId])}getFuncao(n){return this.funcoes?.find(i=>i.id==n)}getAtuacao(n){return this.avaliadores?.find(i=>i.id==n)}getColabFuncao(n){return this.funcoesColaborador.find(i=>i.id==n)}getColaborador(n){return this.colaboradores.find(i=>i.id==n)}ngOnInit(){this.loading=!0,this.alunoId=Number(this._route.snapshot.paramMap.get("alunoId")),this.aluno=this._localService.aluno,this.anamnese=new c.Qe,null==this.aluno?this._alunoService.get(this.alunoId).subscribe(i=>{this.aluno=i,this.refresh()}):this.refresh()}refresh(){this.funcoes=[],this._funcaoService.getAll(void 0,void 0,void 0).subscribe(n=>{this.funcoes=n.items,this._colaboradorService.getAllColabFuncoes(void 0,void 0,void 0,void 0,!0,this.aluno.casoId,!0,void 0,void 0,void 0).subscribe(i=>{this.funcoesColaborador=i.items,this.avaliadores=[],this._casoService.getAllAtuacoes(this.aluno.casoId,!0,!0,void 0,void 0,void 0).subscribe(o=>{this.avaliadores=o,this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico")||(this.avaliadores=this.avaliadores.filter(t=>this.getColabFuncao(t.colabFuncaoId)?.colaboradorId==(this.appSession?.user?.colaborador?.id??-1))),this.loading=!1,this._changeDetector.detectChanges()})}),this._colaboradorService.getAll(void 0,void 0,void 0,!0,this.aluno.casoId,!0,void 0,void 0,void 0).subscribe(i=>{this.colaboradores=i.items,this._changeDetector.detectChanges()})}),this.anamnese=new c.Qe,this.anamnese.casoId=this.aluno.casoId,this.anamnese.dataAvaliacao=V()}click1(){this.fecharRegistro=!1}click2(){this.fecharRegistro=!0}save(){this.saving=!0;let n={next:i=>{this.saving=!1,this.notify.success(this.l("Salvo com sucesso!")),this.goBack()},error:i=>{console.log(i),this.saving=!1},complete:()=>{}};this.anamnese.dataAvaliacao=this.anamnese.dataAvaliacao.utcOffset(0,!0),this.anamnese.fecharRegistro=this.fecharRegistro,this._casoService.createAnamnese(this.anamnese).subscribe(n)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.iD),e.rXU(c.pg),e.rXU(c.i9),e.rXU(c.$B),e.rXU(c.J3),e.rXU(c.Qk),e.rXU(c.AM),e.rXU(e.gRc),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX),e.rXU(x.n))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:31,vars:22,consts:[["anamnesePage","ngForm"],[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[2,"height","100%","width","100%","border","0px solid black"],[1,"card",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white"],[1,"card-body"],["ngModelGroup","anamnese",3,"disabled","avaliadores","funcoesColaborador","colaboradores","funcoes","anamnese"],[1,"row","p-0","m-0"],[1,"col","p-0","m-0"],[1,"row","m-0","justify-content-center"],["type","submit",1,"btn","bg-secondary",3,"click","disabled"],["type","submit",1,"btn","bg-primary",3,"click","disabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),e.bIt("click",function(){return e.eBV(t),e.Njj(o.goBack())}),e.nrm(6,"i",6),e.k0s()()(),e.j41(7,"div",7)(8,"h1",8),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"h1",9),e.EFF(12),e.k0s()()()(),e.j41(13,"section",10)(14,"form",11,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(16,"div",12)(17,"div",13)(18,"div",14),e.nrm(19,"anamnese-form",15),e.j41(20,"div",16)(21,"div",17)(22,"div",18)(23,"button",19),e.bIt("click",function(){return e.eBV(t),e.Njj(o.click1())}),e.EFF(24),e.nI1(25,"localize"),e.k0s()()(),e.j41(26,"div",17)(27,"div",18)(28,"button",20),e.bIt("click",function(){return e.eBV(t),e.Njj(o.click2())}),e.EFF(29),e.nI1(30,"localize"),e.k0s()()()()()()()()()()}if(2&i){let t;const s=e.sdS(15);e.Y8G("@routerTransition",void 0),e.R7$(9),e.SpI(" ",e.bMT(10,14,"Anamnese")," "),e.R7$(3),e.Lme(" ",(null!==(t=null==o.aluno||null==o.aluno.nome?null:o.aluno.nome.split(" "))&&void 0!==t?t:e.lJ4(20,_o))[0]," ",(null!==(t=null==o.aluno||null==o.aluno.nome||null==(t=o.aluno.nome.split(" "))?null:t.reverse())&&void 0!==t?t:e.lJ4(21,_o))[0]," "),e.R7$(7),e.Y8G("disabled",o.saving||o.loading)("avaliadores",o.avaliadores)("funcoesColaborador",o.funcoesColaborador)("colaboradores",o.colaboradores)("funcoes",o.funcoes)("anamnese",o.anamnese),e.R7$(4),e.Y8G("disabled",o.loading||o.saving||!s.form.valid),e.R7$(),e.SpI(" ",e.bMT(25,16,"Salvar Registro em Aberto")," "),e.R7$(4),e.Y8G("disabled",o.loading||o.saving||!s.form.valid),e.R7$(),e.SpI(" ",e.bMT(30,18,"Salvar & Concluir Registro")," ")}},dependencies:[l.qT,l.cb,l.Y4,l.cV,bo,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})();const vo=()=>[""];function kd(a,d){if(1&a){const n=e.RV6();e.j41(0,"div",17)(1,"div",18)(2,"div",19)(3,"button",20),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.click1())}),e.EFF(4),e.nI1(5,"localize"),e.k0s()()(),e.j41(6,"div",18)(7,"div",19)(8,"button",21),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.click2())}),e.EFF(9),e.nI1(10,"localize"),e.k0s()()()()}if(2&a){const n=e.XpG(),i=e.sdS(15);e.R7$(3),e.Y8G("disabled",n.loading||n.saving||!i.form.valid),e.R7$(),e.SpI(" ",e.bMT(5,4,"Salvar Registro em Aberto")," "),e.R7$(4),e.Y8G("disabled",n.loading||n.saving||!i.form.valid),e.R7$(),e.SpI(" ",e.bMT(10,6,"Salvar & Concluir Registro")," ")}}let jd=(()=>{class a extends _.q{get locked(){return null!=this.anamnese?.dataRegistroFechado}constructor(n,i,o,t,s,r,m,f,v,C,S,$,P){super(n),this._casoService=i,this._alunoService=o,this._colaboradorService=t,this._tipoServicoService=s,this._protocoloIntervencaoService=r,this._hierarquiaAjudaService=m,this._funcaoService=f,this._changeDetector=v,this._bsModalService=C,this._router=S,this._route=$,this._localService=P,this.loading=!1,this.saving=!1}goBack(){this.permission.isGranted("Business.Personal.Cliente.Aluno")&&this.appSession.user.aluno?.id==this.alunoId?this._router.navigate(["app","personal"]):this._router.navigate(["app","alunos","details",this.alunoId])}ngOnInit(){this.loading=!0,this.alunoId=Number(this._route.snapshot.paramMap.get("alunoId")),this.aluno=this._localService.aluno,null==this.aluno?this._alunoService.get(this.alunoId).subscribe(i=>{this.aluno=i,this.refresh()}):this.refresh()}refresh(){this.loading=!0;let n={next:t=>{this.anamnese=t,this._casoService.getAtuacao(t.atuacaoId).subscribe(s=>{this.avaliadores=[s],this._colaboradorService.getColabFuncao(s.colabFuncaoId).subscribe(r=>{this.funcoesColaborador=[r],this._colaboradorService.get(r.colaboradorId).subscribe(m=>{this.colaboradores=[m],this._changeDetector.detectChanges()}),this._funcaoService.get(r.funcaoOrgId).subscribe(m=>{this.funcoes=[m],this._changeDetector.detectChanges()}),this._changeDetector.detectChanges()}),this._changeDetector.detectChanges()}),this._changeDetector.detectChanges(),this.loading=!1},error:t=>{console.log(t),this.saving=!1,this.refresh()},complete:()=>{}};const o=Number(this._route.snapshot.paramMap.get("anamneseId"));this._casoService.getAnamnese(o).subscribe(n)}click1(){this.fecharRegistro=!1}click2(){this.fecharRegistro=!0}save(){this.saving=!0;let n={next:o=>{this.saving=!1,this.notify.success(this.l("Salvo com sucesso!")),this.goBack()},error:o=>{console.log(o),this.saving=!1},complete:()=>{}};var i=new c.Dr(this.anamnese);i.fecharRegistro=this.fecharRegistro,this._casoService.updateAnamnese(i).subscribe(n)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.zZn),e.rXU(c.iD),e.rXU(c.pg),e.rXU(c.i9),e.rXU(c.$B),e.rXU(c.J3),e.rXU(c.Qk),e.rXU(c.AM),e.rXU(e.gRc),e.rXU(b.I8),e.rXU(g.Ix),e.rXU(g.nX),e.rXU(x.n))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:21,vars:15,consts:[["anamnesePage","ngForm"],[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[2,"height","100%","width","100%","border","0px solid black"],[1,"card",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white"],[1,"card-body"],["ngModelGroup","anamnese",3,"disabled","avaliadores","funcoesColaborador","colaboradores","funcoes","anamnese"],["class","row p-0 m-0",4,"ngIf"],[1,"row","p-0","m-0"],[1,"col","p-0","m-0"],[1,"row","m-0","justify-content-center"],["type","submit",1,"btn","bg-secondary",3,"click","disabled"],["type","submit",1,"btn","bg-primary",3,"click","disabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),e.bIt("click",function(){return e.eBV(t),e.Njj(o.goBack())}),e.nrm(6,"i",6),e.k0s()()(),e.j41(7,"div",7)(8,"h1",8),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"h1",9),e.EFF(12),e.k0s()()()(),e.j41(13,"section",10)(14,"form",11,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.save())}),e.j41(16,"div",12)(17,"div",13)(18,"div",14),e.nrm(19,"anamnese-form",15),e.DNE(20,kd,11,8,"div",16),e.k0s()()()()()()}if(2&i){let t;e.Y8G("@routerTransition",void 0),e.R7$(9),e.SpI(" ",e.bMT(10,11,"Anamnese")," "),e.R7$(3),e.Lme(" ",(null!==(t=null==o.aluno||null==o.aluno.nome?null:o.aluno.nome.split(" "))&&void 0!==t?t:e.lJ4(13,vo))[0]," ",(null!==(t=null==o.aluno||null==o.aluno.nome||null==(t=o.aluno.nome.split(" "))?null:t.reverse())&&void 0!==t?t:e.lJ4(14,vo))[0]," "),e.R7$(7),e.Y8G("disabled",o.loading||o.saving||o.locked)("avaliadores",o.avaliadores)("funcoesColaborador",o.funcoesColaborador)("colaboradores",o.colaboradores)("funcoes",o.funcoes)("anamnese",o.anamnese),e.R7$(),e.Y8G("ngIf",!o.locked)}},dependencies:[p.bT,l.qT,l.cb,l.Y4,l.cV,bo,h.S],encapsulation:2,data:{animation:[(0,I.OD)()]}})}return a})(),Rd=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#o=this.\u0275mod=e.$C({type:a});static#n=this.\u0275inj=e.G2t({imports:[g.iI.forChild([{path:"",component:Wo,children:[{path:"home",component:Ko,canActivate:[M.E]},{path:"personal",component:rd,canActivate:[M.E]},{path:"users",component:pi,data:{permission:"Pages.Users"},canActivate:[M.E]},{path:"roles",component:Si,data:{permission:"Pages.Roles"},canActivate:[M.E]},{path:"alunos",data:{permission:"Business.Admin.People"},component:Ni,canActivate:[M.E]},{path:"alunos/details/:alunoId",component:Xt,canActivate:[M.E]},{path:"alunos/details/:alunoId/registro-atendimento",data:{permission:"Business.Personal.Colaborador"},component:_d,canActivate:[M.E]},{path:"alunos/details/:alunoId/registro-anamnese",data:{permission:"Business.Personal.Colaborador"},component:Fd,canActivate:[M.E]},{path:"alunos/details/:alunoId/view-registro-anamnese/:anamneseId",data:{permission:"Business.Personal.Colaborador"},component:jd,canActivate:[M.E]},{path:"alunos/details/:alunoId/protocolo-avaliacao/:apliId",component:Ns,canActivate:[M.E]},{path:"alunos/details/:alunoId/protocolo-intervencao/:apliId",component:Sl,canActivate:[M.E]},{path:"responsaveis",data:{permission:"Business.Admin.People"},component:Ot,canActivate:[M.E]},{path:"responsaveis/details/:responsavelId",component:Wt,canActivate:[M.E]},{path:"colaboradores",data:{permission:"Business.Admin.People"},component:wa,canActivate:[M.E]},{path:"colaboradores/details/:colaboradorId",component:Da,canActivate:[M.E]},{path:"protocolos-avaliacao",data:{permission:"Business.Technical"},component:Rs,canActivate:[M.E]},{path:"protocolos-avaliacao/details/:protocoloAvaliacaoId",component:_s,canActivate:[M.E]},{path:"ref-bibliograficas",data:{permission:"Business.Technical"},component:Us,canActivate:[M.E]},{path:"ref-bibliograficas/details/:refBibId",component:er,canActivate:[M.E]},{path:"tecnicas",data:{permission:"Business.Technical"},component:Js,canActivate:[M.E]},{path:"tecnicas/details/:tecnicaId",component:nr,canActivate:[M.E]},{path:"formatos-ensino",data:{permission:"Business.Technical"},component:sr,canActivate:[M.E]},{path:"formatos-ensino/details/:formatoEnsinoId",component:lr,canActivate:[M.E]},{path:"hierarquias-ajuda",data:{permission:"Business.Technical"},component:mr,canActivate:[M.E]},{path:"hierarquias-ajuda/create",data:{permission:"Business.Technical"},component:hr,canActivate:[M.E]},{path:"hierarquias-ajuda/details/:hierarquiaAjudaId",component:br,canActivate:[M.E]},{path:"protocolos-intervencao",data:{permission:"Business.Technical"},component:Ir,canActivate:[M.E]},{path:"protocolos-intervencao/create",data:{permission:"Business.Technical"},component:Wr,canActivate:[M.E]},{path:"protocolos-intervencao/details/:protocoloIntervencaoId",component:dl,canActivate:[M.E]},{path:"protocolos-intervencao/versoes/details/:versaoProtIntervencaoId",component:pl,canActivate:[M.E]},{path:"protocolos-intervencao/versoes/create/:protocoloIntervencaoId",data:{permission:"Business.Technical"},component:hl,canActivate:[M.E]},{path:"protocolos-intervencao/versoes/edit/:versaoProtIntervencaoId",data:{permission:"Business.Technical"},component:gl,canActivate:[M.E]},{path:"servicos-prestados",data:{permission:"Business.Finance"},component:Dl,canActivate:[M.E]},{path:"servicos-prestados/tipos",data:{permission:"Business.Finance"},component:Bl,canActivate:[M.E]},{path:"funcoes",component:Jl,data:{permission:"Business.Admin.OrgRoles"},canActivate:[M.E]},{path:"tenants",component:vi,data:{permission:"Pages.Tenants"},canActivate:[M.E]},{path:"about",component:en,canActivate:[M.E]},{path:"update-password",component:Kt,canActivate:[M.E]}]}]),g.iI]})}return a})();var Sd=R(66943);let Md=(()=>{class a{handleError(n){/Loading chunk [\d]+ failed/.test(n.message)&&confirm("New version available. Load New Version?")&&window.location.reload()}static#e=this.\u0275fac=function(i){return new(i||a)};static#o=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),Ed=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#o=this.\u0275mod=e.$C({type:a});static#n=this.\u0275inj=e.G2t({providers:[{provide:e.zcH,useClass:Md}],imports:[p.MD,l.YN,l.X1,Re.q1,Re.uA,b.Q_.forChild(),X.zE,Se.G,F.jr,Rd,x.W,Sd.G,T.ed]})}return a})()}}]);