"use strict";(self.webpackChunkABAAssistant=self.webpackChunkABAAssistant||[]).push([[87374],{87374:(wc,Me,M)=>{M.r(Me),M.d(Me,{AppModule:()=>sc});var e=M(54438),h=M(60177),r=M(84341),Ee=M(81562),g=M(50779),X=M(68580),Te=M(5992),S=M(13816),T=M(62796),b=M(33271),v=M(18133),L=M(98341),Mo=M(47906);class Eo{static initSignalR(d){const i=(new Mo.TJ).getCookieValue(L.M.authorization.encryptedAuthTokenName);abp.signalr={autoConnect:!0,connect:void 0,hubs:void 0,qs:L.M.authorization.encryptedAuthTokenName+"="+encodeURIComponent(i),remoteServiceBaseUrl:L.M.remoteServiceBaseUrl,startConnection:void 0,url:"/signalr",withUrlOptions:{}};const t=document.createElement("script");d&&(t.onload=()=>{d()}),t.src=L.M.appBaseUrl+"/assets/abp/abp.signalr-client.js",document.head.appendChild(t)}}var ie=M(45548),f=M(54747);const To=()=>["home"],Do=()=>["about"];let Ao=(()=>{class a{constructor(i){this._layoutStore=i}ngOnInit(){this._layoutStore.sidebarExpanded.subscribe(i=>{this.sidebarExpanded=i})}toggleSidebar(){this._layoutStore.setSidebarExpanded(!this.sidebarExpanded)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(ie.B))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["header-left-navbar"]],decls:12,vars:10,consts:[[1,"navbar-nav"],[1,"nav-item"],["href","javascript:;",1,"nav-link",3,"click"],[1,"fas","fa-bars"],[1,"nav-item","d-none","d-sm-inline-block"],[1,"nav-link",3,"routerLink"]],template:function(t,o){1&t&&(e.j41(0,"ul",0)(1,"li",1)(2,"a",2),e.bIt("click",function(){return o.toggleSidebar()}),e.nrm(3,"i",3),e.k0s()(),e.j41(4,"li",4)(5,"a",5),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"li",4)(9,"a",5),e.EFF(10),e.nI1(11,"localize"),e.k0s()()()),2&t&&(e.R7$(5),e.Y8G("routerLink",e.lJ4(8,To)),e.R7$(),e.SpI(" ",e.bMT(7,4,"HomePage")," "),e.R7$(3),e.Y8G("routerLink",e.lJ4(9,Do)),e.R7$(),e.SpI(" ",e.bMT(11,6,"About")," "))},dependencies:[b.Wk,f.S],encapsulation:2,changeDetection:0})}return a})();var c=M(81801),yo=M(3578);function Go(a,d){if(1&a){const i=e.RV6();e.j41(0,"a",7),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,n=e.XpG(2);return e.Njj(n.changeLanguage(o.name))}),e.nrm(1,"i"),e.EFF(2),e.k0s()}if(2&a){const i=e.XpG().$implicit;e.R7$(),e.ZvI("d-inline-block ",i.icon," mr-1"),e.R7$(),e.SpI(" ",i.displayName," ")}}function Po(a,d){if(1&a&&(e.qex(0),e.DNE(1,Go,3,4,"a",6),e.bVm()),2&a){const i=d.$implicit,t=e.XpG(2);e.R7$(),e.Y8G("ngIf",i.name!=t.currentLanguage.name)}}function $o(a,d){if(1&a&&(e.j41(0,"div",4),e.DNE(1,Po,2,1,"ng-container",5),e.k0s()),2&a){const i=e.XpG();e.R7$(),e.Y8G("ngForOf",i.languages)}}let wo=(()=>{class a extends v.q{constructor(i,t){super(i),this._userService=t}ngOnInit(){this.languages=(0,yo.A)(this.localization.languages,i=>!i.isDisabled),this.currentLanguage=this.localization.currentLanguage}changeLanguage(i){const t=new c.VmD;t.languageName=i,this._userService.changeLanguage(t).subscribe(()=>{abp.utils.setCookieValue("Abp.Localization.CultureName",i,new Date((new Date).getTime()+15768e7),abp.appPath),window.location.reload()})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.LCs))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["header-language-menu"]],features:[e.Vt3],decls:6,vars:4,consts:[["dropdown","",1,"nav-item","dropdown"],["href","javascript:;","dropdownToggle","",1,"nav-link"],[1,"d-none","d-md-inline-block","ml-1"],["class","dropdown-menu dropdown-menu-right p-0",4,"dropdownMenu"],[1,"dropdown-menu","dropdown-menu-right","p-0"],[4,"ngFor","ngForOf"],["class","dropdown-item","href","javascript:;",3,"click",4,"ngIf"],["href","javascript:;",1,"dropdown-item",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"li",0)(1,"a",1),e.nrm(2,"i"),e.j41(3,"span",2),e.EFF(4),e.k0s()(),e.DNE(5,$o,2,1,"div",3),e.k0s()),2&t&&(e.R7$(2),e.ZvI("d-inline-block ",o.currentLanguage.icon,""),e.R7$(2),e.SpI(" ",o.currentLanguage.displayName," "))},dependencies:[h.Sq,h.bT,X.hs,X.UL,X.Kk],encapsulation:2,changeDetection:0})}return a})();var No=M(43728);const Vo=()=>["update-password"];function Bo(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",4)(1,"a",5),e.nrm(2,"i",6),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"a",7),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.logout())}),e.nrm(6,"i",8),e.EFF(7),e.nI1(8,"localize"),e.k0s()()}2&a&&(e.R7$(),e.Y8G("routerLink",e.lJ4(7,Vo)),e.R7$(2),e.SpI(" ",e.bMT(4,3,"UpdatePassword")," "),e.R7$(4),e.SpI(" ",e.bMT(8,5,"Logout")," "))}let zo=(()=>{class a{constructor(i){this._authService=i}logout(){this._authService.logout()}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(No.D))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["header-user-menu"]],decls:4,vars:0,consts:[["dropdown","",1,"nav-item","dropdown","nav-user-menu"],["href","javascript:;","dropdownToggle","",1,"nav-link"],["src","assets/img/user.png","alt","User Image",1,"user-image","img-circle","elevation-2"],["class","dropdown-menu dropdown-menu-right",4,"dropdownMenu"],[1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item",3,"routerLink"],[1,"fas","fa-user-edit"],["href","javascript:;",1,"dropdown-item",3,"click"],[1,"fas","fa-sign-out-alt"]],template:function(t,o){1&t&&(e.j41(0,"li",0)(1,"a",1),e.nrm(2,"img",2),e.k0s(),e.DNE(3,Bo,9,8,"div",3),e.k0s())},dependencies:[X.hs,X.UL,X.Kk,b.Wk,f.S],encapsulation:2,changeDetection:0})}return a})(),Yo=(()=>{class a{static#e=this.\u0275fac=function(t){return new(t||a)};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["app-header"]],decls:5,vars:0,consts:[[1,"main-header","navbar","navbar-expand","navbar-white","navbar-light"],[1,"navbar-nav","ml-auto"]],template:function(t,o){1&t&&(e.j41(0,"nav",0),e.nrm(1,"header-left-navbar"),e.j41(2,"ul",1),e.nrm(3,"header-language-menu")(4,"header-user-menu"),e.k0s()())},dependencies:[Ao,wo,zo],encapsulation:2,changeDetection:0})}return a})(),Uo=(()=>{class a extends v.q{constructor(i){super(i),this.currentYear=(new Date).getFullYear(),this.versionText=this.appSession.application.version+" ["+this.appSession.application.releaseDate.format("YYYYDDMM")+"]"}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["app-footer"]],features:[e.Vt3],decls:11,vars:5,consts:[[1,"main-footer"],["href","javascript:;"],[1,"float-right","d-none","d-sm-inline-block"]],template:function(t,o){1&t&&(e.j41(0,"footer",0)(1,"strong"),e.EFF(2),e.j41(3,"a",1),e.EFF(4,"ABAAssistant"),e.k0s(),e.EFF(5,". "),e.k0s(),e.j41(6,"div",2)(7,"b"),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.EFF(10),e.k0s()()),2&t&&(e.R7$(2),e.SpI(" Copyright \xa9 ",o.currentYear," "),e.R7$(6),e.SpI("",e.bMT(9,3,"Version")," "),e.R7$(2),e.SpI(" ",o.versionText," "))},dependencies:[f.S],encapsulation:2,changeDetection:0})}return a})();const Xo=()=>["home"];let Ho=(()=>{class a{static#e=this.\u0275fac=function(t){return new(t||a)};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["sidebar-logo"]],decls:4,vars:2,consts:[[1,"brand-link",3,"routerLink"],["src","assets/img/logo.png","alt","Logo",1,"brand-image","img-circle","elevation-3",2,"opacity","0.8"],[1,"brand-text","font-weight-light"]],template:function(t,o){1&t&&(e.j41(0,"a",0),e.nrm(1,"img",1),e.j41(2,"span",2),e.EFF(3,"ABAAssistant"),e.k0s()()),2&t&&e.Y8G("routerLink",e.lJ4(1,Xo))},dependencies:[b.Wk],encapsulation:2,changeDetection:0})}return a})(),xo=(()=>{class a extends v.q{constructor(i){super(i),this.shownLoginName=""}ngOnInit(){this.shownLoginName=this.appSession.getShownLoginName()}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["sidebar-user-panel"]],features:[e.Vt3],decls:6,vars:1,consts:[[1,"user-panel","mt-3","pb-3","mb-3","d-flex"],[1,"image"],["src","assets/img/user.png","alt","User Image",1,"img-circle","elevation-2"],[1,"info"],["href","javascript:;",1,"d-block"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"img",2),e.k0s(),e.j41(3,"div",3)(4,"a",4),e.EFF(5),e.k0s()()()),2&t&&(e.R7$(5),e.JRh(o.shownLoginName))},encapsulation:2,changeDetection:0})}return a})();var qo=M(84412);class N{constructor(d,i,t,o=null,n=null){this.label=d,this.route=i,this.icon=t,this.permissionName=o,this.children=n}}const De=a=>({item:a});function Oo(a,d){1&a&&e.eu8(0)}function Jo(a,d){if(1&a&&(e.qex(0),e.DNE(1,Oo,1,0,"ng-container",4),e.bVm()),2&a){const i=d.$implicit;e.XpG();const t=e.sdS(4);e.R7$(),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.eq3(2,De,i))}}function Lo(a,d){if(1&a&&(e.j41(0,"a",11),e.nrm(1,"i"),e.j41(2,"p"),e.EFF(3),e.k0s()()),2&a){const i=e.XpG(2).item;e.AVh("active",i.isActive),e.Y8G("routerLink",i.route),e.R7$(),e.ZvI("nav-icon ",i.icon,""),e.R7$(2),e.SpI(" ",i.label," ")}}function Zo(a,d){if(1&a&&(e.j41(0,"a",12),e.nrm(1,"i"),e.j41(2,"p"),e.EFF(3),e.k0s()()),2&a){const i=e.XpG(2).item;e.Y8G("href",i.route,e.B4B),e.R7$(),e.ZvI("nav-icon ",i.icon,""),e.R7$(2),e.SpI(" ",i.label," ")}}function Wo(a,d){if(1&a){const i=e.RV6();e.j41(0,"a",13),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2).item;return e.Njj(o.isCollapsed=!o.isCollapsed)}),e.nrm(1,"i"),e.j41(2,"p"),e.EFF(3),e.nrm(4,"i",14),e.k0s()()}if(2&a){const i=e.XpG(2).item;e.AVh("active",i.isActive),e.R7$(),e.ZvI("nav-icon ",i.icon,""),e.R7$(2),e.SpI(" ",i.label," ")}}function Qo(a,d){1&a&&e.eu8(0)}function Ko(a,d){if(1&a&&(e.qex(0),e.DNE(1,Qo,1,0,"ng-container",4),e.bVm()),2&a){const i=d.$implicit;e.XpG(4);const t=e.sdS(4);e.R7$(),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.eq3(2,De,i))}}function ei(a,d){if(1&a&&(e.j41(0,"ul",15),e.DNE(1,Ko,2,4,"ng-container",3),e.k0s()),2&a){const i=e.XpG(2).item;e.Y8G("collapse",i.isCollapsed)("isAnimated",!0),e.R7$(),e.Y8G("ngForOf",i.children)}}function oi(a,d){if(1&a&&(e.j41(0,"li",6),e.DNE(1,Lo,4,7,"a",7)(2,Zo,4,5,"a",8)(3,Wo,5,6,"a",9)(4,ei,2,3,"ul",10),e.k0s()),2&a){const i=e.XpG().item;e.AVh("menu-open",!i.isCollapsed)("has-treeview",i.children),e.R7$(),e.Y8G("ngIf",i.route&&0!=i.route.indexOf("http")),e.R7$(),e.Y8G("ngIf",i.route&&0==i.route.indexOf("http")&&!i.children),e.R7$(),e.Y8G("ngIf",!i.route&&i.children),e.R7$(),e.Y8G("ngIf",i.children)}}function ii(a,d){if(1&a&&e.DNE(0,oi,5,8,"li",5),2&a){const i=d.item,t=e.XpG();e.Y8G("ngIf",t.isMenuItemVisible(i))}}let ti=(()=>{class a extends v.q{constructor(i,t){super(i),this.router=t,this.menuItemsMap={},this.activatedMenuItems=[],this.routerEvents=new qo.t(void 0),this.homeRoute="/app/about"}ngOnInit(){this.menuItems=this.getMenuItems(),this.patchMenuItems(this.menuItems),this.router.events.subscribe(i=>{const o=this.router.parseUrl("/"!==i.url?i.url:this.homeRoute).root.children[b.Xk];o&&this.activateMenuItems("/"+o.toString())})}getMenuItems(){return[new N(this.l("MeuPerfil"),"/app/personal","fas fa-user"),new N(this.l("About"),"/app/about","fas fa-info-circle"),new N(this.l("HomePage"),"/app/home","fas fa-home"),new N(this.l("Servidor"),"","fas fa-circle","Pages.Users",[new N(this.l("Roles"),"/app/roles","fas fa-theater-masks","Pages.Roles"),new N(this.l("Tenants"),"/app/tenants","fas fa-building","Pages.Tenants"),new N(this.l("Users"),"/app/users","fas fa-users","Pages.Users")]),new N(this.l("Clientes"),"","fas fa-users","Business.Admin.People",[new N(this.l("Alunos"),"/app/alunos","fas fa-users","Business.Admin.People"),new N(this.l("Responsaveis"),"/app/responsaveis","fas fa-users","Business.Admin.People")]),new N(this.l("Administrativo"),"","fas fa-address-book","Business.Admin",[new N(this.l("Fun\xe7\xf5es"),"/app/funcoes","fas fa-address-book","Business.Admin.OrgRoles"),new N(this.l("Colaboradores"),"/app/colaboradores","fas fa-users","Business.Admin.People")]),new N(this.l("Financeiro"),"","fas fa-address-book","Business.Finance",[new N(this.l("Servi\xe7os Prestados"),"/app/servicos-prestados","fas fa-address-book","Business.Finance"),new N(this.l("Tipos de Servi\xe7o Prestado"),"/app/servicos-prestados/tipos","fas fa-address-book","Business.Finance")]),new N(this.l("T\xe9cnico"),"","fas fa-book","Business.Technical",[new N(this.l("Protocolos de Interven\xe7\xe3o"),"/app/protocolos-intervencao","fas fa-book","Business.Technical"),new N(this.l("Protocolos de Avalia\xe7\xe3o"),"/app/protocolos-avaliacao","fas fa-book","Business.Technical"),new N(this.l("T\xe9cnicas"),"/app/tecnicas","fas fa-book","Business.Technical"),new N(this.l("Refer\xeancias Bibliogr\xe1ficas"),"/app/ref-bibliograficas","fas fa-book","Business.Technical"),new N(this.l("Formatos de Ensino"),"/app/formatos-ensino","fas fa-book","Business.Technical"),new N(this.l("Hierarquias de Ajuda"),"/app/hierarquias-ajuda","fas fa-book","Business.Technical")])]}patchMenuItems(i,t){i.forEach((o,n)=>{o.id=t?+(t+""+(n+1)):n+1,t&&(o.parentId=t),(t||o.children)&&(this.menuItemsMap[o.id]=o),o.children&&this.patchMenuItems(o.children,o.id)})}activateMenuItems(i){this.deactivateMenuItems(this.menuItems),this.activatedMenuItems=[],this.findMenuItemsByUrl(i,this.menuItems).forEach(o=>{this.activateMenuItem(o)})}deactivateMenuItems(i){i.forEach(t=>{t.isActive=!1,t.isCollapsed=!0,t.children&&this.deactivateMenuItems(t.children)})}findMenuItemsByUrl(i,t,o=[]){return t.forEach(n=>{n.route===i?o.push(n):n.children&&this.findMenuItemsByUrl(i,n.children,o)}),o}activateMenuItem(i){i.isActive=!0,i.children&&(i.isCollapsed=!1),this.activatedMenuItems.push(i),i.parentId&&this.activateMenuItem(this.menuItemsMap[i.parentId])}isMenuItemVisible(i){return!i.permissionName||this.permission.isGranted(i.permissionName)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(b.Ix))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["sidebar-menu"]],features:[e.Vt3],decls:5,vars:1,consts:[["sidebarInner",""],[1,"mt-2"],["data-widget","treeview","role","menu","data-accordion","false",1,"nav","nav-pills","nav-sidebar","flex-column","nav-flat"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","nav-item",3,"menu-open","has-treeview",4,"ngIf"],[1,"nav-item"],["class","nav-link",3,"routerLink","active",4,"ngIf"],["class","nav-link","target","_blank",3,"href",4,"ngIf"],["class","nav-link","href","javascript:;",3,"active","click",4,"ngIf"],["class","nav nav-treeview",3,"collapse","isAnimated",4,"ngIf"],[1,"nav-link",3,"routerLink"],["target","_blank",1,"nav-link",3,"href"],["href","javascript:;",1,"nav-link",3,"click"],[1,"right","fas","fa-angle-left"],[1,"nav","nav-treeview",3,"collapse","isAnimated"]],template:function(t,o){1&t&&(e.j41(0,"nav",1)(1,"ul",2),e.DNE(2,Jo,2,4,"ng-container",3),e.k0s()(),e.DNE(3,ii,1,1,"ng-template",null,0,e.C5r)),2&t&&(e.R7$(2),e.Y8G("ngForOf",o.menuItems))},dependencies:[h.Sq,h.bT,h.T3,Te.D,b.Wk],encapsulation:2})}return a})(),ni=(()=>{class a{constructor(i,t){this.renderer=i,this._layoutStore=t}ngOnInit(){this._layoutStore.sidebarExpanded.subscribe(i=>{this.sidebarExpanded=i,this.toggleSidebar()})}toggleSidebar(){this.sidebarExpanded?this.hideSidebar():this.showSidebar()}showSidebar(){this.renderer.removeClass(document.body,"sidebar-collapse"),this.renderer.addClass(document.body,"sidebar-open")}hideSidebar(){this.renderer.removeClass(document.body,"sidebar-open"),this.renderer.addClass(document.body,"sidebar-collapse")}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.sFG),e.rXU(ie.B))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["sidebar"]],decls:5,vars:0,consts:[[1,"main-sidebar","sidebar-dark-primary","elevation-4"],[1,"sidebar"]],template:function(t,o){1&t&&(e.j41(0,"aside",0),e.nrm(1,"sidebar-logo"),e.j41(2,"div",1),e.nrm(3,"sidebar-user-panel")(4,"sidebar-menu"),e.k0s()())},dependencies:[Ho,xo,ti],encapsulation:2,changeDetection:0})}return a})(),ai=(()=>{class a extends v.q{constructor(i,t,o){super(i),this.renderer=t,this._layoutStore=o}ngOnInit(){this.renderer.addClass(document.body,"sidebar-mini"),Eo.initSignalR(),abp.event.on("abp.notifications.received",i=>{abp.notifications.showUiNotifyForUserNotification(i),Push.create("AbpZeroTemplate",{body:i.notification.data.message,icon:abp.appPath+"assets/app-logo-small.png",timeout:6e3,onClick:function(){window.focus(),this.close()}})}),this._layoutStore.sidebarExpanded.subscribe(i=>{this.sidebarExpanded=i})}toggleSidebar(){this._layoutStore.setSidebarExpanded(!this.sidebarExpanded)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(e.sFG),e.rXU(ie.B))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:7,vars:0,consts:[[1,"wrapper"],[1,"content-wrapper"],["id","sidebar-overlay",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"div",0),e.nrm(1,"app-header")(2,"sidebar"),e.j41(3,"div",1),e.nrm(4,"router-outlet"),e.k0s(),e.nrm(5,"app-footer"),e.j41(6,"div",2),e.bIt("click",function(){return o.toggleSidebar()}),e.k0s()())},dependencies:[b.n3,Yo,Uo,ni],encapsulation:2})}return a})();var D=M(37191),k=M(42856);let si=(()=>{class a extends v.q{constructor(i){super(i)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:214,vars:4,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"content","px-2"],[1,"alert","alert-info","alert-dismissible"],[1,"icon","fa","fa-info"],[1,"col-lg-3","col-6"],[1,"small-box","bg-info"],[1,"inner"],[1,"icon"],[1,"fas","fa-users"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/graphs/contributors","target","_blank",1,"small-box-footer"],[1,"fas","fa-arrow-circle-right"],[1,"small-box","bg-warning"],[1,"fas","fa-tools"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/network/dependents","target","_blank",1,"small-box-footer"],[1,"small-box","bg-primary"],[1,"fas","fa-code"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/network/members","target","_blank",1,"small-box-footer"],[1,"col-12","col-sm-6","col-md-3"],[1,"info-box"],[1,"info-box-icon","bg-primary","elevation-1"],[1,"fas","fa-plus-circle"],[1,"info-box-content"],[1,"info-box-text"],[1,"info-box-number"],[1,"info-box","mb-3"],[1,"info-box-icon","bg-warning","elevation-1"],[1,"fas","fa-exclamation-triangle"],[1,"clearfix","hidden-md-up"],[1,"info-box-icon","bg-info","elevation-1"],[1,"fas","fa-tag"],[1,"info-box-icon","bg-success","elevation-1"],[1,"fas","fa-eye"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body","table-responsive","p-0"],[1,"table","table-hover","text-nowrap"],[1,"bg-light"],[1,"w-25"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/issues/5452","target","_blank"],[1,"badge","badge-secondary","mx-1"],[1,"badge","badge-primary","mx-1"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/issues/5391","target","_blank"],[1,"badge","badge-danger","mx-1"],[1,"badge","badge-success","mx-1"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/issues/5390","target","_blank"],[1,"badge","badge-warning","mx-1"],[1,"badge","badge-info","mx-1"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/pull/5430","target","_blank"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/pull/5362","target","_blank"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/pull/4924","target","_blank"]],template:function(t,o){1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()()(),e.j41(8,"section",4)(9,"div",1)(10,"div",2)(11,"div",3)(12,"div",5)(13,"h6"),e.nrm(14,"i",6),e.EFF(15," This is a sample Dashboard which doesn't show any server side data. However, you can develop your own dashboard inspired by this one and its source code."),e.k0s()()()(),e.j41(16,"div",2)(17,"div",7)(18,"div",8)(19,"div",9)(20,"h3"),e.EFF(21,"140+"),e.k0s(),e.j41(22,"p"),e.EFF(23,"Contributors"),e.k0s()(),e.j41(24,"div",10),e.nrm(25,"i",11),e.k0s(),e.j41(26,"a",12),e.EFF(27," More info "),e.nrm(28,"i",13),e.k0s()()(),e.j41(29,"div",7)(30,"div",14)(31,"div",9)(32,"h3"),e.EFF(33,"1.6k+"),e.k0s(),e.j41(34,"p"),e.EFF(35,"Used / Dependents"),e.k0s()(),e.j41(36,"div",10),e.nrm(37,"i",15),e.k0s(),e.j41(38,"a",16),e.EFF(39," More info "),e.nrm(40,"i",13),e.k0s()()(),e.j41(41,"div",7)(42,"div",17)(43,"div",9)(44,"h3"),e.EFF(45,"3.1k+"),e.k0s(),e.j41(46,"p"),e.EFF(47,"Forks"),e.k0s()(),e.j41(48,"div",10),e.nrm(49,"i",18),e.k0s(),e.j41(50,"a",19),e.EFF(51," More info "),e.nrm(52,"i",13),e.k0s()()()(),e.j41(53,"div",2)(54,"div",20)(55,"div",21)(56,"span",22),e.nrm(57,"i",23),e.k0s(),e.j41(58,"div",24)(59,"span",25),e.EFF(60,"Commits"),e.k0s(),e.j41(61,"span",26),e.EFF(62," 6,350+ "),e.k0s()()()(),e.j41(63,"div",20)(64,"div",27)(65,"span",28),e.nrm(66,"i",29),e.k0s(),e.j41(67,"div",24)(68,"span",25),e.EFF(69,"Issues"),e.k0s(),e.j41(70,"span",26),e.EFF(71," 170+ "),e.k0s()()()(),e.nrm(72,"div",30),e.j41(73,"div",20)(74,"div",27)(75,"span",31),e.nrm(76,"i",32),e.k0s(),e.j41(77,"div",24)(78,"span",25),e.EFF(79,"Releases"),e.k0s(),e.j41(80,"span",26),e.EFF(81," 200+ "),e.k0s()()()(),e.j41(82,"div",20)(83,"div",27)(84,"span",33),e.nrm(85,"i",34),e.k0s(),e.j41(86,"div",24)(87,"span",25),e.EFF(88,"Watching by"),e.k0s(),e.j41(89,"span",26),e.EFF(90," 810+ "),e.k0s()()()()(),e.j41(91,"div",2)(92,"div",35)(93,"div",36)(94,"div",37)(95,"h3",38),e.EFF(96,"Open Issues"),e.k0s()(),e.j41(97,"div",39)(98,"table",40)(99,"thead",41)(100,"tr")(101,"th"),e.EFF(102,"Id"),e.k0s(),e.j41(103,"th",42),e.EFF(104,"Title"),e.k0s(),e.j41(105,"th",42),e.EFF(106,"Labels"),e.k0s(),e.j41(107,"th"),e.EFF(108,"Date"),e.k0s(),e.j41(109,"th"),e.EFF(110,"Opened by"),e.k0s()()(),e.j41(111,"tbody")(112,"tr")(113,"td")(114,"a",43),e.EFF(115," 5452 "),e.k0s()(),e.j41(116,"td"),e.EFF(117,"Angular UI migration to AdminLTE 3"),e.k0s(),e.j41(118,"td")(119,"span",44),e.EFF(120," module-zero-core-template "),e.k0s(),e.j41(121,"span",45),e.EFF(122," feature "),e.k0s()(),e.j41(123,"td"),e.EFF(124,"11 days ago"),e.k0s(),e.j41(125,"td"),e.EFF(126,"iyilm4z"),e.k0s()(),e.j41(127,"tr")(128,"td")(129,"a",46),e.EFF(130," 5391 "),e.k0s()(),e.j41(131,"td"),e.EFF(132," AbpCacheBase should lock the same object for sync and async "),e.k0s(),e.j41(133,"td")(134,"span",47),e.EFF(135," bug "),e.k0s(),e.j41(136,"span",48),e.EFF(137," pull request candidate "),e.k0s()(),e.j41(138,"td"),e.EFF(139,"26 days ago"),e.k0s(),e.j41(140,"td"),e.EFF(141,"acjh"),e.k0s()(),e.j41(142,"tr")(143,"td")(144,"a",49),e.EFF(145," 5390 "),e.k0s()(),e.j41(146,"td"),e.EFF(147,"AbpCache sliding/absolute expire time"),e.k0s(),e.j41(148,"td")(149,"span",50),e.EFF(150," breaking-change "),e.k0s(),e.j41(151,"span",51),e.EFF(152,"enhancement"),e.k0s()(),e.j41(153,"td"),e.EFF(154,"27 days ago"),e.k0s(),e.j41(155,"td"),e.EFF(156,"ryancyq"),e.k0s()()()()()()()(),e.j41(157,"div",2)(158,"div",35)(159,"div",36)(160,"div",37)(161,"h3",38),e.EFF(162,"Closed Pull Requests"),e.k0s()(),e.j41(163,"div",39)(164,"table",40)(165,"thead",41)(166,"tr")(167,"th"),e.EFF(168,"Id"),e.k0s(),e.j41(169,"th",42),e.EFF(170,"Title"),e.k0s(),e.j41(171,"th",42),e.EFF(172,"Milestone"),e.k0s(),e.j41(173,"th"),e.EFF(174,"Date"),e.k0s(),e.j41(175,"th"),e.EFF(176,"Made by"),e.k0s()()(),e.j41(177,"tbody")(178,"tr")(179,"td")(180,"a",52),e.EFF(181," 5430 "),e.k0s()(),e.j41(182,"td"),e.EFF(183," Added Dynamic-Parameter-System doc to documentation menu "),e.k0s(),e.j41(184,"td"),e.EFF(185,"v5.6"),e.k0s(),e.j41(186,"td"),e.EFF(187,"18 days ago"),e.k0s(),e.j41(188,"td"),e.EFF(189,"maliming"),e.k0s()(),e.j41(190,"tr")(191,"td")(192,"a",53),e.EFF(193," 5362 "),e.k0s()(),e.j41(194,"td"),e.EFF(195," Dynamic Parameter Module "),e.k0s(),e.j41(196,"td"),e.EFF(197,"v5.4"),e.k0s(),e.j41(198,"td"),e.EFF(199,"25 days ago"),e.k0s(),e.j41(200,"td"),e.EFF(201,"demirmusa"),e.k0s()(),e.j41(202,"tr")(203,"td")(204,"a",54),e.EFF(205," 4924 "),e.k0s()(),e.j41(206,"td"),e.EFF(207," ASP.NET Core 3.0 Upgrade "),e.k0s(),e.j41(208,"td"),e.EFF(209,"v5.0"),e.k0s(),e.j41(210,"td"),e.EFF(211,"Oct 15"),e.k0s(),e.j41(212,"td"),e.EFF(213,"ismcagdas"),e.k0s()()()()()()()()()()()),2&t&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,2,"HomePage")))},dependencies:[f.S],encapsulation:2,data:{animation:[(0,k.OD)()]},changeDetection:0})}return a})(),li=(()=>{class a extends v.q{constructor(i){super(i)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:106,vars:4,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"content","px-2"],[1,"card"],[1,"card-body"],["href","http://aspnetzero.com?ref=abptmpl","target","_blank"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Zero/Tenant-Management"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Zero/Role-Management"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Zero/User-Management"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Authorization"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Zero/Permission-Management"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Setting-Management"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Zero/Language-Management"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Audit-Logging"],["href","https://docs.microsoft.com/en-us/aspnet/core/security/authentication/identity","target","_blank"],["href","https://www.aspnetboilerplate.com/Pages/Documents/Zero/Startup-Template-Core"],["href","http://www.aspnetboilerplate.com/Pages/Documents"],["href","https://github.com/aspnetboilerplate/module-zero-core-template","target","_blank"]],template:function(t,o){1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()()(),e.j41(8,"section",4)(9,"div",1)(10,"div",5)(11,"div",6)(12,"p"),e.EFF(13," This is a simple startup template based on ASP.NET Boilerplate framework and Module Zero. If you need an enterprise startup project, check "),e.j41(14,"a",7),e.EFF(15," ASP.NET ZERO "),e.k0s(),e.EFF(16,". "),e.k0s(),e.j41(17,"h3"),e.EFF(18,"What is ASP.NET Boilerplate?"),e.k0s(),e.j41(19,"p"),e.EFF(20," ASP.NET Boilerplate is an application framework built on latest "),e.j41(21,"strong"),e.EFF(22,"ASP.NET Core"),e.k0s(),e.EFF(23," framework. It makes easy to use authorization, dependency injection, validation, exception handling, localization, logging, caching, background jobs and so on. It's built on already familiar tools like Entity Framework, AutoMapper, Castle Windsor... "),e.k0s(),e.j41(24,"p"),e.EFF(25," ASP.NET Boilerplate implements "),e.j41(26,"strong"),e.EFF(27,"NLayer architecture"),e.k0s(),e.EFF(28," (Domain, Application, Infrastructure and Presentation Layers) and "),e.j41(29,"strong"),e.EFF(30,"Domain Driven Design"),e.k0s(),e.EFF(31," (Entities, Repositories, Domain/Application Services, DTO's...). Also implements and provides a good infrastructure to implement common software development "),e.j41(32,"strong"),e.EFF(33,"best practices"),e.k0s(),e.EFF(34,". "),e.k0s(),e.j41(35,"h3"),e.EFF(36,"What is Module Zero?"),e.k0s(),e.j41(37,"p"),e.EFF(38," ASP.NET Boilerplate framework is designed to be independent of any database schema and to be as generic as possible. Therefore, It leaves some concepts "),e.j41(39,"strong"),e.EFF(40,"abstract"),e.k0s(),e.EFF(41," and "),e.j41(42,"strong"),e.EFF(43,"optional"),e.k0s(),e.EFF(44," (like audit logging, permission and setting stores) which requires some "),e.j41(45,"strong"),e.EFF(46,"data store"),e.k0s(),e.EFF(47,". "),e.k0s(),e.j41(48,"p")(49,"strong"),e.EFF(50,"Module Zero "),e.k0s(),e.EFF(51,"implements all fundamental concepts of ASP.NET Boilerplate framework such as "),e.j41(52,"a",8),e.EFF(53,"tenant management"),e.k0s(),e.EFF(54," ("),e.j41(55,"strong"),e.EFF(56,"multi-tenancy"),e.k0s(),e.EFF(57,"), "),e.j41(58,"a",9),e.EFF(59," role management "),e.k0s(),e.EFF(60,", "),e.j41(61,"a",10),e.EFF(62,"user management"),e.k0s(),e.EFF(63,", "),e.j41(64,"a",11),e.EFF(65,"authorization"),e.k0s(),e.EFF(66," ("),e.j41(67,"a",12),e.EFF(68," permission management "),e.k0s(),e.EFF(69,"), "),e.j41(70,"a",13),e.EFF(71,"setting management"),e.k0s(),e.EFF(72,", "),e.j41(73,"a",14),e.EFF(74," language management "),e.k0s(),e.EFF(75,", "),e.j41(76,"a",15),e.EFF(77,"audit logging"),e.k0s(),e.EFF(78," and so on. "),e.k0s(),e.j41(79,"p"),e.EFF(80," Module-Zero defines entities and implements "),e.j41(81,"strong"),e.EFF(82,"domain logic"),e.k0s(),e.EFF(83," (domain layer) and leaves application and presentation layers to you. "),e.k0s(),e.j41(84,"h4"),e.EFF(85,"Based on Microsoft ASP.NET Core Identity"),e.k0s(),e.j41(86,"p"),e.EFF(87," Module Zero is based on Microsoft's "),e.j41(88,"a",16),e.EFF(89,"ASP.NET Core Identity"),e.k0s(),e.EFF(90," library. It extends user and role managers and implements user and role stores using generic repositories. "),e.k0s(),e.j41(91,"h3"),e.EFF(92,"Documentation"),e.k0s(),e.j41(93,"ul")(94,"li")(95,"a",17),e.EFF(96,"Documentation for this template"),e.k0s()(),e.j41(97,"li")(98,"a",18),e.EFF(99,"ASP.NET Boilerplate documentation"),e.k0s()()(),e.j41(100,"h3"),e.EFF(101,"Source code"),e.k0s(),e.j41(102,"p"),e.EFF(103," This template is developed open source on Github. You can contribute to the template. "),e.j41(104,"a",19),e.EFF(105,"https://github.com/aspnetboilerplate/module-zero-core-template"),e.k0s()()()()()()()),2&t&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,2,"About")))},dependencies:[f.S],encapsulation:2,data:{animation:[(0,k.OD)()]},changeDetection:0})}return a})();var $=M(70980);class ri{}class te{constructor(d,i){this.value=d,this.label=i}}class di{constructor(d){this._src=d,this.maxPages=7}*pages(){for(let d=1;d<=this.getLastPage();d++)yield new te(d,d.toString())}getPages(){var d=[...this.pages()];if(d.length>this.maxPages){var i=this.getCurrent(),t=Math.floor((this.maxPages-1)/2),o=Math.ceil((this.maxPages-1)/2),n=i-1,s=this.getLastPage()-i;n<t?o+=t-n:s<o&&(t+=o-s);var l=d.length;n>t&&(d.splice(1,n-t+1,new te(void 0,"...")),l-=n-t,i-=n-t),s>o&&d.splice(i+o-2,l-(i+o-1),new te(void 0,"..."))}return d}previous(){this.setCurrent(this.getCurrent()-1)}next(){this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1==this.getCurrent()}isLastPage(){return this.getCurrent()==this.getLastPage()}setCurrent(d){null!=d&&this._src.getDataPage(d)}getCurrent(){return this._src.pageNumber}getLastPage(){return this._src.totalPages}getTotalItems(){return this._src.totalItems}}let A=(()=>{class a extends v.q{constructor(i){super(i),this.pageSize=10,this.pageNumber=1,this.totalPages=1,this.isTableLoading=!1,this.paginator=new di(this)}ngOnInit(){this.refresh()}refresh(){this.getDataPage(this.pageNumber)}showPaging(i,t){this.totalPages=(i.totalCount-i.totalCount%this.pageSize)/this.pageSize+1,this.totalItems=i.totalCount,this.pageNumber=t}getDataPage(i){const t=new ri;t.maxResultCount=this.pageSize,t.skipCount=(i-1)*this.pageSize,this.isTableLoading=!0,this.list(t,i,()=>{this.isTableLoading=!1})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:0,vars:0,template:function(t,o){},encapsulation:2})}return a})();var Ae=M(56689),ci=M(37277),ye=M(73883),Ge=M(31287);const mi=function ui(a,d){var i=-1,t=(0,Ge.A)(a)?Array(a.length):[];return(0,ye.A)(a,function(o,n,s){t[++i]=d(o,n,s)}),t};var ne=M(43744);const Z=function pi(a,d){return((0,ne.A)(a)?Ae.A:mi)(a,(0,ci.A)(d,3))},fi=function hi(a,d){for(var i=-1,t=null==a?0:a.length;++i<t&&!1!==d(a[i],i,a););return a};var bi=M(57003);const W=function vi(a,d){return((0,ne.A)(a)?fi:ye.A)(a,function gi(a){return"function"==typeof a?a:bi.A}(d))};var y=M(48339),j=M(417),R=M(42991);let Pe=(()=>{class a{constructor(i,t){this.validateEqual=i,this.reverse=t}get isReverse(){return!!this.reverse&&"true"===this.reverse}validate(i){const t=i.value,o=i.root.get(this.validateEqual);return o&&t!==o.value&&!this.isReverse?{validateEqual:!0}:(o&&t===o.value&&this.isReverse&&(delete o.errors.validateEqual,Object.keys(o.errors).length||o.setErrors(null)),o&&t!==o.value&&this.isReverse&&o.setErrors({validateEqual:!0}),null)}static#e=this.\u0275fac=function(t){return new(t||a)(e.kS0("validateEqual"),e.kS0("reverse"))};static#o=this.\u0275dir=e.FsC({type:a,selectors:[["","validateEqual","","formControlName",""],["","validateEqual","","formControl",""],["","validateEqual","","ngModel",""]],features:[e.Jv_([{provide:r.cz,useExisting:(0,e.Rfq)(()=>a),multi:!0}])]})}return a})();function Ci(a,d){if(1&a){const i=e.RV6();e.qex(0),e.j41(1,"div",34)(2,"div",29)(3,"input",35),e.bIt("change",function(o){const n=e.eBV(i).$implicit,s=e.XpG();return e.Njj(s.onRoleChange(n,o))}),e.k0s(),e.j41(4,"label",36),e.EFF(5),e.k0s()()(),e.bVm()}if(2&a){const i=d.$implicit,t=d.index,o=e.XpG();e.R7$(3),e.Y8G("id","role_"+t)("checked",o.isRoleChecked(i.normalizedName)),e.R7$(),e.Y8G("for","role_"+t),e.R7$(),e.SpI(" ",i.name," ")}}let Ii=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._userService=t,this.bsModalRef=o,this.saving=!1,this.user=new c.TGj,this.roles=[],this.checkedRolesMap={},this.defaultRoleCheckedStatus=!1,this.passwordValidationErrors=[{name:"pattern",localizationKey:"PasswordsMustBeAtLeast8CharactersContainLowercaseUppercaseNumber"}],this.confirmPasswordValidationErrors=[{name:"validateEqual",localizationKey:"PasswordsDoNotMatch"}],this.onSave=new e.bkB}ngOnInit(){this.user.isActive=!0,this._userService.getRoles().subscribe(i=>{this.roles=i.items,this.setInitialRolesStatus()})}setInitialRolesStatus(){Z(this.roles,i=>{this.checkedRolesMap[i.normalizedName]=this.isRoleChecked(i.normalizedName)})}isRoleChecked(i){return this.defaultRoleCheckedStatus}onRoleChange(i,t){this.checkedRolesMap[i.normalizedName]=t.target.checked}getCheckedRoles(){const i=[];return W(this.checkedRolesMap,function(t,o){t&&i.push(o)}),i}save(){this.saving=!0,this.user.roleNames=this.getCheckedRoles(),this._userService.create(this.user).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()},()=>{this.saving=!1})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.LCs),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:75,vars:53,consts:[["createUserModal","ngForm"],["nameModel","ngModel","nameEl",""],["surnameModel","ngModel","surnameEl",""],["userNameModel","ngModel","userNameEl",""],["passwordModel","ngModel","passwordEl",""],["confirmPasswordModel","ngModel","confirmPasswordEl",""],["emailAddressModel","ngModel","emailAddressEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],[1,"form-group","row","required"],["for","name",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","name","id","name","required","","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","surname",1,"col-md-3","col-form-label"],["type","text","name","surname","id","surname","required","","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],["for","userName",1,"col-md-3","col-form-label"],["type","text","name","userName","id","userName","required","","minlength","2","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"col-md-3","col-form-label"],["type","password","name","password","id","password","required","","maxlength","32","validateEqual","confirmPassword","reverse","true","pattern","(?=^.{8,}$)(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s)[0-9a-zA-Z!@#$%^&*()]*$",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl","customValidationErrors"],["for","confirmPassword",1,"col-md-3","col-form-label"],["type","password","name","confirmPassword","id","confirmPassword","required","","maxlength","32","validateEqual","password","reverse","false","ngModel","",1,"form-control"],["for","emailAddress",1,"col-md-3","col-form-label"],["type","email","name","emailAddress","id","emailAddress","required","","maxlength","256","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{1,})+$",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row","mb-0"],[1,"col-md-3","col-form-label"],[1,"custom-control","custom-checkbox"],["type","checkbox","name","isActive","id","isActive",1,"custom-control-input",3,"ngModelChange","ngModel"],["for","isActive",1,"custom-control-label","mt-2"],[4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[1,"col-md-6"],["type","checkbox",1,"custom-control-input",3,"change","id","checked"],[1,"custom-control-label",3,"for"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",7,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",8),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",9)(5,"tabset")(6,"tab",10),e.nI1(7,"localize"),e.j41(8,"div",11)(9,"label",12),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"div",13)(13,"input",14,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.user.name,l)||(o.user.name=l),e.Njj(l)}),e.k0s(),e.nrm(16,"abp-validation-summary",15),e.k0s()(),e.j41(17,"div",11)(18,"label",16),e.EFF(19),e.nI1(20,"localize"),e.k0s(),e.j41(21,"div",13)(22,"input",17,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.user.surname,l)||(o.user.surname=l),e.Njj(l)}),e.k0s(),e.nrm(25,"abp-validation-summary",15),e.k0s()(),e.j41(26,"div",11)(27,"label",18),e.EFF(28),e.nI1(29,"localize"),e.k0s(),e.j41(30,"div",13)(31,"input",19,3),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.user.userName,l)||(o.user.userName=l),e.Njj(l)}),e.k0s(),e.nrm(34,"abp-validation-summary",15),e.k0s()(),e.j41(35,"div",11)(36,"label",20),e.EFF(37),e.nI1(38,"localize"),e.k0s(),e.j41(39,"div",13)(40,"input",21,4),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.user.password,l)||(o.user.password=l),e.Njj(l)}),e.k0s(),e.nrm(43,"abp-validation-summary",22),e.k0s()(),e.j41(44,"div",11)(45,"label",23),e.EFF(46),e.nI1(47,"localize"),e.k0s(),e.j41(48,"div",13),e.nrm(49,"input",24,5)(52,"abp-validation-summary",22),e.k0s()(),e.j41(53,"div",11)(54,"label",25),e.EFF(55),e.nI1(56,"localize"),e.k0s(),e.j41(57,"div",13)(58,"input",26,6),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.user.emailAddress,l)||(o.user.emailAddress=l),e.Njj(l)}),e.k0s(),e.nrm(61,"abp-validation-summary",15),e.k0s()(),e.j41(62,"div",27)(63,"label",28),e.EFF(64),e.nI1(65,"localize"),e.k0s(),e.j41(66,"div",13)(67,"div",29)(68,"input",30),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.user.isActive,l)||(o.user.isActive=l),e.Njj(l)}),e.k0s(),e.nrm(69,"label",31),e.k0s()()()(),e.j41(70,"tab",10),e.nI1(71,"localize"),e.j41(72,"div",27),e.DNE(73,Ci,6,4,"ng-container",32),e.k0s()()()(),e.j41(74,"abp-modal-footer",33),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1),s=e.sdS(14),l=e.sdS(15),m=e.sdS(23),p=e.sdS(24),_=e.sdS(32),C=e.sdS(33),F=e.sdS(41),I=e.sdS(42),P=e.sdS(50),w=e.sdS(51),V=e.sdS(59),B=e.sdS(60);e.R7$(2),e.Y8G("title",e.bMT(3,33,"CreateNewUser")),e.R7$(4),e.Y8G("heading",e.bMT(7,35,"UserDetails")),e.R7$(4),e.SpI(" ",e.bMT(11,37,"Name")," "),e.R7$(3),e.R50("ngModel",o.user.name),e.R7$(3),e.Y8G("control",s)("controlEl",l),e.R7$(3),e.SpI(" ",e.bMT(20,39,"Surname")," "),e.R7$(3),e.R50("ngModel",o.user.surname),e.R7$(3),e.Y8G("control",m)("controlEl",p),e.R7$(3),e.SpI(" ",e.bMT(29,41,"UserName")," "),e.R7$(3),e.R50("ngModel",o.user.userName),e.R7$(3),e.Y8G("control",_)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(38,43,"Password")," "),e.R7$(3),e.R50("ngModel",o.user.password),e.R7$(3),e.Y8G("control",F)("controlEl",I)("customValidationErrors",o.passwordValidationErrors),e.R7$(3),e.SpI(" ",e.bMT(47,45,"ConfirmPassword")," "),e.R7$(6),e.Y8G("control",P)("controlEl",w)("customValidationErrors",o.confirmPasswordValidationErrors),e.R7$(3),e.SpI(" ",e.bMT(56,47,"EmailAddress")," "),e.R7$(3),e.R50("ngModel",o.user.emailAddress),e.R7$(3),e.Y8G("control",V)("controlEl",B),e.R7$(3),e.SpI(" ",e.bMT(65,49,"IsActive")," "),e.R7$(4),e.R50("ngModel",o.user.isActive),e.R7$(2),e.Y8G("heading",e.bMT(71,51,"UserRoles")),e.R7$(3),e.Y8G("ngForOf",o.roles),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[h.Sq,r.qT,r.me,r.Zm,r.BC,r.cb,r.YS,r.xh,r.tU,r.R_,r.vS,r.cV,S.V6,S.fw,y.e,j.x,R.z,Pe,f.S],encapsulation:2})}return a})();const Ri=function ji(a){return a!=a};var Di=M(45281),Ai=M(42661);var $i=/\s/;var Vi=/^\s+/;const zi=function Bi(a){return a&&a.slice(0,function wi(a){for(var d=a.length;d--&&$i.test(a.charAt(d)););return d}(a)+1).replace(Vi,"")};var $e=M(30554),Yi=M(74077),Ui=/^[-+]0x[0-9a-f]+$/i,Xi=/^0b[01]+$/i,Hi=/^0o[0-7]+$/i,xi=parseInt;var Ne=1/0;const Zi=function Li(a){return a?(a=function qi(a){if("number"==typeof a)return a;if((0,Yi.A)(a))return NaN;if((0,$e.A)(a)){var d="function"==typeof a.valueOf?a.valueOf():a;a=(0,$e.A)(d)?d+"":d}if("string"!=typeof a)return 0===a?a:+a;a=zi(a);var i=Xi.test(a);return i||Hi.test(a)?xi(a.slice(2),i?2:8):Ui.test(a)?NaN:+a}(a))===Ne||a===-Ne?17976931348623157e292*(a<0?-1:1):a==a?a:0:0===a?a:0};var ot=M(2662);const tt=function it(a){return null==a?[]:function Ki(a,d){return(0,Ae.A)(d,function(i){return a[i]})}(a,(0,ot.A)(a))};var nt=Math.max;const Ve=function at(a,d,i,t){a=(0,Ge.A)(a)?a:tt(a),i=i&&!t?function Wi(a){var d=Zi(a),i=d%1;return d==d?i?d-i:d:0}(i):0;var o=a.length;return i<0&&(i=nt(o+i,0)),function Gi(a){return"string"==typeof a||!(0,ne.A)(a)&&(0,Ai.A)(a)&&"[object String]"==(0,Di.A)(a)}(a)?i<=o&&a.indexOf(d,i)>-1:!!o&&function Ei(a,d,i){return d==d?function Si(a,d,i){for(var t=i-1,o=a.length;++t<o;)if(a[t]===d)return t;return-1}(a,d,i):function Fi(a,d,i,t){for(var o=a.length,n=i+(t?1:-1);t?n--:++n<o;)if(d(a[n],n,a))return n;return-1}(a,Ri,i)}(a,d,i)>-1};function st(a,d){if(1&a){const i=e.RV6();e.qex(0),e.j41(1,"div",27)(2,"div",22)(3,"input",28),e.bIt("change",function(o){const n=e.eBV(i).$implicit,s=e.XpG();return e.Njj(s.onRoleChange(n,o))}),e.k0s(),e.j41(4,"label",29),e.EFF(5),e.k0s()()(),e.bVm()}if(2&a){const i=d.$implicit,t=d.index,o=e.XpG();e.R7$(3),e.Y8G("id","role_"+t)("checked",o.isRoleChecked(i.normalizedName)),e.R7$(),e.Y8G("for","role_"+t),e.R7$(),e.SpI(" ",i.name," ")}}let lt=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._userService=t,this.bsModalRef=o,this.saving=!1,this.user=new c.Lq4,this.roles=[],this.checkedRolesMap={},this.onSave=new e.bkB}ngOnInit(){this._userService.get(this.id).subscribe(i=>{this.user=i,this._userService.getRoles().subscribe(t=>{this.roles=t.items,this.setInitialRolesStatus()})})}setInitialRolesStatus(){Z(this.roles,i=>{this.checkedRolesMap[i.normalizedName]=this.isRoleChecked(i.normalizedName)})}isRoleChecked(i){return Ve(this.user.roleNames,i)}onRoleChange(i,t){this.checkedRolesMap[i.normalizedName]=t.target.checked}getCheckedRoles(){const i=[];return W(this.checkedRolesMap,function(t,o){t&&i.push(o)}),i}save(){this.saving=!0,this.user.roleNames=this.getCheckedRoles(),this._userService.update(this.user).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()},()=>{this.saving=!1})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.LCs),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:57,vars:40,consts:[["editUserModal","ngForm"],["nameModel","ngModel","nameEl",""],["surnameModel","ngModel","surnameEl",""],["userNameModel","ngModel","userNameEl",""],["emailAddressModel","ngModel","emailAddressEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],[1,"form-group","row","required"],["for","name",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","name","id","name","required","","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","surname",1,"col-md-3","col-form-label"],["type","text","name","surname","id","surname","required","","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],["for","userName",1,"col-md-3","col-form-label"],["type","text","name","userName","id","userName","required","","minlength","2","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],["for","emailAddress",1,"col-md-3","col-form-label"],["type","email","name","emailAddress","id","emailAddress","required","","maxlength","256","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{1,})+$",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row","mb-0"],[1,"col-md-3","col-form-label"],[1,"custom-control","custom-checkbox"],["type","checkbox","name","isActive","id","isActive",1,"custom-control-input",3,"ngModelChange","ngModel"],["for","isActive",1,"custom-control-label","mt-2"],[4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[1,"col-md-6"],["type","checkbox",1,"custom-control-input",3,"change","id","checked"],[1,"custom-control-label",3,"for"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",5,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",6),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",7)(5,"tabset")(6,"tab",8),e.nI1(7,"localize"),e.j41(8,"div",9)(9,"label",10),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"div",11)(13,"input",12,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.user.name,l)||(o.user.name=l),e.Njj(l)}),e.k0s(),e.nrm(16,"abp-validation-summary",13),e.k0s()(),e.j41(17,"div",9)(18,"label",14),e.EFF(19),e.nI1(20,"localize"),e.k0s(),e.j41(21,"div",11)(22,"input",15,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.user.surname,l)||(o.user.surname=l),e.Njj(l)}),e.k0s(),e.nrm(25,"abp-validation-summary",13),e.k0s()(),e.j41(26,"div",9)(27,"label",16),e.EFF(28),e.nI1(29,"localize"),e.k0s(),e.j41(30,"div",11)(31,"input",17,3),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.user.userName,l)||(o.user.userName=l),e.Njj(l)}),e.k0s(),e.nrm(34,"abp-validation-summary",13),e.k0s()(),e.j41(35,"div",9)(36,"label",18),e.EFF(37),e.nI1(38,"localize"),e.k0s(),e.j41(39,"div",11)(40,"input",19,4),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.user.emailAddress,l)||(o.user.emailAddress=l),e.Njj(l)}),e.k0s(),e.nrm(43,"abp-validation-summary",13),e.k0s()(),e.j41(44,"div",20)(45,"label",21),e.EFF(46),e.nI1(47,"localize"),e.k0s(),e.j41(48,"div",11)(49,"div",22)(50,"input",23),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.user.isActive,l)||(o.user.isActive=l),e.Njj(l)}),e.k0s(),e.nrm(51,"label",24),e.k0s()()()(),e.j41(52,"tab",8),e.nI1(53,"localize"),e.j41(54,"div",20),e.DNE(55,st,6,4,"ng-container",25),e.k0s()()()(),e.j41(56,"abp-modal-footer",26),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1),s=e.sdS(14),l=e.sdS(15),m=e.sdS(23),p=e.sdS(24),_=e.sdS(32),C=e.sdS(33),F=e.sdS(41),I=e.sdS(42);e.R7$(2),e.Y8G("title",e.bMT(3,24,"EditUser")),e.R7$(4),e.Y8G("heading",e.bMT(7,26,"UserDetails")),e.R7$(4),e.SpI(" ",e.bMT(11,28,"Name")," "),e.R7$(3),e.R50("ngModel",o.user.name),e.R7$(3),e.Y8G("control",s)("controlEl",l),e.R7$(3),e.SpI(" ",e.bMT(20,30,"Surname")," "),e.R7$(3),e.R50("ngModel",o.user.surname),e.R7$(3),e.Y8G("control",m)("controlEl",p),e.R7$(3),e.SpI(" ",e.bMT(29,32,"UserName")," "),e.R7$(3),e.R50("ngModel",o.user.userName),e.R7$(3),e.Y8G("control",_)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(38,34,"EmailAddress")," "),e.R7$(3),e.R50("ngModel",o.user.emailAddress),e.R7$(3),e.Y8G("control",F)("controlEl",I),e.R7$(3),e.SpI(" ",e.bMT(47,36,"IsActive")," "),e.R7$(4),e.R50("ngModel",o.user.isActive),e.R7$(2),e.Y8G("heading",e.bMT(53,38,"UserRoles")),e.R7$(3),e.Y8G("ngForOf",o.roles),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[h.Sq,r.qT,r.me,r.Zm,r.BC,r.cb,r.YS,r.xh,r.tU,r.R_,r.vS,r.cV,S.V6,S.fw,y.e,j.x,R.z,f.S],encapsulation:2})}return a})(),rt=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._userService=t,this.bsModalRef=o,this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.resetPasswordDto=new c.USq,this.resetPasswordDto.userId=this.id,this.resetPasswordDto.newPassword=Math.random().toString(36).substr(2,10),this.isLoading=!1}resetPassword(){this.isLoading=!0,this._userService.resetPassword(this.resetPasswordDto).subscribe(()=>{this.notify.info("Password Reset"),this.bsModalRef.hide()},()=>{this.isLoading=!1})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.LCs),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["app-reset-password"]],features:[e.Vt3],decls:31,vars:21,consts:[["resetPasswordModal","ngForm"],["adminPasswordModel","ngModel","adminPasswordEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"row"],[1,"col-md-9","offset-md-3"],[1,"text-info","mb-1"],[1,"form-group","row","required"],["for","adminPassword",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","password","id","adminPassword","name","adminPassword","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","newPassword",1,"col-md-3","col-form-label"],["type","text","name","NewPassword","id","newPassword","readonly","",1,"form-control",3,"ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.resetPassword())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"div",6)(7,"p",7),e.EFF(8),e.nI1(9,"localize"),e.k0s()()(),e.j41(10,"div",8)(11,"label",9),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"div",10)(15,"input",11,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.resetPasswordDto.adminPassword,l)||(o.resetPasswordDto.adminPassword=l),e.Njj(l)}),e.k0s(),e.nrm(18,"abp-validation-summary",12),e.k0s()(),e.j41(19,"div",5)(20,"div",6)(21,"p",7),e.EFF(22),e.nI1(23,"localize"),e.k0s()()(),e.j41(24,"div",13)(25,"label",14),e.EFF(26),e.nI1(27,"localize"),e.k0s(),e.j41(28,"div",10),e.nrm(29,"input",15),e.k0s()()(),e.j41(30,"abp-modal-footer",16),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1),s=e.sdS(16),l=e.sdS(17);e.R7$(2),e.Y8G("title",e.bMT(3,11,"ResetPassword")),e.R7$(6),e.SpI(" ",e.bMT(9,13,"ResetPasswordStepOneInfo")," "),e.R7$(4),e.SpI(" ",e.bMT(13,15,"AdminPassword")," "),e.R7$(3),e.R50("ngModel",o.resetPasswordDto.adminPassword),e.R7$(3),e.Y8G("control",s)("controlEl",l),e.R7$(4),e.SpI(" ",e.bMT(23,17,"ResetPasswordStepTwoInfo")," "),e.R7$(4),e.SpI(" ",e.bMT(27,19,"NewPassword")," "),e.R7$(3),e.Y8G("ngModel",o.resetPasswordDto.newPassword),e.R7$(),e.Y8G("cancelDisabled",o.isLoading)("saveDisabled",!n.form.valid||o.isLoading)}},dependencies:[r.qT,r.me,r.BC,r.cb,r.YS,r.vS,r.cV,y.e,j.x,R.z,f.S],encapsulation:2})}return a})();function dt(a,d){if(1&a){const i=e.RV6();e.j41(0,"a",9),e.bIt("click",function(){e.eBV(i),e.XpG(3);const o=e.sdS(1);return e.Njj(o.previous())}),e.nrm(1,"i",10),e.k0s()}}function ct(a,d){1&a&&(e.j41(0,"a",11),e.nrm(1,"i",10),e.k0s())}function ut(a,d){if(1&a&&(e.j41(0,"li",6),e.DNE(1,dt,2,0,"a",7)(2,ct,2,0,"a",8),e.k0s()),2&a){e.XpG(2);const i=e.sdS(1);e.AVh("disabled",i.isFirstPage()),e.R7$(),e.Y8G("ngIf",!i.isFirstPage()),e.R7$(),e.Y8G("ngIf",i.isFirstPage())}}function mt(a,d){if(1&a){const i=e.RV6();e.j41(0,"li",6)(1,"a",9),e.bIt("click",function(){const o=e.eBV(i).$implicit;e.XpG(2);const n=e.sdS(1);return e.Njj(n.setCurrent(o.value))}),e.EFF(2),e.k0s()()}if(2&a){const i=d.$implicit;e.XpG(2);const t=e.sdS(1);e.xc7("z-index",t.getCurrent()===i.value?"0":""),e.AVh("active",t.getCurrent()===i.value),e.R7$(2),e.SpI(" ",i.label," ")}}function pt(a,d){if(1&a){const i=e.RV6();e.j41(0,"a",9),e.bIt("click",function(){e.eBV(i),e.XpG(3);const o=e.sdS(1);return e.Njj(o.next())}),e.nrm(1,"i",12),e.k0s()}}function ht(a,d){1&a&&(e.j41(0,"a",11),e.nrm(1,"i",12),e.k0s())}function ft(a,d){if(1&a&&(e.j41(0,"li",6),e.DNE(1,pt,2,0,"a",7)(2,ht,2,0,"a",8),e.k0s()),2&a){e.XpG(2);const i=e.sdS(1);e.AVh("disabled",i.isLastPage()),e.R7$(),e.Y8G("ngIf",!i.isLastPage()),e.R7$(),e.Y8G("ngIf",i.isLastPage())}}function bt(a,d){if(1&a&&(e.j41(0,"ul",3),e.DNE(1,ut,3,4,"li",4)(2,mt,3,5,"li",5)(3,ft,3,4,"li",4),e.k0s()),2&a){const i=e.XpG(),t=e.sdS(1);e.R7$(),e.Y8G("ngIf",i.directionLinks),e.R7$(),e.Y8G("ngForOf",t.pages),e.R7$(),e.Y8G("ngIf",i.directionLinks)}}let G=(()=>{class a{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new e.bkB,this._directionLinks=!0,this._autoHide=!1}get directionLinks(){return this._directionLinks}set directionLinks(i){this._directionLinks=!!i&&"false"!==i}get autoHide(){return this._autoHide}set autoHide(i){this._autoHide=!!i&&"false"!==i}static#e=this.\u0275fac=function(t){return new(t||a)};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["abp-pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide"},outputs:{pageChange:"pageChange"},decls:4,vars:3,consts:[["p","paginationApi"],[3,"pageChange","id","maxSize"],["class","pagination m-0",4,"ngIf"],[1,"pagination","m-0"],["class","page-item",3,"disabled",4,"ngIf"],["class","page-item",3,"active","z-index",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","href","javascript:;",3,"click",4,"ngIf"],["class","page-link","href","javascript:;",4,"ngIf"],["href","javascript:;",1,"page-link",3,"click"],[1,"fas","fa-chevron-left"],["href","javascript:;",1,"page-link"],[1,"fas","fa-chevron-right"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"pagination-template",1,0),e.bIt("pageChange",function(l){return e.eBV(n),e.Njj(o.pageChange.emit(l))}),e.j41(2,"nav"),e.DNE(3,bt,4,3,"ul",2),e.k0s()()}if(2&t){const n=e.sdS(1);e.Y8G("id",o.id)("maxSize",o.maxSize),e.R7$(3),e.Y8G("ngIf",!(o.autoHide&&n.pages.length<=1))}},dependencies:[h.Sq,h.bT,T.Qr],encapsulation:2})}return a})(),E=(()=>{class a{constructor(i){this._element=i}set busy(i){this.refreshState(i)}refreshState(i){void 0!==i&&(i?abp.ui.setBusy(this._element.nativeElement):abp.ui.clearBusy(this._element.nativeElement))}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.aKT))};static#o=this.\u0275dir=e.FsC({type:a,selectors:[["","busy",""]],inputs:{busy:"busy"}})}return a})();const gt=(a,d,i)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:i});function _t(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",35)(1,"div",20)(2,"form",36)(3,"div",2)(4,"div",10)(5,"div",37)(6,"label",38),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",39)(10,"div",40)(11,"input",41),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.isActive,o)||(n.isActive=o),e.Njj(o)}),e.k0s(),e.j41(12,"label",42),e.EFF(13),e.nI1(14,"localize"),e.k0s()(),e.j41(15,"div",43)(16,"input",44),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.isActive,o)||(n.isActive=o),e.Njj(o)}),e.k0s(),e.j41(17,"label",45),e.EFF(18),e.nI1(19,"localize"),e.k0s()(),e.j41(20,"div",40)(21,"input",46),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.isActive,o)||(n.isActive=o),e.Njj(o)}),e.k0s(),e.j41(22,"label",47),e.EFF(23),e.nI1(24,"localize"),e.k0s()()()()()()()(),e.j41(25,"div",48)(26,"button",13),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(27),e.nI1(28,"localize"),e.k0s(),e.j41(29,"button",49),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(30),e.nI1(31,"localize"),e.k0s()()()}if(2&a){const i=e.XpG();e.R7$(7),e.SpI(" ",e.bMT(8,12,"IsActive")," "),e.R7$(4),e.R50("ngModel",i.isActive),e.Y8G("value",void 0),e.R7$(2),e.SpI(" ",e.bMT(14,14,"All")," "),e.R7$(3),e.R50("ngModel",i.isActive),e.Y8G("value",!0),e.R7$(2),e.SpI(" ",e.bMT(19,16,"Yes")," "),e.R7$(3),e.R50("ngModel",i.isActive),e.Y8G("value",!1),e.R7$(2),e.SpI(" ",e.bMT(24,18,"No")," "),e.R7$(4),e.SpI(" ",e.bMT(28,20,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(31,22,"Clear")," ")}}function vt(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"div",50),e.nrm(9,"input",51)(10,"label",52),e.k0s()(),e.j41(11,"td")(12,"button",53),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.editUser(o))}),e.nrm(13,"i",54),e.EFF(14),e.nI1(15,"localize"),e.k0s(),e.j41(16,"button",55),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.delete(o))}),e.nrm(17,"i",56),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.j41(20,"button",53),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.resetPassword(o))}),e.nrm(21,"i",57),e.EFF(22),e.nI1(23,"localize"),e.k0s()()()}if(2&a){const i=d.$implicit;e.R7$(2),e.JRh(i.userName),e.R7$(2),e.JRh(i.fullName),e.R7$(2),e.JRh(i.emailAddress),e.R7$(3),e.Y8G("checked",i.isActive),e.R7$(5),e.SpI(" ",e.bMT(15,7,"Edit")," "),e.R7$(4),e.SpI(" ",e.bMT(19,9,"Delete")," "),e.R7$(4),e.SpI(" ",e.bMT(23,11,"ResetPassword")," ")}}let Ct=(()=>{class a extends A{constructor(i,t,o,n){super(i),this._userService=t,this._sessionService=o,this._modalService=n,this.users=[],this.keyword="",this.advancedFiltersVisible=!1}getCurUserId(){return abp.session.userId}createUser(){this.showCreateOrEditUserDialog()}editUser(i){this.showCreateOrEditUserDialog(i.id)}resetPassword(i){this.showResetPasswordUserDialog(i.id)}clearFilters(){this.keyword="",this.isActive=void 0,this.getDataPage(1)}list(i,t,o){i.keyword=this.keyword,i.isActive=this.isActive,this._userService.getAll(i.keyword,i.isActive,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.users=n.items,this.showPaging(n,t)})}delete(i){abp.message.confirm(this.l("UserDeleteWarningMessage",i.fullName),void 0,t=>{t&&this._userService.delete(i.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}showResetPasswordUserDialog(i){this._modalService.show(rt,{class:"modal-lg",initialState:{id:i}})}showCreateOrEditUserDialog(i){let t;t=i?this._modalService.show(lt,{class:"modal-lg",initialState:{id:i}}):this._modalService.show(Ii,{class:"modal-lg"}),t.content.onSave.subscribe(()=>{this.refresh()})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.LCs),e.rXU(c.cij),e.rXU(g.I8))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:65,vars:44,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"form-horizontal"],[1,"form-group","row","mb-0"],[1,"col-md-3","col-form-label"],[1,"col-md-9","pt-2"],[1,"custom-control","custom-radio","d-inline"],["type","radio","id","isActiveAll","name","isActive","checked","",1,"custom-control-input",3,"ngModelChange","ngModel","value"],["for","isActiveAll",1,"custom-control-label"],[1,"custom-control","custom-radio","d-inline","mx-3"],["type","radio","id","isActiveActive","name","isActive",1,"custom-control-input",3,"ngModelChange","ngModel","value"],["for","isActiveActive",1,"custom-control-label"],["type","radio","id","isActivePassive","name","isActive",1,"custom-control-input",3,"ngModelChange","ngModel","value"],["for","isActivePassive",1,"custom-control-label"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],[1,"custom-control","custom-checkbox"],["type","checkbox","disabled","",1,"custom-control-input",3,"checked"],[1,"custom-control-label"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"],[1,"fas","fa-lock"]],template:function(t,o){1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createUser()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,_t,32,24,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th"),e.EFF(45),e.nI1(46,"localize"),e.k0s(),e.j41(47,"th",24),e.EFF(48),e.nI1(49,"localize"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,vt,24,13,"tr",25),e.nI1(52,"paginate"),e.k0s()()()(),e.j41(53,"div",26)(54,"div",2)(55,"div",27)(56,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(57,"i",29),e.k0s()(),e.j41(58,"div",30)(59,"p",31),e.EFF(60),e.nI1(61,"localize"),e.k0s()(),e.j41(62,"div",32)(63,"div",33)(64,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&t&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,18,"Users")),e.R7$(5),e.SpI(" ",e.bMT(12,20,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,22,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,24,"UserName")),e.R7$(3),e.JRh(e.bMT(40,26,"FullName")),e.R7$(3),e.JRh(e.bMT(43,28,"EmailAddress")),e.R7$(3),e.JRh(e.bMT(46,30,"IsActive")),e.R7$(3),e.JRh(e.bMT(49,32,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(52,34,o.users,e.sMw(40,gt,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(61,37,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,r.qT,r.me,r.Fm,r.BC,r.cb,r.vS,r.cV,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})(),It=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._tenantService=t,this.bsModalRef=o,this.saving=!1,this.tenant=new c.GBi,this.onSave=new e.bkB}ngOnInit(){this.tenant.isActive=!0}save(){this.saving=!0,this._tenantService.create(this.tenant).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()},()=>{this.saving=!1})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.Gc7),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:50,vars:35,consts:[["createTenantForm","ngForm"],["tenancyNameModel","ngModel","tenancyNameEl",""],["nameModel","ngModel","nameEl",""],["adminEmailAddressModel","ngModel","adminEmailAddressEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","tenancyName",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","tenancyName","id","tenancyName","minlength","2","maxlength","64","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","name",1,"col-md-3","col-form-label"],["type","text","name","name","id","name","maxlength","128","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row"],["for","connectionString",1,"col-md-3","col-form-label"],["type","text","name","connectionString","id","connectionString","maxlength","1024",1,"form-control",3,"ngModelChange","ngModel"],["for","adminEmailAddress",1,"col-md-3","col-form-label"],["type","email","name","adminEmailAddress","id","adminEmailAddress","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{1,})+$","maxlength","256","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row","mb-0"],[1,"col-md-3","col-form-label"],[1,"custom-control","custom-checkbox"],["type","checkbox","name","isActive","id","isActive",1,"custom-control-input",3,"ngModelChange","ngModel"],["for","isActive",1,"custom-control-label","mt-2"],[1,"text-center","text-info","mb-0"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",4,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",5),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",6)(5,"div",7)(6,"label",8),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",9)(10,"input",10,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.tenant.tenancyName,l)||(o.tenant.tenancyName=l),e.Njj(l)}),e.k0s(),e.nrm(13,"abp-validation-summary",11),e.k0s()(),e.j41(14,"div",7)(15,"label",12),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.j41(18,"div",9)(19,"input",13,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.tenant.name,l)||(o.tenant.name=l),e.Njj(l)}),e.k0s(),e.nrm(22,"abp-validation-summary",11),e.k0s()(),e.j41(23,"div",14)(24,"label",15),e.EFF(25),e.nI1(26,"localize"),e.k0s(),e.j41(27,"div",9)(28,"input",16),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.tenant.connectionString,l)||(o.tenant.connectionString=l),e.Njj(l)}),e.k0s()()(),e.j41(29,"div",7)(30,"label",17),e.EFF(31),e.nI1(32,"localize"),e.k0s(),e.j41(33,"div",9)(34,"input",18,3),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.tenant.adminEmailAddress,l)||(o.tenant.adminEmailAddress=l),e.Njj(l)}),e.k0s(),e.nrm(37,"abp-validation-summary",11),e.k0s()(),e.j41(38,"div",19)(39,"label",20),e.EFF(40),e.nI1(41,"localize"),e.k0s(),e.j41(42,"div",9)(43,"div",21)(44,"input",22),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.tenant.isActive,l)||(o.tenant.isActive=l),e.Njj(l)}),e.k0s(),e.nrm(45,"label",23),e.k0s()()(),e.j41(46,"p",24),e.EFF(47),e.nI1(48,"localize"),e.k0s()(),e.j41(49,"abp-modal-footer",25),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1),s=e.sdS(11),l=e.sdS(12),m=e.sdS(20),p=e.sdS(21),_=e.sdS(35),C=e.sdS(36);e.R7$(2),e.Y8G("title",e.bMT(3,20,"CreateNewTenant")),e.R7$(5),e.SpI(" ",e.bMT(8,22,"TenancyName")," "),e.R7$(3),e.R50("ngModel",o.tenant.tenancyName),e.R7$(3),e.Y8G("control",s)("controlEl",l),e.R7$(3),e.SpI(" ",e.bMT(17,24,"Name")," "),e.R7$(3),e.R50("ngModel",o.tenant.name),e.R7$(3),e.Y8G("control",m)("controlEl",p),e.R7$(3),e.SpI(" ",e.bMT(26,26,"DatabaseConnectionString")," "),e.R7$(3),e.R50("ngModel",o.tenant.connectionString),e.R7$(3),e.SpI(" ",e.bMT(32,28,"AdminEmailAddress")," "),e.R7$(3),e.R50("ngModel",o.tenant.adminEmailAddress),e.R7$(3),e.Y8G("control",_)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(41,30,"IsActive")," "),e.R7$(4),e.R50("ngModel",o.tenant.isActive),e.R7$(3),e.SpI(" ",e.i5U(48,32,"DefaultPasswordIs","123qwe")," "),e.R7$(2),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.me,r.Zm,r.BC,r.cb,r.YS,r.xh,r.tU,r.R_,r.vS,r.cV,y.e,j.x,R.z,f.S],encapsulation:2})}return a})(),Ft=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._tenantService=t,this.bsModalRef=o,this.saving=!1,this.tenant=new c.sur,this.onSave=new e.bkB}ngOnInit(){this._tenantService.get(this.id).subscribe(i=>{this.tenant=i})}save(){this.saving=!0,this._tenantService.update(this.tenant).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()},()=>{this.saving=!1})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.Gc7),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:32,vars:21,consts:[["editTenantForm","ngForm"],["tenancyNameModel","ngModel","tenancyNameEl",""],["nameModel","ngModel","nameEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","tenancyName",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","tenancyName","id","tenancyName","minlength","2","maxlength","64","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","name",1,"col-md-3","col-form-label"],["type","text","name","name","id","name","maxlength","128","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row","mb-0"],[1,"col-md-3","col-form-label"],[1,"custom-control","custom-checkbox"],["type","checkbox","name","isActive","id","isActive",1,"custom-control-input",3,"ngModelChange","ngModel"],["for","isActive",1,"custom-control-label","mt-2"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",4),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",5)(5,"div",6)(6,"label",7),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",8)(10,"input",9,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.tenant.tenancyName,l)||(o.tenant.tenancyName=l),e.Njj(l)}),e.k0s(),e.nrm(13,"abp-validation-summary",10),e.k0s()(),e.j41(14,"div",6)(15,"label",11),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.j41(18,"div",8)(19,"input",12,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.tenant.name,l)||(o.tenant.name=l),e.Njj(l)}),e.k0s(),e.nrm(22,"abp-validation-summary",10),e.k0s()(),e.j41(23,"div",13)(24,"label",14),e.EFF(25),e.nI1(26,"localize"),e.k0s(),e.j41(27,"div",8)(28,"div",15)(29,"input",16),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.tenant.isActive,l)||(o.tenant.isActive=l),e.Njj(l)}),e.k0s(),e.nrm(30,"label",17),e.k0s()()()(),e.j41(31,"abp-modal-footer",18),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1),s=e.sdS(11),l=e.sdS(12),m=e.sdS(20),p=e.sdS(21);e.R7$(2),e.Y8G("title",e.bMT(3,13,"EditTenant")),e.R7$(5),e.SpI(" ",e.bMT(8,15,"TenancyName")," "),e.R7$(3),e.R50("ngModel",o.tenant.tenancyName),e.R7$(3),e.Y8G("control",s)("controlEl",l),e.R7$(3),e.SpI(" ",e.bMT(17,17,"Name")," "),e.R7$(3),e.R50("ngModel",o.tenant.name),e.R7$(3),e.Y8G("control",m)("controlEl",p),e.R7$(3),e.SpI(" ",e.bMT(26,19,"IsActive")," "),e.R7$(4),e.R50("ngModel",o.tenant.isActive),e.R7$(2),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.me,r.Zm,r.BC,r.cb,r.YS,r.xh,r.tU,r.vS,r.cV,y.e,j.x,R.z,f.S],encapsulation:2})}return a})();const kt=(a,d,i)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:i});function jt(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",35)(1,"div",20)(2,"form",36)(3,"div",2)(4,"div",10)(5,"div",37)(6,"label",38),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",39)(10,"div",40)(11,"input",41),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.isActive,o)||(n.isActive=o),e.Njj(o)}),e.k0s(),e.j41(12,"label",42),e.EFF(13),e.nI1(14,"localize"),e.k0s()(),e.j41(15,"div",43)(16,"input",44),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.isActive,o)||(n.isActive=o),e.Njj(o)}),e.k0s(),e.j41(17,"label",45),e.EFF(18),e.nI1(19,"localize"),e.k0s()(),e.j41(20,"div",40)(21,"input",46),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.isActive,o)||(n.isActive=o),e.Njj(o)}),e.k0s(),e.j41(22,"label",47),e.EFF(23),e.nI1(24,"localize"),e.k0s()()()()()()()(),e.j41(25,"div",48)(26,"button",13),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(27),e.nI1(28,"localize"),e.k0s(),e.j41(29,"button",49),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(30),e.nI1(31,"localize"),e.k0s()()()}if(2&a){const i=e.XpG();e.R7$(7),e.SpI(" ",e.bMT(8,12,"IsActive")," "),e.R7$(4),e.R50("ngModel",i.isActive),e.Y8G("value",void 0),e.R7$(2),e.SpI(" ",e.bMT(14,14,"All")," "),e.R7$(3),e.R50("ngModel",i.isActive),e.Y8G("value",!0),e.R7$(2),e.SpI(" ",e.bMT(19,16,"Yes")," "),e.R7$(3),e.R50("ngModel",i.isActive),e.Y8G("value",!1),e.R7$(2),e.SpI(" ",e.bMT(24,18,"No")," "),e.R7$(4),e.SpI(" ",e.bMT(28,20,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(31,22,"Clear")," ")}}function Rt(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"div",50),e.nrm(7,"input",51)(8,"label",52),e.k0s()(),e.j41(9,"td")(10,"button",53),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.editTenant(o))}),e.nrm(11,"i",54),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"button",55),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.delete(o))}),e.nrm(15,"i",56),e.EFF(16),e.nI1(17,"localize"),e.k0s()()()}if(2&a){const i=d.$implicit;e.R7$(2),e.JRh(i.tenancyName),e.R7$(2),e.JRh(i.name),e.R7$(3),e.Y8G("checked",i.isActive),e.R7$(5),e.SpI(" ",e.bMT(13,5,"Edit")," "),e.R7$(4),e.SpI(" ",e.bMT(17,7,"Delete")," ")}}let St=(()=>{class a extends A{constructor(i,t,o){super(i),this._tenantService=t,this._modalService=o,this.tenants=[],this.keyword="",this.advancedFiltersVisible=!1}list(i,t,o){i.keyword=this.keyword,i.isActive=this.isActive,this._tenantService.getAll(i.keyword,i.isActive,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.tenants=n.items,this.showPaging(n,t)})}delete(i){abp.message.confirm(this.l("TenantDeleteWarningMessage",i.name),void 0,t=>{t&&this._tenantService.delete(i.id).pipe((0,$.j)(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})).subscribe(()=>{})})}createTenant(){this.showCreateOrEditTenantDialog()}editTenant(i){this.showCreateOrEditTenantDialog(i.id)}showCreateOrEditTenantDialog(i){let t;t=i?this._modalService.show(Ft,{class:"modal-lg",initialState:{id:i}}):this._modalService.show(It,{class:"modal-lg"}),t.content.onSave.subscribe(()=>{this.refresh()})}clearFilters(){this.keyword="",this.isActive=void 0,this.getDataPage(1)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.Gc7),e.rXU(g.I8))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:62,vars:41,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","200px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"form-horizontal"],[1,"form-group","row","mb-0"],[1,"col-md-3","col-form-label"],[1,"col-md-9","pt-2"],[1,"custom-control","custom-radio","d-inline"],["type","radio","id","isActiveAll","name","isActive","checked","",1,"custom-control-input",3,"ngModelChange","ngModel","value"],["for","isActiveAll",1,"custom-control-label"],[1,"custom-control","custom-radio","d-inline","mx-3"],["type","radio","id","isActiveActive","name","isActive",1,"custom-control-input",3,"ngModelChange","ngModel","value"],["for","isActiveActive",1,"custom-control-label"],["type","radio","id","isActivePassive","name","isActive",1,"custom-control-input",3,"ngModelChange","ngModel","value"],["for","isActivePassive",1,"custom-control-label"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],[1,"custom-control","custom-checkbox"],["type","checkbox","disabled","",1,"custom-control-input",3,"checked"],[1,"custom-control-label"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createTenant()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,jt,32,24,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th",24),e.EFF(45),e.nI1(46,"localize"),e.k0s()()(),e.j41(47,"tbody"),e.DNE(48,Rt,18,9,"tr",25),e.nI1(49,"paginate"),e.k0s()()()(),e.j41(50,"div",26)(51,"div",2)(52,"div",27)(53,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(54,"i",29),e.k0s()(),e.j41(55,"div",30)(56,"p",31),e.EFF(57),e.nI1(58,"localize"),e.k0s()(),e.j41(59,"div",32)(60,"div",33)(61,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&t&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,17,"Tenants")),e.R7$(5),e.SpI(" ",e.bMT(12,19,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,21,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,23,"TenancyName")),e.R7$(3),e.JRh(e.bMT(40,25,"Name")),e.R7$(3),e.JRh(e.bMT(43,27,"IsActive")),e.R7$(3),e.JRh(e.bMT(46,29,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(49,31,o.tenants,e.sMw(37,kt,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(58,34,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,r.qT,r.me,r.Fm,r.BC,r.cb,r.vS,r.cV,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();function Mt(a,d){if(1&a){const i=e.RV6();e.qex(0),e.j41(1,"div",19)(2,"div",20)(3,"input",21),e.bIt("change",function(o){const n=e.eBV(i).$implicit,s=e.XpG();return e.Njj(s.onPermissionChange(n,o))}),e.k0s(),e.j41(4,"label",22),e.EFF(5),e.k0s()()(),e.bVm()}if(2&a){const i=d.$implicit,t=d.index,o=e.XpG();e.R7$(3),e.Y8G("id","permission_"+t)("checked",o.isPermissionChecked(i.name)),e.R7$(),e.Y8G("for","permission_"+t),e.R7$(),e.SpI(" ",i.displayName," ")}}let Et=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._roleService=t,this.bsModalRef=o,this.saving=!1,this.role=new c.GPv,this.permissions=[],this.checkedPermissionsMap={},this.defaultPermissionCheckedStatus=!0,this.onSave=new e.bkB}ngOnInit(){this._roleService.getAllPermissions().subscribe(i=>{this.permissions=i.items,this.setInitialPermissionsStatus()})}setInitialPermissionsStatus(){Z(this.permissions,i=>{this.checkedPermissionsMap[i.name]=this.isPermissionChecked(i.name)})}isPermissionChecked(i){return this.defaultPermissionCheckedStatus}onPermissionChange(i,t){this.checkedPermissionsMap[i.name]=t.target.checked}getCheckedPermissions(){const i=[];return W(this.checkedPermissionsMap,function(t,o){t&&i.push(o)}),i}save(){this.saving=!0;const i=new c.Stb;i.init(this.role),i.grantedPermissions=this.getCheckedPermissions(),this._roleService.create(i).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()},()=>{this.saving=!1})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.GeL),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:38,vars:28,consts:[["createRoleForm","ngForm"],["nameModel","ngModel","nameEl",""],["displayNameModel","ngModel","displayNameEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],[1,"form-group","row","required"],["for","name",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","name","id","name","required","","minlength","2","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","displayName",1,"col-md-3","col-form-label"],["type","text","name","displayName","id","displayName","required","","minlength","2","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row","mb-0"],["for","description",1,"col-md-3","col-form-label"],["type","text","name","description","id","description",1,"form-control",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[1,"col-md-6"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"change","id","checked"],[1,"custom-control-label",3,"for"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",4),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",5)(5,"tabset")(6,"tab",6),e.nI1(7,"localize"),e.j41(8,"div",7)(9,"label",8),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"div",9)(13,"input",10,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.role.name,l)||(o.role.name=l),e.Njj(l)}),e.k0s(),e.nrm(16,"abp-validation-summary",11),e.k0s()(),e.j41(17,"div",7)(18,"label",12),e.EFF(19),e.nI1(20,"localize"),e.k0s(),e.j41(21,"div",9)(22,"input",13,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.role.displayName,l)||(o.role.displayName=l),e.Njj(l)}),e.k0s(),e.nrm(25,"abp-validation-summary",11),e.k0s()(),e.j41(26,"div",14)(27,"label",15),e.EFF(28),e.nI1(29,"localize"),e.k0s(),e.j41(30,"div",9)(31,"textarea",16),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.role.description,l)||(o.role.description=l),e.Njj(l)}),e.EFF(32,"            "),e.k0s()()()(),e.j41(33,"tab",6),e.nI1(34,"localize"),e.j41(35,"div",14),e.DNE(36,Mt,6,4,"ng-container",17),e.k0s()()()(),e.j41(37,"abp-modal-footer",18),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1),s=e.sdS(14),l=e.sdS(15),m=e.sdS(23),p=e.sdS(24);e.R7$(2),e.Y8G("title",e.bMT(3,16,"CreateNewRole")),e.R7$(4),e.Y8G("heading",e.bMT(7,18,"Details")),e.R7$(4),e.SpI(" ",e.bMT(11,20,"Name")," "),e.R7$(3),e.R50("ngModel",o.role.name),e.R7$(3),e.Y8G("control",s)("controlEl",l),e.R7$(3),e.SpI(" ",e.bMT(20,22,"DisplayName")," "),e.R7$(3),e.R50("ngModel",o.role.displayName),e.R7$(3),e.Y8G("control",m)("controlEl",p),e.R7$(3),e.SpI(" ",e.bMT(29,24,"RoleDescription")," "),e.R7$(3),e.R50("ngModel",o.role.description),e.R7$(2),e.Y8G("heading",e.bMT(34,26,"Permissions")),e.R7$(3),e.Y8G("ngForOf",o.permissions),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[h.Sq,r.qT,r.me,r.BC,r.cb,r.YS,r.xh,r.tU,r.vS,r.cV,S.V6,S.fw,y.e,j.x,R.z,f.S],encapsulation:2})}return a})();function Tt(a,d){if(1&a){const i=e.RV6();e.qex(0),e.j41(1,"div",19)(2,"div",20)(3,"input",21),e.bIt("change",function(o){const n=e.eBV(i).$implicit,s=e.XpG();return e.Njj(s.onPermissionChange(n,o))}),e.k0s(),e.j41(4,"label",22),e.EFF(5),e.k0s()()(),e.bVm()}if(2&a){const i=d.$implicit,t=d.index,o=e.XpG();e.R7$(3),e.Y8G("id","permission_"+t)("checked",o.isPermissionChecked(i.name))("disabled",o.role.isStatic),e.R7$(),e.Y8G("for","permission_"+t),e.R7$(),e.SpI(" ",i.displayName," ")}}let Dt=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._roleService=t,this.bsModalRef=o,this.saving=!1,this.role=new c.AeD,this.checkedPermissionsMap={},this.onSave=new e.bkB}ngOnInit(){this._roleService.getRoleForEdit(this.id).subscribe(i=>{this.role=i.role,this.permissions=i.permissions,this.grantedPermissionNames=i.grantedPermissionNames,this.setInitialPermissionsStatus()})}setInitialPermissionsStatus(){Z(this.permissions,i=>{this.checkedPermissionsMap[i.name]=this.isPermissionChecked(i.name)})}isPermissionChecked(i){return Ve(this.grantedPermissionNames,i)}onPermissionChange(i,t){this.checkedPermissionsMap[i.name]=t.target.checked}getCheckedPermissions(){const i=[];return W(this.checkedPermissionsMap,function(t,o){t&&i.push(o)}),i}save(){this.saving=!0;const i=new c.GPv;i.init(this.role),i.grantedPermissions=this.getCheckedPermissions(),this._roleService.update(i).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()},()=>{this.saving=!1})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.GeL),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:38,vars:28,consts:[["editRoleForm","ngForm"],["nameModel","ngModel","nameEl",""],["displayNameModel","ngModel","displayNameEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],[1,"form-group","row","required"],["for","name",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","name","id","name","required","","minlength","2","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","displayName",1,"col-md-3","col-form-label"],["type","text","name","displayName","id","displayName","required","","minlength","2","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row","mb-0"],["for","description",1,"col-md-3","col-form-label"],["type","text","name","description","id","description",1,"form-control",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[1,"col-md-6"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"change","id","checked","disabled"],[1,"custom-control-label",3,"for"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",4),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",5)(5,"tabset")(6,"tab",6),e.nI1(7,"localize"),e.j41(8,"div",7)(9,"label",8),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"div",9)(13,"input",10,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.role.name,l)||(o.role.name=l),e.Njj(l)}),e.k0s(),e.nrm(16,"abp-validation-summary",11),e.k0s()(),e.j41(17,"div",7)(18,"label",12),e.EFF(19),e.nI1(20,"localize"),e.k0s(),e.j41(21,"div",9)(22,"input",13,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.role.displayName,l)||(o.role.displayName=l),e.Njj(l)}),e.k0s(),e.nrm(25,"abp-validation-summary",11),e.k0s()(),e.j41(26,"div",14)(27,"label",15),e.EFF(28),e.nI1(29,"localize"),e.k0s(),e.j41(30,"div",9)(31,"textarea",16),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.role.description,l)||(o.role.description=l),e.Njj(l)}),e.EFF(32,"            "),e.k0s()()()(),e.j41(33,"tab",6),e.nI1(34,"localize"),e.j41(35,"div",14),e.DNE(36,Tt,6,5,"ng-container",17),e.k0s()()()(),e.j41(37,"abp-modal-footer",18),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1),s=e.sdS(14),l=e.sdS(15),m=e.sdS(23),p=e.sdS(24);e.R7$(2),e.Y8G("title",e.bMT(3,16,"EditRole")),e.R7$(4),e.Y8G("heading",e.bMT(7,18,"Details")),e.R7$(4),e.SpI(" ",e.bMT(11,20,"Name")," "),e.R7$(3),e.R50("ngModel",o.role.name),e.R7$(3),e.Y8G("control",s)("controlEl",l),e.R7$(3),e.SpI(" ",e.bMT(20,22,"DisplayName")," "),e.R7$(3),e.R50("ngModel",o.role.displayName),e.R7$(3),e.Y8G("control",m)("controlEl",p),e.R7$(3),e.SpI(" ",e.bMT(29,24,"RoleDescription")," "),e.R7$(3),e.R50("ngModel",o.role.description),e.R7$(2),e.Y8G("heading",e.bMT(34,26,"Permissions")),e.R7$(3),e.Y8G("ngForOf",o.permissions),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[h.Sq,r.qT,r.me,r.BC,r.cb,r.YS,r.xh,r.tU,r.vS,r.cV,S.V6,S.fw,y.e,j.x,R.z,f.S],encapsulation:2})}return a})();const At=(a,d,i)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:i});function yt(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"button",31),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.editRole(o))}),e.nrm(7,"i",32),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"button",33),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.delete(o))}),e.nrm(11,"i",34),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){const i=d.$implicit;e.R7$(2),e.JRh(i.name),e.R7$(2),e.JRh(i.displayName),e.R7$(4),e.SpI(" ",e.bMT(9,4,"Edit")," "),e.R7$(4),e.SpI(" ",e.bMT(13,6,"Delete")," ")}}let Gt=(()=>{class a extends A{constructor(i,t,o){super(i),this._rolesService=t,this._modalService=o,this.roles=[],this.keyword=""}list(i,t,o){i.keyword=this.keyword,this._rolesService.getAll(i.keyword,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.roles=n.items,this.showPaging(n,t)})}delete(i){abp.message.confirm(this.l("RoleDeleteWarningMessage",i.displayName),void 0,t=>{t&&this._rolesService.delete(i.id).pipe((0,$.j)(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})).subscribe(()=>{})})}createRole(){this.showCreateOrEditRoleDialog()}editRole(i){this.showCreateOrEditRoleDialog(i.id)}showCreateOrEditRoleDialog(i){let t;t=i?this._modalService.show(Dt,{class:"modal-lg",initialState:{id:i}}):this._modalService.show(Et,{class:"modal-lg"}),t.content.onSave.subscribe(()=>{this.refresh()})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.GeL),e.rXU(g.I8))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:55,vars:33,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","200px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createRole()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s()()()()(),e.j41(26,"div",16)(27,"div",17)(28,"table",18)(29,"thead",19)(30,"tr")(31,"th"),e.EFF(32),e.nI1(33,"localize"),e.k0s(),e.j41(34,"th"),e.EFF(35),e.nI1(36,"localize"),e.k0s(),e.j41(37,"th",20),e.EFF(38),e.nI1(39,"localize"),e.k0s()()(),e.j41(40,"tbody"),e.DNE(41,yt,14,8,"tr",21),e.nI1(42,"paginate"),e.k0s()()()(),e.j41(43,"div",22)(44,"div",2)(45,"div",23)(46,"button",24),e.bIt("click",function(){return o.refresh()}),e.nrm(47,"i",25),e.k0s()(),e.j41(48,"div",26)(49,"p",27),e.EFF(50),e.nI1(51,"localize"),e.k0s()(),e.j41(52,"div",28)(53,"div",29)(54,"abp-pagination-controls",30),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&t&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,11,"Roles")),e.R7$(5),e.SpI(" ",e.bMT(12,13,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,15,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(33,17,"RoleName")),e.R7$(3),e.JRh(e.bMT(36,19,"DisplayName")),e.R7$(3),e.JRh(e.bMT(39,21,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(42,23,o.roles,e.sMw(29,At,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(51,26,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,r.me,r.BC,r.vS,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})(),Y=(()=>{class a extends v.q{constructor(i){super(i)}ngOnInit(){}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["custom-form-base"]],inputs:{disabled:"disabled"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:0,vars:0,template:function(t,o){},encapsulation:2})}return a})();const Be=()=>[];function Pt(a,d){if(1&a&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",i.id),e.R7$(),e.JRh(i.nome)}}function $t(a,d){if(1&a&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",i.id),e.R7$(),e.JRh(i.nome)}}function wt(a,d){if(1&a&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",i.id),e.R7$(),e.JRh(i.nome)}}let ze=(()=>{class a extends Y{get paisId(){return this._paisId?.toString()??""}set paisId(i){if(null!=i&&i.length>0){let t=Number(i);t!=this._paisId&&(this.ufId=void 0),this._paisId=t}else this._paisId=void 0,this.ufId=void 0}get ufId(){return this._ufId?.toString()??""}set ufId(i){if(null!=i&&i.length>0){let t=Number(i);t!=this._ufId&&(this.pessoa.endereco_CidadeId=void 0),this._ufId=t}else this._ufId=void 0,this.pessoa.endereco_CidadeId=void 0}get cidadeId(){return this.pessoa?.endereco_CidadeId?.toString()??""}set cidadeId(i){var t=Number(i);Number.isNaN(t)&&(t=void 0),this.pessoa.endereco_CidadeId=t}constructor(i,t,o){super(i),this._paisService=t,this._changeDetector=o,this.paises=[],this.ufsByPais={},this.ufs=[],this.cidadesByUF={},this.cidades=[]}ngOnInit(){this._paisService.getAllPaises().subscribe(i=>{console.log(i),i.forEach(t=>{this.paises.push(t),this.ufsByPais[t.id]=[]}),this._paisService.getAllUnidadesFederais(void 0).subscribe(t=>{this.ufs=t,t.forEach(o=>{this.ufsByPais[o.paisId].push(o),this.cidadesByUF[o.id]=[]}),this._paisService.getAllCidades(void 0,void 0).subscribe(o=>{if(this.cidades=o,o.forEach(n=>{this.cidadesByUF[n.ufId].push(n)}),null!=this.pessoa?.endereco_CidadeId){let n=o.find(s=>s.id==this.pessoa.endereco_CidadeId);null!=n&&(this._ufId=n.ufId,this._paisId=t.find(s=>s.id==this._ufId).paisId)}this._changeDetector.detectChanges()})})})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.B59),e.rXU(e.gRc))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["endereco-form"]],inputs:{pessoa:"pessoa"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:60,vars:52,consts:[["linha1Model","ngModel","linha1El",""],["bairroModel","ngModel","bairroEl",""],["cidadeModel","ngModel","cidadeEl",""],["ufModel","ngModel","ufEl",""],["paisModel","ngModel","paisEl",""],[1,"form-group","row"],["for","linha1",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","linha1","id","linha1","maxlength","200",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],["for","linha2",1,"col-md-3","col-form-label"],["type","text","name","linha2","id","linha2","maxlength","100",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","bairro",1,"col-md-3","col-form-label"],["type","text","name","bairro","id","bairro","maxlength","100",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"form-group","row",3,"hidden"],["for","cidade",1,"col-md-3","col-form-label"],["id","cidade","name","cidade",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","uf",1,"col-md-3","col-form-label"],["id","uf","name","uf",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","pais",1,"col-md-3","col-form-label"],["id","pais","name","pais",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","cep",1,"col-md-3","col-form-label"],["type","text","name","cep","id","cep","maxlength","9","pattern","[0-9A-Za-z]*",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div",5)(1,"label",6),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",7)(5,"input",8,0),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.pessoa.endereco_Linha1,l)||(o.pessoa.endereco_Linha1=l),e.Njj(l)}),e.k0s(),e.nrm(8,"abp-validation-summary",9),e.k0s()(),e.j41(9,"div",5)(10,"label",10),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",7)(14,"input",11),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.pessoa.endereco_Linha2,l)||(o.pessoa.endereco_Linha2=l),e.Njj(l)}),e.k0s()()(),e.j41(15,"div",5)(16,"label",12),e.EFF(17),e.nI1(18,"localize"),e.k0s(),e.j41(19,"div",7)(20,"input",13,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.pessoa.endereco_Bairro,l)||(o.pessoa.endereco_Bairro=l),e.Njj(l)}),e.k0s(),e.nrm(23,"abp-validation-summary",9),e.k0s()(),e.j41(24,"div",14)(25,"label",15),e.EFF(26),e.nI1(27,"localize"),e.k0s(),e.j41(28,"div",7)(29,"select",16,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.cidadeId,l)||(o.cidadeId=l),e.Njj(l)}),e.DNE(32,Pt,2,2,"option",17),e.k0s(),e.nrm(33,"abp-validation-summary",9),e.k0s()(),e.j41(34,"div",14)(35,"label",18),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"div",7)(39,"select",19,3),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.ufId,l)||(o.ufId=l),e.Njj(l)}),e.DNE(42,$t,2,2,"option",17),e.k0s(),e.nrm(43,"abp-validation-summary",9),e.k0s()(),e.j41(44,"div",5)(45,"label",20),e.EFF(46),e.nI1(47,"localize"),e.k0s(),e.j41(48,"div",7)(49,"select",21,4),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.paisId,l)||(o.paisId=l),e.Njj(l)}),e.DNE(52,wt,2,2,"option",17),e.k0s(),e.nrm(53,"abp-validation-summary",9),e.k0s()(),e.j41(54,"div",5)(55,"label",22),e.EFF(56),e.nI1(57,"localize"),e.k0s(),e.j41(58,"div",7)(59,"input",23),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.pessoa.endereco_CodigoPostal,l)||(o.pessoa.endereco_CodigoPostal=l),e.Njj(l)}),e.k0s()()()}if(2&t){let n,s,l,m;const p=e.sdS(6),_=e.sdS(7),C=e.sdS(21),F=e.sdS(22),I=e.sdS(30),P=e.sdS(31),w=e.sdS(40),V=e.sdS(41),B=e.sdS(50),U=e.sdS(51);e.R7$(2),e.SpI(" ",e.bMT(3,36,"Linha 1")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.pessoa.endereco_Linha1),e.R7$(3),e.Y8G("control",p)("controlEl",_),e.R7$(3),e.SpI(" ",e.bMT(12,38,"Linha 2")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.pessoa.endereco_Linha2),e.R7$(3),e.SpI(" ",e.bMT(18,40,"Bairro")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.pessoa.endereco_Bairro),e.R7$(3),e.Y8G("control",C)("controlEl",F),e.R7$(),e.Y8G("hidden",""==(null!==(n=o.paisId)&&void 0!==n?n:"")||""==(null!==(n=o.ufId)&&void 0!==n?n:"")),e.R7$(2),e.SpI(" ",e.bMT(27,42,"Cidade")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.cidadeId),e.R7$(3),e.Y8G("ngForOf",null!==(s=o.cidadesByUF[o.ufId])&&void 0!==s?s:e.lJ4(50,Be)),e.R7$(),e.Y8G("control",I)("controlEl",P),e.R7$(),e.Y8G("hidden",""==(null!==(l=o.paisId)&&void 0!==l?l:"")),e.R7$(2),e.SpI(" ",e.bMT(37,44,"UF")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.ufId),e.R7$(3),e.Y8G("ngForOf",null!==(m=o.ufsByPais[o.paisId])&&void 0!==m?m:e.lJ4(51,Be)),e.R7$(),e.Y8G("control",w)("controlEl",V),e.R7$(3),e.SpI(" ",e.bMT(47,46,"Pais")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.paisId),e.R7$(3),e.Y8G("ngForOf",o.paises),e.R7$(),e.Y8G("control",B)("controlEl",U),e.R7$(3),e.SpI(" ",e.bMT(57,48,"CEP")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.pessoa.endereco_CodigoPostal)}},dependencies:[h.Sq,r.xH,r.y7,r.me,r.wz,r.BC,r.tU,r.R_,r.vS,y.e,f.S],encapsulation:2})}return a})(),O=(()=>{class a extends Y{constructor(i){super(i)}ngOnInit(){}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["endereco-residencia-form"]],inputs:{pessoa:"pessoa"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:1,vars:2,consts:[["ngModelGroup","novoEndereco",3,"pessoa","disabled"]],template:function(t,o){1&t&&e.nrm(0,"endereco-form",0),2&t&&e.Y8G("pessoa",o.pessoa)("disabled",o.disabled)},dependencies:[r.cb,r.Y4,ze],encapsulation:2})}return a})();var z=M(97586);let H=(()=>{class a extends Y{get dataNascimento(){return this.pessoa?.dataNascimento?.format("yyyy-MM-DD")??""}set dataNascimento(i){this.pessoa.dataNascimento=""!=i&&null!=i?z(i):void 0}get generoId(){return this.pessoa?.generoId?.toString()??""}set generoId(i){var t=Number(i);Number.isNaN(t)&&(t=void 0),this.pessoa.generoId=t}constructor(i){super(i)}ngOnInit(){}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["info-pessoal-form"]],inputs:{pessoa:"pessoa"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:42,vars:28,consts:[["nomeModel","ngModel","nomeEl",""],["cpfModel","ngModel","cpfEl",""],["generoModel","ngModel","generoEl",""],["dataNascimentoModel","ngModel","dataNascimentoEl",""],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","cpf",1,"col-md-3","col-form-label"],["type","text","name","cpf","id","cpf","maxlength","11",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","genero",1,"col-md-3","col-form-label"],["id","genero","name","genero",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value","1"],["value","2"],["value","3"],["for","dataNascimento",1,"col-md-3","col-form-label"],["type","date","name","dataNascimento","id","dataNascimento",1,"form-control",3,"ngModelChange","disabled","ngModel"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div",4)(1,"label",5),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",6)(5,"input",7,0),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.pessoa.nome,l)||(o.pessoa.nome=l),e.Njj(l)}),e.k0s(),e.nrm(8,"abp-validation-summary",8),e.k0s()(),e.j41(9,"div",9)(10,"label",10),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",6)(14,"input",11,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.pessoa.cpf,l)||(o.pessoa.cpf=l),e.Njj(l)}),e.k0s(),e.nrm(17,"abp-validation-summary",8),e.k0s()(),e.j41(18,"div",9)(19,"label",12),e.EFF(20),e.nI1(21,"localize"),e.k0s(),e.j41(22,"div",6)(23,"select",13,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.generoId,l)||(o.generoId=l),e.Njj(l)}),e.j41(26,"option",14),e.EFF(27,"Feminino"),e.k0s(),e.j41(28,"option",15),e.EFF(29,"Masculino"),e.k0s(),e.j41(30,"option",16),e.EFF(31,"N\xe3o-bin\xe1rio"),e.k0s()(),e.nrm(32,"abp-validation-summary",8),e.k0s()(),e.j41(33,"div",9)(34,"label",17),e.EFF(35),e.nI1(36,"localize"),e.k0s(),e.j41(37,"div",6)(38,"input",18,3),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.dataNascimento,l)||(o.dataNascimento=l),e.Njj(l)}),e.k0s(),e.nrm(41,"abp-validation-summary",8),e.k0s()()}if(2&t){const n=e.sdS(6),s=e.sdS(7),l=e.sdS(15),m=e.sdS(16),p=e.sdS(24),_=e.sdS(25),C=e.sdS(39),F=e.sdS(40);e.R7$(2),e.SpI(" ",e.bMT(3,20,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.pessoa.nome),e.R7$(3),e.Y8G("control",n)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,22,"CPF")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.pessoa.cpf),e.R7$(3),e.Y8G("control",l)("controlEl",m),e.R7$(3),e.SpI(" ",e.bMT(21,24,"G\xeanero")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.generoId),e.R7$(9),e.Y8G("control",p)("controlEl",_),e.R7$(3),e.SpI(" ",e.bMT(36,26,"DataDeNascimento")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.dataNascimento),e.R7$(3),e.Y8G("control",C)("controlEl",F)}},dependencies:[r.xH,r.y7,r.me,r.wz,r.BC,r.YS,r.tU,r.vS,y.e,f.S],encapsulation:2})}return a})(),x=(()=>{class a extends Y{constructor(i){super(i)}ngOnInit(){}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["info-contato-form"]],inputs:{pessoa:"pessoa"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:27,vars:18,consts:[["emailModel","ngModel","emailEl",""],["telefone1Model","ngModel","telefone1El",""],[1,"form-group","row"],["for","email",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","email","name","email","id","email","maxlength","500",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","telefone1",1,"col-md-3","col-form-label"],["type","tel","name","telefone1","id","telefone1","maxlength","20","pattern","\\+[0-9]*","placeholder","+55 98 9XXXX XXXX",1,"form-control",3,"ngModelChange","ngModel"],["for","telefone2",1,"col-md-3","col-form-label"],["type","tel","name","telefone2","id","telefone2","maxlength","20","pattern","\\+[0-9]*","placeholder","+55 98 9XXXX XXXX",1,"form-control",3,"ngModelChange","ngModel"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div",2)(1,"label",3),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",4)(5,"input",5,0),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.pessoa.infoContato_Email,l)||(o.pessoa.infoContato_Email=l),e.Njj(l)}),e.k0s(),e.nrm(8,"abp-validation-summary",6),e.k0s()(),e.j41(9,"div",2)(10,"label",7),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",4)(14,"input",8,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.pessoa.infoContato_Telefone1,l)||(o.pessoa.infoContato_Telefone1=l),e.Njj(l)}),e.k0s(),e.nrm(17,"abp-validation-summary",6),e.k0s()(),e.j41(18,"div",2)(19,"label",9),e.EFF(20),e.nI1(21,"localize"),e.k0s(),e.j41(22,"div",4)(23,"input",10,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.pessoa.infoContato_Telefone2,l)||(o.pessoa.infoContato_Telefone2=l),e.Njj(l)}),e.k0s(),e.nrm(26,"abp-validation-summary",6),e.k0s()()}if(2&t){const n=e.sdS(6),s=e.sdS(7),l=e.sdS(15),m=e.sdS(16);e.R7$(2),e.SpI(" ",e.bMT(3,12,"Email")," "),e.R7$(3),e.R50("ngModel",o.pessoa.infoContato_Email),e.R7$(3),e.Y8G("control",n)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,14,"Telefone 1")," "),e.R7$(3),e.R50("ngModel",o.pessoa.infoContato_Telefone1),e.R7$(3),e.Y8G("control",l)("controlEl",m),e.R7$(3),e.SpI(" ",e.bMT(21,16,"Telefone 2")," "),e.R7$(3),e.R50("ngModel",o.pessoa.infoContato_Telefone2),e.R7$(3),e.Y8G("control",l)("controlEl",m)}},dependencies:[r.me,r.BC,r.tU,r.R_,r.vS,y.e,f.S],encapsulation:2})}return a})(),ae=(()=>{class a extends v.q{constructor(i,t){super(i),this.bsModalRef=t,this.saving=!1,this.onSave=new e.bkB,this.saveOrReturn=!1}initEmptyPessoaDto(){}ngOnInit(){this.initEmptyPessoaDto()}_format(){}save(){this.saving=!0,this._format(),this.saveOrReturn?(this.onSave.emit(this.pessoa),this.saving=!1):this.create().subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.onSave.emit(),this.saving=!1,this.bsModalRef.hide()})}printFormStatus(i,t=["infoPessoal","infoContato","enderecoNovo"]){console.log(i.status),console.log(i.errors);for(let o=0;o<t.length;o++)console.log(t[o],i.form.controls[t[o]].errors);console.log(i)}create(){throw"Not Implemented"}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:16,vars:17,consts:[["createPessoaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],["ngModelGroup","infoPessoal",3,"pessoa"],["ngModelGroup","infoContato",3,"pessoa"],["ngModelGroup","endereco",3,"pessoa"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"tabset")(6,"tab",4),e.nI1(7,"localize"),e.nrm(8,"info-pessoal-form",5),e.k0s(),e.j41(9,"tab",4),e.nI1(10,"localize"),e.nrm(11,"info-contato-form",6),e.k0s(),e.j41(12,"tab",4),e.nI1(13,"localize"),e.nrm(14,"endereco-residencia-form",7),e.k0s()()(),e.j41(15,"abp-modal-footer",8),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,9,"CreateNewPessoa")),e.R7$(4),e.Y8G("heading",e.bMT(7,11,"InfoPessoal")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(10,13,"InfoContato")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(13,15,"Endere\xe7oResidencia")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.cb,r.Y4,r.cV,S.V6,S.fw,j.x,R.z,O,H,x,f.S],encapsulation:2})}return a})();var Nt=M(21413);let Vt=(()=>{class a extends Y{constructor(i){super(i),this.infoPessoalDisabled=!1,this.infoContatoDisabled=!1,this.enderecoDisabled=!1}ngOnInit(){}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["create-responsavel-coluna"]],inputs:{infoPessoalDisabled:"infoPessoalDisabled",infoContatoDisabled:"infoContatoDisabled",enderecoDisabled:"enderecoDisabled",responsavel:"responsavel"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:3,vars:6,consts:[["ngModelGroup","responsavelInfoPessoal",3,"pessoa","disabled"],["ngModelGroup","responsavelInfoContato",3,"pessoa","disabled"],["ngModelGroup","responsavelEndereco",3,"pessoa","disabled"]],template:function(t,o){1&t&&e.nrm(0,"info-pessoal-form",0)(1,"info-contato-form",1)(2,"endereco-residencia-form",2),2&t&&(e.Y8G("pessoa",o.responsavel)("disabled",o.infoPessoalDisabled||o.disabled),e.R7$(),e.Y8G("pessoa",o.responsavel)("disabled",o.infoContatoDisabled||o.disabled),e.R7$(),e.Y8G("pessoa",o.responsavel)("disabled",o.enderecoDisabled||o.disabled))},dependencies:[r.cb,r.Y4,O,H,x],encapsulation:2})}return a})();function Bt(a,d){if(1&a&&e.nrm(0,"create-responsavel-coluna",15),2&a){const i=e.XpG();e.Y8G("responsavel",i.responsavel)("disabled",i.temResponsavelPredefinido)}}function zt(a,d){if(1&a&&e.nrm(0,"info-contato-form",16),2&a){const i=e.XpG();e.Y8G("pessoa",i.pessoa)}}let se=(()=>{class a extends ae{get temResponsavelPredefinido(){return this._temResponsavelPredefinido}set temResponsavelPredefinido(i){this._temResponsavelPredefinido=i,i&&(this.semResponsavel=!1)}get semContato(){return this._semContato}set semContato(i){this._semContato=i,i&&(this.pessoa.infoContato_Email=void 0,this.pessoa.infoContato_Telefone1=void 0,this.pessoa.infoContato_Telefone2=void 0)}get semEndereco(){return this._semEndereco}set semEndereco(i){this._semEndereco=i,i&&(this.semResponsavel=!1,this.pessoa.endereco_Linha1=this.responsavel.endereco_Linha1,this.pessoa.endereco_Linha2=this.responsavel.endereco_Linha2,this.pessoa.endereco_Bairro=this.responsavel.endereco_Bairro,this.pessoa.endereco_CidadeId=this.responsavel.endereco_CidadeId,this.pessoa.endereco_CodigoPostal=this.responsavel.endereco_CodigoPostal)}constructor(i,t,o,n){super(i,n),this._alunoService=t,this._responsavelService=o,this.bsModalRef=n,this._temResponsavelPredefinido=!1,this.semResponsavel=!0,this._semContato=!1,this._semEndereco=!1,this.pessoa=new c.P$Z}ngOnInit(){super.ngOnInit(),this.temResponsavelPredefinido||(this.responsavel=new c.C9D)}initEmptyPessoaDto(){this.pessoa=new c.P$Z,super.initEmptyPessoaDto(),this.pessoa.responsaveis=[]}_format(){}create(){if(this.temResponsavelPredefinido&&this.responsavel instanceof c.I49)this.pessoa.responsaveis=[new c.GOu({id:this.responsavel.id})];else{if(this.semResponsavel)return this._alunoService.create(this.pessoa);if(this.responsavel instanceof c.C9D){let i=new Nt.B;return this._responsavelService.create(this.responsavel).subscribe(t=>{this.pessoa.responsaveis=[new c.GOu({id:t.id})],this._alunoService.create(this.pessoa).subscribe(o=>i.next(o))}),i}if(this.responsavel instanceof c.I49)return this.pessoa.responsaveis=[new c.GOu({id:this.responsavel.id})],this._alunoService.create(this.pessoa)}}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.pg4),e.rXU(c.o5l),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:46,vars:29,consts:[["createAlunoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],["ngModelGroup","infoPessoal",3,"pessoa"],[1,"row","p-1","pb-4"],[1,"col"],["name","hasResponsavel","type","radio",3,"change","disabled","checked"],["ngModelGroup","responsavel",3,"responsavel","disabled",4,"ngIf"],["name","hasContato","type","radio",3,"change","checked"],["ngModelGroup","infoContato",3,"pessoa",4,"ngIf"],["name","hasEndereco","type","radio",3,"change","checked"],["ngModelGroup","endereco",3,"pessoaChange","pessoa"],[3,"onCancelClick","cancelDisabled","saveDisabled"],["ngModelGroup","responsavel",3,"responsavel","disabled"],["ngModelGroup","infoContato",3,"pessoa"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"tabset")(6,"tab",4),e.nI1(7,"localize"),e.nrm(8,"info-pessoal-form",5),e.k0s(),e.j41(9,"tab",4),e.nI1(10,"localize"),e.j41(11,"div",6)(12,"label",7),e.EFF(13,"N\xe3o possui respons\xe1vel"),e.k0s(),e.j41(14,"div",7)(15,"input",8),e.bIt("change",function(l){return e.eBV(n),e.Njj(o.semResponsavel=l.target.checked)}),e.k0s()(),e.j41(16,"label",7),e.EFF(17,"Possui respons\xe1vel"),e.k0s(),e.j41(18,"div",7)(19,"input",8),e.bIt("change",function(l){return e.eBV(n),e.Njj(o.semResponsavel=!l.target.checked)}),e.k0s()()(),e.DNE(20,Bt,1,2,"create-responsavel-coluna",9),e.k0s(),e.j41(21,"tab",4),e.nI1(22,"localize"),e.j41(23,"div",6)(24,"label",7),e.EFF(25,"N\xe3o possui contato pr\xf3prio"),e.k0s(),e.j41(26,"div",7)(27,"input",10),e.bIt("change",function(l){return e.eBV(n),e.Njj(o.semContato=l.target.checked)}),e.k0s()(),e.j41(28,"label",7),e.EFF(29,"Possui contato pr\xf3prio"),e.k0s(),e.j41(30,"div",7)(31,"input",10),e.bIt("change",function(l){return e.eBV(n),e.Njj(o.semContato=!l.target.checked)}),e.k0s()()(),e.DNE(32,zt,1,1,"info-contato-form",11),e.k0s(),e.j41(33,"tab",4),e.nI1(34,"localize"),e.j41(35,"div",6)(36,"label",7),e.EFF(37,"Mora com respons\xe1vel"),e.k0s(),e.j41(38,"div",7)(39,"input",12),e.bIt("change",function(l){return e.eBV(n),e.Njj(o.semEndereco=l.target.checked)}),e.k0s()(),e.j41(40,"label",7),e.EFF(41,"Mora em outro endere\xe7o"),e.k0s(),e.j41(42,"div",7)(43,"input",12),e.bIt("change",function(l){return e.eBV(n),e.Njj(o.semEndereco=!l.target.checked)}),e.k0s()()(),e.j41(44,"endereco-residencia-form",13),e.mxI("pessoaChange",function(l){return e.eBV(n),e.DH7(o.pessoa,l)||(o.pessoa=l),e.Njj(l)}),e.k0s()()()(),e.j41(45,"abp-modal-footer",14),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,19,"CreateNewAluno")),e.R7$(4),e.Y8G("heading",e.bMT(7,21,"InfoPessoal")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(10,23,"Responsavel")),e.R7$(6),e.Y8G("disabled",o.temResponsavelPredefinido)("checked",o.semResponsavel),e.R7$(4),e.Y8G("disabled",o.temResponsavelPredefinido)("checked",!o.semResponsavel),e.R7$(),e.Y8G("ngIf",!o.semResponsavel),e.R7$(),e.Y8G("heading",e.bMT(22,25,"InfoContato")),e.R7$(6),e.Y8G("checked",o.semContato),e.R7$(4),e.Y8G("checked",!o.semContato),e.R7$(),e.Y8G("ngIf",!o.semContato),e.R7$(),e.Y8G("heading",e.bMT(34,27,"Endere\xe7oResidencia")),e.R7$(6),e.Y8G("checked",o.semEndereco),e.R7$(4),e.Y8G("checked",!o.semEndereco),e.R7$(),e.R50("pessoa",o.pessoa),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[h.bT,r.qT,r.cb,r.Y4,r.cV,S.V6,S.fw,j.x,R.z,O,H,x,Vt,f.S],encapsulation:2})}return a})();const Yt=(a,d,i)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:i});function Ut(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function Xt(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"button",38),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.detailsAluno(o))}),e.nrm(11,"i",39),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){let i,t,o;const n=d.$implicit;e.R7$(2),e.JRh(n.nome),e.R7$(2),e.JRh(null!==(i=n.genero_Nome)&&void 0!==i?i:"-"),e.R7$(2),e.JRh(null!==(t=n.cpf)&&void 0!==t?t:"-"),e.R7$(2),e.JRh(null!==(o=null==n.dataNascimento?null:n.dataNascimento.format("DD/MM/yyyy"))&&void 0!==o?o:"-"),e.R7$(4),e.SpI(" ",e.bMT(13,5,"Details")," ")}}let Ht=(()=>{class a extends A{constructor(i,t,o,n,s){super(i),this._alunoService=t,this._modalService=o,this._router=n,this._route=s,this.alunos=[],this.keyword="",this.advancedFiltersVisible=!1}createAluno(){let i;i=this._modalService.show(se,{class:"modal-lg"}),i.content.onSave.subscribe(()=>{this.refresh()})}detailsAluno(i){this._router.navigate(["details",i.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.isActive=void 0,this.getDataPage(1)}list(i,t,o){i.keyword=this.keyword,this._alunoService.getAll(i.keyword,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.alunos=n.items,this.showPaging(n,t)})}delete(i){abp.message.confirm("O seguinte endere\xe7o ser\xe1 exclu\xeddo do banco",void 0,t=>{t&&this._alunoService.delete(i.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.pg4),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:65,vars:44,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"]],template:function(t,o){1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createAluno()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,Ut,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th"),e.EFF(45),e.nI1(46,"localize"),e.k0s(),e.j41(47,"th",24),e.EFF(48),e.nI1(49,"localize"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,Xt,14,7,"tr",25),e.nI1(52,"paginate"),e.k0s()()()(),e.j41(53,"div",26)(54,"div",2)(55,"div",27)(56,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(57,"i",29),e.k0s()(),e.j41(58,"div",30)(59,"p",31),e.EFF(60),e.nI1(61,"localize"),e.k0s()(),e.j41(62,"div",32)(63,"div",33)(64,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&t&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,18,"Alunos")),e.R7$(5),e.SpI(" ",e.bMT(12,20,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,22,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,24,"Nome")),e.R7$(3),e.JRh(e.bMT(40,26,"G\xeanero")),e.R7$(3),e.JRh(e.bMT(43,28,"CPF")),e.R7$(3),e.JRh(e.bMT(46,30,"Data de Nascimento")),e.R7$(3),e.JRh(e.bMT(49,32,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(52,34,o.alunos,e.sMw(40,Yt,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(61,37,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,r.me,r.BC,r.vS,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})(),xt=(()=>{class a extends v.q{constructor(i,t,o,n,s){super(i),this._alunoService=t,this._colaboradorService=o,this._responsavelService=n,this.bsModalRef=s,this.saving=!1,this.tipoPessoa=void 0,this.onSave=new e.bkB}ngOnInit(){if("Aluno"==this.tipoPessoa)this._pessoaService=this._alunoService;else if("Colaborador"==this.tipoPessoa)this._pessoaService=this._colaboradorService;else{if("Responsavel"!=this.tipoPessoa)throw"Tipo de pessoa inv\xe1lido";this._pessoaService=this._responsavelService}null==this.inputPessoa?this._pessoaService.get(this.pessoaId).subscribe(i=>{this.inputPessoa=i,this._setUpdateDto()}):this._setUpdateDto()}_setUpdateDto(){this.inputPessoa instanceof c.lG3?this.pessoa=new c.klT(this.inputPessoa):this.inputPessoa instanceof c.GcL?this.pessoa=new c.Th9(this.inputPessoa):this.inputPessoa instanceof c.I49&&(this.pessoa=new c.jAu(this.inputPessoa))}save(){this.saving=!0,this._pessoaService.update(this.pessoa).subscribe(i=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(i),this.saving=!1})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.pg4),e.rXU(c.i9W),e.rXU(c.o5l),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:16,vars:17,consts:[["editEnderecoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],["ngModelGroup","infoPessoal",3,"pessoa"],["ngModelGroup","infoContato",3,"pessoa"],["ngModelGroup","endereco",3,"pessoa"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"tabset")(6,"tab",4),e.nI1(7,"localize"),e.nrm(8,"info-pessoal-form",5),e.k0s(),e.j41(9,"tab",4),e.nI1(10,"localize"),e.nrm(11,"info-contato-form",6),e.k0s(),e.j41(12,"tab",4),e.nI1(13,"localize"),e.nrm(14,"endereco-form",7),e.k0s()()(),e.j41(15,"abp-modal-footer",8),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,9,"Edit"+o.tipoPessoa)),e.R7$(4),e.Y8G("heading",e.bMT(7,11,"InfoPessoal")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(10,13,"InfoContato")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(13,15,"Endere\xe7oResidencia")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.cb,r.Y4,r.cV,S.V6,S.fw,j.x,R.z,ze,H,x,f.S],encapsulation:2})}return a})();function qt(a,d){if(1&a&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.R7$(),e.JRh(i)}}function Ot(a,d){if(1&a){const i=e.RV6();e.j41(0,"a",10),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.onClickEdit.emit())}),e.nrm(1,"i",11),e.EFF(2),e.nI1(3,"localize"),e.k0s()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Edit")," "))}let J=(()=>{class a extends v.q{constructor(i){super(i),this.onClickEdit=new e.bkB,this.pessoal=!1}ngOnInit(){}podeEditar(){return this.pessoal||this.permission.isGranted("Business.Admin.People")}getEnderecoString(){let i="";return null!=this.pessoa?.endereco_Linha1&&(i+=this.pessoa?.endereco_Linha1+"\n"),null!=this.pessoa?.endereco_Linha2&&(i+=this.pessoa?.endereco_Linha2+"\n"),null!=this.pessoa?.endereco_Bairro&&(i+=this.pessoa?.endereco_Bairro,null!=this.cidade?.nome&&(i+=", ")),null!=this.cidade?.nome&&(i+=this.cidade?.nome,null!=this.uf?.abreviacao&&(i+=" - ")),null!=this.uf?.abreviacao&&(i+=this.uf?.abreviacao),(null!=this.pessoa?.endereco_Bairro||null!=this.cidade?.nome||null!=this.uf?.abreviacao)&&(i+="\n"),null!=this.pais?.nome&&(i+=this.pais?.nome),""==i?["-"]:i.split("\n")}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["info-pessoal-details"]],inputs:{pessoa:"pessoa",cidade:"cidade",uf:"uf",pais:"pais",pessoal:"pessoal"},outputs:{onClickEdit:"onClickEdit"},features:[e.Vt3],decls:45,vars:9,consts:[[1,"container-fluid","row","p-0","m-0"],[1,"col-md-8"],[1,"row","m-0","p-0"],[1,"col-md-4","m-0","p-0","text-left"],[1,"col-md-8","m-0","p-0"],[1,"row","mx-0","mb-0","mt-4","p-0"],[4,"ngFor","ngForOf"],[1,"row","mx-0","mt-4","mb-0","p-0","justify-content-center","align-content-center"],[1,"col-0","m-0","p-0"],["href","javascript:;","class","btn bg-blue",3,"click",4,"ngIf"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-pencil"]],template:function(t,o){if(1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.EFF(4," Nome Completo: "),e.k0s(),e.j41(5,"label",4),e.EFF(6),e.k0s()(),e.j41(7,"div",2)(8,"div",3),e.EFF(9," CPF: "),e.k0s(),e.j41(10,"label",4),e.EFF(11),e.k0s()(),e.j41(12,"div",2)(13,"div",3),e.EFF(14," G\xeanero: "),e.k0s(),e.j41(15,"label",4),e.EFF(16),e.k0s()(),e.j41(17,"div",2)(18,"div",3),e.EFF(19," Data de Nascimento: "),e.k0s(),e.j41(20,"label",4),e.EFF(21),e.k0s()(),e.j41(22,"div",5)(23,"div",3),e.EFF(24," Endere\xe7o: "),e.k0s(),e.j41(25,"label",4),e.DNE(26,qt,2,1,"div",6),e.k0s()(),e.j41(27,"div",5)(28,"div",3),e.EFF(29," Email: "),e.k0s(),e.j41(30,"label",4),e.EFF(31),e.k0s()(),e.j41(32,"div",2)(33,"div",3),e.EFF(34," Telefone 1: "),e.k0s(),e.j41(35,"label",4),e.EFF(36),e.k0s()(),e.j41(37,"div",2)(38,"div",3),e.EFF(39," Telefone 2: "),e.k0s(),e.j41(40,"label",4),e.EFF(41),e.k0s()(),e.j41(42,"div",7)(43,"div",8),e.DNE(44,Ot,4,3,"a",9),e.k0s()()()()),2&t){let n,s,l,m,p,_,C;e.R7$(6),e.SpI(" ",null!==(n=null==o.pessoa?null:o.pessoa.nome)&&void 0!==n?n:""," "),e.R7$(5),e.SpI(" ",null!==(s=null==o.pessoa?null:o.pessoa.cpf)&&void 0!==s?s:"-"," "),e.R7$(5),e.SpI(" ",null!==(l=null==o.pessoa?null:o.pessoa.genero_Nome)&&void 0!==l?l:"-"," "),e.R7$(5),e.SpI(" ",null!==(m=null==o.pessoa||null==o.pessoa.dataNascimento?null:o.pessoa.dataNascimento.format("DD/MM/yyyy"))&&void 0!==m?m:"-"," "),e.R7$(5),e.Y8G("ngForOf",o.getEnderecoString()),e.R7$(5),e.SpI(" ",null!==(p=null==o.pessoa?null:o.pessoa.infoContato_Email)&&void 0!==p?p:"-"," "),e.R7$(5),e.SpI(" ",null!==(_=null==o.pessoa?null:o.pessoa.infoContato_Telefone1)&&void 0!==_?_:"-"," "),e.R7$(5),e.SpI(" ",null!==(C=null==o.pessoa?null:o.pessoa.infoContato_Telefone2)&&void 0!==C?C:"-"," "),e.R7$(3),e.Y8G("ngIf",o.podeEditar())}},dependencies:[h.Sq,h.bT,f.S],encapsulation:2})}return a})(),Q=(()=>{class a extends v.q{initEmptyPessoa(){}createUser(i){}get createUserCallable(){return this.createUser.bind(this)}constructor(i,t,o,n,s){super(i),this._paisService=t,this._modalService=o,this._router=n,this._route=s,this.pessoa=this.initEmptyPessoa()}goBack(){this._router.navigate(["../.."],{relativeTo:this._route})}getPessoa(){throw"NotImplemented"}getTipoPessoa(){throw"NotImplemented"}proccessDto(i){this.pessoa=i,null!=this.pessoa.endereco_CidadeId&&(this._paisService.getCidade(this.pessoa.endereco_CidadeId).subscribe(t=>this.cidade=t),this._paisService.getUnidadeFederal(void 0,this.pessoa.endereco_CidadeId).subscribe(t=>this.uf=t),this._paisService.getPais(void 0,void 0,this.pessoa.endereco_CidadeId).subscribe(t=>this.pais=t))}ngOnInit(){this.getPessoa().subscribe(this.proccessDto.bind(this))}editInfoPessoal(){this._modalService.show(xt,{class:"modal-lg",initialState:{pessoaId:this.pessoa.id,inputPessoa:this.pessoa,tipoPessoa:this.getTipoPessoa()}}).content.onSave.subscribe((t=>{this.pessoa=t}).bind(this))}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.B59),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:18,vars:10,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[3,"pessoaChange","onClickEdit","pessoa","cidade","uf","pais"]],template:function(t,o){1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes da Pessoa "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"info-pessoal-details",13),e.mxI("pessoaChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.bIt("onClickEdit",function(){return o.editInfoPessoal()}),e.k0s()()()()()()),2&t&&(e.Y8G("@routerTransition",void 0),e.R7$(11),e.Lme(" ",o.pessoa.nome.split(" ")[0]," ",o.pessoa.nome.split(" ").reverse()[0]," "),e.R7$(4),e.Y8G("heading",e.bMT(16,8,"PersonalInfo")),e.R7$(2),e.R50("pessoa",o.pessoa),e.Y8G("cidade",o.cidade)("uf",o.uf)("pais",o.pais))},dependencies:[S.V6,S.fw,J,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();function Jt(a,d){if(1&a&&(e.j41(0,"div",2)(1,"div",3),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",3),e.EFF(5),e.k0s()()),2&a){let i;const t=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,2,"Username"),": "),e.R7$(3),e.SpI(" ",null!==(i=null==t.user?null:t.user.userName)&&void 0!==i?i:"-"," ")}}function Lt(a,d){if(1&a){const i=e.RV6();e.j41(0,"a",10),e.bIt("click",function(){e.eBV(i);const o=e.XpG(3);return e.Njj(o.startUserCreate())}),e.EFF(1),e.nI1(2,"localize"),e.k0s()}2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Criar conta de usu\xe1rio")," "))}function Zt(a,d){if(1&a&&(e.j41(0,"div",8),e.DNE(1,Lt,3,3,"a",9),e.k0s()),2&a){const i=e.XpG(2);e.R7$(),e.Y8G("ngIf",i.podeConceder())}}function Wt(a,d){if(1&a){const i=e.RV6();e.j41(0,"div")(1,"div",11)(2,"label",12),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"div",13)(6,"input",14),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG(2);return e.DH7(n.userCreate.username,o)||(n.userCreate.username=o),e.Njj(o)}),e.k0s()()(),e.j41(7,"div",15)(8,"button",16),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.cancelUserCreate())}),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"button",17),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.finishUserCreate())}),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){const i=e.XpG(2);e.R7$(3),e.SpI(" ",e.bMT(4,7,"Username")," "),e.R7$(3),e.Y8G("disabled",i.saving),e.R50("ngModel",i.userCreate.username),e.R7$(2),e.Y8G("disabled",i.saving),e.R7$(),e.SpI(" ",e.bMT(10,9,"Cancel")," "),e.R7$(2),e.Y8G("disabled",!i.usernameValid()||i.saving),e.R7$(),e.SpI(" ",e.bMT(13,11,"Save")," ")}}function Qt(a,d){if(1&a&&(e.j41(0,"div",4)(1,"div",5),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.DNE(4,Zt,2,1,"div",6)(5,Wt,14,13,"div",7),e.k0s()),2&a){const i=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,3,"Esta pessoa n\xe3o possui uma conta de usu\xe1rio.")," "),e.R7$(2),e.Y8G("ngIf",!i.creating),e.R7$(),e.Y8G("ngIf",i.creating)}}let le=(()=>{class a extends v.q{set pessoa(i){this._pessoa=i,null!=this.pessoa.userId&&this._userService.get(this._pessoa.userId).subscribe(t=>{this._user=t}),this.cancelUserCreate()}get pessoa(){return this._pessoa}get user(){return this._user}constructor(i,t){super(i),this._userService=t,this.creating=!1,this.saving=!1}ngOnInit(){}podeConceder(){return!0}startUserCreate(){this.creating=!0;let i=this._pessoa.nome.toLowerCase().split(" ");this.userCreate=new c.MjM({pessoaId:this._pessoa.id,username:i[0]+"."+i[i.length-1]})}cancelUserCreate(){this.creating=!1,this.userCreate=void 0}usernameValid(){return null!=this.userCreate.username&&""!=this.userCreate.username}finishUserCreate(){this.saving=!0,this.createUserCallable(this.userCreate).subscribe({next:i=>{this._user=i,this._pessoa.userId=i.id,this.saving=!1,this.cancelUserCreate()},error:i=>{this.saving=!1,this.cancelUserCreate()}})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.LCs))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["pessoa-account-details"]],inputs:{pessoa:"pessoa",createUserCallable:"createUserCallable"},features:[e.Vt3],decls:2,vars:2,consts:[["class","container-fluid row p-0 m-0",4,"ngIf"],["class","container-fluid col p-0 m-0",4,"ngIf"],[1,"container-fluid","row","p-0","m-0"],[1,"col-0","my-0","ml-0","mr-1","p-0","text-align-left"],[1,"container-fluid","col","p-0","m-0"],[1,"row","m-0","p-0","text-center","align-content-center","justify-content-center"],["class","row m-0 p-0 align-content-center justify-content-center",4,"ngIf"],[4,"ngIf"],[1,"row","m-0","p-0","align-content-center","justify-content-center"],["href","javascript:;","class","btn bg-blue",3,"click",4,"ngIf"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"form-group","row","required","align-content-center","justify-content-center"],["for","username",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","username","id","username","required","","maxlength","256",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row","m-0","p-0","align-content-center","justify-content-between"],[1,"btn","bg-secondary","col-0",3,"click","disabled"],[1,"btn","bg-primary","col-0",3,"click","disabled"]],template:function(t,o){1&t&&e.DNE(0,Jt,6,4,"div",0)(1,Qt,6,5,"div",1),2&t&&(e.Y8G("ngIf",null!=o.pessoa.userId),e.R7$(),e.Y8G("ngIf",null==o.pessoa.userId))},dependencies:[h.bT,r.me,r.BC,r.YS,r.tU,r.vS,f.S],encapsulation:2})}return a})(),Ye=(()=>{class a extends ae{constructor(i,t,o){super(i,o),this._responsavelService=t,this.bsModalRef=o}initEmptyPessoaDto(){this.pessoa=new c.C9D,super.initEmptyPessoaDto(),this.pessoa.dependentes=[]}create(){return this._responsavelService.create(this.pessoa)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.o5l),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:16,vars:17,consts:[["createResponsavelModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],["ngModelGroup","infoPessoal",3,"pessoa"],["ngModelGroup","infoContato",3,"pessoa"],["ngModelGroup","endereco",3,"pessoaChange","pessoa"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"tabset")(6,"tab",4),e.nI1(7,"localize"),e.nrm(8,"info-pessoal-form",5),e.k0s(),e.j41(9,"tab",4),e.nI1(10,"localize"),e.nrm(11,"info-contato-form",6),e.k0s(),e.j41(12,"tab",4),e.nI1(13,"localize"),e.j41(14,"endereco-residencia-form",7),e.mxI("pessoaChange",function(l){return e.eBV(n),e.DH7(o.pessoa,l)||(o.pessoa=l),e.Njj(l)}),e.k0s()()()(),e.j41(15,"abp-modal-footer",8),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,9,"CreateNewResponsavel")),e.R7$(4),e.Y8G("heading",e.bMT(7,11,"InfoPessoal")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(10,13,"InfoContato")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(13,15,"Endere\xe7oResidencia")),e.R7$(2),e.R50("pessoa",o.pessoa),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.cb,r.Y4,r.cV,S.V6,S.fw,j.x,R.z,O,H,x,f.S],encapsulation:2})}return a})();const Kt=()=>[];function en(a,d){if(1&a){const i=e.RV6();e.qex(0),e.j41(1,"div",5)(2,"label",6),e.EFF(3),e.k0s(),e.j41(4,"div",7)(5,"a",2),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.detailsResponsavel(o))}),e.nrm(6,"i",8),e.k0s()()(),e.bVm()}if(2&a){const i=d.$implicit,t=e.XpG();e.R7$(3),e.SpI(" ",t.getResponsavelNome(i)," ")}}let Ue=(()=>{class a extends v.q{set aluno(i){this._aluno=i,this.refresh()}get aluno(){return this._aluno}constructor(i,t,o,n,s,l,m){super(i),this._responsavelService=t,this._alunoService=o,this._modalService=n,this._changeDetector=s,this._router=l,this._route=m,this.alunoChange=new e.bkB}ngOnInit(){this.refresh()}refresh(){this.responsaveis=[],this.aluno?.responsaveis?.forEach(i=>{this._responsavelService.get(i.id).subscribe(t=>{this.responsaveis.push(t)})})}getResponsavelNome(i){return this.responsaveis?.find(t=>t.id==i.id)?.nome??""}detailsResponsavel(i){this._router.navigate(this.appSession.user.responsavel?.id==i.id?["app","personal",i.id]:["app","responsaveis","details",i.id])}cadastrarResponsavel(){let i=this._modalService.show(Ye,{class:"modal-lg",initialState:{saveOrReturn:!0}});i.content.onSave.subscribe((t=>{t.dependentes=[new c.GOu({id:this.aluno.id})],this._responsavelService.create(t).subscribe(o=>{this.aluno.responsaveis.push(new c.GOu(o)),i.content.notify.info(this.l("SavedSuccessfully")),i.content.bsModalRef.hide()})}).bind(this))}podeAddResponsaveis(){return this.permission.isGranted("Business.Admin.People")}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.o5l),e.rXU(c.pg4),e.rXU(g.I8),e.rXU(e.gRc),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["responsaveis-aluno"]],inputs:{aluno:"aluno"},outputs:{alunoChange:"alunoChange"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:7,vars:6,consts:[[1,"row","mb-2",3,"hidden"],[1,"col","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-0"],[1,"col-2"],[1,"fa","fa-link"]],template:function(t,o){if(1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"a",2),e.bIt("click",function(){return o.cadastrarResponsavel()}),e.nrm(3,"i",3),e.EFF(4),e.nI1(5,"localize"),e.k0s()()(),e.DNE(6,en,7,1,"ng-container",4)),2&t){let n;e.Y8G("hidden",!o.podeAddResponsaveis()),e.R7$(4),e.SpI(" ",e.bMT(5,3,"CadastrarResponsavel")," "),e.R7$(2),e.Y8G("ngForOf",null!==(n=null==o.aluno?null:o.aluno.responsaveis)&&void 0!==n?n:e.lJ4(5,Kt))}},dependencies:[h.Sq,f.S],encapsulation:2})}return a})();var q=M(7707);const on=()=>[],tn=(a,d,i)=>({id:"atendimentos-caso",itemsPerPage:a,currentPage:d,totalItems:i});function nn(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",13)(1,"a",14),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.registrarAtendimento())}),e.nrm(2,"i",15),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"RegistrarAtendimento")," "))}function an(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.nrm(9,"td"),e.k0s()),2&a){let i,t,o;const n=d.$implicit,s=e.XpG();e.R7$(2),e.JRh(s.getNomeAT(null==n?null:n.atuacaoTerapeutaId)),e.R7$(2),e.JRh(null!==(i=null==n||null==n.inicio?null:n.inicio.format("DD/MM/yyyy"))&&void 0!==i?i:"-"),e.R7$(2),e.Lme("",null!==(t=null==n||null==n.inicio?null:n.inicio.format("HH:mm"))&&void 0!==t?t:"-","~",null!==(t=null==n||null==n.fim?null:n.fim.format("HH:mm"))&&void 0!==t?t:"-",""),e.R7$(2),e.JRh(null!==(o=null==n||null==n.unidadesEnsino?null:n.unidadesEnsino.length)&&void 0!==o?o:"-")}}let Xe=(()=>{class a extends A{set aluno(i){this._aluno=i,this._localService.aluno=i,this.refresh()}get aluno(){return this._aluno}constructor(i,t,o,n,s,l,m,p,_,C,F,I,P){super(i),this._alunoService=t,this._casoService=o,this._staffService=n,this._atendimentoService=s,this._colaboradorService=l,this._protocoloIntervencaoService=m,this._hierarquiaAjudaService=p,this._modalService=_,this._router=C,this._route=F,this._changeDetector=I,this._localService=P,this.refreshCallback=new e.bkB}ngOnInit(){this.refresh()}getAtuacao(i){return this.staff?.find(t=>t.id==i)}getColabFuncao(i){return this.funcoesColaborador?.find(t=>t.id==i)}getColaborador(i){return this.colaboradores?.find(t=>t.id==i)}getFuncao(i){return this.funcoes?.find(t=>t.id==i)}list(i,t,o){null!=this.aluno?.casoId?this._atendimentoService.getAll(this.aluno.casoId,void 0,void 0,void 0,void 0,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>o())).subscribe(n=>{this.atendimentos=n.items,this.showPaging(n,t)}):(this.atendimentos=[],this.showPaging({items:[],totalCount:0},t))}delete(i){}registrarAtendimento(){this._router.navigate(["registro-atendimento"],{relativeTo:this._route})}getNomeAT(i){return this.getColaborador(this.getColabFuncao(this.getAtuacao(i)?.colabFuncaoId)?.colaboradorId)?.nome??""}getSupervisoresEAts(){var i=this.staff.filter(l=>{if(null==l.dataFim){var m=this.getColabFuncao(l.colabFuncaoId);if(null!=m){var p=this.getFuncao(m.funcaoOrgId);if("Supervisor Assistente"==p.nome||"Supervisor Gestor"==p.nome||"Acompanhante Terapeuta"==p.nome)return!0}}return!1}),t=[];i.forEach(l=>{t.includes(l.colabFuncaoId)||t.push(l.colabFuncaoId)});var o=[];t.forEach(l=>o.push(this.getColabFuncao(l)));var n=[];o.forEach(l=>{n.includes(l.colaboradorId)||n.push(l.colaboradorId)});var s=[];return n.forEach(l=>s.push(this.getColaborador(l))),{atuacoes:i,cfs:o,colaboradores:s}}podeRegistrarAtendimento(){return this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico")||(this.permission.isGranted("Business.Personal.Colaborador.Supervisor")||this.permission.isGranted("Business.Personal.Colaborador.AT"))&&null!=this.appSession?.user?.colaborador?.id&&this.getSupervisoresEAts().colaboradores.some(i=>i.id==this.appSession.user.colaborador.id)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.pg4),e.rXU(c.iD6),e.rXU(c.eAk),e.rXU(c.aMo),e.rXU(c.i9W),e.rXU(c.J3u),e.rXU(c.QkB),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX),e.rXU(e.gRc),e.rXU(q.n))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["atendimentos-caso"]],inputs:{aluno:"aluno",funcoes:"funcoes",colaboradores:"colaboradores",funcoesColaborador:"funcoesColaborador",staff:"staff"},outputs:{refreshCallback:"refreshCallback"},features:[e.Vt3],decls:30,vars:27,consts:[["class","row m-0 mb-1 justify-content-end text-center",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","10%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","atendimentos-caso",3,"pageChange"],[1,"row","m-0","mb-1","justify-content-end","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"]],template:function(t,o){if(1&t&&(e.DNE(0,nn,5,3,"div",0),e.j41(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"th",4),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"th",4),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"th",4),e.EFF(15),e.nI1(16,"localize"),e.k0s(),e.nrm(17,"th",4),e.k0s()(),e.j41(18,"tbody"),e.DNE(19,an,10,5,"tr",5),e.nI1(20,"paginate"),e.k0s()()(),e.j41(21,"div",6),e.nrm(22,"div",7),e.j41(23,"div",8)(24,"p",9),e.EFF(25),e.nI1(26,"localize"),e.k0s()(),e.j41(27,"div",10)(28,"div",11)(29,"abp-pagination-controls",12),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&t){let n;e.Y8G("ngIf",o.podeRegistrarAtendimento()),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(7,8,"AT")),e.R7$(3),e.JRh(e.bMT(10,10,"Data")),e.R7$(3),e.JRh(e.bMT(13,12,"Hora")),e.R7$(3),e.JRh(e.bMT(16,14,"No Unidades Ensino")),e.R7$(4),e.Y8G("ngForOf",e.i5U(20,16,null!==(n=o.atendimentos)&&void 0!==n?n:e.lJ4(22,on),e.sMw(23,tn,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(6),e.SpI(" ",e.i5U(26,19,"TotalRecordsCount",o.totalItems)," ")}},dependencies:[h.Sq,h.bT,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const He=()=>[];function sn(a,d){if(1&a&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&a){let i;const t=d.$implicit,o=e.XpG();e.Y8G("value",t.id),e.R7$(),e.SpI(" ",null==(i=o.getColaborador(null==(i=o.getFuncaoColaborador(null==t?null:t.colabFuncaoId))?null:i.colaboradorId))?null:i.nome," ")}}function ln(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td",30),e.EFF(2),e.k0s(),e.j41(3,"td",30)(4,"input",31),e.bIt("change",function(o){const n=e.eBV(i).index,s=e.XpG();return e.Njj(s.onParticipacaoChange(n,o.target.checked))}),e.k0s()()()}if(2&a){let i;const t=d.$implicit,o=d.index,n=e.XpG();e.R7$(2),e.JRh(null==(i=n.getColaborador(null==(i=n.getFuncaoColaborador(null==t?null:t.colabFuncaoId))?null:i.colaboradorId))?null:i.nome),e.R7$(2),e.Y8G("id","participacao"+o)("name","participacao"+o)}}let rn=(()=>{class a extends v.q{get loading(){return this.loadingTiposServico||this.loadingStaff||this.loadingFuncoesColaborador||this.loadingColaboradores}get disabled(){return this.loading||this.saving}constructor(i,t,o,n,s,l,m){super(i),this._alunoService=t,this._casoService=o,this._staffCasoService=n,this._supervisaoService=s,this._tipoServicoService=l,this.bsModalRef=m,this.NOME_SERVICO_SUPERVISAO="Supervis\xe3o",this.NOME_SERVICO_PARTICIPACAO="Participa\xe7\xe3o em Supervis\xe3o",this.loadingTiposServico=!1,this.loadingStaff=!1,this.loadingFuncoesColaborador=!1,this.loadingColaboradores=!1,this.saving=!1,this.onSave=new e.bkB}_setSupervisoresEParticipantes(){if(!this.loading&&null!=this.staff&&null!=this._funcoesApropriadasParticipantes&&null!=this._funcoesApropriadasSupervisor)if(this.supervisores=[],this.podemParticipar=[],this.staff.forEach(s=>{this._funcoesApropriadasSupervisor.includes(this.funcoesColaborador.find(l=>l.id==s.colabFuncaoId).funcaoOrgId)&&null==s.dataFim&&this.supervisores.push(s),this._funcoesApropriadasParticipantes.includes(this.funcoesColaborador.find(l=>l.id==s.colabFuncaoId).funcaoOrgId)&&null==s.dataFim&&this.podemParticipar.push(s)}),this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico"))this.options=this.supervisores;else if(this.permission.isGranted("Business.Personal.Colaborador.Supervisor.Gestor")){var i=this.appSession.user.colaborador?.id;if(null!=i){var t=this.funcoesColaborador.filter(s=>s.colaboradorId==i&&null==s.dataFim),o=this.funcoesColaborador.filter(s=>null==s.dataFim&&null!=s.gestorId&&t.some(l=>l.id==s.gestorId)),n=t.concat(o);this.options=this.supervisores.filter(s=>n.some(l=>l.id==s.colabFuncaoId))}}else this.permission.isGranted("Business.Personal.Colaborador.Supervisor.Assistente")?(i=this.appSession.user.colaborador?.id,null!=i&&(t=this.funcoesColaborador.filter(m=>m.colaboradorId==i),this.options=this.supervisores.filter(m=>t.some(p=>p.id==m.colabFuncaoId)))):this.options=[]}ngOnInit(){this.loadingTiposServico=!0,this._tipoServicoService.getAll(void 0,void 0,void 0,0,100).subscribe(i=>{this._funcoesApropriadasSupervisor=[],this._funcoesApropriadasParticipantes=[],i.items.forEach(t=>{t.nome.startsWith(this.NOME_SERVICO_SUPERVISAO)?t.funcoesOrg.forEach(o=>{this._funcoesApropriadasSupervisor.includes(o.id)||this._funcoesApropriadasSupervisor.push(o.id)}):t.nome.startsWith(this.NOME_SERVICO_PARTICIPACAO)&&t.funcoesOrg.forEach(o=>{this._funcoesApropriadasParticipantes.includes(o.id)||this._funcoesApropriadasParticipantes.push(o.id)})}),this.loadingTiposServico=!1,this._setSupervisoresEParticipantes()}),null==this.staff&&(this.loadingStaff=!0,this._staffCasoService.getAll(this.aluno.casoId,void 0,void 0,void 0,void 0,void 0,0,25).subscribe(t=>{this.staff=t.items,t.totalCount>t.items.length?this._staffCasoService.getAll(this.aluno.casoId,void 0,void 0,void 0,void 0,void 0,25,t.totalCount-t.items.length).subscribe(o=>{this.staff.push(...o.items),this.loadingStaff=!1,this._setSupervisoresEParticipantes()}):(this.loadingStaff=!1,this._setSupervisoresEParticipantes())})),this.supervisao=new c.OKn,this.supervisao.casoId=this.aluno.casoId,this.supervisao.participacoes=[],this.supervisao.inicio=z(),this.supervisao.fim=z()}getFuncaoColaborador(i){return this.funcoesColaborador?.find(t=>t.id==i)}getColaborador(i){return this.colaboradores?.find(t=>t.id==i)}get data(){return this.supervisao?.inicio?.format("YYYY-MM-DD")}set data(i){let t=z(i),o=z(i);t=t.hour(this.supervisao?.inicio?.hour()??0),o=o.hour(this.supervisao?.fim?.hour()??0),t=t.minute(this.supervisao?.inicio?.minute()??0),o=o.minute(this.supervisao?.fim?.minute()??0),this.supervisao.inicio=t,this.supervisao.fim=o}get horarioInicio(){return this.supervisao?.inicio?.format("HH:mm")}set horarioInicio(i){let t=Number(i.substring(0,2)),o=Number(i.substring(3,5));this.supervisao.inicio=this.supervisao?.inicio?.hour(t),this.supervisao.inicio=this.supervisao?.inicio?.minute(o)}get horarioFim(){return this.supervisao?.fim?.format("HH:mm")}set horarioFim(i){let t=Number(i.substring(0,2)),o=Number(i.substring(3,5));this.supervisao.fim=this.supervisao?.fim?.hour(t),this.supervisao.fim=this.supervisao?.fim?.minute(o)}get supervisorId(){return this.supervisao?.atuacaoSupervisorId?.toString()??""}set supervisorId(i){this.supervisao.atuacaoSupervisorId=""!=i&&null!=i?Number(i):void 0}onParticipacaoChange(i,t){let o=this.podemParticipar[i];!this.supervisao.participacoes.some(n=>n.atuacaoParticipanteId==o.id)&&t?this.supervisao.participacoes.push(new c.dH$({atuacaoParticipanteId:o.id,servicoPrestadoId:void 0})):this.supervisao.participacoes.some(n=>n.atuacaoParticipanteId==o.id)&&!t&&this.supervisao.participacoes.splice(this.supervisao.participacoes.findIndex(n=>n.atuacaoParticipanteId==o.id),1)}save(){this.saving=!0;let i={next:t=>{this.onSave.emit(t),this.bsModalRef.hide(),this.saving=!1},error:t=>{console.log(t),this.saving=!1},complete:()=>{}};this.supervisao.inicio=this.supervisao.inicio.utcOffset(0,!0),this.supervisao.fim=this.supervisao.fim.utcOffset(0,!0),this._supervisaoService.create(this.supervisao).subscribe(i)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.pg4),e.rXU(c.iD6),e.rXU(c.Uos),e.rXU(c.XUm),e.rXU(c.$Bn),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:61,vars:47,consts:[["registroSupervisaoModal","ngForm"],["supervisorModel","ngModel","supervisorEl",""],["dataModel","ngModel","dataEl",""],["horarioInicioModel","ngModel","horarioInicioEl",""],["horarioFimModel","ngModel","horarioFimEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","supervisor",1,"col-md-3","col-form-label"],[1,"col-md-9"],["name","supervisor","id","supervisor","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],["for","data",1,"col-md-3","col-form-label"],["type","date","name","data","id","data","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","horarioInicio",1,"col-md-3","col-form-label"],["type","time","name","horarioInicio","id","horarioInicio","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","horarioFim",1,"col-md-3","col-form-label"],["type","time","name","horarioFim","id","horarioFim","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row","m-0","justify-content-center"],[1,"table-responsive","col-md-8","mt-3"],[1,"table","table-bordered",3,"busy"],[1,"bg-light"],["colSpan","2",1,"text-center"],[2,"width","10%"],[4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"],[1,"text-center"],["type","checkbox",3,"change","id","name"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",5,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",6),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",7)(5,"div",8)(6,"label",9),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",10)(10,"select",11,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.supervisorId,l)||(o.supervisorId=l),e.Njj(l)}),e.nrm(13,"option",12),e.DNE(14,sn,2,2,"option",13),e.k0s(),e.nrm(15,"abp-validation-summary",14),e.k0s()(),e.j41(16,"div",8)(17,"label",15),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.j41(20,"div",10)(21,"input",16,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.data,l)||(o.data=l),e.Njj(l)}),e.k0s(),e.nrm(24,"abp-validation-summary",14),e.k0s()(),e.j41(25,"div",8)(26,"label",17),e.EFF(27),e.nI1(28,"localize"),e.k0s(),e.j41(29,"div",10)(30,"input",18,3),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.horarioInicio,l)||(o.horarioInicio=l),e.Njj(l)}),e.k0s(),e.nrm(33,"abp-validation-summary",14),e.k0s()(),e.j41(34,"div",8)(35,"label",19),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"div",10)(39,"input",20,4),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.horarioFim,l)||(o.horarioFim=l),e.Njj(l)}),e.k0s(),e.nrm(42,"abp-validation-summary",14),e.k0s()(),e.j41(43,"div",21)(44,"div",22)(45,"table",23)(46,"thead",24)(47,"tr")(48,"th",25),e.EFF(49),e.nI1(50,"localize"),e.k0s()(),e.j41(51,"tr")(52,"th"),e.EFF(53),e.nI1(54,"localize"),e.k0s(),e.j41(55,"th",26),e.EFF(56),e.nI1(57,"localize"),e.k0s()()(),e.j41(58,"tbody"),e.DNE(59,ln,5,3,"tr",27),e.k0s()()()()(),e.j41(60,"abp-modal-footer",28),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){let n,s;const l=e.sdS(1),m=e.sdS(11),p=e.sdS(12),_=e.sdS(22),C=e.sdS(23),F=e.sdS(31),I=e.sdS(32),P=e.sdS(40),w=e.sdS(41);e.R7$(2),e.Y8G("title",e.bMT(3,29,"RegistroSupervisao")),e.R7$(5),e.SpI(" ",e.bMT(8,31,"Supervisor")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.supervisorId),e.R7$(4),e.Y8G("ngForOf",null!==(n=o.options)&&void 0!==n?n:e.lJ4(45,He)),e.R7$(),e.Y8G("control",m)("controlEl",p),e.R7$(3),e.SpI(" ",e.bMT(19,33,"Data")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.data),e.R7$(3),e.Y8G("control",_)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(28,35,"Hor\xe1rio In\xedcio")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.horarioInicio),e.R7$(3),e.Y8G("control",F)("controlEl",I),e.R7$(3),e.SpI(" ",e.bMT(37,37,"Hor\xe1rio Fim")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.horarioFim),e.R7$(3),e.Y8G("control",P)("controlEl",w),e.R7$(3),e.Y8G("busy",o.loading),e.R7$(4),e.JRh(e.bMT(50,39,"Participa\xe7\xf5es")),e.R7$(4),e.JRh(e.bMT(54,41,"Nome")),e.R7$(3),e.JRh(e.bMT(57,43,"Participou?")),e.R7$(3),e.Y8G("ngForOf",null!==(s=o.podemParticipar)&&void 0!==s?s:e.lJ4(46,He)),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!l.form.valid||o.saving)}},dependencies:[h.Sq,r.qT,r.xH,r.y7,r.me,r.wz,r.BC,r.cb,r.YS,r.vS,r.cV,y.e,j.x,R.z,E,f.S],encapsulation:2})}return a})();const dn=(a,d,i)=>({id:"supervisoes-caso",itemsPerPage:a,currentPage:d,totalItems:i});function cn(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",13)(1,"a",14),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.registrarSupervisao())}),e.nrm(2,"i",15),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"RegistrarSupervisao")," "))}function un(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s()()),2&a){let i,t;const o=d.$implicit,n=e.XpG();e.R7$(2),e.JRh(null==(i=n.getColaborador(null==(i=n.getColabFuncao(null==(i=n.getAtuacao(null==o?null:o.atuacaoSupervisorId))?null:i.colabFuncaoId))?null:i.colaboradorId))?null:i.nome),e.R7$(2),e.Lme("",null!==(t=null==o||null==o.inicio?null:o.inicio.format("DD/MM/yyyy HH:mm"))&&void 0!==t?t:"-","~",null!==(t=null==o||null==o.fim?null:o.fim.format("HH:mm"))&&void 0!==t?t:"-",""),e.R7$(2),e.JRh(n.getParticipacoesString(o))}}let xe=(()=>{class a extends A{constructor(i,t,o,n,s,l){super(i),this._alunoService=t,this._casoService=o,this._modalService=n,this._supervisaoService=s,this.bsModalRef=l,this.registroCallback=new e.bkB}get aluno(){return this._aluno}set aluno(i){this._aluno=i,this.refresh()}ngOnInit(){}_zeroList(i){this.supervisoes=[],this.showPaging({items:[],totalCount:0},i)}list(i,t,o){null!=this.aluno?.casoId?(this.isTableLoading=!0,this._supervisaoService.getAll(this.aluno.casoId,void 0,void 0,void 0,void 0,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe({next:n=>{this.supervisoes=n.items,this.showPaging(n,t),this.isTableLoading=!1},error:()=>{this._zeroList(t),this.isTableLoading=!1}})):(o(),this._zeroList(t))}delete(i){}getAtuacao(i){return this.staff?.find(t=>t.id==i)}getColabFuncao(i){return this.funcoesColaborador?.find(t=>t.id==i)}getFuncao(i){return this.funcoes?.find(t=>t.id==i)}getColaborador(i){return this.colaboradores?.find(t=>t.id==i)}getColaboradorByCFId(i){return this.getColaborador(this.getColabFuncao(i).id)}getColaboradorByAtuacaoId(i){return this.getColaboradorByCFId(this.getAtuacao(i).colabFuncaoId)}getNomeSupervisor(i){return this.getColaboradorByAtuacaoId(i)?.nome??""}getParticipacoesString(i){let t=[];if(i?.participacoes?.forEach(n=>t.push(this.getColaborador(this.getColabFuncao(this.getAtuacao(n.atuacaoParticipanteId)?.colabFuncaoId)?.colaboradorId)?.nome)),0==t.length)return"";if(1==t.length)return t[0];let o=" e "+t.splice(t.length-1,1)[0];for(o=t.splice(t.length-1,1)[0]+o;t.length>0;)o=t.splice(t.length-1,1)[0]+", "+o;return o}getSupervisores(){var i=this.staff.filter(l=>{if(null==l.dataFim){var m=this.getColabFuncao(l.colabFuncaoId);if(null!=m){var p=this.getFuncao(m.funcaoOrgId);if("Supervisor Assistente"==p.nome||"Supervisor Gestor"==p.nome)return!0}}return!1}),t=[];i.forEach(l=>{t.includes(l.colabFuncaoId)||t.push(l.colabFuncaoId)});var o=[];t.forEach(l=>o.push(this.getColabFuncao(l)));var n=[];o.forEach(l=>{n.includes(l.colaboradorId)||n.push(l.colaboradorId)});var s=[];return n.forEach(l=>s.push(this.getColaborador(l))),{atuacoes:i,cfs:o,colaboradores:s}}podeRegistrarSupervisao(){return this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico")||this.permission.isGranted("Business.Personal.Colaborador.Supervisor")&&null!=this.appSession?.user?.colaborador?.id&&this.getSupervisores().colaboradores.some(i=>i.id==this.appSession.user.colaborador.id)}registrarSupervisao(){let i;i=this._modalService.show(rn,{class:"modal-lg",initialState:{aluno:this.aluno,colaboradores:this.colaboradores,funcoesColaborador:this.funcoesColaborador,staff:this.staff}}),i.content.onSave.subscribe(t=>{null!=t&&(this.supervisoes.push(t),this.showPaging({items:this.supervisoes,totalCount:this.supervisoes.length},this.pageNumber),this.registroCallback.emit())})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.pg4),e.rXU(c.iD6),e.rXU(g.I8),e.rXU(c.XUm),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["supervisoes-caso"]],inputs:{aluno:"aluno",funcoes:"funcoes",colaboradores:"colaboradores",funcoesColaborador:"funcoesColaborador",staff:"staff"},outputs:{registroCallback:"registroCallback"},features:[e.Vt3],decls:26,vars:23,consts:[["class","row m-0 mb-1 justify-content-end text-center",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","20%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","supervisoes-caso",3,"pageChange"],[1,"row","m-0","mb-1","justify-content-end","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"]],template:function(t,o){1&t&&(e.DNE(0,cn,5,3,"div",0),e.j41(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"th",4),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"th"),e.EFF(12),e.nI1(13,"localize"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,un,7,4,"tr",5),e.nI1(16,"paginate"),e.k0s()()(),e.j41(17,"div",6),e.nrm(18,"div",7),e.j41(19,"div",8)(20,"p",9),e.EFF(21),e.nI1(22,"localize"),e.k0s()(),e.j41(23,"div",10)(24,"div",11)(25,"abp-pagination-controls",12),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&t&&(e.Y8G("ngIf",o.podeRegistrarSupervisao()),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(7,7,"Supervisor")),e.R7$(3),e.JRh(e.bMT(10,9,"Data & Hora")),e.R7$(3),e.JRh(e.bMT(13,11,"Participantes")),e.R7$(3),e.Y8G("ngForOf",e.i5U(16,13,o.supervisoes,e.sMw(19,dn,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(6),e.SpI(" ",e.i5U(22,16,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const mn=()=>[],pn=(a,d,i)=>({id:"anamneses-caso",itemsPerPage:a,currentPage:d,totalItems:i});function hn(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",13)(1,"a",14),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.novaAnamnese())}),e.nrm(2,"i",15),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"NovaAnamnese")," "))}function fn(a,d){if(1&a){const i=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,n=e.XpG();return e.Njj(n.delete(o))}),e.nrm(1,"i",20),e.EFF(2),e.nI1(3,"localize"),e.k0s()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Delete")," "))}function bn(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"button",16),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.view(o))}),e.nrm(7,"i",17),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.DNE(10,fn,4,3,"button",18),e.k0s()()}if(2&a){let i;const t=d.$implicit,o=e.XpG();e.R7$(2),e.JRh(o.getNomeAvaliador(null==t?null:t.atuacaoId)),e.R7$(2),e.JRh(null!==(i=null==t||null==t.dataAvaliacao?null:t.dataAvaliacao.format("DD/MM/yyyy"))&&void 0!==i?i:"-"),e.R7$(4),e.SpI(" ",e.bMT(9,4,"View")," "),e.R7$(2),e.Y8G("ngIf",null==t.dataRegistroFechado)}}let gn=(()=>{class a extends A{set aluno(i){this._aluno=i,this._localService.aluno=i,this.refresh()}get aluno(){return this._aluno}constructor(i,t,o,n,s,l,m,p,_,C,F,I){super(i),this._alunoService=t,this._casoService=o,this._anamneseService=n,this._colaboradorService=s,this._protocoloIntervencaoService=l,this._hierarquiaAjudaService=m,this._bsModalService=p,this._router=_,this._route=C,this._changeDetector=F,this._localService=I,this.refreshCallback=new e.bkB}ngOnInit(){this.refresh()}getAtuacao(i){return this.staff?.find(t=>t.id==i)}getColabFuncao(i){return this.funcoesColaborador?.find(t=>t.id==i)}getColaborador(i){return this.colaboradores?.find(t=>t.id==i)}getFuncao(i){return this.funcoes?.find(t=>t.id==i)}list(i,t,o){null!=this.aluno?.casoId?this._anamneseService.getAll(void 0,void 0,void 0,this.aluno.casoId,void 0,void 0,void 0,void 0,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>o())).subscribe(n=>{this.anamneses=n.items,this.showPaging(n,t)}):(this.anamneses=[],this.showPaging({items:[],totalCount:0},t))}view(i){this._router.navigate(["view-registro-anamnese",i.id],{relativeTo:this._route})}delete(i){abp.message.confirm("Deletar registro de anamnese?",void 0,t=>{t&&this._anamneseService.delete(i.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}novaAnamnese(){this._router.navigate(["registro-anamnese"],{relativeTo:this._route})}getNomeAvaliador(i){return this.getColaborador(this.getColabFuncao(this.getAtuacao(i)?.colabFuncaoId)?.colaboradorId)?.nome??""}getSupervisores(){var i=this.staff.filter(l=>{if(null==l.dataFim){var m=this.getColabFuncao(l.colabFuncaoId);if(null!=m){var p=this.getFuncao(m.funcaoOrgId);if("Supervisor Assistente"==p.nome||"Supervisor Gestor"==p.nome)return!0}}return!1}),t=[];i.forEach(l=>{t.includes(l.colabFuncaoId)||t.push(l.colabFuncaoId)});var o=[];t.forEach(l=>o.push(this.getColabFuncao(l)));var n=[];o.forEach(l=>{n.includes(l.colaboradorId)||n.push(l.colaboradorId)});var s=[];return n.forEach(l=>s.push(this.getColaborador(l))),{atuacoes:i,cfs:o,colaboradores:s}}podeNovaAnamnese(){return this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico")||this.permission.isGranted("Business.Personal.Colaborador.Supervisor")&&null!=this.appSession?.user?.colaborador?.id&&this.getSupervisores().colaboradores.some(i=>i.id==this.appSession.user.colaborador.id)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.pg4),e.rXU(c.iD6),e.rXU(c.asg),e.rXU(c.i9W),e.rXU(c.J3u),e.rXU(c.QkB),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX),e.rXU(e.gRc),e.rXU(q.n))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["anamneses-caso"]],inputs:{aluno:"aluno",funcoes:"funcoes",colaboradores:"colaboradores",funcoesColaborador:"funcoesColaborador",staff:"staff"},outputs:{refreshCallback:"refreshCallback"},features:[e.Vt3],decls:24,vars:21,consts:[["class","row m-0 mb-1 justify-content-end text-center",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","20%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","anamneses-caso",3,"pageChange"],[1,"row","m-0","mb-1","justify-content-end","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-search"],["type","button","class","btn btn-sm bg-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-danger",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){if(1&t&&(e.DNE(0,hn,5,3,"div",0),e.j41(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"th"),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.nrm(11,"th",4),e.k0s()(),e.j41(12,"tbody"),e.DNE(13,bn,11,6,"tr",5),e.nI1(14,"paginate"),e.k0s()()(),e.j41(15,"div",6),e.nrm(16,"div",7),e.j41(17,"div",8)(18,"p",9),e.EFF(19),e.nI1(20,"localize"),e.k0s()(),e.j41(21,"div",10)(22,"div",11)(23,"abp-pagination-controls",12),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&t){let n;e.Y8G("ngIf",o.podeNovaAnamnese()),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(7,6,"Avaliador")),e.R7$(3),e.JRh(e.bMT(10,8,"Data")),e.R7$(4),e.Y8G("ngForOf",e.i5U(14,10,null!==(n=o.anamneses)&&void 0!==n?n:e.lJ4(16,mn),e.sMw(17,pn,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(6),e.SpI(" ",e.i5U(20,13,"TotalRecordsCount",o.totalItems)," ")}},dependencies:[h.Sq,h.bT,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const _n=(a,d,i)=>({id:"habilidade-selector",itemsPerPage:a,currentPage:d,totalItems:i});function vn(a,d){if(1&a&&(e.j41(0,"option",26),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",i.id),e.R7$(),e.JRh(i.nome)}}function Cn(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",5)(1,"div",14),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",14)(5,"select",23),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG(3);return e.DH7(n.protocoloAvaliacaoFiltroId,o)||(n.protocoloAvaliacaoFiltroId=o),e.Njj(o)}),e.nrm(6,"option",24),e.DNE(7,vn,2,2,"option",25),e.k0s()()()}if(2&a){const i=e.XpG(3);e.R7$(2),e.SpI(" ",e.bMT(3,4,"Protocolo de Avalia\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",i.saving),e.R50("ngModel",i.protocoloAvaliacaoFiltroId),e.R7$(2),e.Y8G("ngForOf",i.protocolosList)}}function In(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",14),e.DNE(1,Cn,8,6,"div",19),e.j41(2,"div",20),e.nrm(3,"div",14),e.j41(4,"div",16)(5,"button",21),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.resetFiltros())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.nrm(8,"div",14),e.j41(9,"div",16)(10,"button",22),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.applyFiltros())}),e.EFF(11),e.nI1(12,"localize"),e.k0s()(),e.nrm(13,"div",14),e.k0s()()}if(2&a){let i;const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==t.aplicacaoProtocoloFiltro&&(null!==(i=null==t.protocolosFiltro?null:t.protocolosFiltro.length)&&void 0!==i?i:0)<=1),e.R7$(4),e.Y8G("disabled",t.isTableLoading),e.R7$(),e.SpI(" ",e.bMT(7,5,"Reset")," "),e.R7$(4),e.Y8G("disabled",t.isTableLoading),e.R7$(),e.SpI(" ",e.bMT(12,7,"Aplicar")," ")}}function Fn(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",14)(1,"div",15)(2,"label",14),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"div",16)(6,"button",17),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.filtrosVisiveis=!o.filtrosVisiveis)}),e.nrm(7,"i",18),e.k0s()()(),e.DNE(8,In,14,9,"div",0),e.k0s()}if(2&a){const i=e.XpG();e.R7$(3),e.JRh(e.bMT(4,6,"Filtros")),e.R7$(4),e.AVh("fa-angle-up",i.filtrosVisiveis)("fa-angle-down",!i.filtrosVisiveis),e.R7$(),e.Y8G("ngIf",i.filtrosVisiveis)}}function kn(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"td"),e.EFF(15),e.nI1(16,"localize"),e.k0s(),e.j41(17,"td")(18,"button",27),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.selectUnselect(o))}),e.EFF(19),e.nI1(20,"localize"),e.k0s()()()}if(2&a){let i;const t=d.$implicit,o=e.XpG();e.R7$(2),e.JRh(e.bMT(3,10,null!==(i=null==t?null:t.isPersonalizada)&&void 0!==i&&i?"Sim":"N\xe3o")),e.R7$(3),e.JRh(o.getProtocoloString(t)),e.R7$(2),e.JRh(o.getNivelString(t)),e.R7$(2),e.JRh(e.bMT(10,12,o.getDominioString(t))),e.R7$(3),e.JRh(e.bMT(13,14,null==t?null:t.codigo)),e.R7$(3),e.JRh(e.bMT(16,16,null==t?null:t.nome)),e.R7$(3),e.HbH("btn btn-sm bg-"+(o.isSelected(t)?"secondary":"primary")),e.Y8G("disabled",o.isTableLoading),e.R7$(),e.SpI(" ",e.bMT(20,18,o.isSelected(t)?"Remover":"Selecionar")," ")}}let qe=(()=>{class a extends A{get protocolosList(){return[...this.protocolos.values()]}get selected(){return this._selected}set selected(i){this._selected=i,this.selectedChanged.emit(this._selected)}get protocoloAvaliacaoFiltroId(){return this.protocolosFiltro?.at(0)?.toString()??""}set protocoloAvaliacaoFiltroId(i){var t=Number(i);this.protocolosFiltro=Number.isNaN(t)?void 0:[t]}get nivelFiltroId(){return this.niveisFiltro?.at(0)?.toString()??""}set nivelFiltroId(i){var t=Number(i);this.niveisFiltro=Number.isNaN(t)?void 0:[t]}get dominioFiltroId(){return this.dominiosFiltro?.at(0)?.toString()??""}set dominioFiltroId(i){var t=Number(i);this.dominiosFiltro=Number.isNaN(t)?void 0:[t]}constructor(i,t,o,n,s){super(i),this._protocoloAvaliacaoService=t,this._habilidadeService=o,this._aplicacaoProtocoloAvaliacaoService=n,this.bsModalRef=s,this.saving=!1,this.filtrosVisiveis=!1,this.maxSelected=void 0,this._selected=[],this.selectedChanged=new e.bkB,this.habilidades=[],this.filterLock=!1,this.protocolos=new Map,this.niveis=new Map,this.dominios=new Map}ngOnInit(){this.isTableLoading=!0,!this.filterLock||null==this.aplicacaoProtocoloFiltro&&0==(this.protocolosFiltro?.length??0)?this._protocoloAvaliacaoService.getAll(void 0,this.casoFiltro,void 0,0,10).subscribe(o=>{o.items.forEach(n=>this.protocolos.set(n.id,n)),o.totalCount>o.items.length&&this._protocoloAvaliacaoService.getAll(void 0,this.casoFiltro,void 0,10,o.totalCount-o.items.length).subscribe(n=>{n.items.forEach(s=>this.protocolos.set(s.id,s))})}):null!=this.aplicacaoProtocoloFiltro?this._protocoloAvaliacaoService.getByAplicacao(this.aplicacaoProtocoloFiltro).subscribe(t=>this.protocolos.set(t.id,t)):this.protocolosFiltro.forEach(t=>{null==this.protocolos.get(t)&&this._protocoloAvaliacaoService.get(t).subscribe(o=>this.protocolos.set(o.id,o))}),null!=this.aplicacaoProtocoloFiltro?this._aplicacaoProtocoloAvaliacaoService.get(this.aplicacaoProtocoloFiltro).subscribe(t=>{this.aplicacaoProtocolo=t,this.casoFiltro=this.aplicacaoProtocolo.casoId,this.protocolosFiltro=[this.aplicacaoProtocolo.protocoloAvaliacaoId],this.refresh()}):this.refresh()}applyFiltros(){this.refresh()}list(i,t,o){this._habilidadeService.getAll(void 0,void 0,void 0,this.casoFiltro,this.protocolosFiltro,this.niveisFiltro,this.dominiosFiltro,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.habilidades=n.items,this.showPaging(n,t),this.loadAdditionalInfo()})}loadAdditionalInfo(){this.habilidades.forEach(i=>{null!=i.dominioId&&(this.dominios.has(i.dominioId)||(this.dominios.set(i.dominioId,void 0),this._protocoloAvaliacaoService.getDominio(i.dominioId).subscribe(t=>{this.dominios.set(i.dominioId,t),!this.niveis.has(t.nivelId)&&(this.niveis.set(t.nivelId,void 0),this._protocoloAvaliacaoService.getNivel(t.nivelId).subscribe(o=>{this.niveis.set(t.nivelId,o)}))})))})}delete(i){}isSelected(i){return this.selected.some(t=>t.id==i.id)}selectUnselect(i){let t=this.selected.findIndex(o=>o.id==i.id);-1!=t?this.selected.splice(t,1):(null!=this.maxSelected&&this.selected.length>=this.maxSelected&&this.selected.splice(0,this.selected.length-this.maxSelected+1),this.selected.push(i)),this.selectedChanged.emit(this.selected)}getSelectedDominios(){var i=[];return this.selected.forEach(t=>{null!=t.dominioId&&i.push(this.dominios.get(t.dominioId))}),i}getSelectedNiveis(){var i=this.getSelectedDominios(),t=[];return i.forEach(o=>{t.push(this.niveis.get(o.nivelId))}),t}getSelectedProtocolos(){var i=this.getSelectedNiveis(),t=[];return i.forEach(o=>{t.push(this.protocolos.get(o.protocoloAvaliacaoId))}),t}getDominioString(i){return null==i?.dominioId?"-":this.dominios.get(i.dominioId)?.nome}getNivelString(i){if(null==i?.dominioId)return"-";var t=this.dominios.get(i.dominioId);return null==t?.nivelId?"-":this.niveis.get(t.nivelId)?.nome}getProtocoloString(i){if(null==i?.dominioId)return"-";var t=this.dominios.get(i.dominioId);if(null==t?.nivelId)return"-";var o=this.niveis.get(t.nivelId);if(null==o?.protocoloAvaliacaoId)return"-";var n=this.protocolos.get(o.protocoloAvaliacaoId);return n?.nome}resetFiltros(){this.filterLock||(this.aplicacaoProtocoloFiltro=void 0,this.casoFiltro=void 0,this.protocolosFiltro=void 0,this.niveisFiltro=void 0,this.dominiosFiltro=void 0,this.applyFiltros())}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.WDn),e.rXU(c.XPk),e.rXU(c.hP4),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["habilidade-selector"]],inputs:{maxSelected:"maxSelected",selected:"selected",filterLock:"filterLock",aplicacaoProtocoloFiltro:"aplicacaoProtocoloFiltro",aplicacaoProtocolo:"aplicacaoProtocolo",casoFiltro:"casoFiltro",protocolosFiltro:"protocolosFiltro",protocolos:"protocolos",niveisFiltro:"niveisFiltro",niveis:"niveis",dominiosFiltro:"dominiosFiltro",dominios:"dominios"},outputs:{selectedChanged:"selectedChanged"},features:[e.Vt3],decls:38,vars:32,consts:[["class","col",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","habilidade-selector",3,"pageChange"],[1,"col"],[1,"row","p-2"],[1,"col-0"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","row",4,"ngIf"],[1,"row","pt-2","pb-2"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click","disabled"],["type","button",1,"btn","btn-sm","bg-primary",3,"click","disabled"],["name","protocoloAvaliacao","id","protocoloAvaliacao",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","button",3,"click","disabled"]],template:function(t,o){1&t&&(e.DNE(0,Fn,9,8,"div",0),e.j41(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"th"),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"th"),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"th"),e.EFF(15),e.nI1(16,"localize"),e.k0s(),e.j41(17,"th"),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.j41(20,"th"),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.nrm(23,"th"),e.k0s()(),e.j41(24,"tbody"),e.DNE(25,kn,21,20,"tr",4),e.nI1(26,"paginate"),e.k0s()()(),e.j41(27,"div",5)(28,"div",6)(29,"button",7),e.bIt("click",function(){return o.refresh()}),e.nrm(30,"i",8),e.k0s()(),e.j41(31,"div",9)(32,"p",10),e.EFF(33),e.nI1(34,"localize"),e.k0s()(),e.j41(35,"div",11)(36,"div",12)(37,"abp-pagination-controls",13),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&t&&(e.Y8G("ngIf",!o.filterLock),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(7,10,"Personalizada")),e.R7$(3),e.JRh(e.bMT(10,12,"Protocolo")),e.R7$(3),e.JRh(e.bMT(13,14,"N\xedvel")),e.R7$(3),e.JRh(e.bMT(16,16,"Dom\xednio")),e.R7$(3),e.JRh(e.bMT(19,18,"C\xf3digo")),e.R7$(3),e.JRh(e.bMT(22,20,"Nome")),e.R7$(4),e.Y8G("ngForOf",e.i5U(26,22,o.habilidades,e.sMw(28,_n,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(8),e.SpI(" ",e.i5U(34,25,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,r.xH,r.y7,r.wz,r.BC,r.vS,G,E,f.S,T.kf],encapsulation:2})}return a})();const jn=()=>[];function Rn(a,d){if(1&a){const i=e.RV6();e.j41(0,"habilidade-selector",12),e.mxI("selectedChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.selected,o)||(n.selected=o),e.Njj(o)}),e.k0s()}if(2&a){const i=e.XpG();e.Y8G("maxSelected",1)("filterLock",null!=i.aplicacaoProtocolo)("casoFiltro",i.casoId)("aplicacaoProtocoloFiltro",null==i.aplicacaoProtocolo?null:i.aplicacaoProtocolo.id)("aplicacaoProtocolo",i.aplicacaoProtocolo),e.R50("selected",i.selected),e.Y8G("protocolos",i.protocolos)("niveis",i.niveis)("dominios",i.dominios)}}function Sn(a,d){if(1&a&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&a){const i=d.$implicit,t=e.XpG(2);e.Y8G("value",i.id),e.R7$(),e.JRh(t.getAtuacaoString(i))}}function Mn(a,d){if(1&a&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",i.id),e.R7$(),e.JRh(i.nome)}}function En(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",14)(1,"label",30),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",16)(5,"select",31,5),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG(2);return e.DH7(n.pontuacaoId,o)||(n.pontuacaoId=o),e.Njj(o)}),e.nrm(8,"option"),e.DNE(9,Mn,2,2,"option",22),e.k0s(),e.nrm(10,"abp-validation-summary",19),e.k0s()()}if(2&a){let i;const t=e.sdS(6),o=e.sdS(7),n=e.XpG(2);e.R7$(2),e.SpI(" ",e.bMT(3,6,"Pontua\xe7\xe3o")," "),e.R7$(3),e.R50("ngModel",n.pontuacaoId),e.Y8G("disabled",n.saving),e.R7$(4),e.Y8G("ngForOf",null!==(i=n.getSistemaPontuacao())&&void 0!==i?i:e.lJ4(8,jn)),e.R7$(),e.Y8G("control",t)("controlEl",o)}}function Tn(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",13)(1,"div",14)(2,"label",15),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"div",16),e.EFF(6),e.k0s()(),e.j41(7,"div",14)(8,"label",17),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"div",16)(12,"input",18,1),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.dataAvaliada,o)||(n.dataAvaliada=o),e.Njj(o)}),e.k0s(),e.nrm(15,"abp-validation-summary",19),e.k0s()(),e.j41(16,"div",14)(17,"label",20),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.j41(20,"div",16)(21,"select",21,2),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.atuacaoRelatorId,o)||(n.atuacaoRelatorId=o),e.Njj(o)}),e.DNE(24,Sn,2,2,"option",22),e.k0s(),e.nrm(25,"abp-validation-summary",19),e.k0s()(),e.DNE(26,En,11,9,"div",23),e.j41(27,"div",24)(28,"label",25),e.EFF(29),e.nI1(30,"localize"),e.k0s(),e.j41(31,"div",16)(32,"input",26,3),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.avaliacaoHabilidade.notaConfirmacao,o)||(n.avaliacaoHabilidade.notaConfirmacao=o),e.Njj(o)}),e.k0s(),e.nrm(35,"abp-validation-summary",19),e.k0s()(),e.j41(36,"div",24)(37,"label",27),e.EFF(38),e.nI1(39,"localize"),e.k0s(),e.j41(40,"div",16)(41,"textarea",28,4),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.avaliacaoHabilidade.observacao,o)||(n.avaliacaoHabilidade.observacao=o),e.Njj(o)}),e.EFF(44,"                "),e.k0s(),e.nrm(45,"abp-validation-summary",19),e.k0s()()()}if(2&a){let i,t,o;const n=e.sdS(13),s=e.sdS(14),l=e.sdS(22),m=e.sdS(23),p=e.sdS(33),_=e.sdS(34),C=e.sdS(42),F=e.sdS(43),I=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,27,"Habilidade")," "),e.R7$(3),e.SpI(" ",I.getHabilidadeSelectedString()," "),e.R7$(3),e.SpI(" ",e.bMT(10,29,"Data da Avalia\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",I.saving),e.R50("ngModel",I.dataAvaliada),e.R7$(3),e.Y8G("control",n)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(19,31,"Relator")," "),e.R7$(3),e.R50("ngModel",I.atuacaoRelatorId),e.Y8G("disabled",I.saving),e.R7$(3),e.Y8G("ngForOf",I.getRelatorOptions()),e.R7$(),e.Y8G("control",l)("controlEl",m),e.R7$(),e.Y8G("ngIf",(null!==(i=null==(i=I.getSistemaPontuacao())?null:i.length)&&void 0!==i?i:0)>0),e.R7$(),e.AVh("required",0==(null!==(t=null==(t=I.getSistemaPontuacao())?null:t.length)&&void 0!==t?t:0)),e.R7$(2),e.SpI(" ",e.bMT(30,33,"Nota")," "),e.R7$(3),e.Y8G("required",0==(null!==(o=null==(o=I.getSistemaPontuacao())?null:o.length)&&void 0!==o?o:0)),e.R50("ngModel",I.avaliacaoHabilidade.notaConfirmacao),e.Y8G("disabled",I.saving),e.R7$(3),e.Y8G("control",p)("controlEl",_),e.R7$(3),e.SpI(" ",e.bMT(39,35,"Observa\xe7\xe3o")," "),e.R7$(3),e.R50("ngModel",I.avaliacaoHabilidade.observacao),e.Y8G("disabled",I.saving),e.R7$(4),e.Y8G("control",C)("controlEl",F)}}let Oe=(()=>{class a extends v.q{getRelatorOptions(){return[...this.staffCaso.values()]}getAtuacaoString(i){var t=this.staff.get(i.colabFuncaoId),o=this.funcoes.get(t.funcaoOrgId);return this.colaboradores.get(t.colaboradorId).nome+" - "+o.nome}get selected(){return this._selected}set selected(i){this._selected=i}get habilidadeSelected(){return this.selected?.at(0)}set habilidadeSelected(i){this.selected.length>0&&this.selected.pop(),null!=i&&this.selected.push(i)}get dominioSelected(){return this.dominios.get(this.habilidadeSelected.dominioId)}get nivelSelected(){return this.niveis.get(this.dominioSelected.nivelId)}get protocoloAvaliacaoSelected(){return this.protocolos.get(this.nivelSelected.protocoloAvaliacaoId)}getHabilidadeSelectedString(){return this.habilidadeSelected?.nome}getSistemaPontuacao(){if(null!=this.habilidadeSelected?.dominioId){var i=this.dominios?.get(this.habilidadeSelected?.dominioId),t=this.niveis?.get(i?.nivelId),o=this.protocolos?.get(t?.protocoloAvaliacaoId);return o.sistemaPontuacao}}get dataAvaliada(){return this.avaliacaoHabilidade?.dataAvaliada?.format("YYYY-MM-DD")}set dataAvaliada(i){this.avaliacaoHabilidade.dataAvaliada=z(i)}get atuacaoRelatorId(){return this.avaliacaoHabilidade?.atuacaoRelatorConfirmacaoId?.toString()??""}set atuacaoRelatorId(i){var t=Number(i);this.avaliacaoHabilidade.atuacaoRelatorConfirmacaoId=Number.isNaN(t)?void 0:t}get pontuacaoId(){return this.avaliacaoHabilidade?.pontuacaoId?.toString()??""}set pontuacaoId(i){var t=Number(i);this.avaliacaoHabilidade.pontuacaoId=Number.isNaN(t)?void 0:t}constructor(i,t,o,n,s,l,m,p,_,C,F){super(i),this._protocoloAvaliacaoService=t,this._aplicacaoProtocoloAvaliacaoService=o,this._habilidadeService=n,this._avaliacaoHabilidadeService=s,this._funcaoService=l,this._colaboradorService=m,this._staffService=p,this._staffCasoService=_,this.bsModalRef=C,this.changeDetectorRef=F,this.saving=!1,this.avaliacaoHabilidade=new c.aqX,this.funcoes=new Map,this.colaboradores=new Map,this.staff=new Map,this.staffCaso=new Map,this.lockSelection=!1,this._selected=[],this.dominios=new Map,this.niveis=new Map,this.protocolos=new Map,this.onSubmit=new e.bkB}ngOnInit(){this._funcaoService.getAll(void 0,0,25).subscribe(t=>{t.items.forEach(o=>this.funcoes.set(o.id,o)),t.totalCount>t.items.length&&this._funcaoService.getAll(void 0,t.items.length,t.totalCount-t.items.length).subscribe(o=>{o.items.forEach(n=>this.funcoes.set(n.id,n))})}),this._colaboradorService.getAll(void 0,void 0,void 0,!0,this.casoId,!0,void 0,0,25).subscribe(t=>{t.items.forEach(o=>this.colaboradores.set(o.id,o)),t.totalCount>t.items.length&&this._colaboradorService.getAll(void 0,void 0,void 0,!0,this.casoId,!0,void 0,t.items.length,t.totalCount-t.items.length).subscribe(o=>{o.items.forEach(n=>this.colaboradores.set(n.id,n))})}),this._staffService.getAll(void 0,void 0,void 0,void 0,!0,this.casoId,!0,void 0,0,25).subscribe(t=>{t.items.forEach(o=>this.staff.set(o.id,o)),t.totalCount>t.items.length&&this._staffService.getAll(void 0,void 0,void 0,void 0,!0,this.casoId,!0,void 0,t.items.length,t.totalCount-t.items.length).subscribe(o=>{o.items.forEach(n=>this.staff.set(n.id,n))})}),this._staffCasoService.getAll(this.casoId,!0,!0,void 0,void 0,void 0,0,25).subscribe(t=>{t.items.forEach(o=>this.staffCaso.set(o.id,o)),t.totalCount>t.items.length&&this._staffCasoService.getAll(this.casoId,!0,!0,void 0,void 0,void 0,t.items.length,t.totalCount-t.items.length).subscribe(o=>{o.items.forEach(n=>this.staffCaso.set(n.id,n))})})}submit(){this.saving=!0;var i={next:t=>{this.onSubmit.emit(t),this.bsModalRef.hide(),this.saving=!1},error:t=>{abp.message.error(t),this.saving=!1},complete:()=>{}};this.avaliacaoHabilidade.habilidadeId=this.habilidadeSelected.id,null!=this.aplicacaoProtocolo?.id?(this.avaliacaoHabilidade.aplicacaoProtocoloAvaliacaoId=this.aplicacaoProtocolo.id,this._avaliacaoHabilidadeService.create(this.avaliacaoHabilidade).subscribe(i)):null==this.habilidadeSelected.dominioId?this._avaliacaoHabilidadeService.create(this.avaliacaoHabilidade).subscribe(i):this._aplicacaoProtocoloAvaliacaoService.getAll(this.casoId,this.nivelSelected.protocoloAvaliacaoId,!1,0,1).subscribe(t=>{this.avaliacaoHabilidade.aplicacaoProtocoloAvaliacaoId=t?.items?.at(0)?.id,this._avaliacaoHabilidadeService.create(this.avaliacaoHabilidade).subscribe(i)})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.WDn),e.rXU(c.hP4),e.rXU(c.XPk),e.rXU(c.i$O),e.rXU(c.AMc),e.rXU(c.i9W),e.rXU(c.eAk),e.rXU(c.Uos),e.rXU(g.Y$),e.rXU(e.gRc))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:8,vars:7,consts:[["novaAvaliacaoHabilidadeModal","ngForm"],["dataAvaliadaModel","ngModel","dataAvaliadaEl",""],["atuacaoRelatorModel","ngModel","atuacaoRelatorEl",""],["notaModel","ngModel","notaEl",""],["observacaoModel","ngModel","observacaoEl",""],["pontuacaoModel","ngModel","pontuacaoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[3,"maxSelected","filterLock","casoFiltro","aplicacaoProtocoloFiltro","aplicacaoProtocolo","selected","protocolos","niveis","dominios","selectedChange",4,"ngIf"],["class","col",4,"ngIf"],[3,"onCancelClick","saveDisabled","cancelDisabled"],[3,"selectedChange","maxSelected","filterLock","casoFiltro","aplicacaoProtocoloFiltro","aplicacaoProtocolo","selected","protocolos","niveis","dominios"],[1,"col"],[1,"form-group","row","required"],["for","habilidade",1,"col-md-3","col-form-label"],[1,"col-md-9"],["for","dataAvaliada",1,"col-md-3","col-form-label"],["type","date","name","dataAvaliada","id","dataAvaliada","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],["for","atuacaoRelator",1,"col-md-3","col-form-label"],["required","","id","atuacaoRelator","name","atuacaoRelator",1,"form-control",3,"ngModelChange","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],["class","form-group row required",4,"ngIf"],[1,"form-group","row"],["for","nota",1,"col-md-3","col-form-label"],["type","text","name","nota","id","nota","maxlength","100",1,"form-control",3,"ngModelChange","required","ngModel","disabled"],["for","observacao",1,"col-md-3","col-form-label","align-content-center"],["type","text","name","observacao","id","observacao","maxlength","500",1,"form-control",3,"ngModelChange","ngModel","disabled"],[3,"value"],["for","pontuacao",1,"col-md-3","col-form-label"],["required","","id","pontuacao","name","pontuacao",1,"form-control",3,"ngModelChange","ngModel","disabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",6,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.submit())}),e.j41(2,"abp-modal-header",7),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",8),e.DNE(5,Rn,1,9,"habilidade-selector",9)(6,Tn,46,37,"div",10),e.k0s(),e.j41(7,"abp-modal-footer",11),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"Nova Avalia\xe7\xe3o de Habilidade")),e.R7$(3),e.Y8G("ngIf",null==o.habilidadeSelected),e.R7$(),e.Y8G("ngIf",null!=o.habilidadeSelected),e.R7$(),e.Y8G("saveDisabled",o.saving||!n.form.valid)("cancelDisabled",o.saving)}},dependencies:[h.Sq,h.bT,r.qT,r.xH,r.y7,r.me,r.wz,r.BC,r.cb,r.YS,r.tU,r.vS,r.cV,y.e,j.x,R.z,qe,f.S],encapsulation:2})}return a})();const Dn=()=>[],An=(a,d,i)=>({id:"avaliacoes-habilidade-caso",itemsPerPage:a,currentPage:d,totalItems:i});function yn(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",15)(1,"a",16),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.avaliarHabilidade())}),e.nrm(2,"i",17),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"AvaliarHabilidade")," "))}function Gn(a,d){1&a&&(e.j41(0,"th",18),e.EFF(1),e.nI1(2,"localize"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Protocolo de Avalia\xe7\xe3o")))}function Pn(a,d){1&a&&(e.j41(0,"th"),e.EFF(1),e.nI1(2,"localize"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Habilidade")))}function $n(a,d){if(1&a&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&a){const i=e.XpG().$implicit,t=e.XpG();e.R7$(),e.JRh(t.getProtocoloAvaliacaoString(null==i?null:i.aplicacaoProtocoloAvaliacaoId))}}function wn(a,d){if(1&a&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&a){const i=e.XpG().$implicit,t=e.XpG();e.R7$(),e.JRh(t.getHabilidadeString(null==i?null:i.habilidadeId))}}function Nn(a,d){if(1&a&&(e.j41(0,"tr"),e.DNE(1,$n,2,1,"td",5)(2,wn,2,1,"td",5),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.nrm(9,"td"),e.k0s()),2&a){let i;const t=d.$implicit,o=e.XpG();e.R7$(),e.Y8G("ngIf",null==o.aplicacaoProtocoloAvaliacao),e.R7$(),e.Y8G("ngIf",null==o.habilidade),e.R7$(2),e.JRh(null!==(i=null==t||null==t.dataAvaliada?null:t.dataAvaliada.format("DD/MM/yyyy"))&&void 0!==i?i:"-"),e.R7$(2),e.JRh(o.getPontuacaoString(null==t?null:t.pontuacaoId)),e.R7$(2),e.JRh(o.getTipoAvaliacaoString(t))}}let Je=(()=>{class a extends A{set aluno(i){this._aluno=i,this._started&&this.refresh()}get aluno(){return this._aluno}set aplicacaoProtocoloAvaliacao(i){this._aplicacaoProtocoloAvaliacao=i,this.aplicacoesProtocoloAvaliacao.set(i.id,i),this._started&&this.refresh()}get aplicacaoProtocoloAvaliacao(){return this._aplicacaoProtocoloAvaliacao}set protocolo(i){this._protocolo=i,this.protocolosAvaliacao.set(i.id,i),i.sistemaPontuacao.forEach(t=>this.pontuacoes.set(t.id,t)),this._started&&this.refresh()}get protocolo(){return this._protocolo}set habilidade(i){this._habilidade=i,this.habilidades.set(i.id,i),this.refresh()}get habilidade(){return this._habilidade}constructor(i,t,o,n,s,l,m,p,_,C,F,I,P){super(i),this._avaliacaoHabilidadeService=t,this._habilidadeService=o,this._protocoloAvaliacaoService=n,this._aplicacaoProtocoloAvaliacaoService=s,this._funcaoService=l,this._colaboradorService=m,this._staffService=p,this._staffCasoService=_,this._bsModalService=C,this._router=F,this._route=I,this._changeDetector=P,this._started=!1,this.addDisabled=!1,this.refreshCallback=new e.bkB,this.aplicacoesProtocoloAvaliacao=new Map,this.protocolosAvaliacao=new Map,this.pontuacoes=new Map,this.habilidades=new Map,this.funcoes=[],this.staff=[],this.staffCaso=[]}getFuncao(i){return this.funcoes?.find(t=>t.id==i)}getFuncoesSupervisor(){return this.funcoes.filter(i=>i.nome.includes("Supervisor"))}getColabFuncao(i){return this.staff?.find(t=>t.id==i)}getColabFuncoesSupervisoes(){const i=this.getFuncoesSupervisor().map(t=>t.id);return this.staff.filter(t=>i.includes(t.funcaoOrgId))}getAtuacao(i){return this.staffCaso?.find(t=>t.id==i)}getAtuacoesSupervisor(){const i=this.getColabFuncoesSupervisoes().map(t=>t.id);return this.staffCaso.filter(t=>i.includes(t.colabFuncaoId))}ngOnInit(){this._funcaoService.getAll(void 0,0,10).subscribe(t=>{this.funcoes=t.items,t.totalCount>t.items.length&&this._funcaoService.getAll(void 0,10,t.totalCount-t.items.length).subscribe(o=>{this.funcoes.push(...o.items)})}),this.getUserInfo(),this._started=!0,this.refresh()}getUserInfo(){null!=this.appSession?.user?.colaborador?.id&&(this._colaboradorService.get(this.appSession.user.colaborador.id).subscribe(t=>this.colaboradorUser=t),this._staffService.getAll(this.appSession.user.colaborador.id,void 0,void 0,void 0,!0,this.aluno?.casoId,!0,void 0,0,25).subscribe(t=>{this.staff=t.items,t.totalCount>t.items.length&&this._staffService.getAll(this.appSession.user.colaborador.id,void 0,void 0,void 0,!0,this.aluno?.casoId,!0,void 0,25,t.totalCount-t.items.length).subscribe(o=>{this.staff.push(...o.items)})}),this._staffCasoService.getAll(this.aluno?.casoId,!0,!0,this.appSession?.user?.colaborador?.id,void 0,void 0,0,25).subscribe(t=>{this.staffCaso=t.items,t.totalCount>t.items.length&&this._staffCasoService.getAll(this.aluno?.casoId,!0,!0,this.appSession?.user?.colaborador?.id,void 0,void 0,25,t.totalCount-t.items.length).subscribe(o=>{this.staffCaso.push(...o.items)})}))}list(i,t,o){null!=this.aluno?.casoId||null!=this.habilidade?.id||null!=this.aplicacaoProtocoloAvaliacao?.id?this._avaliacaoHabilidadeService.getAll(this.habilidade?.id,void 0,this.aplicacaoProtocoloAvaliacao?.id,this.aluno?.casoId,void 0,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>o())).subscribe(n=>{this.avaliacoes=n.items,this.loadAdditionalData(n.items),this.showPaging(n,t)}):(this.avaliacoes=[],this.showPaging({items:[],totalCount:0},t))}loadAdditionalData(i){var t=[],o=[];i.forEach(n=>{this.aplicacoesProtocoloAvaliacao.has(n.aplicacaoProtocoloAvaliacaoId)||t.includes(n.aplicacaoProtocoloAvaliacaoId)||t.push(n.aplicacaoProtocoloAvaliacaoId),this.habilidades.has(n.habilidadeId)||o.includes(n.habilidadeId)||o.push(n.habilidadeId)}),t.forEach(n=>{this._aplicacaoProtocoloAvaliacaoService.get(n).subscribe(s=>{this.aplicacoesProtocoloAvaliacao.set(s.id,s)}),this._protocoloAvaliacaoService.getByAplicacao(n).subscribe(s=>{this.protocolosAvaliacao.set(s.id,s),s.sistemaPontuacao.forEach(l=>this.pontuacoes.set(l.id,l))})}),o.length>0&&this._habilidadeService.getListHabilidades(o).forEach(n=>{n.forEach(s=>{this.habilidades.set(s.id,s)})})}podeAvaliarHabilidade(){return this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico")||this.permission.isGranted("Business.Personal.Colaborador.Supervisor")&&null!=this.appSession?.user?.colaborador?.id&&this.getAtuacoesSupervisor().length>0}getProtocoloAvaliacaoString(i){var t=this.aplicacoesProtocoloAvaliacao.get(i)?.protocoloAvaliacaoId,o=this.protocolosAvaliacao.get(t);return o?.nome??"-"}getHabilidadeString(i){var t=this.habilidades.get(i);return null==t?"-":(null!=t.codigo?"["+t.codigo+"] ":"")+t.nome}getPontuacaoString(i){var t=this.pontuacoes.get(i);return t?.nome??"-"}getTipoAvaliacaoString(i){return i?.tipoAvaliacao??"-"}avaliarHabilidade(){let i;i=this._bsModalService.show(Oe,{class:"modal-lg",initialState:{lockSelection:null!=this.habilidade,casoId:this.aluno.casoId,aplicacaoProtocolo:this.aplicacaoProtocoloAvaliacao,habilidadeSelected:this.habilidade,protocolos:this.protocolosAvaliacao}}),i.content.onSubmit.subscribe(t=>{this.refresh()})}delete(i){}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.i$O),e.rXU(c.XPk),e.rXU(c.WDn),e.rXU(c.hP4),e.rXU(c.AMc),e.rXU(c.i9W),e.rXU(c.eAk),e.rXU(c.Uos),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX),e.rXU(e.gRc))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["avaliacoes-habilidade-caso"]],inputs:{aluno:"aluno",aplicacaoProtocoloAvaliacao:"aplicacaoProtocoloAvaliacao",protocolo:"protocolo",habilidade:"habilidade",addDisabled:"addDisabled"},outputs:{refreshCallback:"refreshCallback"},features:[e.Vt3],decls:29,vars:26,consts:[["class","row m-0 mb-1 justify-content-end text-center",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],["style","width: 20%",4,"ngIf"],[4,"ngIf"],[2,"width","10%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","avaliacoes-habilidade-caso",3,"pageChange"],[1,"row","m-0","mb-1","justify-content-end","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[2,"width","20%"]],template:function(t,o){if(1&t&&(e.DNE(0,yn,5,3,"div",0),e.j41(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr"),e.DNE(5,Gn,3,3,"th",4)(6,Pn,3,3,"th",5),e.j41(7,"th",6),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"th",6),e.EFF(14),e.nI1(15,"localize"),e.k0s(),e.nrm(16,"th",6),e.k0s()(),e.j41(17,"tbody"),e.DNE(18,Nn,10,5,"tr",7),e.nI1(19,"paginate"),e.k0s()()(),e.j41(20,"div",8),e.nrm(21,"div",9),e.j41(22,"div",10)(23,"p",11),e.EFF(24),e.nI1(25,"localize"),e.k0s()(),e.j41(26,"div",12)(27,"div",13)(28,"abp-pagination-controls",14),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&t){let n;e.Y8G("ngIf",!o.addDisabled&&o.podeAvaliarHabilidade()),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(3),e.Y8G("ngIf",null==o.aplicacaoProtocoloAvaliacao),e.R7$(),e.Y8G("ngIf",null==o.habilidade),e.R7$(2),e.JRh(e.bMT(9,9,"Data")),e.R7$(3),e.JRh(e.bMT(12,11,"Pontua\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(15,13,"Tipo de Avalia\xe7\xe3o")),e.R7$(4),e.Y8G("ngForOf",e.i5U(19,15,null!==(n=o.avaliacoes)&&void 0!==n?n:e.lJ4(21,Dn),e.sMw(22,An,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(6),e.SpI(" ",e.i5U(25,18,"TotalRecordsCount",o.totalItems)," ")}},dependencies:[h.Sq,h.bT,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const Vn=(a,d,i)=>({id:"select-protocolo-avaliacao",itemsPerPage:a,currentPage:d,totalItems:i});function Bn(a,d){if(1&a){const i=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,n=e.XpG(2);return e.Njj(n.select(o))}),e.nrm(1,"i",19),e.EFF(2),e.nI1(3,"localize"),e.k0s()}if(2&a){const i=e.XpG(3);e.Y8G("disabled",i.saving),e.R7$(2),e.SpI(" ",e.bMT(3,2,"Selecionar")," ")}}function zn(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.DNE(6,Bn,4,4,"button",17),e.k0s()()),2&a){const i=d.$implicit,t=e.XpG(2);e.R7$(2),e.JRh(i.nome),e.R7$(2),e.JRh(i.desc),e.R7$(2),e.Y8G("ngIf",t.canApply(i))}}function Yn(a,d){if(1&a){const i=e.RV6();e.j41(0,"div")(1,"div",4)(2,"table",5)(3,"thead",6)(4,"tr")(5,"th"),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"th"),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"th"),e.EFF(12),e.nI1(13,"localize"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,zn,7,3,"tr",7),e.nI1(16,"paginate"),e.k0s()()(),e.j41(17,"div",8)(18,"div",9)(19,"button",10),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.refresh())}),e.nrm(20,"i",11),e.k0s()(),e.j41(21,"div",12)(22,"p",13),e.EFF(23),e.nI1(24,"localize"),e.k0s()(),e.j41(25,"div",14)(26,"div",15)(27,"abp-pagination-controls",16),e.bIt("pageChange",function(o){e.eBV(i);const n=e.XpG();return e.Njj(n.getDataPage(o))}),e.k0s()()()()()}if(2&a){const i=e.XpG();e.R7$(2),e.Y8G("busy",i.isTableLoading),e.R7$(4),e.JRh(e.bMT(7,6,"Nome")),e.R7$(3),e.JRh(e.bMT(10,8,"Descricao")),e.R7$(3),e.JRh(e.bMT(13,10,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(16,12,i.protocolosAvaliacao,e.sMw(18,Vn,i.pageSize,i.pageNumber,i.totalItems))),e.R7$(8),e.SpI(" ",e.i5U(24,15,"TotalRecordsCount",i.totalItems)," ")}}function Un(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",8)(1,"label",21),e.EFF(2),e.k0s(),e.j41(3,"input",22),e.bIt("change",function(o){const n=e.eBV(i).$implicit,s=e.XpG(2);return e.Njj(s.onNivelAplicadoChange(n,o))}),e.k0s()()}if(2&a){const i=d.$implicit,t=d.index,o=e.XpG(2);e.R7$(2),e.JRh(i.nome),e.R7$(),e.Y8G("id","nivel_"+t)("checked",o.niveisAplicados.includes(i))}}function Xn(a,d){if(1&a){const i=e.RV6();e.j41(0,"div"),e.DNE(1,Un,4,3,"div",20),e.j41(2,"div",8)(3,"button",18),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.save())}),e.nrm(4,"i",19),e.EFF(5),e.nI1(6,"localize"),e.k0s()()()}if(2&a){const i=e.XpG();e.R7$(),e.Y8G("ngForOf",i.niveis),e.R7$(2),e.Y8G("disabled",0==i.niveisAplicados.length),e.R7$(2),e.SpI(" ",e.bMT(6,3,"Save")," ")}}let Hn=(()=>{class a extends A{constructor(i,t,o,n,s,l){super(i),this._protocoloAvaliacaoService=t,this._aplicacaoProtocoloAvaliacaoService=o,this._alunoService=n,this._casoService=s,this.bsModalRef=l,this.saving=!1,this.protocolosAvaliacao=[],this.onSave=new e.bkB}get histAplicacoes(){return this._histAplicacoes}set histAplicacoes(i){this._histAplicacoes=i,this.curAplicacoes=this._histAplicacoes.filter(t=>null==t.dataArquivamento)}ngOnInit(){null==this.histAplicacoes&&this._aplicacaoProtocoloAvaliacaoService.getAll(this.aluno.casoId,void 0,void 0,0,10).subscribe(t=>{this.histAplicacoes=t.items,t.totalCount>t.items.length&&this._aplicacaoProtocoloAvaliacaoService.getAll(this.aluno.casoId,void 0,void 0,10,t.totalCount-t.items.length).subscribe(o=>{this.histAplicacoes.push(...o.items)})}),this.refresh()}list(i,t,o){this.saving=!0,this.protocolosAvaliacao=[],this._protocoloAvaliacaoService.getAll(void 0,void 0,void 0,i.skipCount,i.maxResultCount).subscribe(n=>{this.protocolosAvaliacao=n.items,this.saving=!1,this.showPaging(n,t)})}delete(i){throw new Error("Method not implemented.")}canApply(i){return i!=this.protocoloAvaliacaoSelected&&this.curAplicacoes.every(t=>t.protocoloAvaliacaoId!=i.id)}select(i){this.protocoloAvaliacaoSelected=i,this.niveis=[],this.niveisAplicados=[],this.protocoloAvaliacaoSelected.niveis.forEach(t=>{this._protocoloAvaliacaoService.getNivel(t.id).subscribe(o=>{this.niveis.push(o)})})}onNivelAplicadoChange(i,t){t.checked||(this.niveisAplicados.includes(i)?this.niveisAplicados.splice(this.niveisAplicados.indexOf(i),1):this.niveisAplicados.includes(i)||this.niveisAplicados.push(i))}save(){this.saving=!0;let i=new c.ZNx({casoId:this.aluno.casoId,protocoloAvaliacaoId:this.protocoloAvaliacaoSelected.id,niveisAplicados:this.niveisAplicados.map(t=>t.id)});this._aplicacaoProtocoloAvaliacaoService.create(i).subscribe(t=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit({apli:t,prot:this.protocolosAvaliacao.find(o=>o.id==t.protocoloAvaliacaoId)}),this.saving=!1})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.WDn),e.rXU(c.hP4),e.rXU(c.pg4),e.rXU(c.iD6),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],inputs:{aluno:"aluno"},outputs:{onSave:"onSave"},features:[e.Vt3],decls:6,vars:6,consts:[[3,"onCloseClick","title"],[1,"modal-body"],[4,"ngIf"],[3,"onCancelClick","cancelDisabled"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","select-protocolo-avaliacao",3,"pageChange"],["type","button","class","btn btn-sm bg-primary",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-primary",3,"click","disabled"],[1,"fas","fa-pointer"],["class","row",4,"ngFor","ngForOf"],[1,"col-0"],["type","checkbox",1,"col-0",3,"change","id","checked"]],template:function(t,o){1&t&&(e.j41(0,"abp-modal-header",0),e.nI1(1,"localize"),e.bIt("onCloseClick",function(){return o.bsModalRef.hide()}),e.k0s(),e.j41(2,"div",1),e.DNE(3,Yn,28,22,"div",2)(4,Xn,7,5,"div",2),e.k0s(),e.j41(5,"abp-modal-footer",3),e.bIt("onCancelClick",function(){return o.bsModalRef.hide()}),e.k0s()),2&t&&(e.Y8G("title",e.bMT(1,4,"SelectProtocoloAvaliacao")),e.R7$(3),e.Y8G("ngIf",null==o.protocoloAvaliacaoSelected),e.R7$(),e.Y8G("ngIf",null!=o.protocoloAvaliacaoSelected),e.R7$(),e.Y8G("cancelDisabled",o.saving))},dependencies:[h.Sq,h.bT,G,j.x,R.z,E,f.S,T.kf],encapsulation:2})}return a})();const xn=(a,d,i)=>({id:"protocolos-avaliacao-caso",itemsPerPage:a,currentPage:d,totalItems:i});function qn(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",15)(1,"button",16),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.addProtocoloAvaliacao())}),e.nrm(2,"i",17),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}if(2&a){const i=e.XpG();e.R7$(),e.Y8G("disabled",i.isTableLoading),e.R7$(2),e.SpI(" ",e.bMT(4,2,"AddProtocoloAvaliacao")," ")}}function On(a,d){if(1&a){const i=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,n=e.XpG();return e.Njj(n.delete(o))}),e.nrm(1,"i",24),e.EFF(2),e.nI1(3,"localize"),e.k0s()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Archive")," "))}function Jn(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"button",18),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.detailsAplicacaoProtocoloAvaliacao(o))}),e.nrm(9,"i",19),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"button",20),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.detailsProtocoloAvaliacao(o.protocoloAvaliacaoId))}),e.nrm(13,"i",21),e.EFF(14),e.nI1(15,"localize"),e.k0s(),e.DNE(16,On,4,3,"button",22),e.k0s()()}if(2&a){let i,t;const o=d.$implicit,n=e.XpG();e.R7$(2),e.JRh(n.getNomeProtocoloAvaliacao(o.protocoloAvaliacaoId)),e.R7$(2),e.JRh(null!==(i=null==o.dataInicio?null:o.dataInicio.format("DD/MM/yyyy"))&&void 0!==i?i:"-"),e.R7$(2),e.JRh(null!==(t=null==o.dataArquivamento?null:o.dataArquivamento.format("DD/MM/yyyy"))&&void 0!==t?t:"-"),e.R7$(4),e.SpI(" ",e.bMT(11,6,"Details")," "),e.R7$(4),e.SpI(" ",e.bMT(15,8,"ViewProtocoloAvaliacao")," "),e.R7$(2),e.Y8G("ngIf",n.permission.isGranted("Business.Personal.Colaborador.Supervisor")&&null==o.dataArquivamento)}}let Le=(()=>{class a extends A{set aluno(i){this._aluno=i,this.refresh()}get aluno(){return this._aluno}constructor(i,t,o,n,s,l,m,p,_,C){super(i),this._alunoService=t,this._casoService=o,this._colaboradorService=n,this._protocoloAvaliacaoService=s,this._aplicacaoProtocoloAvaliacaoService=l,this._modalService=m,this._changeDetector=p,this._router=_,this._route=C,this.alunoChange=new e.bkB}ngOnInit(){}detailsProtocoloAvaliacao(i){this._router.navigate(["app","protocolos-avaliacao","details",i])}list(i,t,o){if(this.protocolosAvaliacao=[],this.aplicacoes=[],null==this._aluno||null==this._aluno?.casoId)return o(),void this.showPaging({items:[],totalCount:0},t);this._aplicacaoProtocoloAvaliacaoService.getAll(this.aluno.casoId,void 0,void 0,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.aplicacoes=n.items,this.showPaging(n,t),n.items.length>0&&this._protocoloAvaliacaoService.getAll(void 0,this._aluno.casoId,void 0,0,n.items.length).subscribe(s=>{this.protocolosAvaliacao=s.items,this._changeDetector.detectChanges()})})}getNomeProtocoloAvaliacao(i){return this.protocolosAvaliacao?.find(t=>t.id==i)?.nome??""}delete(i){abp.message.confirm('Arquivar o protocolo avaliacao "'+this.getNomeProtocoloAvaliacao(i.protocoloAvaliacaoId)+'" no caso do aluno '+this.aluno.nome+"?",void 0,t=>{t&&this._aplicacaoProtocoloAvaliacaoService.delete(i.id).subscribe(()=>{this.refresh()})})}addProtocoloAvaliacao(){if(!this.permission.isGranted("Business.Personal.Colaborador.Supervisor"))return;let i;i=this._modalService.show(Hn,{class:"modal-lg",initialState:{aluno:this.aluno,histAplicacoes:this.aplicacoes}}),i.content.onSave.subscribe(t=>{this.aplicacoes.push(t.apli),this.protocolosAvaliacao.every(o=>o.id!=t.prot.id)&&this.protocolosAvaliacao.push(t.prot),this.showPaging({items:this.aplicacoes,totalCount:this.aplicacoes.length},this.pageNumber)})}detailsAplicacaoProtocoloAvaliacao(i){this._router.navigate(["app","alunos","details",this.aluno.id,"protocolo-avaliacao",i.id])}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.pg4),e.rXU(c.iD6),e.rXU(c.i9W),e.rXU(c.WDn),e.rXU(c.hP4),e.rXU(g.I8),e.rXU(e.gRc),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["protocolos-avaliacao-caso"]],inputs:{aluno:"aluno"},outputs:{alunoChange:"alunoChange"},features:[e.Vt3],decls:31,vars:26,consts:[["class","row m-0 mb-1 justify-content-end text-center",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","protocolos-avaliacao-caso",3,"pageChange"],[1,"row","m-0","mb-1","justify-content-end","text-center"],[1,"btn","btn-primary",3,"click","disabled"],[1,"fa","fa-plus-square"],["type","button",1,"btn","btn-sm","bg-primary",3,"click"],[1,"fas","fa-eye"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-link"],["type","button","class","btn btn-sm bg-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-danger",3,"click"],[1,"fas","fa-x"]],template:function(t,o){1&t&&(e.DNE(0,qn,5,4,"div",0),e.j41(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"th"),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"th"),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"th",4),e.EFF(15),e.nI1(16,"localize"),e.k0s()()(),e.j41(17,"tbody"),e.DNE(18,Jn,17,10,"tr",5),e.nI1(19,"paginate"),e.k0s()()(),e.j41(20,"div",6)(21,"div",7)(22,"button",8),e.bIt("click",function(){return o.refresh()}),e.nrm(23,"i",9),e.k0s()(),e.j41(24,"div",10)(25,"p",11),e.EFF(26),e.nI1(27,"localize"),e.k0s()(),e.j41(28,"div",12)(29,"div",13)(30,"abp-pagination-controls",14),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&t&&(e.Y8G("ngIf",o.permission.isGranted("Business.Personal.Colaborador.Supervisor")),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(7,8,"Nome")),e.R7$(3),e.JRh(e.bMT(10,10,"Data de In\xedcio")),e.R7$(3),e.JRh(e.bMT(13,12,"Data de Arquivamento")),e.R7$(3),e.JRh(e.bMT(16,14,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(19,16,o.aplicacoes,e.sMw(22,xn,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(8),e.SpI(" ",e.i5U(27,19,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();function Ln(a,d){if(1&a&&(e.j41(0,"option",19),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",i.id),e.R7$(),e.JRh(i.nome)}}function Zn(a,d){if(1&a&&(e.j41(0,"option",19),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",i.id),e.R7$(),e.JRh(i.nome)}}function Wn(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",7)(1,"label",20),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",21)(5,"input",22,3),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.provedor.campoInfo,o)||(n.provedor.campoInfo=o),e.Njj(o)}),e.k0s(),e.nrm(8,"abp-validation-summary",13),e.k0s()()}if(2&a){const i=e.sdS(6),t=e.sdS(7),o=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,5,"Informa\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",o.saving),e.R50("ngModel",o.provedor.campoInfo),e.R7$(3),e.Y8G("control",i)("controlEl",t)}}let Qn=(()=>{class a extends v.q{constructor(i,t,o,n,s){super(i),this._provedorSaudeService=t,this._tipoProvedorSaudeService=o,this._alunoService=n,this.bsModalRef=s,this.saving=!1,this.provedor=new c.ZLc,this.tipos=[],this.subtipos=[],this.extraInfo=!1,this.onSave=new e.bkB}ngOnInit(){this.saving=!0,this.tipos=[],this._tipoProvedorSaudeService.getAll(void 0,void 0,void 0).subscribe(i=>{this.tipos=i.items,console.log(this.tipos),this.saving=!1})}get tipoProvedorId(){return this._tipoProvedorId?.toString()??""}set tipoProvedorId(i){this._tipoProvedorId=""!=i?Number(i):void 0,this.subtipoProvedorId="";let t=this.tipos.find(o=>o.id==this._tipoProvedorId);this.subtipos=t?.subtipos??[]}get subtipoProvedorId(){return this.provedor?.subtipoId?.toString()??""}set subtipoProvedorId(i){this.provedor.subtipoId=""!=i?Number(i):void 0;let t=this.subtipos.find(o=>o.id==this.provedor.subtipoId);this.extraInfo=null!=t&&t.usaCampoDadosAdicionais,this.provedor.campoInfo=this.extraInfo?"":void 0}save(){this.saving=!0,this.provedor.alunoId=this.aluno.id,this._provedorSaudeService.create(this.provedor).subscribe(i=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(i),this.saving=!1})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.nwT),e.rXU(c.hw_),e.rXU(c.pg4),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],inputs:{aluno:"aluno"},outputs:{onSave:"onSave"},features:[e.Vt3],decls:31,vars:23,consts:[["selectTipoProvedorSaudeModal","ngForm"],["tipoModel","ngModel","tipoEl",""],["subtipoModel","ngModel","subtipoEl",""],["infoModel","ngModel","infoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","tipo",1,"col-md-3","col-form-label"],[1,"col-md-6"],["name","tipo","id","tipo","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],[1,"form-group","row","required",3,"hidden"],["for","subtipo",1,"col-md-3","col-form-label"],["name","subtipo","id","subtipo","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["class","form-group row required",4,"ngIf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"],["for","info",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","info","id","info","required","","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",4,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",5),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",6)(5,"div",7)(6,"label",8),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",9)(10,"select",10,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.tipoProvedorId,l)||(o.tipoProvedorId=l),e.Njj(l)}),e.j41(13,"option",11),e.EFF(14,"Selecione o tipo de provedor..."),e.k0s(),e.DNE(15,Ln,2,2,"option",12),e.k0s(),e.nrm(16,"abp-validation-summary",13),e.k0s()(),e.j41(17,"div",14)(18,"label",15),e.EFF(19),e.nI1(20,"localize"),e.k0s(),e.j41(21,"div",9)(22,"select",16,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.subtipoProvedorId,l)||(o.subtipoProvedorId=l),e.Njj(l)}),e.j41(25,"option",11),e.EFF(26,"Selecione o subtipo de provedor..."),e.k0s(),e.DNE(27,Zn,2,2,"option",12),e.k0s(),e.nrm(28,"abp-validation-summary",13),e.k0s()(),e.DNE(29,Wn,9,7,"div",17),e.k0s(),e.j41(30,"abp-modal-footer",18),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1),s=e.sdS(11),l=e.sdS(12),m=e.sdS(23),p=e.sdS(24);e.R7$(2),e.Y8G("title",e.bMT(3,17,"SelectTipoProvedorSaude")),e.R7$(5),e.SpI(" ",e.bMT(8,19,"Tipo de Provedor de Sa\xfade")," "),e.R7$(3),e.Y8G("disabled",o.saving),e.R50("ngModel",o.tipoProvedorId),e.R7$(5),e.Y8G("ngForOf",o.tipos),e.R7$(),e.Y8G("control",s)("controlEl",l),e.R7$(),e.Y8G("hidden",""==o.tipoProvedorId),e.R7$(2),e.SpI(" ",e.bMT(20,21,"Subtipo de Provedor de Sa\xfade")," "),e.R7$(3),e.Y8G("disabled",o.saving||""==o.tipoProvedorId),e.R50("ngModel",o.subtipoProvedorId),e.R7$(5),e.Y8G("ngForOf",o.subtipos),e.R7$(),e.Y8G("control",m)("controlEl",p),e.R7$(),e.Y8G("ngIf",o.extraInfo),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[h.Sq,h.bT,r.qT,r.xH,r.y7,r.me,r.wz,r.BC,r.cb,r.YS,r.tU,r.vS,r.cV,y.e,j.x,R.z,f.S],encapsulation:2})}return a})();const Kn=()=>[],ea=(a,d,i)=>({id:"provedores-saude-caso",itemsPerPage:a,currentPage:d,totalItems:i});function oa(a,d){if(1&a){const i=e.RV6();e.j41(0,"button",16),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,n=e.XpG();return e.Njj(n.delete(o))}),e.nrm(1,"i",17),e.EFF(2),e.nI1(3,"localize"),e.k0s()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Delete")," "))}function ia(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.DNE(8,oa,4,3,"button",15),e.k0s()()),2&a){let i,t,o;const n=d.$implicit,s=e.XpG();e.R7$(2),e.JRh(null!==(i=null==(i=s.getTipo(null==(i=s.getSubtipo(n.subtipoId))?null:i.tipoId))?null:i.nome)&&void 0!==i?i:"-"),e.R7$(2),e.JRh(null!==(t=null==(t=s.getSubtipo(n.subtipoId))?null:t.nome)&&void 0!==t?t:"-"),e.R7$(2),e.JRh(null!==(o=null==n?null:n.campoInfo)&&void 0!==o?o:"-"),e.R7$(2),e.Y8G("ngIf",s.permission.isGranted("Business.Admin.People"))}}function ta(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",18)(1,"a",19),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.addProvedor())}),e.nrm(2,"i",20),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"AddProvedor")," "))}let Ze=(()=>{class a extends A{set aluno(i){this._aluno=i,this.refresh()}get aluno(){return this._aluno}constructor(i,t,o,n,s,l,m){super(i),this._alunoService=t,this._provedorSaudeService=o,this._tipoProvedorSaudeService=n,this._modalService=s,this._router=l,this._route=m,this.alunoChange=new e.bkB}ngOnInit(){this._tipoProvedorSaudeService.getAll(void 0,void 0,void 0).subscribe(i=>this.tipos=i.items),this.refresh()}list(i,t,o){this.isTableLoading=!0;var n={next:s=>{this.provedores=s.items,this.showPaging(s,t),this.isTableLoading=!1},error:()=>{this.showPaging({items:[],totalCount:0},t),this.isTableLoading=!1}};if(null==this.aluno?.id)return n.error(),void o();this._provedorSaudeService.getAll(this.aluno.id,void 0,void 0).pipe((0,$.j)(()=>{o()})).subscribe(n)}getSubtipo(i){return this.tipos?.flatMap(t=>t.subtipos)?.find(t=>t.id==i)}getTipo(i){return this.tipos?.find(t=>t.id==i)}delete(i){let t=this.getSubtipo(i.subtipoId),o=this.getTipo(t.tipoId);abp.message.confirm('Remover o provedor de sa\xfade "'+o.nome+" ("+t.nome+')" do aluno '+this.aluno.nome+"?",void 0,n=>{n&&this._provedorSaudeService.delete(i.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}addProvedor(){let i;i=this._modalService.show(Qn,{class:"modal-lg",initialState:{aluno:this.aluno}}),i.content.onSave.subscribe(t=>{this.aluno=t,this.alunoChange.emit(t)})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.pg4),e.rXU(c.nwT),e.rXU(c.hw_),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["provedores-saude-caso"]],inputs:{aluno:"aluno"},outputs:{alunoChange:"alunoChange"},features:[e.Vt3],decls:29,vars:27,consts:[[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","30%"],[2,"width","25%"],[2,"width","15%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","provedores-saude-caso",3,"pageChange"],["class","row justify-content-center text-center",4,"ngIf"],["type","button","class","btn btn-sm bg-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-danger",3,"click"],[1,"fas","fa-x"],[1,"row","justify-content-center","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"]],template:function(t,o){if(1&t&&(e.j41(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th",3),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"th",4),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"th",3),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"th",5),e.EFF(14),e.nI1(15,"localize"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,ia,9,4,"tr",6),e.nI1(18,"paginate"),e.k0s()()(),e.j41(19,"div",7),e.nrm(20,"div",8),e.j41(21,"div",9)(22,"p",10),e.EFF(23),e.nI1(24,"localize"),e.k0s()(),e.j41(25,"div",11)(26,"div",12)(27,"abp-pagination-controls",13),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()(),e.DNE(28,ta,5,3,"div",14)),2&t){let n;e.R7$(),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(6,8,"Tipo")),e.R7$(3),e.JRh(e.bMT(9,10,"Subtipo")),e.R7$(3),e.JRh(e.bMT(12,12,"Info")),e.R7$(3),e.JRh(e.bMT(15,14,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(18,16,null!==(n=o.provedores)&&void 0!==n?n:e.lJ4(22,Kn),e.sMw(23,ea,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(6),e.SpI(" ",e.i5U(24,19,"TotalRecordsCount",o.totalItems)," "),e.R7$(5),e.Y8G("ngIf",o.permission.isGranted("Business.Admin.People"))}},dependencies:[h.Sq,h.bT,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const na=()=>[];function aa(a,d){if(1&a&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.JRh(i.nome)}}function sa(a,d){if(1&a&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.JRh(i.nome)}}let la=(()=>{class a extends v.q{constructor(i,t,o,n,s,l){super(i),this._protocoloIntervencaoService=t,this._aplicacaoProtocoloIntervencaoService=o,this._alunoService=n,this._casoService=s,this.bsModalRef=l,this.loading=!1,this.saving=!1,this.protocolosIntervencao=[],this.onSave=new e.bkB}ngOnInit(){this.loading=!0,this.protocolosIntervencao=[],this._protocoloIntervencaoService.getAll(void 0,void 0).subscribe(i=>{this.protocolosIntervencao=i.items,this.loading=!1})}get protocoloIntervencaoIdx(){return this._protocoloIntervencaoIdx?.toString()??""}set protocoloIntervencaoIdx(i){let t=this._protocoloIntervencaoIdx;this._protocoloIntervencaoIdx=""!=i?Number(i):void 0,t!=this._protocoloIntervencaoIdx&&(this._versaoIdx=void 0,this.updateVersoes())}get protocoloIntervencaoSelected(){if(null!=this._protocoloIntervencaoIdx)return this.protocolosIntervencao[this._protocoloIntervencaoIdx]}updateVersoes(){null!=this._protocoloIntervencaoIdx?(this.loading=!0,this.versoes=[],this._protocoloIntervencaoService.getAllVersoes(this.protocoloIntervencaoSelected.id,void 0,void 0,void 0).subscribe(i=>{this.versoes=i.items,this.loading=!1})):this.versoes=void 0}get versaoIdx(){return this._versaoIdx?.toString()??""}set versaoIdx(i){this._versaoIdx=""!=i?Number(i):void 0,this.updateVersoes()}get versaoSelected(){if(null!=this._versaoIdx)return this.versoes[this._versaoIdx]}save(){this.saving=!0;let i=new c.QFu({casoId:this.aluno.casoId,protocoloIntervencaoId:this.versaoSelected.id});this._aplicacaoProtocoloIntervencaoService.create(i).subscribe(t=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(t),this.saving=!1})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.J3u),e.rXU(c.Of0),e.rXU(c.pg4),e.rXU(c.iD6),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],inputs:{aluno:"aluno"},outputs:{onSave:"onSave"},features:[e.Vt3],decls:24,vars:13,consts:[["selectProtocoloIntervencaoModal","ngForm"],["protocoloIntervencaoModel","ngModel","protocoloIntervencaoEl",""],["versaoModel","ngModel","versaoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row"],["for","protocoloIntervencao",1,"col-md-3","col-form-label"],[1,"col-md-6"],["name","protocoloIntervencao","id","protocoloIntervencao","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","row",3,"hidden"],["for","versao",1,"col-md-3","col-form-label"],["name","versao","id","versao","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",4),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",5)(5,"div",6)(6,"label",7),e.EFF(7," Protocolo de Interven\xe7\xe3o "),e.k0s(),e.j41(8,"div",8)(9,"select",9,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.protocoloIntervencaoIdx,l)||(o.protocoloIntervencaoIdx=l),e.Njj(l)}),e.nrm(12,"option",10),e.DNE(13,aa,2,2,"option",11),e.k0s()()(),e.j41(14,"div",12)(15,"label",13),e.EFF(16," Vers\xe3o "),e.k0s(),e.j41(17,"div",8)(18,"select",14,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.versaoIdx,l)||(o.versaoIdx=l),e.Njj(l)}),e.nrm(21,"option",10),e.DNE(22,sa,2,2,"option",11),e.k0s()()()(),e.j41(23,"abp-modal-footer",15),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){let n;const s=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,10,"SelectProtocoloIntervencao")),e.R7$(7),e.Y8G("disabled",o.saving||o.loading),e.R50("ngModel",o.protocoloIntervencaoIdx),e.R7$(4),e.Y8G("ngForOf",o.protocolosIntervencao),e.R7$(),e.Y8G("hidden",null==o.versoes),e.R7$(4),e.Y8G("disabled",o.saving||o.loading),e.R50("ngModel",o.versaoIdx),e.R7$(4),e.Y8G("ngForOf",null!==(n=o.versoes)&&void 0!==n?n:e.lJ4(12,na)),e.R7$(),e.Y8G("cancelDisabled",o.saving||o.loading)("saveDisabled",!s.form.valid||o.saving||o.loading)}},dependencies:[h.Sq,r.qT,r.xH,r.y7,r.wz,r.BC,r.cb,r.YS,r.vS,r.cV,j.x,R.z,f.S],encapsulation:2})}return a})();const ra=(a,d,i)=>({id:"protocolos-intervencao-caso",itemsPerPage:a,currentPage:d,totalItems:i});function da(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",15)(1,"a",16),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.addProtocoloIntervencao())}),e.nrm(2,"i",17),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"AddProtocoloIntervencao")," "))}function ca(a,d){if(1&a){const i=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,n=e.XpG();return e.Njj(n.delete(o))}),e.nrm(1,"i",24),e.EFF(2),e.nI1(3,"localize"),e.k0s()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Archive")," "))}function ua(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"button",18),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.detailsAplicacaoProtocoloIntervencao(o.id))}),e.nrm(11,"i",19),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"button",20),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.detailsProtocoloIntervencao(o.modeloId))}),e.nrm(15,"i",21),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.DNE(18,ca,4,3,"button",22),e.k0s()()}if(2&a){let i,t;const o=d.$implicit,n=e.XpG();e.R7$(2),e.JRh(n.getNomeProtocoloIntervencao(o.modeloId)),e.R7$(2),e.JRh(n.getNomeVersaoProtocoloIntervencao(o.modeloId)),e.R7$(2),e.JRh(null!==(i=null==o.dataInicio?null:o.dataInicio.format("DD/MM/yyyy"))&&void 0!==i?i:"-"),e.R7$(2),e.JRh(null!==(t=null==o.dataArquivamento?null:o.dataArquivamento.format("DD/MM/yyyy"))&&void 0!==t?t:"-"),e.R7$(4),e.SpI(" ",e.bMT(13,7,"Details")," "),e.R7$(4),e.SpI(" ",e.bMT(17,9,"ViewProtocoloIntervencao")," "),e.R7$(2),e.Y8G("ngIf",n.permission.isGranted("Business.Personal.Colaborador.Supervisor")&&null==o.dataArquivamento)}}let We=(()=>{class a extends A{set aluno(i){this._aluno=i,this.refresh()}get aluno(){return this._aluno}constructor(i,t,o,n,s,l,m,p,_){super(i),this._alunoService=t,this._casoService=o,this._colaboradorService=n,this._protocoloIntervencaoService=s,this._aplicacaoProtocoloIntervencaoService=l,this._modalService=m,this._router=p,this._route=_,this.alunoChange=new e.bkB}ngOnInit(){}detailsProtocoloIntervencao(i){this._router.navigate(["app","protocolos-intervencao","versoes","details",i])}list(i,t,o){if(this.protocolosIntervencao=[],this.aplicacoes=[],null==this._aluno||null==this._aluno?.casoId)return o(),void this.showPaging({items:[],totalCount:0},t);this._protocoloIntervencaoService.getAllVersoes(void 0,this._aluno.casoId,void 0,void 0).subscribe(n=>{this.protocolosIntervencao=n.items}),this._aplicacaoProtocoloIntervencaoService.getAll(this.aluno.casoId,void 0,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.aplicacoes=n.items,this.showPaging(n,t)})}getNomeProtocoloIntervencao(i){return this.protocolosIntervencao?.find(t=>t.id==i)?.protocoloIntervencaoNome??i.toString()}getNomeVersaoProtocoloIntervencao(i){return this.protocolosIntervencao?.find(t=>t.id==i)?.nome??i.toString()}delete(i){abp.message.confirm('Arquivar o protocolo "'+this.getNomeProtocoloIntervencao(i.modeloId)+"("+this.getNomeVersaoProtocoloIntervencao(i.modeloId)+')" no caso do aluno '+this.aluno.nome+"?",void 0,t=>{t&&this._aplicacaoProtocoloIntervencaoService.delete(i.id).subscribe(()=>{this.refresh()})})}addProtocoloIntervencao(){let i;i=this._modalService.show(la,{class:"modal-lg",initialState:{aluno:this.aluno}}),i.content.onSave.subscribe(t=>{this.refresh()})}detailsAplicacaoProtocoloIntervencao(i){this._router.navigate(["app","alunos","details",this.aluno.id,"protocolo-intervencao",i])}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.pg4),e.rXU(c.iD6),e.rXU(c.i9W),e.rXU(c.J3u),e.rXU(c.Of0),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["protocolos-intervencao-caso"]],inputs:{aluno:"aluno"},outputs:{alunoChange:"alunoChange"},features:[e.Vt3],decls:34,vars:29,consts:[["class","row m-0 mb-1 justify-content-end text-center",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","protocolos-intervencao-caso",3,"pageChange"],[1,"row","m-0","mb-1","justify-content-end","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],["type","button",1,"btn","btn-sm","bg-primary",3,"click"],[1,"fas","fa-eye"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-link"],["type","button","class","btn btn-sm bg-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-danger",3,"click"],[1,"fas","fa-x"]],template:function(t,o){1&t&&(e.DNE(0,da,5,3,"div",0),e.j41(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"th"),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"th"),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"th"),e.EFF(15),e.nI1(16,"localize"),e.k0s(),e.j41(17,"th",4),e.EFF(18),e.nI1(19,"localize"),e.k0s()()(),e.j41(20,"tbody"),e.DNE(21,ua,19,11,"tr",5),e.nI1(22,"paginate"),e.k0s()()(),e.j41(23,"div",6)(24,"div",7)(25,"button",8),e.bIt("click",function(){return o.refresh()}),e.nrm(26,"i",9),e.k0s()(),e.j41(27,"div",10)(28,"p",11),e.EFF(29),e.nI1(30,"localize"),e.k0s()(),e.j41(31,"div",12)(32,"div",13)(33,"abp-pagination-controls",14),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&t&&(e.Y8G("ngIf",o.permission.isGranted("Business.Personal.Colaborador.Supervisor")),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(7,9,"Protocolo de Interven\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(10,11,"Vers\xe3o")),e.R7$(3),e.JRh(e.bMT(13,13,"Data de In\xedcio")),e.R7$(3),e.JRh(e.bMT(16,15,"Data de Arquivamento")),e.R7$(3),e.JRh(e.bMT(19,17,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(22,19,o.aplicacoes,e.sMw(25,ra,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(8),e.SpI(" ",e.i5U(30,22,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const ma=(a,d,i)=>({id:"nova-atuacao-dialog",itemsPerPage:a,currentPage:d,totalItems:i});function pa(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"button",22),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.select(o))}),e.nrm(9,"i",23),e.EFF(10),e.nI1(11,"localize"),e.k0s()()()}if(2&a){let i,t;const o=d.$implicit,n=e.XpG();e.R7$(2),e.JRh(n.getNomeColaborador(o.colaboradorId)),e.R7$(2),e.JRh(null!==(i=null==(i=n.getColaborador(o.colaboradorId))?null:i.genero_Nome)&&void 0!==i?i:"-"),e.R7$(2),e.JRh(null!==(t=null==(t=n.getColaborador(o.colaboradorId))||null==t.dataNascimento?null:t.dataNascimento.format("DD/MM/YYYY"))&&void 0!==t?t:"-"),e.R7$(4),e.SpI(" ",e.bMT(11,4,n.buttonString(o))," ")}}let ha=(()=>{class a extends A{get funcaoOrg(){return this.funcoesOrg.find(i=>i.id==this.funcId)}constructor(i,t,o,n,s,l,m,p){super(i),this.bsModalRef=t,this._alunoService=o,this._colaboradorService=n,this._staffService=s,this._staffCasoService=l,this._casoService=m,this._funcaoOrgService=p,this.funcId=0,this.saving=!1,this.colaboradores=[],this.funcoesColaborador=[],this.options=[],this.staff=[],this.currentStaff=[],this.currentFuncoesColaborador=[],this.onSave=new e.bkB}ngOnInit(){this.currentStaff=this.staff?.filter(i=>null==i.dataFim)??[],null==this.funcoesOrg?this._funcaoOrgService.getAll(void 0,void 0,void 0).subscribe(i=>{this.funcoesOrg=i.items,this.refresh()}):this.refresh()}delete(i){}list(i,t,o){this.colaboradorSelected=void 0,this.isTableLoading=!0;var n=void 0,s=this.funcaoOrg;!this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico")&&!this.permission.isGranted("Business.Admin.People.Assignment")&&(n=this.appSession?.user?.colaborador?.id,null==n&&(this.options=[],this.showPaging({items:this.options,totalCount:this.options.length},t))),this._colaboradorService.getAll(void 0,n,[this.funcId],!0,void 0,void 0,void 0,i.skipCount,i.maxResultCount).subscribe(l=>{this.colaboradores=l.items}),this._staffService.getAll(void 0,void 0,n,[this.funcId],!0,void 0,void 0,void 0,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(l=>{this.funcoesColaborador=l.items,this.options=this.funcoesColaborador.filter(m=>this.currentStaff.every(p=>p.colabFuncaoId!=m.id)),null!=s.funcaoGestoraDiretaId&&(this.options=this.options.filter(m=>this.currentStaff.some(p=>p.colabFuncaoId==m.gestorId))),this.showPaging({items:this.options,totalCount:this.options.length},t)})}getColaborador(i){return this.colaboradores?.find(t=>t.id==i)}getNomeColaborador(i){return this.getColaborador(i)?.nome}selectionToString(){if(null!=this.colaboradorSelected){let i=this.getNomeColaborador(this.colaboradorSelected.colaboradorId)?.split(" ")??[];return 0==i.length?"":i[0]+" "+i.reverse()[0]}return"Nenhum"}select(i){this.colaboradorSelected=i}save(){this.saving=!0;let i=new c.Mb1({casoId:this.aluno.casoId,colabFuncaoId:this.colaboradorSelected.id});this._staffCasoService.create(i).subscribe(t=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit({atuacao:t,cf:this.colaboradorSelected,colaborador:this.colaboradores.find(o=>o.id==this.colaboradorSelected.colaboradorId)}),this.saving=!1})}buttonString(i){return null==this.colaboradorSelected||i.id!=this.colaboradorSelected.id?"Select":"Deselect"}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(g.Y$),e.rXU(c.pg4),e.rXU(c.i9W),e.rXU(c.eAk),e.rXU(c.Uos),e.rXU(c.iD6),e.rXU(c.AMc))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:44,vars:37,consts:[["createAtuacaoModal","ngForm"],["colaboradorModel","ngModel","colaboradorEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","colaborador",1,"col-md-6","col-form-label",2,"font-weight","normal"],["type","hidden","name","colaborador","id","colaborador","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-6"],[1,"m-0","py-2"],[3,"control","controlEl"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","nova-atuacao-dialog",3,"pageChange"],[3,"onCancelClick","cancelDisabled","saveDisabled"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"label",6),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"input",7,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.colaboradorSelected,l)||(o.colaboradorSelected=l),e.Njj(l)}),e.k0s(),e.j41(12,"div",8)(13,"label",9),e.EFF(14),e.k0s(),e.nrm(15,"abp-validation-summary",10),e.k0s()(),e.j41(16,"div",11)(17,"table",12)(18,"thead",13)(19,"tr")(20,"th"),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"th"),e.EFF(24),e.nI1(25,"localize"),e.k0s(),e.j41(26,"th"),e.EFF(27),e.nI1(28,"localize"),e.k0s(),e.j41(29,"th"),e.EFF(30),e.nI1(31,"localize"),e.k0s()()(),e.j41(32,"tbody"),e.DNE(33,pa,12,6,"tr",14),e.nI1(34,"paginate"),e.k0s()()(),e.j41(35,"div",15)(36,"div",16)(37,"p",17),e.EFF(38),e.nI1(39,"localize"),e.k0s()(),e.j41(40,"div",18)(41,"div",19)(42,"abp-pagination-controls",20),e.bIt("pageChange",function(l){return e.eBV(n),e.Njj(o.getDataPage(l))}),e.k0s()()()()(),e.j41(43,"abp-modal-footer",21),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1),s=e.sdS(10),l=e.sdS(11);e.R7$(2),e.Y8G("title",e.bMT(3,15,"Add "+o.funcaoOrg.nome)),e.R7$(5),e.SpI(" ",e.bMT(8,17,"Sele\xe7\xe3o atual"),": "),e.R7$(2),e.R50("ngModel",o.colaboradorSelected),e.R7$(5),e.JRh(o.selectionToString()),e.R7$(),e.Y8G("control",s)("controlEl",l),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(22,19,"Nome")),e.R7$(3),e.JRh(e.bMT(25,21,"G\xeanero")),e.R7$(3),e.JRh(e.bMT(28,23,"Data de Nascimento")),e.R7$(3),e.JRh(e.bMT(31,25,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(34,27,o.options,e.sMw(33,ma,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(5),e.SpI(" ",e.i5U(39,30,"TotalRecordsCount",o.totalItems)," "),e.R7$(5),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[h.Sq,r.qT,r.me,r.BC,r.cb,r.YS,r.vS,r.cV,G,y.e,j.x,R.z,E,f.S,T.kf],encapsulation:2})}return a})();const fa=(a,d,i,t)=>({id:a,itemsPerPage:d,currentPage:i,totalItems:t});function ba(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",19)(1,"button",20),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,n=e.XpG();return e.Njj(n.add(o))}),e.nrm(2,"i",21),e.k0s()()}}function ga(a,d){if(1&a){const i=e.RV6();e.j41(0,"button",25),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,n=e.XpG(2);return e.Njj(n.deleteColaborador(o))}),e.nrm(1,"i",26),e.k0s()}if(2&a){const i=e.XpG().$implicit;e.Y8G("hidden",null!=i.dataFim)}}function _a(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"button",22),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG(2);return e.Njj(n.detailsColaborador(o))}),e.nrm(9,"i",23),e.k0s(),e.DNE(10,ga,2,1,"button",24),e.k0s()()}if(2&a){let i,t,o;const n=d.$implicit,s=e.XpG().$implicit,l=e.XpG();e.R7$(2),e.JRh(null==(i=l.getColaborador(null==(i=l.getFuncaoColaborador(n.colabFuncaoId))?null:i.colaboradorId))?null:i.nome),e.R7$(2),e.JRh(null!==(t=null==n.dataInicio?null:n.dataInicio.format("DD/MM/YYYY"))&&void 0!==t?t:"-"),e.R7$(2),e.JRh(null!==(o=null==n.dataFim?null:n.dataFim.format("DD/MM/YYYY"))&&void 0!==o?o:"-"),e.R7$(4),e.Y8G("ngIf",l.hasRmvPermission(s,n))}}function va(a,d){1&a&&e.nrm(0,"hr",27)}function Ca(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"label",4),e.EFF(4),e.nI1(5,"localize"),e.k0s(),e.DNE(6,ba,3,0,"div",5),e.k0s(),e.j41(7,"div",6)(8,"table",7)(9,"thead",8)(10,"tr")(11,"th"),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"th",9),e.EFF(15),e.nI1(16,"localize"),e.k0s(),e.j41(17,"th",9),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.j41(20,"th",9),e.EFF(21),e.nI1(22,"localize"),e.k0s()()(),e.j41(23,"tbody"),e.DNE(24,_a,11,4,"tr",10),e.nI1(25,"paginate"),e.k0s()()(),e.j41(26,"div",11)(27,"div",12)(28,"button",13),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.switchActiveOnly(o))}),e.EFF(29),e.nI1(30,"localize"),e.k0s()(),e.j41(31,"div",14)(32,"p",15),e.EFF(33),e.nI1(34,"localize"),e.k0s()(),e.j41(35,"div",12)(36,"div",16)(37,"abp-pagination-controls",17),e.bIt("pageChange",function(o){const n=e.eBV(i).$implicit,s=e.XpG();return e.Njj(s.getDataPage(n,o))}),e.k0s()()()(),e.DNE(38,va,1,0,"hr",18),e.k0s()()}if(2&a){const i=d.$implicit,t=d.index,o=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,12,o.tableNames[i])," "),e.R7$(2),e.Y8G("ngIf",o.hasAddPermission(i)),e.R7$(2),e.Y8G("busy",o.isTableLoading[i]),e.R7$(4),e.JRh(e.bMT(13,14,"Colaborador")),e.R7$(3),e.JRh(e.bMT(16,16,"DataInicio")),e.R7$(3),e.JRh(e.bMT(19,18,"DataFim")),e.R7$(3),e.JRh(e.bMT(22,20,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(25,22,o.items[i],e.ziG(30,fa,o.tableIdString[i],o.pageSize,o.pageNumber[i],o.totalItems[i]))),e.R7$(5),e.SpI(" ",o.showActiveOnly[i]?"MostrarHistorico":e.bMT(30,25,"OcultarHistorico")," "),e.R7$(4),e.SpI(" ",e.i5U(34,27,"TotalRecordsCount",o.totalItems[i])," "),e.R7$(4),e.Y8G("id",o.tableIdString[i]),e.R7$(),e.Y8G("ngIf",t!=o.tables.length-1)}}let Qe=(()=>{class a extends v.q{get aluno(){return this._aluno}set aluno(i){this._aluno=i}constructor(i,t,o,n,s,l,m,p,_){super(i),this._alunoService=t,this._casoService=o,this._staffCasoService=n,this._colaboradorService=s,this._funcaoOrgService=l,this._modalService=m,this._router=p,this._route=_,this.pageSize=10,this.tables=[],this.tableNames=new Map,this.tableIdString=new Map,this.isTableLoading=new Map,this.pageNumber=new Map,this.totalPages=new Map,this.totalItems=new Map,this.showActiveOnly=new Map,this.items=new Map,this.alunoChange=new e.bkB,this.loadingFuncoes=!1,this.loadingStaff=!1}ngOnInit(){this.loadingFuncoes=!0,this._funcaoOrgService.getAll(void 0,void 0,void 0).subscribe(i=>{this.tables=[],this.funcoesOrg=i.items.map(t=>t.nome).sort().map(t=>i.items.find(o=>o.nome==t)).reverse(),this.funcoesOrg.forEach(t=>{"Caso a Caso"==t.acessoCasoNome&&(this.tables.push(t.id),this.tableNames[t.id]=t.nome,this.tableIdString[t.id]="staff-caso-table-"+t.nome.toLowerCase().replace(" ","-"),this.isTableLoading[t.id]=!1,this.showActiveOnly[t.id]=!0,this.items[t.id]=[],this.pageNumber[t.id]=1,this.totalItems[t.id]=0,this.totalPages[t.id]=1)}),this.loadingFuncoes=!1})}set colaboradores(i){this._colaboradores=i,this.reset()}get colaboradores(){return this._colaboradores}get funcoesColaborador(){return this._funcoesColaborador}set funcoesColaborador(i){this._funcoesColaborador=i,this.reset()}get staff(){return this._staff}set staff(i){this._staff=i,this.reset()}getFuncaoColaborador(i){return this._funcoesColaborador?.find(t=>t.id==i)}getColaborador(i){return this.colaboradores?.find(t=>t.id==i)}reset(){this.tables.forEach(i=>{this.isTableLoading[i]=!0,this.items[i]=[]}),this.staff?.forEach(i=>{let t=this.funcoesColaborador?.find(o=>o.id==i.colabFuncaoId)?.funcaoOrgId;this.tables.includes(t)&&(!this.showActiveOnly[t]||null==i.dataFim)&&this.items[t].push(i)}),this.tables.forEach(i=>{this.pageNumber[i]=1,this.totalItems[i]=this.items[i].length,this.totalPages[i]=(this.items[i].length-this.items[i].length%this.pageSize)/this.pageSize+1,this.isTableLoading[i]=!1})}detailsColaborador(i){var t=this.funcoesColaborador.find(o=>o.id==i.colabFuncaoId);this._router.navigate(["app","colaboradores","details",t.colaboradorId])}getDataPage(i,t){this.isTableLoading[i]=!0,this.totalItems[i]=this.items[i].length,this.totalPages[i]=(this.totalItems[i]-this.totalItems[i]%this.pageSize)/this.pageSize+1,this.pageNumber[i]=t<this.totalPages[i]?t:1,this.isTableLoading[i]=!1}getFuncao(i){return this.funcoesOrg.find(t=>t.id==i)}hasAddPermission(i){let t=this.getFuncao(i);return!(!this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico")&&!this.permission.isGranted("Business.Admin.People.Assignment"))||null!=t.funcaoGestoraDiretaId&&this.permission.isGranted("Business.Personal.Colaborador.Supervisor.Gestor")}hasRmvPermission(i,t){if(this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico")||this.permission.isGranted("Business.Admin.People.Assignment"))return!0;let o=this.getFuncaoColaborador(t.colabFuncaoId);if(null!=this.getFuncao(o.funcaoOrgId).funcaoGestoraDiretaId&&this.permission.isGranted("Business.Personal.Colaborador.Supervisor.Gestor")){let s=this.getFuncaoColaborador(o.gestorId);return this.appSession?.user?.colaborador?.id==s.colaboradorId}}add(i){let t;t=this._modalService.show(ha,{class:"modal-lg",initialState:{aluno:this.aluno,funcoesOrg:this.funcoesOrg,currentFuncoesColaborador:this.funcoesColaborador,staff:this.staff,funcId:i}}),t.content.onSave.subscribe(o=>{this.staff.push(o.atuacao),this.funcoesColaborador.every(n=>n.id!=o.cf.id)&&this.funcoesColaborador.push(o.cf),this.colaboradores.every(n=>n.id!=o.colaborador.id)&&this.colaboradores.push(o.colaborador),this.reset()})}deleteColaborador(i){null==i.dataFim&&this._staffCasoService.update(new c.Xbs({id:i.id,fechar:!0})).subscribe(t=>{this.notify.info(this.l("SavedSuccessfully")),this.staff[this.staff.findIndex(o=>o.id==i.id)]=t,this.reset()})}switchActiveOnly(i){this.showActiveOnly[i]=!this.showActiveOnly[i],this.reset()}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.pg4),e.rXU(c.iD6),e.rXU(c.Uos),e.rXU(c.i9W),e.rXU(c.AMc),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["staff-caso"]],inputs:{aluno:"aluno",colaboradores:"colaboradores",funcoesColaborador:"funcoesColaborador",staff:"staff"},outputs:{alunoChange:"alunoChange"},features:[e.Vt3],decls:1,vars:1,consts:[["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col","pl-4","pr-3","m-0"],[1,"row","mx-0","align-content-center","justify-content-center"],[1,"col","m-0","p-0","align-content-center"],["class","col-0 m-0 p-0",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","20%"],[4,"ngFor","ngForOf"],[1,"row","m-0","mb-2","px-2","py-0","text-center"],[1,"col"],["type","button",1,"btn","bg-secondary",3,"click"],[1,"col","text-center"],[1,"mb-0","my-2"],[1,"float-sm-right","m-auto"],[3,"pageChange","id"],["class","mt-4 mb-2",4,"ngIf"],[1,"col-0","m-0","p-0"],["type","button",1,"btn","bg-primary","m-1",3,"click"],[1,"fas","fa-plus"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-link"],["type","button","class","btn btn-sm bg-danger",3,"hidden","click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-danger",3,"click","hidden"],[1,"fas","fa-x"],[1,"mt-4","mb-2"]],template:function(t,o){1&t&&e.DNE(0,Ca,39,35,"div",0),2&t&&e.Y8G("ngForOf",o.tables)},dependencies:[h.Sq,h.bT,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const Ke=()=>[""];function Ia(a,d){if(1&a&&(e.j41(0,"tab",12),e.nI1(1,"localize"),e.nrm(2,"pessoa-account-details",18),e.k0s()),2&a){const i=e.XpG();e.Y8G("heading",e.bMT(1,3,"Conta")),e.R7$(2),e.Y8G("pessoa",i.pessoa)("createUserCallable",i.createUserCallable)}}let Fa=(()=>{class a extends Q{initEmptyPessoa(){return new c.lG3}constructor(i,t,o,n,s,l,m,p,_,C,F,I){super(i,_,C,F,I),this._alunoService=t,this._responsavelService=o,this._casoService=n,this._colaboradorService=s,this._staffService=l,this._staffCasoService=m,this._funcaoService=p,this._paisService=_,this._modalService=C,this._router=F,this._route=I}getPessoa(){const t=Number(this._route.snapshot.paramMap.get("alunoId"));return this._alunoService.get(t)}getTipoPessoa(){return"Aluno"}ngOnInit(){this._funcaoService.getAll(void 0,0,50).subscribe(t=>{this.funcoes=t.items,t.totalCount>t.items.length&&this._funcaoService.getAll(void 0,50,t.totalCount-t.items.length).subscribe(o=>{this.funcoes.push(...o.items)})}),super.ngOnInit()}proccessDto(i){super.proccessDto(i),null!=this.pessoa?.casoId&&(this._staffCasoService.getAll(this.pessoa.casoId,!0,void 0,void 0,void 0,void 0,0,50).subscribe(o=>{this.staff=o.items,o.totalCount>o.items.length&&this._staffCasoService.getAll(this.pessoa.casoId,!0,void 0,void 0,void 0,void 0,50,o.totalCount-o.items.length).subscribe(n=>{this.staff.push(...n.items)})}),this._staffService.getAll(void 0,void 0,void 0,void 0,void 0,this.pessoa.casoId,!0,void 0,0,50).subscribe(o=>{this.funcoesColaborador=o.items,o.totalCount>o.items.length&&this._staffService.getAll(void 0,void 0,void 0,void 0,void 0,this.pessoa.casoId,!0,void 0,50,o.totalCount-o.items.length).subscribe(n=>{this.funcoesColaborador.push(...n.items)})}),this._colaboradorService.getAll(void 0,void 0,void 0,void 0,this.pessoa.casoId,!0,void 0,0,50).subscribe(o=>{this.colaboradores=o.items,o.totalCount>o.items.length&&this._colaboradorService.getAll(void 0,void 0,void 0,void 0,this.pessoa.casoId,!0,void 0,50,o.totalCount-o.items.length).subscribe(n=>{this.colaboradores.push(...n.items)})}))}createUser(i){return this._alunoService.createUserParaPessoa(i)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.pg4),e.rXU(c.o5l),e.rXU(c.iD6),e.rXU(c.i9W),e.rXU(c.eAk),e.rXU(c.Uos),e.rXU(c.AMc),e.rXU(c.B59),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:46,vars:64,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","mb-2","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[3,"pessoaChange","onClickEdit","pessoa","cidade","uf","pais"],[3,"alunoChange","aluno"],[3,"aluno","staff","funcoesColaborador","colaboradores"],[3,"aluno","staff","funcoesColaborador","colaboradores","funcoes"],["class","p-3","style","\n                    border: 1px solid #dee2e6; \n                    border-top: 0px; \n                    border-bottom-left-radius: .25rem;\n                    border-bottom-right-radius: .25rem; \n                    background-color: white;",3,"heading",4,"ngIf"],[3,"pessoa","createUserCallable"]],template:function(t,o){if(1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes do Aluno "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"info-pessoal-details",13),e.mxI("pessoaChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.bIt("onClickEdit",function(){return o.editInfoPessoal()}),e.k0s()(),e.j41(18,"tab",12),e.nI1(19,"localize"),e.j41(20,"responsaveis-aluno",14),e.mxI("alunoChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.k0s()(),e.j41(21,"tab",12),e.nI1(22,"localize"),e.j41(23,"provedores-saude-caso",14),e.mxI("alunoChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.k0s()(),e.j41(24,"tab",12),e.nI1(25,"localize"),e.nrm(26,"staff-caso",15),e.k0s(),e.j41(27,"tab",12),e.nI1(28,"localize"),e.nrm(29,"anamneses-caso",16),e.k0s(),e.j41(30,"tab",12),e.nI1(31,"localize"),e.nrm(32,"supervisoes-caso",16),e.k0s(),e.j41(33,"tab",12),e.nI1(34,"localize"),e.nrm(35,"atendimentos-caso",16),e.k0s(),e.j41(36,"tab",12),e.nI1(37,"localize"),e.j41(38,"protocolos-avaliacao-caso",14),e.mxI("alunoChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.k0s()(),e.j41(39,"tab",12),e.nI1(40,"localize"),e.j41(41,"avaliacoes-habilidade-caso",14),e.mxI("alunoChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.k0s()(),e.j41(42,"tab",12),e.nI1(43,"localize"),e.j41(44,"protocolos-intervencao-caso",14),e.mxI("alunoChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.k0s()(),e.DNE(45,Ia,3,5,"tab",17),e.k0s()()()()),2&t){let n;e.Y8G("@routerTransition",void 0),e.R7$(11),e.Lme(" ",(null!==(n=null==o.pessoa||null==o.pessoa.nome?null:o.pessoa.nome.split(" "))&&void 0!==n?n:e.lJ4(62,Ke))[0]," ",(null!==(n=null==o.pessoa||null==o.pessoa.nome||null==(n=o.pessoa.nome.split(" "))?null:n.reverse())&&void 0!==n?n:e.lJ4(63,Ke))[0]," "),e.R7$(4),e.Y8G("heading",e.bMT(16,42,"PersonalInfo")),e.R7$(2),e.R50("pessoa",o.pessoa),e.Y8G("cidade",o.cidade)("uf",o.uf)("pais",o.pais),e.R7$(),e.Y8G("heading",e.bMT(19,44,"Responsaveis")),e.R7$(2),e.R50("aluno",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(22,46,"ProvedoresSaude")),e.R7$(2),e.R50("aluno",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(25,48,"Staff")),e.R7$(2),e.Y8G("aluno",o.pessoa)("staff",o.staff)("funcoesColaborador",o.funcoesColaborador)("colaboradores",o.colaboradores),e.R7$(),e.Y8G("heading",e.bMT(28,50,"Anamnese")),e.R7$(2),e.Y8G("aluno",o.pessoa)("staff",o.staff)("funcoesColaborador",o.funcoesColaborador)("colaboradores",o.colaboradores)("funcoes",o.funcoes),e.R7$(),e.Y8G("heading",e.bMT(31,52,"Supervisoes")),e.R7$(2),e.Y8G("aluno",o.pessoa)("staff",o.staff)("funcoesColaborador",o.funcoesColaborador)("colaboradores",o.colaboradores)("funcoes",o.funcoes),e.R7$(),e.Y8G("heading",e.bMT(34,54,"Atendimentos")),e.R7$(2),e.Y8G("aluno",o.pessoa)("staff",o.staff)("funcoesColaborador",o.funcoesColaborador)("colaboradores",o.colaboradores)("funcoes",o.funcoes),e.R7$(),e.Y8G("heading",e.bMT(37,56,"ProtocolosAvaliacao")),e.R7$(2),e.R50("aluno",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(40,58,"Habilidades")),e.R7$(2),e.R50("aluno",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(43,60,"ProtocolosIntervencao")),e.R7$(2),e.R50("aluno",o.pessoa),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Admin.People"))}},dependencies:[h.bT,S.V6,S.fw,J,le,Ue,Xe,xe,gn,Je,Le,Ze,We,Qe,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const ka=(a,d,i)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:i});function ja(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function Ra(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"button",38),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.detailsResponsavel(o))}),e.nrm(11,"i",39),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){let i,t,o;const n=d.$implicit;e.R7$(2),e.JRh(n.nome),e.R7$(2),e.JRh(null!==(i=n.genero_Nome)&&void 0!==i?i:"-"),e.R7$(2),e.JRh(null!==(t=n.cpf)&&void 0!==t?t:"-"),e.R7$(2),e.JRh(null!==(o=null==n.dataNascimento?null:n.dataNascimento.format("DD/MM/yyyy"))&&void 0!==o?o:"-"),e.R7$(4),e.SpI(" ",e.bMT(13,5,"Details")," ")}}let Sa=(()=>{class a extends A{constructor(i,t,o,n,s){super(i),this._responsaveisService=t,this._modalService=o,this._router=n,this._route=s,this.responsaveis=[],this.keyword="",this.advancedFiltersVisible=!1}createResponsavel(){let i;i=this._modalService.show(Ye,{class:"modal-lg"}),i.content.onSave.subscribe(()=>{this.refresh()})}detailsResponsavel(i){this._router.navigate(["details",i.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.isActive=void 0,this.getDataPage(1)}list(i,t,o){i.keyword=this.keyword,this._responsaveisService.getAll(i.keyword,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.responsaveis=n.items,this.showPaging(n,t)})}delete(i){abp.message.confirm("O seguinte endere\xe7o ser\xe1 exclu\xeddo do banco",void 0,t=>{t&&this._responsaveisService.delete(i.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.o5l),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:65,vars:44,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"]],template:function(t,o){1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createResponsavel()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,ja,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th"),e.EFF(45),e.nI1(46,"localize"),e.k0s(),e.j41(47,"th",24),e.EFF(48),e.nI1(49,"localize"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,Ra,14,7,"tr",25),e.nI1(52,"paginate"),e.k0s()()()(),e.j41(53,"div",26)(54,"div",2)(55,"div",27)(56,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(57,"i",29),e.k0s()(),e.j41(58,"div",30)(59,"p",31),e.EFF(60),e.nI1(61,"localize"),e.k0s()(),e.j41(62,"div",32)(63,"div",33)(64,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&t&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,18,"Responsaveis")),e.R7$(5),e.SpI(" ",e.bMT(12,20,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,22,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,24,"Nome")),e.R7$(3),e.JRh(e.bMT(40,26,"G\xeanero")),e.R7$(3),e.JRh(e.bMT(43,28,"CPF")),e.R7$(3),e.JRh(e.bMT(46,30,"Data de Nascimento")),e.R7$(3),e.JRh(e.bMT(49,32,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(52,34,o.responsaveis,e.sMw(40,ka,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(61,37,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,r.me,r.BC,r.vS,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();function Ma(a,d){if(1&a&&(e.j41(0,"option",12),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.Lme("",i.nome," - ",i.cpf,"")}}let eo=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._alunoService=t,this.bsModalRef=o,this.loading=!1,this.onSubmit=new e.bkB}ngOnInit(){this.loading=!0,this._alunoService.getAll(void 0,void 0,void 0).subscribe(i=>{this.alunos=i.items,this.loading=!1})}get selected(){return this._selected?.toString()??""}set selected(i){this._selected=null==i||""==i?void 0:Number(i)}submit(){this.onSubmit.emit(this.alunos[this._selected]),this.bsModalRef.hide()}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.pg4),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:14,vars:8,consts:[["selectAlunoModal","ngForm"],["selectedModel","ngModel","selectedEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","text-center"],[1,"col-md-9"],["required","","id","selected","name","selected",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],[3,"onCancelClick","saveDisabled"],[3,"value"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.submit())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"div",6)(7,"select",7,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.selected,l)||(o.selected=l),e.Njj(l)}),e.nrm(10,"option",8),e.DNE(11,Ma,2,3,"option",9),e.k0s(),e.nrm(12,"abp-validation-summary",10),e.k0s()()(),e.j41(13,"abp-modal-footer",11),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1),s=e.sdS(8),l=e.sdS(9);e.R7$(2),e.Y8G("title",e.bMT(3,6,"SelectNewAluno")),e.R7$(5),e.R50("ngModel",o.selected),e.R7$(4),e.Y8G("ngForOf",o.alunos),e.R7$(),e.Y8G("control",s)("controlEl",l),e.R7$(),e.Y8G("saveDisabled",!n.form.valid||o.loading)}},dependencies:[h.Sq,r.qT,r.xH,r.y7,r.wz,r.BC,r.cb,r.YS,r.vS,r.cV,y.e,j.x,R.z,f.S],encapsulation:2})}return a})();const Ea=()=>[];function Ta(a,d){if(1&a){const i=e.RV6();e.qex(0),e.j41(1,"div",5)(2,"label",6),e.EFF(3),e.k0s(),e.j41(4,"div",7)(5,"a",2),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.detailsDependente(o))}),e.nrm(6,"i",8),e.k0s()()(),e.bVm()}if(2&a){const i=d.$implicit,t=e.XpG();e.R7$(3),e.SpI(" ",t.getDependenteNome(i)," ")}}let oo=(()=>{class a extends v.q{set responsavel(i){this._responsavel=i,this.refresh()}get responsavel(){return this._responsavel}constructor(i,t,o,n,s,l,m){super(i),this._responsavelService=t,this._alunoService=o,this._modalService=n,this._changeDetector=s,this._router=l,this._route=m,this.responsavelChange=new e.bkB}ngOnInit(){this.refresh()}refresh(){this.dependentes=[],this.responsavel?.dependentes?.forEach(i=>{this._alunoService.get(i.id).subscribe(t=>{this.dependentes.push(t)})})}getDependenteNome(i){return this.dependentes?.find(t=>t.id==i.id)?.nome??""}detailsDependente(i){this._router.navigate(this.appSession.user.aluno?.id==i.id?["app","personal"]:["app","alunos","details",i.id])}cadastrarDependente(){this._modalService.show(se,{class:"modal-lg",initialState:{temResponsavelPredefinido:!0,responsavel:this.responsavel}}).content.onSave.subscribe(t=>{null!=t&&(this.responsavel.dependentes.push(new c.GOu({id:t.id})),this.dependentes.push(t))})}addDependente(){this._modalService.show(eo,{class:"modal-lg"}).content.onSubmit.subscribe(t=>{this.responsavel.dependentes.push(new c.GOu({id:t.id})),this._responsavelService.update(this.responsavel).subscribe(o=>{this.responsavel=o,this.responsavelChange.emit(o),this.dependentes.push(t)})})}podeAddDependentes(){return this.permission.isGranted("Business.Admin.People")}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.o5l),e.rXU(c.pg4),e.rXU(g.I8),e.rXU(e.gRc),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["dependentes-details"]],inputs:{responsavel:"responsavel"},outputs:{responsavelChange:"responsavelChange"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:12,vars:9,consts:[[1,"row","mb-2",3,"hidden"],[1,"col","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-0"],[1,"col-2"],[1,"fa","fa-link"]],template:function(t,o){if(1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"a",2),e.bIt("click",function(){return o.cadastrarDependente()}),e.nrm(3,"i",3),e.EFF(4),e.nI1(5,"localize"),e.k0s()(),e.j41(6,"div",1)(7,"a",2),e.bIt("click",function(){return o.addDependente()}),e.nrm(8,"i",3),e.EFF(9),e.nI1(10,"localize"),e.k0s()()(),e.DNE(11,Ta,7,1,"ng-container",4)),2&t){let n;e.Y8G("hidden",!o.podeAddDependentes()),e.R7$(4),e.SpI(" ",e.bMT(5,4,"CadastrarDependente")," "),e.R7$(5),e.SpI(" ",e.bMT(10,6,"AddDependente")," "),e.R7$(2),e.Y8G("ngForOf",null!==(n=null==o.responsavel?null:o.responsavel.dependentes)&&void 0!==n?n:e.lJ4(8,Ea))}},dependencies:[h.Sq,f.S],encapsulation:2})}return a})();const io=()=>[""];function Da(a,d){if(1&a&&(e.j41(0,"tab",12),e.nI1(1,"localize"),e.nrm(2,"pessoa-account-details",16),e.k0s()),2&a){const i=e.XpG();e.Y8G("heading",e.bMT(1,3,"Conta")),e.R7$(2),e.Y8G("pessoa",i.pessoa)("createUserCallable",i.createUserCallable)}}let Aa=(()=>{class a extends Q{initEmptyPessoa(){return new c.I49}constructor(i,t,o,n,s,l,m){super(i,n,s,l,m),this._responsavelService=t,this._alunoService=o,this._paisService=n,this._modalService=s,this._router=l,this._route=m}getPessoa(){const t=Number(this._route.snapshot.paramMap.get("responsavelId"));return this._responsavelService.get(t)}getTipoPessoa(){return"Responsavel"}proccessDto(i){super.proccessDto(i);let t=[];this.pessoa.dependentes.forEach(o=>{this._alunoService.get(o.id).subscribe(n=>{t.push(n)})}),this.dependentes=t}getDependenteNome(i){return this.dependentes?.find(t=>t.id==i.id)?.nome??""}detailsDependente(i){console.log(this.appSession.user),this._router.navigate(this.appSession.user.aluno?.id==i.id?["app","personal"]:["app","alunos","details",i.id])}cadastrarDependente(){this._modalService.show(se,{class:"modal-lg",initialState:{temResponsavelPredefinido:!0,responsavel:this.pessoa}}).content.onSave.subscribe(this.ngOnInit.bind(this))}addDependente(){this._modalService.show(eo,{class:"modal-lg"}).content.onSubmit.subscribe(t=>{this.pessoa.dependentes.push(new c.GOu({id:t.id})),this._responsavelService.update(this.pessoa).subscribe(o=>{this.pessoa=o,this.dependentes.push(t)})})}createUser(i){return this._responsavelService.createUserParaPessoa(i)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.o5l),e.rXU(c.pg4),e.rXU(c.B59),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:22,vars:17,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[3,"pessoaChange","onClickEdit","pessoa","cidade","uf","pais"],[3,"responsavelChange","responsavel"],["class","p-3","style","\n                    border: 1px solid #dee2e6; \n                    border-top: 0px; \n                    border-bottom-left-radius: .25rem;\n                    border-bottom-right-radius: .25rem; \n                    background-color: white;",3,"heading",4,"ngIf"],[3,"pessoa","createUserCallable"]],template:function(t,o){if(1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes do Responsavel "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"info-pessoal-details",13),e.mxI("pessoaChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.bIt("onClickEdit",function(){return o.editInfoPessoal()}),e.k0s()(),e.j41(18,"tab",12),e.nI1(19,"localize"),e.j41(20,"dependentes-details",14),e.mxI("responsavelChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.k0s()(),e.DNE(21,Da,3,5,"tab",15),e.k0s()()()()),2&t){let n;e.Y8G("@routerTransition",void 0),e.R7$(11),e.Lme(" ",(null!==(n=null==o.pessoa||null==o.pessoa.nome?null:o.pessoa.nome.split(" "))&&void 0!==n?n:e.lJ4(15,io))[0]," ",(null!==(n=null==o.pessoa||null==o.pessoa.nome||null==(n=o.pessoa.nome.split(" "))?null:n.reverse())&&void 0!==n?n:e.lJ4(16,io))[0]," "),e.R7$(4),e.Y8G("heading",e.bMT(16,11,"PersonalInfo")),e.R7$(2),e.R50("pessoa",o.pessoa),e.Y8G("cidade",o.cidade)("uf",o.uf)("pais",o.pais),e.R7$(),e.Y8G("heading",e.bMT(19,13,"AlunosDependentes")),e.R7$(2),e.R50("responsavel",o.pessoa),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Admin.People"))}},dependencies:[h.bT,S.V6,S.fw,J,le,oo,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})(),ya=(()=>{class a extends v.q{constructor(i,t,o){super(i),this.userServiceProxy=t,this.router=o,this.saving=!1,this.changePasswordDto=new c.$hU,this.newPasswordValidationErrors=[{name:"pattern",localizationKey:"PasswordsMustBeAtLeast8CharactersContainLowercaseUppercaseNumber"}],this.confirmNewPasswordValidationErrors=[{name:"validateEqual",localizationKey:"PasswordsDoNotMatch"}]}changePassword(){this.saving=!0,this.userServiceProxy.changePassword(this.changePasswordDto).pipe((0,$.j)(()=>{this.saving=!1})).subscribe(i=>{i&&(abp.message.success("Password changed successfully","Success"),this.router.navigate(["/"]))})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.LCs),e.rXU(b.Ix))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:46,vars:27,consts:[["changePasswordForm","ngForm"],["currentPasswordModel","ngModel","currentPasswordEl",""],["newPasswordModel","ngModel","newPasswordEl",""],["confirmNewPasswordModel","ngModel","confirmNewPasswordEl",""],[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"content","px-2"],[1,"card"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[1,"card-body"],[1,"modal-body"],[1,"form-group","row","required"],["for","currentPassword",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","password","name","currentPassword","id","currentPassword","required","","minlength","2","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","newPassword",1,"col-md-3","col-form-label"],["type","password","name","newPassword","id","newPassword","required","","minlength","2","maxlength","32","validateEqual","confirmNewPassword","reverse","true","pattern","(?=^.{8,}$)(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s)[0-9a-zA-Z!@#$%^&*()]*$",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl","customValidationErrors"],["for","confirmNewPassword",1,"col-md-3","col-form-label"],["type","password","name","confirmNewPassword","id","confirmNewPassword","required","","minlength","2","maxlength","32","validateEqual","newPassword","reverse","false","ngModel","",1,"form-control"],[1,"card-footer","justify-content-between"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div")(1,"section",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()()(),e.j41(8,"section",8)(9,"div",5)(10,"div",9)(11,"form",10,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.changePassword())}),e.j41(13,"div",11)(14,"div",12)(15,"div",13)(16,"label",14),e.EFF(17),e.nI1(18,"localize"),e.k0s(),e.j41(19,"div",15)(20,"input",16,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.changePasswordDto.currentPassword,l)||(o.changePasswordDto.currentPassword=l),e.Njj(l)}),e.k0s(),e.nrm(23,"abp-validation-summary",17),e.k0s()(),e.j41(24,"div",13)(25,"label",18),e.EFF(26),e.nI1(27,"localize"),e.k0s(),e.j41(28,"div",15)(29,"input",19,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.changePasswordDto.newPassword,l)||(o.changePasswordDto.newPassword=l),e.Njj(l)}),e.k0s(),e.nrm(32,"abp-validation-summary",20),e.k0s()(),e.j41(33,"div",13)(34,"label",21),e.EFF(35),e.nI1(36,"localize"),e.k0s(),e.j41(37,"div",15),e.nrm(38,"input",22,3)(41,"abp-validation-summary",20),e.k0s()()()(),e.j41(42,"div",23)(43,"button",24),e.EFF(44),e.nI1(45,"localize"),e.k0s()()()()()()()}if(2&t){const n=e.sdS(12),s=e.sdS(21),l=e.sdS(22),m=e.sdS(30),p=e.sdS(31),_=e.sdS(39),C=e.sdS(40);e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,17,"UpdatePassword")),e.R7$(11),e.SpI(" ",e.bMT(18,19,"CurrentPassword")," "),e.R7$(3),e.R50("ngModel",o.changePasswordDto.currentPassword),e.R7$(3),e.Y8G("control",s)("controlEl",l),e.R7$(3),e.SpI(" ",e.bMT(27,21,"NewPassword")," "),e.R7$(3),e.R50("ngModel",o.changePasswordDto.newPassword),e.R7$(3),e.Y8G("control",m)("controlEl",p)("customValidationErrors",o.newPasswordValidationErrors),e.R7$(3),e.SpI(" ",e.bMT(36,23,"ConfirmNewPassword")," "),e.R7$(6),e.Y8G("control",_)("controlEl",C)("customValidationErrors",o.confirmNewPasswordValidationErrors),e.R7$(2),e.Y8G("disabled",!n.form.valid||o.saving),e.R7$(),e.SpI(" ",e.bMT(45,25,"Save")," ")}},dependencies:[r.qT,r.me,r.BC,r.cb,r.YS,r.xh,r.tU,r.R_,r.vS,r.cV,y.e,Pe,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();function Ga(a,d){if(1&a&&(e.j41(0,"option",9),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.JRh(i)}}let Pa=(()=>{class a extends v.q{constructor(i,t){super(i),this.bsModalRef=t,this.saving=!1,this.title="",this.options=[],this.onSubmit=new e.bkB}ngOnInit(){}get idxSelected(){return this._idxSelected?.toString()??""}set idxSelected(i){this._idxSelected=""==i||null==i?void 0:Number(i)}save(){this.saving=!0,this.onSubmit.emit(this._idxSelected),this.bsModalRef.hide(),this.saving=!1}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:11,vars:8,consts:[["singleSelectorModal","ngForm"],["selectionModel","ngModel","selectionEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"col"],["name","selection","id","selection","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"select",6,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.idxSelected,l)||(o.idxSelected=l),e.Njj(l)}),e.DNE(9,Ga,2,2,"option",7),e.k0s()()(),e.j41(10,"abp-modal-footer",8),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,6,o.title)),e.R7$(4),e.Y8G("disabled",o.saving),e.R50("ngModel",o.idxSelected),e.R7$(3),e.Y8G("ngForOf",o.options),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[h.Sq,r.qT,r.xH,r.y7,r.wz,r.BC,r.cb,r.YS,r.vS,r.cV,j.x,R.z,f.S],encapsulation:2})}return a})();const $a=(a,d,i)=>({id:"historico-funcoes",itemsPerPage:a,currentPage:d,totalItems:i});function wa(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s()()),2&a){let i,t;const o=d.$implicit,n=e.XpG();e.R7$(2),e.JRh(null==(i=n.getFuncao(null==o?null:o.funcaoOrgId))?null:i.nome),e.R7$(2),e.JRh(n.getGestorString(o)),e.R7$(2),e.JRh(o.dataInicio.format("DD/MM/yyyy")),e.R7$(2),e.JRh(null!==(t=null==o.dataFim?null:o.dataFim.format("DD/MM/yyyy"))&&void 0!==t?t:"-")}}let Na=(()=>{class a extends A{constructor(){super(...arguments),this.funcoesHistoricas=[]}set historicoFuncoes(i){this._historicoFuncoes=i,this.refresh()}get historicoFuncoes(){return this._historicoFuncoes}getFuncao(i){return this.funcoes?.find(t=>t.id==i)}getGestorString(i){if(null==i)return"...";var t=this.getFuncao(i.funcaoOrgId);if(null==t)return"...";if(null==t.funcaoGestoraDiretaId)return"N/A";if(null==i.gestorId)return"N\xe3o atribu\xeddo";var o=this.gerentesCF?.find(s=>s.id==i?.gestorId),n=this.gerentes?.find(s=>s.id==o?.colaboradorId);return null==n?"...":n.nome}ngOnInit(){super.ngOnInit(),this.refresh()}list(i,t,o){this.funcoesHistoricas=[],this.historicoFuncoes.forEach(n=>{null!=n.dataFim&&this.funcoesHistoricas.push(n)}),this.showPaging({items:this.funcoesHistoricas,totalCount:this.funcoesHistoricas.length},t),o()}delete(){}static#e=this.\u0275fac=(()=>{let i;return function(o){return(i||(i=e.xGo(a)))(o||a)}})();static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["historico-funcoes-table"]],inputs:{historicoFuncoes:"historicoFuncoes",funcoes:"funcoes",gerentesCF:"gerentesCF",gerentes:"gerentes"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:27,vars:25,consts:[[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","25%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","historico-funcoes",3,"pageChange"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th"),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"th",3),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"th",3),e.EFF(14),e.nI1(15,"localize"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,wa,9,4,"tr",4),e.nI1(18,"paginate"),e.k0s()()(),e.j41(19,"div",5)(20,"div",6)(21,"p",7),e.EFF(22),e.nI1(23,"localize"),e.k0s()(),e.j41(24,"div",8)(25,"div",9)(26,"abp-pagination-controls",10),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&t&&(e.R7$(),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(6,7,"Fun\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(9,9,"Gestor")),e.R7$(3),e.JRh(e.bMT(12,11,"Data In\xedcio")),e.R7$(3),e.JRh(e.bMT(15,13,"Data Fim")),e.R7$(3),e.Y8G("ngForOf",e.i5U(18,15,o.funcoesHistoricas,e.sMw(21,$a,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(5),e.SpI(" ",e.i5U(23,18,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,G,E,f.S,T.kf],encapsulation:2})}return a})();const Va=(a,d,i)=>({id:"funcoes-atuais-table",itemsPerPage:a,currentPage:d,totalItems:i});function Ba(a,d){if(1&a){const i=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,n=e.XpG();return e.Njj(n.delete(o))}),e.nrm(1,"i",13),e.EFF(2),e.nI1(3,"localize"),e.k0s()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Remover Fun\xe7\xe3o")," "))}function za(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.DNE(8,Ba,4,3,"button",11),e.k0s()()),2&a){let i;const t=d.$implicit,o=e.XpG();e.R7$(2),e.JRh(null==(i=o.getFuncao(t.funcaoOrgId))?null:i.nome),e.R7$(2),e.JRh(o.getGestorString(t)),e.R7$(2),e.JRh(null==t||null==t.dataInicio?null:t.dataInicio.format("DD/MM/yyyy")),e.R7$(2),e.Y8G("ngIf",o.permission.isGranted("Business.Admin.People"))}}let Ya=(()=>{class a extends A{constructor(){super(...arguments),this.funcoesAtuais=[],this.rmvFuncao=new e.bkB}set historicoFuncoes(i){this._historicoFuncoes=i,this.refresh()}get historicoFuncoes(){return this._historicoFuncoes}ngOnInit(){super.ngOnInit(),this.refresh()}list(i,t,o){this.funcoesAtuais=[],this.historicoFuncoes.forEach(n=>{null==n.dataFim&&this.funcoesAtuais.push(n)}),this.showPaging({items:this.funcoesAtuais,totalCount:this.funcoesAtuais.length},t),o()}getFuncao(i){return this.funcoes?.find(t=>t.id==i)}getGestorString(i){var t=this.getFuncao(i.funcaoOrgId);if(null==t?.funcaoGestoraDiretaId)return"N/A";if(null==i?.gestorId)return"N\xe3o atribu\xeddo";var o=this.gerentesCF?.find(s=>s?.id==i?.gestorId),n=this.gerentes?.find(s=>s?.id==o?.colaboradorId);return null==n?"...":n.nome}delete(i){this.rmvFuncao.emit(i)}static#e=this.\u0275fac=(()=>{let i;return function(o){return(i||(i=e.xGo(a)))(o||a)}})();static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["funcoes-atuais-table"]],inputs:{historicoFuncoes:"historicoFuncoes",funcoes:"funcoes",gerentesCF:"gerentesCF",gerentes:"gerentes"},outputs:{rmvFuncao:"rmvFuncao"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:25,vars:22,consts:[[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","25%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","funcoes-atuais-table",3,"pageChange"],["type","button","class","btn btn-sm bg-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-danger",3,"click"],[1,"fas","fa-x"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th"),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.nrm(13,"th",3),e.k0s()(),e.j41(14,"tbody"),e.DNE(15,za,9,4,"tr",4),e.nI1(16,"paginate"),e.k0s()()(),e.j41(17,"div",5)(18,"div",6)(19,"p",7),e.EFF(20),e.nI1(21,"localize"),e.k0s()(),e.j41(22,"div",8)(23,"div",9)(24,"abp-pagination-controls",10),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&t&&(e.R7$(),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(6,6,"Fun\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(9,8,"Gestor")),e.R7$(3),e.JRh(e.bMT(12,10,"In\xedcio")),e.R7$(4),e.Y8G("ngForOf",e.i5U(16,12,o.funcoesAtuais,e.sMw(18,Va,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(5),e.SpI(" ",e.i5U(21,15,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,G,E,f.S,T.kf],encapsulation:2})}return a})();function Ua(a,d){if(1&a){const i=e.RV6();e.j41(0,"button",9),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.addFuncaoPopup())}),e.nrm(1,"i",10),e.EFF(2),e.nI1(3,"localize"),e.k0s()}if(2&a){const i=e.XpG();e.Y8G("disabled",i.loading),e.R7$(2),e.SpI(" ",e.bMT(3,2,"Add Fun\xe7\xe3o")," ")}}let to=(()=>{class a extends v.q{constructor(i,t,o,n,s,l,m,p){super(i),this._colaboradorService=t,this._staffService=o,this._funcaoOrgService=n,this._changeDetector=s,this._modalService=l,this._router=m,this._route=p,this.loadingFuncoes=!1,this.loadingHistorico=!1,this.funcoesChange=new e.bkB,this.historicoFuncoes=[],this.historicoFuncoesChange=new e.bkB,this.gerentesChange=new e.bkB,this.gerentesCFChange=new e.bkB,this.busy=!1}get loading(){return this.loadingFuncoes||this.loadingHistorico}get colaboradorId(){return this._colaboradorId}set colaboradorId(i){this._colaboradorId=i,this.refresh()}ngOnInit(){this.loadingFuncoes=!0,this.funcoes=[],this._funcaoOrgService.getAll(void 0,void 0,void 0).subscribe(i=>{this.funcoes=i.items,this.funcoesChange.emit(this.funcoes),this.loadingFuncoes=!1}),this.refresh()}refresh(){this.loadingHistorico=!0,this.historicoFuncoes=[],this._staffService.getAll(this.colaboradorId,void 0,void 0,void 0,void 0,void 0,void 0,void 0,0,25).subscribe(t=>{this.historicoFuncoes=t.items,t.totalCount>t.items.length?this._staffService.getAll(this.colaboradorId,void 0,void 0,void 0,void 0,void 0,void 0,void 0,25,t.totalCount-t.items.length).subscribe(o=>{this.historicoFuncoes.push(...o.items),this.updateGestores(),this.loadingHistorico=!1}):(this.updateGestores(),this.loadingHistorico=!1)})}updateGestores(){this.gerentes=[],this.gerentesCF=[],this.historicoFuncoes.forEach(i=>{null!=i.gestorId&&this._staffService.get(i.gestorId).subscribe(t=>{this.gerentesCF.push(t),this._colaboradorService.get(t.colaboradorId).subscribe(o=>{this.gerentes.push(o)})})})}getTipoPessoa(){return"Colaborador"}getCFs(i){return null==i?this.historicoFuncoes:this.historicoFuncoes.filter(t=>t.funcaoOrgId==i.id)}getCFsAtivos(i){return this.getCFs(i).filter(t=>null==t.dataFim)}hasFuncao(i){return this.getCFsAtivos(i).length>0}rmvFuncao(i){if(this.busy)return;let t;if(this.busy=!0,i instanceof c.HI9)t=i;else{let o=this.getCFsAtivos(i);if(0==o.length)return null;t=o[0]}this._staffService.update(new c.SeK({id:t.id,fechar:!0,gestorId:t.gestorId})).subscribe(o=>{this.refresh(),this.notify.info(this.l("SavedSuccessfully")),this.busy=!1})}addFuncao(i){if(this.busy)return;this.busy=!0;let t=new c.R3c({colaboradorId:this.colaboradorId,funcaoOrgId:i.id,gestorId:void 0});this._staffService.create(t).subscribe(o=>{this.refresh(),this.notify.info(this.l("SavedSuccessfully")),this.busy=!1})}addFuncaoPopup(){let o,i=[],t=[];this.funcoes.forEach(n=>{this.hasFuncao(n)||(i.push(n),t.push(n.nome))}),o=this._modalService.show(Pa,{class:"modal-lg",initialState:{title:"SelectFuncao",options:t}}),o.content.onSubmit.subscribe(n=>{this.addFuncao(i[n])})}podeAddFuncao(){return this.permission.isGranted("Business.Admin.People")}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.i9W),e.rXU(c.eAk),e.rXU(c.AMc),e.rXU(e.gRc),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["funcoes-colaborador-details"]],inputs:{colaboradorId:"colaboradorId",funcoes:"funcoes",historicoFuncoes:"historicoFuncoes",gerentes:"gerentes",gerentesCF:"gerentesCF"},outputs:{funcoesChange:"funcoesChange",historicoFuncoesChange:"historicoFuncoesChange",gerentesChange:"gerentesChange",gerentesCFChange:"gerentesCFChange"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:16,vars:15,consts:[[1,"container-fluid","col","p-0","m-0"],[1,"row","m-0","pt-1","justify-content-between"],[1,"col-0"],["type","button","class","col-0 btn btn-sm bg-primary",3,"disabled","click",4,"ngIf"],[1,"row","m-0","pb-1"],[1,"col"],[3,"rmvFuncao","funcoes","historicoFuncoes","gerentes","gerentesCF"],[1,"row","m-0","pt-1"],[3,"funcoes","historicoFuncoes","gerentes","gerentesCF"],["type","button",1,"col-0","btn","btn-sm","bg-primary",3,"click","disabled"],[1,"fas","fa-plus-square"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"label",2),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.DNE(5,Ua,4,4,"button",3),e.k0s(),e.j41(6,"div",4)(7,"div",5)(8,"funcoes-atuais-table",6),e.bIt("rmvFuncao",function(s){return o.rmvFuncao(s)}),e.k0s()()(),e.j41(9,"div",7)(10,"label"),e.EFF(11),e.nI1(12,"localize"),e.k0s()(),e.j41(13,"div",4)(14,"div",5),e.nrm(15,"historico-funcoes-table",8),e.k0s()()()),2&t&&(e.R7$(3),e.JRh(e.bMT(4,11,"Fun\xe7\xf5es Atuais")),e.R7$(2),e.Y8G("ngIf",o.podeAddFuncao()),e.R7$(3),e.Y8G("funcoes",o.funcoes)("historicoFuncoes",o.historicoFuncoes)("gerentes",o.gerentes)("gerentesCF",o.gerentesCF),e.R7$(3),e.JRh(e.bMT(12,13,"Hist\xf3rico de Fun\xe7\xf5es")),e.R7$(4),e.Y8G("funcoes",o.funcoes)("historicoFuncoes",o.historicoFuncoes)("gerentes",o.gerentes)("gerentesCF",o.gerentesCF))},dependencies:[h.bT,Na,Ya,f.S],encapsulation:2})}return a})();const no=()=>[];function Xa(a,d){if(1&a&&(e.j41(0,"option",25),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",i.id),e.R7$(),e.JRh(i.nome)}}function Ha(a,d){if(1&a&&(e.j41(0,"option",25),e.EFF(1),e.k0s()),2&a){const i=d.$implicit,t=e.XpG();e.Y8G("value",i.id),e.R7$(),e.Lme("",t.getNomeColaborador(i.colaboradorId)," - ",i.funcaoOrg.nome,"")}}let ao=(()=>{class a extends v.q{constructor(i,t,o,n,s,l,m){super(i),this._servicoPrestadoService=t,this._tipoServicoPrestadoService=o,this._colaboradorService=n,this._staffService=s,this._funcaoService=l,this.bsModalRef=m,this.horasTrabalho=0,this.onSave=new e.bkB,this.saving=!1}get colabFuncaoOrgId(){return this.servico?.colabFuncaoOrgId?.toString()??""}set colabFuncaoOrgId(i){let t=Number(i);this.servico.colabFuncaoOrgId=t}get tipoServicoId(){return this.servico?.tipoServicoId?.toString()??""}set tipoServicoId(i){let t=Number(i);this.servico.tipoServicoId=t}get dataInicio(){return this.servico?.inicio?.format("YYYY-MM-DD")}set dataInicio(i){let t=z(i);t=t.hour(this.servico?.inicio?.hour()??0),t=t.minute(this.servico?.inicio?.minute()??0),this.servico.inicio=t}get horarioInicio(){return this.servico?.inicio?.format("HH:mm")}set horarioInicio(i){let t=Number(i.substring(0,2)),o=Number(i.substring(3,5));this.servico.inicio=this.servico?.inicio?.hour(t),this.servico.inicio=this.servico?.inicio?.minute(o)}get loading(){return this.loadingFuncoes||this.loadingColaboradores||this.loadingFuncoesColaborador||this.loadingTiposServico}ngOnInit(){if(this.servico=new c.HoC,this.servico.inicio=z(),this.servico.fim=z(),null==this.funcoes&&(this.loadingFuncoes=!0,this._funcaoService.getAll(void 0,void 0,void 0).subscribe(i=>{this.funcoes=i.items,this.loadingFuncoes=!1})),null==this.colaboradores&&(this.loadingColaboradores=!0,this._colaboradorService.getAll(void 0,void 0,void 0,!0,void 0,void 0,void 0,void 0,void 0).subscribe(i=>{this.colaboradores=i.items,this.loadingColaboradores=!1})),null==this.funcoesColaborador&&(this.loadingFuncoesColaborador=!0,this._staffService.getAll(void 0,void 0,void 0,void 0,!0,void 0,void 0,void 0,void 0,void 0).subscribe(i=>{this.funcoesColaborador=i.items,this.loadingFuncoesColaborador=!1})),null==this.tiposServico)this.loadingTiposServico=!0,this._tipoServicoPrestadoService.getAll(void 0,void 0,void 0,void 0,void 0).subscribe(i=>{this.tiposServico=[],i.items.forEach(t=>{t.registravelAvulso&&this.tiposServico.push(t)}),this.loadingTiposServico=!1});else{let i=[];this.tiposServico.forEach(t=>{t.registravelAvulso&&i.push(t)}),this.tiposServico=i}}getNomeColaborador(i){return this.colaboradores.find(t=>t.id==i).nome}getNomeFuncao(i){return this.funcoes.find(t=>t.id==i).nome}save(){let i=this.tiposServico.find(o=>o.id==this.servico.tipoServicoId),t=this.funcoesColaborador.find(o=>o.id==this.servico.colabFuncaoOrgId);i.funcoesOrg.some(o=>o.id==t.funcaoOrgId)?(this.servico.fim=this.servico.inicio.add(this.horasTrabalho,"hours"),this.saving=!0,this._servicoPrestadoService.create(this.servico).subscribe(o=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(o)})):this.notify.info(this.l('O tipo de servi\xe7o "'+i.nome+'" n\xe3o pode ser realizado pela fun\xe7\xe3o "'+this.getNomeFuncao(t.funcaoOrgId)+'".'))}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.Frx),e.rXU(c.$Bn),e.rXU(c.i9W),e.rXU(c.eAk),e.rXU(c.AMc),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:55,vars:41,consts:[["createServicoPrestadoModal","ngForm"],["tipoServicoModel","ngModel","tipoServicoEl",""],["colaboradorModel","ngModel","colaboradorEl",""],["dataModel","ngModel","dataEl",""],["horarioInicioModel","ngModel","horarioInicioEl",""],["horasTrabalhoModel","ngModel","horasTrabalhoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","tipoServico",1,"col-md-3","col-form-label"],[1,"col-md-9"],["required","","id","tipoServico","name","tipoServico",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],["for","colaborador",1,"col-md-3","col-form-label"],["required","","id","colaborador","name","colaborador",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","data",1,"col-md-3","col-form-label"],["type","date","name","data","id","data","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","horarioInicio",1,"col-md-3","col-form-label"],["type","time","name","horarioInicio","id","horarioInicio","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","horasTrabalho",1,"col-md-3","col-form-label"],["type","number","name","horasTrabalho","id","horasTrabalho","required","","min","0",1,"form-control",3,"ngModelChange","ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",6,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",7),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",8)(5,"div",9)(6,"label",10),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",11)(10,"select",12,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.tipoServicoId,l)||(o.tipoServicoId=l),e.Njj(l)}),e.nrm(13,"option",13),e.DNE(14,Xa,2,2,"option",14),e.k0s(),e.nrm(15,"abp-validation-summary",15),e.k0s()(),e.j41(16,"div",9)(17,"label",16),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.j41(20,"div",11)(21,"select",17,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.colabFuncaoOrgId,l)||(o.colabFuncaoOrgId=l),e.Njj(l)}),e.nrm(24,"option",13),e.DNE(25,Ha,2,3,"option",14),e.k0s(),e.nrm(26,"abp-validation-summary",15),e.k0s()(),e.j41(27,"div",9)(28,"label",18),e.EFF(29),e.nI1(30,"localize"),e.k0s(),e.j41(31,"div",11)(32,"input",19,3),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.dataInicio,l)||(o.dataInicio=l),e.Njj(l)}),e.k0s(),e.nrm(35,"abp-validation-summary",15),e.k0s()(),e.j41(36,"div",9)(37,"label",20),e.EFF(38),e.nI1(39,"localize"),e.k0s(),e.j41(40,"div",11)(41,"input",21,4),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.horarioInicio,l)||(o.horarioInicio=l),e.Njj(l)}),e.k0s(),e.nrm(44,"abp-validation-summary",15),e.k0s()(),e.j41(45,"div",9)(46,"label",22),e.EFF(47),e.nI1(48,"localize"),e.k0s(),e.j41(49,"div",11)(50,"input",23,5),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.horasTrabalho,l)||(o.horasTrabalho=l),e.Njj(l)}),e.k0s(),e.nrm(53,"abp-validation-summary",15),e.k0s()()(),e.j41(54,"abp-modal-footer",24),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){let n,s;const l=e.sdS(1),m=e.sdS(11),p=e.sdS(12),_=e.sdS(22),C=e.sdS(23),F=e.sdS(33),I=e.sdS(34),P=e.sdS(42),w=e.sdS(43),V=e.sdS(51),B=e.sdS(52);e.R7$(2),e.Y8G("title",e.bMT(3,27,"CreateNewServicoPrestado")),e.R7$(5),e.SpI(" ",e.bMT(8,29,"Tipo de Servi\xe7o")," "),e.R7$(3),e.Y8G("disabled",o.loadingTiposServico),e.R50("ngModel",o.tipoServicoId),e.R7$(4),e.Y8G("ngForOf",null!==(n=o.tiposServico)&&void 0!==n?n:e.lJ4(39,no)),e.R7$(),e.Y8G("control",m)("controlEl",p),e.R7$(3),e.SpI(" ",e.bMT(19,31,"Colaborador")," "),e.R7$(3),e.Y8G("disabled",o.loadingColaboradores||o.loadingFuncoesColaborador),e.R50("ngModel",o.colabFuncaoOrgId),e.R7$(4),e.Y8G("ngForOf",null!==(s=o.funcoesColaborador)&&void 0!==s?s:e.lJ4(40,no)),e.R7$(),e.Y8G("control",_)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(30,33,"Data In\xedcio")," "),e.R7$(3),e.R50("ngModel",o.dataInicio),e.R7$(3),e.Y8G("control",F)("controlEl",I),e.R7$(3),e.SpI(" ",e.bMT(39,35,"Hor\xe1rio In\xedcio")," "),e.R7$(3),e.R50("ngModel",o.horarioInicio),e.R7$(3),e.Y8G("control",P)("controlEl",w),e.R7$(3),e.SpI(" ",e.bMT(48,37,"Horas-Trabalho")," "),e.R7$(3),e.R50("ngModel",o.horasTrabalho),e.R7$(3),e.Y8G("control",V)("controlEl",B),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!l.form.valid||o.saving||o.loading)}},dependencies:[h.Sq,r.qT,r.xH,r.y7,r.me,r.Q0,r.wz,r.BC,r.cb,r.YS,r.VZ,r.vS,r.cV,y.e,j.x,R.z,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const xa=(a,d,i)=>({id:"servicos-prestados-colaborador",itemsPerPage:a,currentPage:d,totalItems:i});function qa(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",6)(1,"div",12)(2,"a",13),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.createServicoPrestado())}),e.nrm(3,"i",14),e.EFF(4),e.nI1(5,"localize"),e.k0s()()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,1,"Create")," "))}function Oa(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s()()),2&a){let i,t;const o=d.$implicit,n=e.XpG();e.R7$(2),e.JRh(n.getNomeFuncao(o.colabFuncaoOrgId)),e.R7$(2),e.JRh(n.getNomeTipoServico(o.tipoServicoId)),e.R7$(2),e.JRh(n.getNomeAlunoCaso(o.casoId)),e.R7$(2),e.JRh(null!==(i=null==o||null==o.inicio?null:o.inicio.format("DD/MM/YYYY HH:mm"))&&void 0!==i?i:"-"),e.R7$(2),e.JRh(null!==(t=null==o||null==o.fim?null:o.fim.format("DD/MM/YYYY HH:mm"))&&void 0!==t?t:"-")}}let so=(()=>{class a extends A{constructor(i,t,o,n,s,l,m,p){super(i),this._servicoPrestadoService=t,this._tipoServicoPrestadoService=o,this._casoService=n,this._modalService=s,this._changeDectetor=l,this._router=m,this._route=p,this.servicos=[],this.keyword="",this.advancedFiltersVisible=!1,this.historicoFuncoes=[],this.casosChange=new e.bkB}get colaboradorId(){return this._colaboradorId}set colaboradorId(i){this._colaboradorId=i,this.refresh()}ngOnInit(){this.isTableLoading=!0,this._tipoServicoPrestadoService.getAll(void 0,void 0,void 0,void 0,void 0).subscribe(i=>{this.tiposServico=i.items,this.refresh()})}refresh(){this.isTableLoading=!0,this._casoService.getAll(this.colaboradorId,void 0,void 0,0,10).subscribe(t=>{this.casos=t.items,t.totalCount>t.items.length?this._casoService.getAll(this.colaboradorId,void 0,void 0,10,t.totalCount-t.items.length).subscribe(o=>{this.casos.push(...o.items),this.casosChange.emit(this.casos)}):this.casosChange.emit(this.casos)}),super.refresh()}getNomeTipoServico(i){return this.tiposServico?.find(t=>t.id==i)?.nome??"-"}getNomeFuncao(i){var t=this.historicoFuncoes.find(o=>o.id==i);return this.funcoes?.find(o=>o.id==t?.funcaoOrgId)?.nome??"-"}getNomeAlunoCaso(i){return this.casos?.find(t=>t.id==i)?.aluno?.nome??"-"}createServicoPrestado(){let n,i=[],t=[],o=[];this.historicoFuncoes.forEach(s=>{null==s.dataFim&&(t.push(this.colaborador),o.push(s))}),this.tiposServico.forEach(s=>{s.registravelAvulso&&o.some(l=>s.funcoesOrg.some(m=>m.id==l.funcaoOrgId))&&i.push(s)}),n=this._modalService.show(ao,{class:"modal-lg",initialState:{tiposServico:i,colaboradores:t,funcoesColaborador:o}}),n.content.onSave.subscribe(()=>{this.refresh()})}list(i,t,o){if(null==this._colaboradorId)return this.servicos=[],this.showPaging({items:[],totalCount:0},0),void o();this._servicoPrestadoService.getAll(this._colaboradorId,void 0,void 0,void 0,void 0,void 0,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.servicos=n.items,this.showPaging(n,t)})}clearFilters(){this.keyword="",this.getDataPage(1)}delete(i){abp.message.confirm("O seguinte servi\xe7o ser\xe1 exclu\xeddo do banco",void 0,t=>{t&&this._servicoPrestadoService.delete(i.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}podeRegistrarServico(){return this.permission.isGranted("Business.Admin.People")||this.permission.isGranted("Business.Finance")||this.permission.isGranted("Business.Personal.Colaborador")&&this.appSession.user.colaborador?.id==this.colaboradorId}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.Frx),e.rXU(c.$Bn),e.rXU(c.iD6),e.rXU(g.I8),e.rXU(e.gRc),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["servicos-prestados-colaborador"]],inputs:{colaboradorId:"colaboradorId",colaborador:"colaborador",funcoes:"funcoes",historicoFuncoes:"historicoFuncoes",casos:"casos"},outputs:{casosChange:"casosChange"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:32,vars:29,consts:[["class","row",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","servicos-prestados-colaborador",3,"pageChange"],[1,"col","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"]],template:function(t,o){1&t&&(e.DNE(0,qa,6,3,"div",0),e.j41(1,"div",1)(2,"div",2)(3,"table",3)(4,"thead",4)(5,"tr")(6,"th"),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"localize"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"localize"),e.k0s()()(),e.j41(21,"tbody"),e.DNE(22,Oa,11,5,"tr",5),e.nI1(23,"paginate"),e.k0s()()()(),e.j41(24,"div",6)(25,"div",7)(26,"p",8),e.EFF(27),e.nI1(28,"localize"),e.k0s()(),e.j41(29,"div",9)(30,"div",10)(31,"abp-pagination-controls",11),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&t&&(e.Y8G("ngIf",o.podeRegistrarServico()),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(8,9,"Fun\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(11,11,"Tipo")),e.R7$(3),e.JRh(e.bMT(14,13,"Caso")),e.R7$(3),e.JRh(e.bMT(17,15,"In\xedcio")),e.R7$(3),e.JRh(e.bMT(20,17,"Fim")),e.R7$(3),e.Y8G("ngForOf",e.i5U(23,19,o.servicos,e.sMw(25,xa,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(5),e.SpI(" ",e.i5U(28,22,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,G,E,f.S,T.kf],encapsulation:2})}return a})();const Ja=(a,d,i)=>({id:"casos-colaborador",itemsPerPage:a,currentPage:d,totalItems:i});function La(a,d){if(1&a){const i=e.RV6();e.j41(0,"div")(1,"a",12),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,n=e.XpG();return e.Njj(n.detailsCaso(o))}),e.nrm(2,"i",13),e.k0s()()}}function Za(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.DNE(12,La,3,0,"div",11),e.k0s()()),2&a){let i,t;const o=d.$implicit,n=e.XpG();e.R7$(2),e.JRh(n.getNomeAlunoCaso(o.casoId)),e.R7$(2),e.JRh(n.getNomeFuncao(o.colabFuncaoId)),e.R7$(2),e.JRh(n.getGestorString(o.colabFuncaoId)),e.R7$(2),e.JRh(null!==(i=null==o||null==o.dataInicio?null:o.dataInicio.format("DD/MM/YYYY HH:mm"))&&void 0!==i?i:"-"),e.R7$(2),e.JRh(null!==(t=null==o||null==o.dataFim?null:o.dataFim.format("DD/MM/YYYY HH:mm"))&&void 0!==t?t:"-"),e.R7$(2),e.Y8G("ngIf",null==(null==o?null:o.dataFim))}}let lo=(()=>{class a extends A{constructor(i,t,o,n,s,l,m){super(i),this._casoService=t,this._staffCasoService=o,this._modalService=n,this._changeDectetor=s,this._router=l,this._route=m,this.atuacoes=[],this.keyword="",this.advancedFiltersVisible=!1,this.historicoFuncoes=[]}get colaboradorId(){return this._colaboradorId}set colaboradorId(i){this._colaboradorId=i,this.refresh()}ngOnInit(){this.isTableLoading=!0,this.refresh()}getFuncao(i){return this.funcoes.find(t=>t.id==i)}getNomeFuncao(i){let t=this.historicoFuncoes?.find(o=>o.id==i);return this.getFuncao(t.funcaoOrgId)?.nome??"-"}getNomeAlunoCaso(i){return this.casos?.find(t=>t.id==i)?.aluno?.nome??"-"}getGestorString(i){let t=this.historicoFuncoes?.find(l=>l.id==i);if(null==this.getFuncao(t.funcaoOrgId).funcaoGestoraDiretaId)return"N/A";if(null==t.gestorId)return"N\xe3o atribu\xeddo";var n=this.gerentesCF?.find(l=>l.id==t?.gestorId),s=this.gerentes?.find(l=>l.id==n?.colaboradorId);return null==s?"...":s.nome}createAtuacao(){}list(i,t,o){if(null==this._colaboradorId)return this.atuacoes=[],this.showPaging({items:[],totalCount:0},0),void o();this._staffCasoService.getAll(void 0,void 0,void 0,this._colaboradorId,void 0,void 0,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.atuacoes=n.items,this.showPaging(n,t)})}clearFilters(){this.keyword="",this.getDataPage(1)}delete(i){}detailsCaso(i){this._router.navigate(["app","alunos","details",this.casos?.find(t=>t.id==i.casoId)?.aluno?.id])}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.iD6),e.rXU(c.Uos),e.rXU(g.I8),e.rXU(e.gRc),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["casos-colaborador"]],inputs:{colaboradorId:"colaboradorId",funcoes:"funcoes",historicoFuncoes:"historicoFuncoes",casos:"casos",gerentesCF:"gerentesCF",gerentes:"gerentes"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:32,vars:28,consts:[[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","casos-colaborador",3,"pageChange"],[4,"ngIf"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-link"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"th"),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"th"),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"th"),e.EFF(15),e.nI1(16,"localize"),e.k0s(),e.j41(17,"th"),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.nrm(20,"th"),e.k0s()(),e.j41(21,"tbody"),e.DNE(22,Za,13,6,"tr",4),e.nI1(23,"paginate"),e.k0s()()()(),e.j41(24,"div",5)(25,"div",6)(26,"p",7),e.EFF(27),e.nI1(28,"localize"),e.k0s()(),e.j41(29,"div",8)(30,"div",9)(31,"abp-pagination-controls",10),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&t&&(e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(7,8,"Aluno")),e.R7$(3),e.JRh(e.bMT(10,10,"Fun\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(13,12,"Gestor")),e.R7$(3),e.JRh(e.bMT(16,14,"In\xedcio")),e.R7$(3),e.JRh(e.bMT(19,16,"Fim")),e.R7$(4),e.Y8G("ngForOf",e.i5U(23,18,o.atuacoes,e.sMw(24,Ja,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(5),e.SpI(" ",e.i5U(28,21,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,G,E,f.S,T.kf],encapsulation:2})}return a})();const Wa=()=>[];function Qa(a,d){if(1&a&&(e.j41(0,"option",17),e.EFF(1),e.k0s()),2&a){let i;const t=d.$implicit,o=e.XpG();e.Y8G("value",t.id),e.R7$(),e.Lme(" ",null==(i=o.getColaborador(t.colaboradorId))?null:i.nome," - ",null==(i=o.getFuncao(t.funcaoOrgId))?null:i.nome," ")}}function Ka(a,d){if(1&a&&(e.j41(0,"option",17),e.EFF(1),e.k0s()),2&a){let i;const t=d.$implicit,o=e.XpG();e.Y8G("value",t.id),e.R7$(),e.Lme(" ",null==(i=o.getColaborador(t.colaboradorId))?null:i.nome," - ",null==(i=o.getFuncao(t.funcaoOrgId))?null:i.nome," ")}}let es=(()=>{class a extends v.q{get cfGestorId(){return this.cfGestorId?.toString()??""}set cfGestorId(i){this._cfGestorId=""!=i?Number(i):void 0,this._cfGeridoId=void 0,this.setTrueGeridoOptions()}setTrueGeridoOptions(){if(null!=this._cfGestorId){var i=this.getGestor(this._cfGestorId),o=this.getFuncao(i.funcaoOrgId).funcoesGeridasDiretamente.map(n=>n.id);this._trueGeridoOptions=this.geridoOptions.filter(n=>n.gestorId!=i.id&&o.includes(n.funcaoOrgId)),this._trueGeridoOptions=this._trueGeridoOptions.filter(n=>n.gestorId!=this._cfGestorId)}else this._trueGeridoOptions=void 0}get cfGeridoId(){return this._cfGeridoId?.toString()??""}set cfGeridoId(i){this._cfGeridoId=""!=i?Number(i):void 0}constructor(i,t,o,n){super(o),this._colaboradorService=i,this._staffService=t,this.bsModalRef=n,this.saving=!1,this.colaboradores=[],this.onSave=new e.bkB}get trueGeridoOptions(){return this._trueGeridoOptions}ngOnInit(){if(null==this.geridoOptions){let t=[];this.gestorOptions.forEach(o=>this.getFuncao(o.funcaoOrgId).funcoesGeridasDiretamente.forEach(n=>t.push(n.id))),t=t.filter((o,n)=>!t.slice(0,n).includes(o)),this._colaboradorService.getAll(void 0,void 0,t,void 0,void 0,void 0,void 0,0,25).subscribe(o=>{this.colaboradores=this.colaboradores.concat(o.items),o.totalCount>o.items.length&&this._colaboradorService.getAll(void 0,void 0,t,void 0,void 0,void 0,void 0,25,o.totalCount-o.items.length).subscribe(n=>{this.colaboradores.push(...n.items)})}),this._staffService.getAll(void 0,void 0,void 0,t,!0,void 0,void 0,void 0,0,25).subscribe(o=>{this.geridoOptions=o.items,o.totalCount>o.items.length&&this._staffService.getAll(void 0,void 0,void 0,t,!0,void 0,void 0,void 0,25,o.totalCount-o.items.length).subscribe(n=>{this.geridoOptions.push(...n.items)})})}}getFuncao(i){return this.funcoes.find(t=>t.id==i)}getGestor(i){return this.gestorOptions?.find(t=>t.id==i)}getGerido(i){return this.geridoOptions?.find(t=>t.id==i)}getColaborador(i){return this.colaboradores?.find(t=>t.id==i)}save(){this.saving=!0;var i=new c.SeK;i.id=this._cfGeridoId,i.fechar=!1,i.gestorId=this._cfGestorId,this._staffService.update(i).subscribe({next:t=>{this.notify.info(this.l("SavedSuccessfully")),this.onSave.emit(t),this.saving=!1,this.bsModalRef.hide()},error(t){console.log(t),this.saving=!1}})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(c.i9W),e.rXU(c.eAk),e.rXU(e.zZn),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:28,vars:21,consts:[["createGestaoModal","ngForm"],["cfGestorModel","ngModel","cfGestorEl",""],["cfGeridoModel","ngModel","cfGeridoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","cfGestor",1,"col-md-3","col-form-label"],[1,"col-md-9"],["required","","id","cfGestor","name","cfGestor",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],[1,"form-group","row","required",3,"hidden"],["for","cfGerido",1,"col-md-3","col-form-label"],["required","","id","cfGerido","name","cfGerido",1,"form-control",3,"ngModelChange","ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",4),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",5)(5,"div",6)(6,"label",7),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",8)(10,"select",9,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.cfGestorId,l)||(o.cfGestorId=l),e.Njj(l)}),e.nrm(13,"option",10),e.DNE(14,Qa,2,3,"option",11),e.k0s(),e.nrm(15,"abp-validation-summary",12),e.k0s()(),e.j41(16,"div",13)(17,"label",14),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.j41(20,"div",8)(21,"select",15,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.cfGeridoId,l)||(o.cfGeridoId=l),e.Njj(l)}),e.nrm(24,"option",10),e.DNE(25,Ka,2,3,"option",11),e.k0s(),e.nrm(26,"abp-validation-summary",12),e.k0s()()(),e.j41(27,"abp-modal-footer",16),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){let n;const s=e.sdS(1),l=e.sdS(11),m=e.sdS(12),p=e.sdS(22),_=e.sdS(23);e.R7$(2),e.Y8G("title",e.bMT(3,14,"AddGerenciado")),e.R7$(5),e.SpI(" ",e.bMT(8,16,"Gestor")," "),e.R7$(3),e.R50("ngModel",o.cfGestorId),e.R7$(4),e.Y8G("ngForOf",o.gestorOptions),e.R7$(),e.Y8G("control",l)("controlEl",m),e.R7$(),e.Y8G("hidden",""==o.cfGestorId),e.R7$(2),e.SpI(" ",e.bMT(19,18,"Gerenciado")," "),e.R7$(3),e.R50("ngModel",o.cfGeridoId),e.R7$(4),e.Y8G("ngForOf",null!==(n=o.trueGeridoOptions)&&void 0!==n?n:e.lJ4(20,Wa)),e.R7$(),e.Y8G("control",p)("controlEl",_),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!s.form.valid||o.saving)}},dependencies:[h.Sq,r.qT,r.xH,r.y7,r.wz,r.BC,r.cb,r.YS,r.vS,r.cV,y.e,j.x,R.z,f.S],encapsulation:2})}return a})();const os=(a,d,i)=>({id:"gerenciados-colaborador",itemsPerPage:a,currentPage:d,totalItems:i});function is(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",13)(1,"button",14),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.addGerenciadoPopup())}),e.nrm(2,"i",15),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}if(2&a){const i=e.XpG();e.R7$(),e.Y8G("disabled",i.isTableLoading),e.R7$(2),e.SpI(" ",e.bMT(4,2,"Add Gerenciado")," ")}}function ts(a,d){if(1&a){const i=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,n=e.XpG();return e.Njj(n.delete(o))}),e.nrm(1,"i",18),e.EFF(2),e.nI1(3,"localize"),e.k0s()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Remover Gerenciado")," "))}function ns(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.DNE(10,ts,4,3,"button",16),e.k0s()()),2&a){let i,t,o;const n=d.$implicit,s=e.XpG();e.R7$(2),e.JRh(null==(i=s.getColaborador(n.colaboradorId))?null:i.nome),e.R7$(2),e.JRh(null==(t=s.getFuncao(n.funcaoOrgId))?null:t.nome),e.R7$(2),e.JRh(null==n?null:n.dataInicio.format("DD/MM/yyyy")),e.R7$(2),e.JRh(null!==(o=null==n||null==n.dataFim?null:n.dataFim.format("DD/MM/yyyy"))&&void 0!==o?o:"-"),e.R7$(2),e.Y8G("ngIf",null==(null==n?null:n.dataFim)&&s.permission.isGranted("Business.Admin.People"))}}let ro=(()=>{class a extends A{constructor(i,t,o,n,s,l,m){super(i),this._colaboradorService=t,this._staffService=o,this._modalService=n,this._changeDectetor=s,this._router=l,this._route=m,this.keyword="",this.advancedFiltersVisible=!1,this.historicoFuncoes=[],this.gerenciados=[],this.gerenciadosChange=new e.bkB,this.gerenciadosFuncoes=[],this.gerenciadosFuncoesChange=new e.bkB}ngOnInit(){this.isTableLoading=!0;var t=this._route.snapshot.paramMap.get("colaboradorId");this.id=null==t||""==t?this.appSession.user.colaborador?.id:Number(t),this.refresh()}getFuncao(i){return this.funcoes?.find(t=>t.id==i)}getNomeFuncao(i){let t=this.gerenciadosFuncoes?.find(o=>o.id==i);return this.getFuncao(t.funcaoOrgId)?.nome??"-"}getColaborador(i){return this.gerenciados?.find(t=>t.id==i)}list(i,t,o){this._colaboradorService.getAll(void 0,this.id,void 0,void 0,void 0,void 0,void 0,i.skipCount,i.maxResultCount).subscribe(n=>{this.gerenciados=n.items,this.gerenciadosChange.emit(this.gerenciados)}),this._staffService.getAll(void 0,void 0,this.id,void 0,void 0,void 0,void 0,void 0,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.gerenciadosFuncoes=n.items,this.gerenciadosFuncoesChange.emit(this.gerenciadosFuncoes),this.showPaging(n,t)})}clearFilters(){this.keyword="",this.getDataPage(1)}delete(i){abp.message.confirm("O colaborador"+this.getColaborador(i?.colaboradorId)?.nome+" ser\xe1 removido dos gerenciados",void 0,t=>{if(t){var o=new c.SeK;o.id=i.id,o.gestorId=void 0,o.fechar=!1,this._staffService.update(o).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})}})}cfGerencia(i){return(this.getFuncao(i.funcaoOrgId)?.funcoesGeridasDiretamente?.length??0)>0}podeGerenciar(){return this.historicoFuncoes.some(this.cfGerencia.bind(this))}addGerenciadoPopup(){let t,i=this.historicoFuncoes.filter(this.cfGerencia.bind(this));t=this._modalService.show(es,{class:"modal-lg",initialState:{funcoes:this.funcoes,colaboradores:[this.colaborador],gestorOptions:i}}),t.content.onSave.subscribe(()=>{this.refresh()})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.i9W),e.rXU(c.eAk),e.rXU(g.I8),e.rXU(e.gRc),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["gerenciados-colaborador"]],inputs:{colaborador:"colaborador",funcoes:"funcoes",historicoFuncoes:"historicoFuncoes",gerenciados:"gerenciados",gerenciadosFuncoes:"gerenciadosFuncoes"},outputs:{gerenciadosChange:"gerenciadosChange",gerenciadosFuncoesChange:"gerenciadosFuncoesChange"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:30,vars:26,consts:[[1,"card-body"],["class","row m-0 pt-1 justify-content-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","25%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","gerenciados-colaborador",3,"pageChange"],[1,"row","m-0","pt-1","justify-content-end"],["type","button",1,"col-0","btn","btn-sm","bg-primary",3,"click","disabled"],[1,"fas","fa-plus-square"],["type","button","class","btn btn-sm bg-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-danger",3,"click"],[1,"fas","fa-x"]],template:function(t,o){1&t&&(e.j41(0,"div",0),e.DNE(1,is,5,4,"div",1),e.j41(2,"div",2)(3,"table",3)(4,"thead",4)(5,"tr")(6,"th"),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"localize"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.nrm(18,"th",5),e.k0s()(),e.j41(19,"tbody"),e.DNE(20,ns,11,5,"tr",6),e.nI1(21,"paginate"),e.k0s()()(),e.j41(22,"div",7)(23,"div",8)(24,"p",9),e.EFF(25),e.nI1(26,"localize"),e.k0s()(),e.j41(27,"div",10)(28,"div",11)(29,"abp-pagination-controls",12),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()),2&t&&(e.R7$(),e.Y8G("ngIf",o.podeGerenciar()&&o.permission.isGranted("Business.Admin.People")),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(8,8,"Nome")),e.R7$(3),e.JRh(e.bMT(11,10,"Fun\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(14,12,"In\xedcio")),e.R7$(3),e.JRh(e.bMT(17,14,"Fim")),e.R7$(4),e.Y8G("ngForOf",e.i5U(21,16,o.gerenciadosFuncoes,e.sMw(22,os,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(5),e.SpI(" ",e.i5U(26,19,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,G,E,f.S,T.kf],encapsulation:2})}return a})();const co=()=>[""];function as(a,d){if(1&a&&(e.j41(0,"tab",12),e.nI1(1,"localize"),e.nrm(2,"casos-colaborador",16),e.k0s()),2&a){const i=e.XpG();e.Y8G("heading",e.bMT(1,7,"Casos")),e.R7$(2),e.Y8G("colaboradorId",i.id)("funcoes",i.funcoes)("historicoFuncoes",i.historicoFuncoes)("casos",i.casos)("gerentes",i.gerentes)("gerentesCF",i.gerentesCF)}}function ss(a,d){if(1&a){const i=e.RV6();e.j41(0,"tab",12),e.nI1(1,"localize"),e.j41(2,"gerenciados-colaborador",17),e.mxI("gerenciadosChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.gerenciados,o)||(n.gerenciados=o),e.Njj(o)})("gerenciadosFuncoesChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.gerenciadosFuncoes,o)||(n.gerenciadosFuncoes=o),e.Njj(o)}),e.k0s()()}if(2&a){const i=e.XpG();e.Y8G("heading",e.bMT(1,6,"Gerenciados")),e.R7$(2),e.Y8G("colaborador",i.pessoa)("funcoes",i.funcoes)("historicoFuncoes",i.historicoFuncoes),e.R50("gerenciados",i.gerenciados)("gerenciadosFuncoes",i.gerenciadosFuncoes)}}function ls(a,d){if(1&a){const i=e.RV6();e.j41(0,"tab",12),e.nI1(1,"localize"),e.j41(2,"servicos-prestados-colaborador",18),e.mxI("funcoesChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.funcoes,o)||(n.funcoes=o),e.Njj(o)})("casosChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.casos,o)||(n.casos=o),e.Njj(o)}),e.k0s()()}if(2&a){const i=e.XpG();e.Y8G("heading",e.bMT(1,6,"ServicosPrestados")),e.R7$(2),e.Y8G("colaboradorId",i.id)("colaborador",i.pessoa),e.R50("funcoes",i.funcoes),e.Y8G("historicoFuncoes",i.historicoFuncoes),e.R50("casos",i.casos)}}function rs(a,d){if(1&a&&(e.j41(0,"tab",12),e.nI1(1,"localize"),e.nrm(2,"pessoa-account-details",19),e.k0s()),2&a){const i=e.XpG();e.Y8G("heading",e.bMT(1,3,"Conta")),e.R7$(2),e.Y8G("pessoa",i.pessoa)("createUserCallable",i.createUserCallable)}}let ds=(()=>{class a extends Q{initEmptyPessoa(){return new c.GcL}constructor(i,t,o,n,s,l,m){super(i,o,n,l,m),this._colaboradorService=t,this._paisService=o,this._modalService=n,this._changeDetector=s,this._router=l,this._route=m,this.refreshHistorico=new e.bkB,this.busy=!1}getPessoa(){return this.id=Number(this._route.snapshot.paramMap.get("colaboradorId")),this._colaboradorService.get(this.id)}getTipoPessoa(){return"Colaborador"}getFuncaoOrg(i){return this.funcoes?.find(t=>t.id==i)}cfGerencia(i){return(this.getFuncaoOrg(i.funcaoOrgId)?.funcoesGeridasDiretamente?.length??0)>0}showAbaCasos(){return!!this.permission.isGranted("Business.Admin.People")&&this.historicoFuncoes?.some(i=>"Caso a Caso"==this.getFuncaoOrg(i.funcaoOrgId)?.acessoCasoNome)}showAbaGerenciados(){return this.historicoFuncoes?.some(this.cfGerencia.bind(this))}createUser(i){return this._colaboradorService.createUserParaPessoa(i)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.i9W),e.rXU(c.B59),e.rXU(g.I8),e.rXU(e.gRc),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:26,vars:27,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","p-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","15px"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[3,"pessoaChange","onClickEdit","pessoa","cidade","uf","pais"],[3,"funcoesChange","historicoFuncoesChange","gerentesChange","gerentesCFChange","colaboradorId","funcoes","historicoFuncoes","gerentes","gerentesCF"],["class","p-3","style","\n                    border: 1px solid #dee2e6; \n                    border-top: 0px; \n                    border-bottom-left-radius: .25rem;\n                    border-bottom-right-radius: .25rem; \n                    background-color: white;",3,"heading",4,"ngIf"],[3,"colaboradorId","funcoes","historicoFuncoes","casos","gerentes","gerentesCF"],[3,"gerenciadosChange","gerenciadosFuncoesChange","colaborador","funcoes","historicoFuncoes","gerenciados","gerenciadosFuncoes"],[3,"funcoesChange","casosChange","colaboradorId","colaborador","funcoes","historicoFuncoes","casos"],[3,"pessoa","createUserCallable"]],template:function(t,o){if(1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"h1",8),e.EFF(12),e.k0s()()()(),e.j41(13,"section",9)(14,"div",10)(15,"tabset",11)(16,"tab",12),e.nI1(17,"localize"),e.j41(18,"info-pessoal-details",13),e.mxI("pessoaChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.bIt("onClickEdit",function(){return o.editInfoPessoal()}),e.k0s()(),e.j41(19,"tab",12),e.nI1(20,"localize"),e.j41(21,"funcoes-colaborador-details",14),e.mxI("funcoesChange",function(s){return e.DH7(o.funcoes,s)||(o.funcoes=s),s})("historicoFuncoesChange",function(s){return e.DH7(o.historicoFuncoes,s)||(o.historicoFuncoes=s),s})("gerentesChange",function(s){return e.DH7(o.gerentes,s)||(o.gerentes=s),s})("gerentesCFChange",function(s){return e.DH7(o.gerentesCF,s)||(o.gerentesCF=s),s}),e.k0s()(),e.DNE(22,as,3,9,"tab",15)(23,ss,3,8,"tab",15)(24,ls,3,8,"tab",15)(25,rs,3,5,"tab",15),e.k0s()()()()),2&t){let n;e.Y8G("@routerTransition",void 0),e.R7$(9),e.SpI(" ",e.bMT(10,19,"Detalhes do Colaborador")," "),e.R7$(3),e.Lme(" ",(null!==(n=null==o.pessoa||null==o.pessoa.nome?null:o.pessoa.nome.split(" "))&&void 0!==n?n:e.lJ4(25,co))[0]," ",(null!==(n=null==o.pessoa||null==o.pessoa.nome||null==(n=o.pessoa.nome.split(" "))?null:n.reverse())&&void 0!==n?n:e.lJ4(26,co))[0]," "),e.R7$(4),e.Y8G("heading",e.bMT(17,21,"PersonalInfo")),e.R7$(2),e.R50("pessoa",o.pessoa),e.Y8G("cidade",o.cidade)("uf",o.uf)("pais",o.pais),e.R7$(),e.Y8G("heading",e.bMT(20,23,"Funcoes")),e.R7$(2),e.Y8G("colaboradorId",o.id),e.R50("funcoes",o.funcoes)("historicoFuncoes",o.historicoFuncoes)("gerentes",o.gerentes)("gerentesCF",o.gerentesCF),e.R7$(),e.Y8G("ngIf",o.showAbaCasos()),e.R7$(),e.Y8G("ngIf",o.showAbaGerenciados()),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Admin.People")||o.permission.isGranted("Business.Finance")),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Admin.People"))}},dependencies:[h.bT,S.V6,S.fw,J,le,to,so,lo,ro,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();function cs(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",11)(1,"label"),e.EFF(2),e.k0s(),e.j41(3,"div")(4,"input",12),e.bIt("change",function(o){const n=e.eBV(i).$implicit,s=e.XpG();return e.Njj(s.funcaoChange(n.id,o.target.checked))}),e.k0s()()()}if(2&a){const i=d.$implicit,t=e.XpG();e.R7$(2),e.JRh(i.nome),e.R7$(2),e.Y8G("name",i.nome.toLowerCase())("checked",t.pessoa.funcoes.includes(i.id))}}let us=(()=>{class a extends ae{constructor(i,t,o,n){super(i,n),this._colaboradorService=t,this._funcaoOrgService=o,this.bsModalRef=n}ngOnInit(){super.ngOnInit(),this.funcoes=[],this._funcaoOrgService.getAll(void 0,void 0,void 0).subscribe(i=>{this.funcoes=i.items})}initEmptyPessoaDto(){this.pessoa=new c.sBu,super.initEmptyPessoaDto(),this.pessoa.funcoes=[]}create(){return this._colaboradorService.create(this.pessoa)}funcaoChange(i,t){t&&!this.pessoa.funcoes.includes(i)?this.pessoa.funcoes.push(i):!t&&this.pessoa.funcoes.includes(i)&&this.pessoa.funcoes.splice(this.pessoa.funcoes.indexOf(i),1)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.i9W),e.rXU(c.AMc),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:20,vars:21,consts:[["createColaboradorModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],["ngModelGroup","infoPessoal",3,"pessoa"],["ngModelGroup","infoContato",3,"pessoa"],["ngModelGroup","endereco",3,"pessoa"],[1,"col","p-1","pb-4"],["class","row",4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[1,"row"],["type","checkbox",3,"change","name","checked"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"tabset")(6,"tab",4),e.nI1(7,"localize"),e.nrm(8,"info-pessoal-form",5),e.k0s(),e.j41(9,"tab",4),e.nI1(10,"localize"),e.nrm(11,"info-contato-form",6),e.k0s(),e.j41(12,"tab",4),e.nI1(13,"localize"),e.nrm(14,"endereco-residencia-form",7),e.k0s(),e.j41(15,"tab",4),e.nI1(16,"localize"),e.j41(17,"div",8),e.DNE(18,cs,5,3,"div",9),e.k0s()()()(),e.j41(19,"abp-modal-footer",10),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,11,"CreateNewColaborador")),e.R7$(4),e.Y8G("heading",e.bMT(7,13,"InfoPessoal")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(10,15,"InfoContato")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(13,17,"Endere\xe7oResidencia")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(16,19,"Funcoes")),e.R7$(3),e.Y8G("ngForOf",o.funcoes),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[h.Sq,r.qT,r.cb,r.Y4,r.cV,S.V6,S.fw,j.x,R.z,O,H,x,f.S],encapsulation:2})}return a})();const ms=(a,d,i)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:i});function ps(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function hs(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"button",38),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.detailsColaborador(o))}),e.nrm(11,"i",39),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){let i,t,o;const n=d.$implicit;e.R7$(2),e.JRh(n.nome),e.R7$(2),e.JRh(null!==(i=n.genero_Nome)&&void 0!==i?i:"-"),e.R7$(2),e.JRh(null!==(t=n.cpf)&&void 0!==t?t:"-"),e.R7$(2),e.JRh(null!==(o=null==n.dataNascimento?null:n.dataNascimento.format("DD/MM/yyyy"))&&void 0!==o?o:"-"),e.R7$(4),e.SpI(" ",e.bMT(13,5,"Details")," ")}}let fs=(()=>{class a extends A{constructor(i,t,o,n,s){super(i),this._colaboradoresService=t,this._modalService=o,this._router=n,this._route=s,this.colaboradores=[],this.keyword="",this.advancedFiltersVisible=!1}createColaborador(){let i;i=this._modalService.show(us,{class:"modal-lg"}),i.content.onSave.subscribe(()=>{this.refresh()})}detailsColaborador(i){this._router.navigate(["details",i.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.isActive=void 0,this.getDataPage(1)}list(i,t,o){i.keyword=this.keyword,this._colaboradoresService.getAll(void 0,void 0,void 0,void 0,void 0,void 0,i.keyword,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.colaboradores=n.items,this.showPaging(n,t)})}delete(i){abp.message.confirm("O seguinte endere\xe7o ser\xe1 exclu\xeddo do banco",void 0,t=>{t&&this._colaboradoresService.delete(i.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.i9W),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:65,vars:44,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"]],template:function(t,o){1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createColaborador()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,ps,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th"),e.EFF(45),e.nI1(46,"localize"),e.k0s(),e.j41(47,"th",24),e.EFF(48),e.nI1(49,"localize"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,hs,14,7,"tr",25),e.nI1(52,"paginate"),e.k0s()()()(),e.j41(53,"div",26)(54,"div",2)(55,"div",27)(56,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(57,"i",29),e.k0s()(),e.j41(58,"div",30)(59,"p",31),e.EFF(60),e.nI1(61,"localize"),e.k0s()(),e.j41(62,"div",32)(63,"div",33)(64,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&t&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,18,"Colaboradores")),e.R7$(5),e.SpI(" ",e.bMT(12,20,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,22,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,24,"Nome")),e.R7$(3),e.JRh(e.bMT(40,26,"G\xeanero")),e.R7$(3),e.JRh(e.bMT(43,28,"CPF")),e.R7$(3),e.JRh(e.bMT(46,30,"Data de Nascimento")),e.R7$(3),e.JRh(e.bMT(49,32,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(52,34,o.colaboradores,e.sMw(40,ms,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(61,37,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,r.me,r.BC,r.vS,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();function bs(a,d){if(1&a&&(e.j41(0,"option",20),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",i.id),e.R7$(),e.JRh(i.nome)}}let K=(()=>{class a extends v.q{set habilidade(i){this._habilidade=i,null!=this._habilidade&&null==this._habilidade.confirmacaoExplicitaRequeridaId&&(this._habilidade.confirmacaoExplicitaRequeridaId=this.tiposConfirmacao[0].id)}get habilidade(){return this._habilidade}constructor(i,t,o){super(i),this._protocoloAvaliacaoService=t,this._habilidadeService=o,this.disabled=!1}ngOnInit(){null==this.tiposConfirmacao&&this._habilidadeService.getAllTiposConfirmacaoHabilidade().subscribe(i=>{this.tiposConfirmacao=i})}get isNova(){return this.habilidade instanceof c.ftG||this.habilidade instanceof c.ftG}get isCodificada(){return!this.habilidade.isPersonalizada}get codigo(){return this.habilidade?.codigo}set codigo(i){this.habilidade.codigo=i}get tipoConfirmacao(){return this.habilidade?.confirmacaoExplicitaRequeridaId?.toString()??""}set tipoConfirmacao(i){this.habilidade.confirmacaoExplicitaRequeridaId=Number(i)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.WDn),e.rXU(c.XPk))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["habilidade-form"]],inputs:{disabled:"disabled",habilidade:"habilidade",tiposConfirmacao:"tiposConfirmacao"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:39,vars:29,consts:[["codigoModel","ngModel","codigoEl",""],["nomeModel","ngModel","nomeEl",""],["tipoConfModel","ngModel","tipoConfEl",""],["descModel","ngModel","descEl",""],[1,"form-group","row","required","mx-0"],["for","codigo",1,"col-md-2","col-form-label","mx-0","px-0"],[1,"col","mx-0","px-0"],["type","text","name","codigo","id","codigo","required","","maxlength","20",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],["for","nome",1,"col-md-2","col-form-label","mx-0","px-0"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"form-group","row","required","mx-0","px-0"],["for","tipoConf",1,"col-md-3","col-form-label","mx-0","px-0"],["name","tipoConf","id","tipoConf","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"row","m-0"],[1,"form-group","col","mx-0","px-0"],["for","desc",1,"row-0","form-label","mx-0","px-0"],[1,"row","mx-0","px-0"],["type","text","name","desc","id","desc","maxlength","1000",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div",4)(1,"label",5),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",6)(5,"input",7,0),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.codigo,l)||(o.codigo=l),e.Njj(l)}),e.k0s(),e.nrm(8,"abp-validation-summary",8),e.k0s()(),e.j41(9,"div",4)(10,"label",9),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",6)(14,"input",10,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.habilidade.nome,l)||(o.habilidade.nome=l),e.Njj(l)}),e.k0s(),e.nrm(17,"abp-validation-summary",8),e.k0s()(),e.j41(18,"div",11)(19,"label",12),e.EFF(20),e.nI1(21,"localize"),e.k0s(),e.j41(22,"div",6)(23,"select",13,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.tipoConfirmacao,l)||(o.tipoConfirmacao=l),e.Njj(l)}),e.DNE(26,bs,2,2,"option",14),e.k0s(),e.nrm(27,"abp-validation-summary",8),e.k0s()(),e.j41(28,"div",15)(29,"div",16)(30,"label",17),e.EFF(31),e.nI1(32,"localize"),e.k0s(),e.j41(33,"div",18)(34,"textarea",19,3),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.habilidade.desc,l)||(o.habilidade.desc=l),e.Njj(l)}),e.EFF(37,"            "),e.k0s(),e.nrm(38,"abp-validation-summary",8),e.k0s()()()}if(2&t){const n=e.sdS(6),s=e.sdS(7),l=e.sdS(15),m=e.sdS(16),p=e.sdS(24),_=e.sdS(25),C=e.sdS(35),F=e.sdS(36);e.R7$(2),e.SpI(" ",e.bMT(3,21,"Codigo")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.codigo),e.R7$(3),e.Y8G("control",n)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,23,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.habilidade.nome),e.R7$(3),e.Y8G("control",l)("controlEl",m),e.R7$(3),e.SpI(" ",e.bMT(21,25,"TipoConfirmacao")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.tipoConfirmacao),e.R7$(3),e.Y8G("ngForOf",o.tiposConfirmacao),e.R7$(),e.Y8G("control",p)("controlEl",_),e.R7$(4),e.SpI(" ",e.bMT(32,27,"Descricao")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.habilidade.desc),e.R7$(4),e.Y8G("control",C)("controlEl",F)}},dependencies:[h.Sq,r.xH,r.y7,r.me,r.wz,r.BC,r.YS,r.tU,r.vS,y.e,f.S],encapsulation:2})}return a})();function gs(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",20)(1,"div",21)(2,"div",22)(3,"a",23),e.bIt("click",function(){const o=e.eBV(i).index,n=e.XpG();return e.Njj(n.removeHabilidade(o))}),e.nrm(4,"i",24),e.k0s()(),e.nrm(5,"habilidade-form",25),e.k0s()()}if(2&a){const i=d.$implicit,t=d.index,o=e.XpG();e.R7$(2),e.Y8G("hidden",!o.isNovo||o.disabled),e.R7$(3),e.Y8G("habilidade",i)("tiposConfirmacao",o.tiposConfirmacao)("disabled",!o.isNovo||o.disabled)("ngModelGroup","habilidade"+t+"Form")}}let re=(()=>{class a extends v.q{constructor(i){super(i),this.disabled=!1,this.tiposConfirmacao=[]}get isNovo(){return this.dominio instanceof c.vv8}createHabilidade(){this.dominio instanceof c.vv8&&this.dominio.habilidades.push(new c.ftG)}removeHabilidade(i){this.dominio instanceof c.vv8&&this.dominio.habilidades.splice(i,1)}get habilidades(){if(this.dominio instanceof c.vv8)return this.dominio.habilidades;if(this.dominio instanceof c.PJZ){let i=this.dominio.id;return this.allHabilidades.filter(t=>t.dominioId==i)}}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["dominio-form"]],inputs:{disabled:"disabled",dominio:"dominio",allHabilidades:"allHabilidades",tiposConfirmacao:"tiposConfirmacao"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:39,vars:29,consts:[["codigoModel","ngModel","codigoEl",""],["nomeModel","ngModel","nomeEl",""],["descModel","ngModel","descEl",""],[1,"form-group","row","required","mx-0"],["for","codigo",1,"col-md-2","col-form-label","mx-0","px-0"],[1,"col","mx-0","px-0"],["type","text","name","codigo","id","codigo","required","","maxlength","20",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],["for","nome",1,"col-md-2","col-form-label","mx-0","px-0"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row","m-0"],[1,"form-group","col","mx-0","px-0"],["for","desc",1,"row-0","form-label","mx-0","px-0"],[1,"row","mx-0","px-0"],["type","text","name","desc","id","desc","maxlength","1000",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"pl-5","pr-0","mx-0"],["class","mx-0",4,"ngFor","ngForOf"],[1,"row","align-content-center","justify-content-center","mx-0",3,"hidden"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"mx-0"],[1,"mb-2","p-2","row",2,"border","1px solid lightgray"],[1,"col-0","align-content-start","justify-content-center","px-0","mx-0",3,"hidden"],["href","javascript:;",1,"btn","bg-danger",3,"click"],[1,"fa","fa-trash"],[1,"col",3,"habilidade","tiposConfirmacao","disabled","ngModelGroup"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div",3)(1,"label",4),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",5)(5,"input",6,0),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.dominio.codigo,l)||(o.dominio.codigo=l),e.Njj(l)}),e.k0s(),e.nrm(8,"abp-validation-summary",7),e.k0s()(),e.j41(9,"div",3)(10,"label",8),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",5)(14,"input",9,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.dominio.nome,l)||(o.dominio.nome=l),e.Njj(l)}),e.k0s(),e.nrm(17,"abp-validation-summary",7),e.k0s()(),e.j41(18,"div",10)(19,"div",11)(20,"label",12),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"div",13)(24,"textarea",14,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.dominio.desc,l)||(o.dominio.desc=l),e.Njj(l)}),e.EFF(27,"            "),e.k0s(),e.nrm(28,"abp-validation-summary",7),e.k0s()()(),e.j41(29,"label",13),e.EFF(30),e.nI1(31,"localize"),e.k0s(),e.j41(32,"div",15),e.DNE(33,gs,6,5,"div",16),e.j41(34,"div",17)(35,"a",18),e.bIt("click",function(){return e.eBV(n),e.Njj(o.createHabilidade())}),e.nrm(36,"i",19),e.EFF(37),e.nI1(38,"localize"),e.k0s()()()}if(2&t){const n=e.sdS(6),s=e.sdS(7),l=e.sdS(15),m=e.sdS(16),p=e.sdS(25),_=e.sdS(26);e.R7$(2),e.SpI(" ",e.bMT(3,19,"Codigo")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.dominio.codigo),e.R7$(3),e.Y8G("control",n)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,21,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.dominio.nome),e.R7$(3),e.Y8G("control",l)("controlEl",m),e.R7$(4),e.SpI(" ",e.bMT(22,23,"Descricao")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.dominio.desc),e.R7$(4),e.Y8G("control",p)("controlEl",_),e.R7$(2),e.SpI(" ",e.bMT(31,25,"Habilidades"),"\n"),e.R7$(3),e.Y8G("ngForOf",o.habilidades),e.R7$(),e.Y8G("hidden",!o.isNovo||o.disabled),e.R7$(3),e.SpI(" ",e.bMT(38,27,"CreateNewHabilidade")," ")}},dependencies:[h.Sq,r.me,r.BC,r.cb,r.YS,r.tU,r.vS,r.Y4,y.e,K,f.S],encapsulation:2})}return a})();function _s(a,d){1&a&&(e.j41(0,"label",13),e.EFF(1),e.nI1(2,"localize"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Dom\xednios"),"\n"))}function vs(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",31)(1,"a",32),e.bIt("click",function(){e.eBV(i);const o=e.XpG().index,n=e.XpG(2);return e.Njj(n.removeDominio(o))}),e.nrm(2,"i",33),e.k0s()()}}function Cs(a,d){if(1&a&&(e.j41(0,"div",27)(1,"div",28),e.DNE(2,vs,3,0,"div",29),e.nrm(3,"dominio-form",30),e.k0s()()),2&a){const i=d.$implicit,t=d.index,o=e.XpG(2);e.R7$(2),e.Y8G("ngIf",o.isNovo&&!o.disabled),e.R7$(),e.Y8G("disabled",!o.isNovo||o.disabled)("dominio",i)("allHabilidades",o.allHabilidades)("tiposConfirmacao",o.tiposConfirmacao)("ngModelGroup","dominio"+t+"Form")}}function Is(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",34)(1,"a",35),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.createDominio())}),e.nrm(2,"i",36),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"CreateNewDominio")," "))}function Fs(a,d){if(1&a&&(e.j41(0,"div",24),e.DNE(1,Cs,4,6,"div",25)(2,Is,5,3,"div",26),e.k0s()),2&a){const i=e.XpG();e.R7$(),e.Y8G("ngForOf",i.dominios),e.R7$(),e.Y8G("ngIf",i.isNovo&&!i.disabled)}}let de=(()=>{class a extends v.q{constructor(i){super(i),this.disabled=!1,this.tiposConfirmacao=[]}ngOnInit(){null!=this.nivel.mesIniFaixaEtaria&&(this._faixaIniAnos=Math.floor(this.nivel.mesIniFaixaEtaria/12),this._faixaIniMeses=this.nivel.mesIniFaixaEtaria%12),null!=this.nivel.mesFimFaixaEtaria&&(this._faixaFimAnos=Math.floor(this.nivel.mesFimFaixaEtaria/12),this._faixaFimMeses=this.nivel.mesFimFaixaEtaria%12)}get isNovo(){return this.nivel instanceof c.clr}createDominio(){this.nivel instanceof c.clr&&this.nivel.dominios.push(new c.vv8)}removeDominio(i){this.nivel instanceof c.clr&&this.nivel.dominios.splice(i,1)}get dominios(){if(this.nivel instanceof c.clr)return this.nivel.dominios;if(this.nivel instanceof c.I$v){let i=this.nivel.id;return this.allDominios?.filter(t=>t.nivelId==i)??[]}}_updateFaixaIni(){null!=this._faixaIniAnos||null!=this._faixaIniMeses?this.nivel.mesIniFaixaEtaria=12*(this._faixaIniAnos??0)+(this._faixaIniMeses??0):this.nivel.mesFimFaixaEtaria=void 0}_updateFaixaFim(){this.nivel.mesFimFaixaEtaria=null!=this._faixaFimAnos||null!=this._faixaFimMeses?12*(this._faixaFimAnos??0)+(this._faixaFimMeses??0):void 0}get faixaIniAnos(){return this._faixaIniAnos?.toString()??""}set faixaIniAnos(i){this._faixaIniAnos=""==(i??"")?void 0:Number(i),this._updateFaixaIni()}get faixaIniMeses(){return this._faixaIniMeses?.toString()??""}set faixaIniMeses(i){this._faixaIniMeses=""==(i??"")?void 0:Number(i),this._updateFaixaIni()}get faixaFimAnos(){return this._faixaFimAnos?.toString()??""}set faixaFimAnos(i){this._faixaFimAnos=""==(i??"")?void 0:Number(i),this._updateFaixaFim()}get faixaFimMeses(){return this._faixaFimMeses?.toString()??""}set faixaFimMeses(i){this._faixaFimMeses=""==(i??"")?void 0:Number(i),this._updateFaixaFim()}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["nivel-form"]],inputs:{disabled:"disabled",nivel:"nivel",allDominios:"allDominios",allHabilidades:"allHabilidades",tiposConfirmacao:"tiposConfirmacao"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:53,vars:27,consts:[["nomeModel","ngModel","nomeEl",""],["faixaIniAnosModel","ngModel","faixaIniAnosEl",""],["faixaIniMesesModel","ngModel","faixaIniMesesEl",""],["faixaFimAnosModel","ngModel","faixaFimAnosEl",""],["faixaFimMesesModel","ngModel","faixaFimMesesEl",""],["descModel","ngModel","descEl",""],[1,"form-group","row","required","mx-0"],["for","nome",1,"col-md-2","col-form-label","mx-0","px-0"],[1,"col","mx-0","px-0"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],[1,"row","m-0"],["for","faixa",1,"col-md-2","col-form-label","mx-0","px-0"],[1,"row","mx-0","px-0"],[1,"col-0","px-2","py-1"],["type","number","name","faixaIniAnos","id","faixaIniAnos","min","0",1,"form-control","col-md-2",3,"ngModelChange","disabled","ngModel"],["type","number","name","faixaIniMeses","id","faixaIniMeses","min","0",1,"form-control","col-md-2",3,"ngModelChange","disabled","ngModel"],["type","number","name","faixaFimAnos","id","faixaFimAnos","min","0",1,"form-control","col-md-2",3,"ngModelChange","disabled","ngModel"],["type","number","name","faixaFimMeses","id","faixaFimMeses","min","0",1,"form-control","col-md-2",3,"ngModelChange","disabled","ngModel"],[1,"form-group","col","mx-0","px-0"],["for","desc",1,"row-0","form-label","mx-0","px-0"],["type","text","name","desc","id","desc","maxlength","1000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["class","row mx-0 px-0",4,"ngIf"],["class","pl-5 pr-0 mx-0",4,"ngIf"],[1,"pl-5","pr-0","mx-0"],["class","mx-0",4,"ngFor","ngForOf"],["class","row align-content-center justify-content-center mx-0",4,"ngIf"],[1,"mx-0"],[1,"mb-2","p-2","row",2,"border","1px solid lightgray"],["class","col-0 align-content-start justify-content-center px-0 mx-0",4,"ngIf"],[1,"col",3,"disabled","dominio","allHabilidades","tiposConfirmacao","ngModelGroup"],[1,"col-0","align-content-start","justify-content-center","px-0","mx-0"],["href","javascript:;",1,"btn","bg-danger",3,"click"],[1,"fa","fa-trash"],[1,"row","align-content-center","justify-content-center","mx-0"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div",6)(1,"label",7),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",8)(5,"input",9,0),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.nivel.nome,l)||(o.nivel.nome=l),e.Njj(l)}),e.k0s(),e.nrm(8,"abp-validation-summary",10),e.k0s()(),e.j41(9,"div",11)(10,"label",12),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",8)(14,"div",13)(15,"div",14),e.EFF(16,"A partir de"),e.k0s(),e.j41(17,"input",15,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.faixaIniAnos,l)||(o.faixaIniAnos=l),e.Njj(l)}),e.k0s(),e.j41(20,"div",14),e.EFF(21,"anos e"),e.k0s(),e.j41(22,"input",16,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.faixaIniMeses,l)||(o.faixaIniMeses=l),e.Njj(l)}),e.k0s(),e.j41(25,"div",14),e.EFF(26,"meses."),e.k0s()(),e.j41(27,"div",13)(28,"div",14),e.EFF(29,"At\xe9"),e.k0s(),e.j41(30,"input",17,3),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.faixaFimAnos,l)||(o.faixaFimAnos=l),e.Njj(l)}),e.k0s(),e.j41(33,"div",14),e.EFF(34,"anos e"),e.k0s(),e.j41(35,"input",18,4),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.faixaFimMeses,l)||(o.faixaFimMeses=l),e.Njj(l)}),e.k0s(),e.j41(38,"div",14),e.EFF(39,"meses."),e.k0s()()()(),e.j41(40,"div",11)(41,"div",19)(42,"label",20),e.EFF(43),e.nI1(44,"localize"),e.k0s(),e.j41(45,"div",13)(46,"textarea",21,5),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.nivel.desc,l)||(o.nivel.desc=l),e.Njj(l)}),e.EFF(49,"            "),e.k0s(),e.nrm(50,"abp-validation-summary",10),e.k0s()()(),e.DNE(51,_s,3,3,"label",22)(52,Fs,3,2,"div",23)}if(2&t){const n=e.sdS(6),s=e.sdS(7),l=e.sdS(47),m=e.sdS(48);e.R7$(2),e.SpI(" ",e.bMT(3,21,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.nivel.nome),e.R7$(3),e.Y8G("control",n)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,23,"FaixaEtaria")," "),e.R7$(6),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.faixaIniAnos),e.R7$(5),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.faixaIniMeses),e.R7$(8),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.faixaFimAnos),e.R7$(5),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.faixaFimMeses),e.R7$(8),e.SpI(" ",e.bMT(44,25,"Descricao")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.nivel.desc),e.R7$(4),e.Y8G("control",l)("controlEl",m),e.R7$(),e.Y8G("ngIf",o.isNovo),e.R7$(),e.Y8G("ngIf",o.isNovo)}},dependencies:[h.Sq,h.bT,r.me,r.Q0,r.BC,r.cb,r.YS,r.tU,r.VZ,r.vS,r.Y4,y.e,re,f.S],encapsulation:2})}return a})(),ks=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._protocoloAvaliacaoService=t,this.bsModalRef=o,this.tiposConfirmacao=[],this.onSave=new e.bkB,this.nivel=new c.clr}ngOnInit(){}add(){this.saving=!0,this.nivel.protocoloAvaliacaoId=this.protocoloAvaliacao.id,this._protocoloAvaliacaoService.createNivel(this.nivel).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.saving=!1,this.onSave.emit()})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.WDn),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["addNivelModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","nivelForm",3,"nivel","tiposConfirmacao"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.add())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"nivel-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"AddNewNivel")),e.R7$(3),e.Y8G("nivel",o.nivel)("tiposConfirmacao",o.tiposConfirmacao),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.cb,r.Y4,r.cV,j.x,R.z,de,f.S],encapsulation:2})}return a})(),uo=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._protocoloAvaliacaoService=t,this.bsModalRef=o,this.saving=!1,this.onSubmit=new e.bkB}submit(){this.saving=!0;var i=new c.j60(this.protocoloAvaliacao);if((this.pontuacao.id??0)<=0)i.sistemaPontuacao.push(this.pontuacao);else{var t=i.sistemaPontuacao.findIndex(o=>o.id==this.pontuacao.id);-1==t?i.sistemaPontuacao.push(this.pontuacao):i.sistemaPontuacao[t]=this.pontuacao}this._protocoloAvaliacaoService.update(i).subscribe(o=>{this.onSubmit.emit(o),this.saving=!1,this.bsModalRef.hide()})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.WDn),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:24,vars:19,consts:[["createOrEditPontuacaoDialog","ngForm"],["codigoModel","ngModel","codigoEl",""],["nomeModel","ngModel","nomeEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","codigo",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","codigo","id","codigo","required","","maxlength","10",1,"form-control",3,"ngModelChange","ngModel","disabled"],[3,"control","controlEl"],["for","nome",1,"col-md-3","col-form-label"],["type","text","name","nome","id","nome","required","","maxlength","100",1,"form-control",3,"ngModelChange","ngModel","disabled"],[3,"onCancelClick","saveDisabled","cancelDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.submit())}),e.j41(2,"abp-modal-header",4),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",5)(5,"div",6)(6,"label",7),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",8)(10,"input",9,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.pontuacao.codigo,l)||(o.pontuacao.codigo=l),e.Njj(l)}),e.k0s(),e.nrm(13,"abp-validation-summary",10),e.k0s()(),e.j41(14,"div",6)(15,"label",11),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.j41(18,"div",8)(19,"input",12,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.pontuacao.nome,l)||(o.pontuacao.nome=l),e.Njj(l)}),e.k0s(),e.nrm(22,"abp-validation-summary",10),e.k0s()()(),e.j41(23,"abp-modal-footer",13),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){let n;const s=e.sdS(1),l=e.sdS(11),m=e.sdS(12),p=e.sdS(20),_=e.sdS(21);e.R7$(2),e.Y8G("title",e.bMT(3,13,(null!==(n=o.pontuacao.id)&&void 0!==n?n:0)>0?"Editar Pontua\xe7\xe3o":"Nova Pontua\xe7\xe3o")),e.R7$(5),e.SpI(" ",e.bMT(8,15,"C\xf3digo")," "),e.R7$(3),e.R50("ngModel",o.pontuacao.codigo),e.Y8G("disabled",o.saving),e.R7$(3),e.Y8G("control",l)("controlEl",m),e.R7$(3),e.SpI(" ",e.bMT(17,17,"Nome")," "),e.R7$(3),e.R50("ngModel",o.pontuacao.nome),e.Y8G("disabled",o.saving),e.R7$(3),e.Y8G("control",p)("controlEl",_),e.R7$(),e.Y8G("saveDisabled",o.saving||!s.form.valid)("cancelDisabled",o.saving)}},dependencies:[r.qT,r.me,r.BC,r.cb,r.YS,r.tU,r.vS,r.cV,y.e,j.x,R.z,f.S],encapsulation:2})}return a})();const js=()=>[];function Rs(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",11)(1,"a",12),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.novaPontuacao())}),e.nrm(2,"i",13),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"Nova Pontua\xe7\xe3o")," "))}function Ss(a,d){if(1&a){const i=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,n=e.XpG();return e.Njj(n.moverPraCima(o))}),e.nrm(1,"i",20),e.k0s()}}function Ms(a,d){if(1&a){const i=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,n=e.XpG();return e.Njj(n.moverPraBaixo(o))}),e.nrm(1,"i",21),e.k0s()}}function Es(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"button",14),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.editPontuacao(o))}),e.nrm(9,"i",15),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"button",16),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.deletePontuacao(o))}),e.nrm(13,"i",17),e.EFF(14),e.nI1(15,"localize"),e.k0s()(),e.j41(16,"td"),e.DNE(17,Ss,2,0,"button",18)(18,Ms,2,0,"button",18),e.k0s()()}if(2&a){const i=d.$implicit,t=d.index,o=e.XpG();e.R7$(2),e.JRh(t+1),e.R7$(2),e.JRh(i.codigo),e.R7$(2),e.JRh(i.nome),e.R7$(4),e.SpI(" ",e.bMT(11,7,"Edit")," "),e.R7$(4),e.SpI(" ",e.bMT(15,9,"Delete")," "),e.R7$(3),e.Y8G("ngIf",t>0),e.R7$(),e.Y8G("ngIf",t<o.pontuacoes.length-1)}}let Ts=(()=>{class a extends v.q{set protocoloAvaliacao(i){this._protocoloAvaliacao=i,this.protocoloAvaliacaoChanged.emit(i)}get protocoloAvaliacao(){return this._protocoloAvaliacao}get pontuacoes(){return this.protocoloAvaliacao?.sistemaPontuacao}constructor(i,t,o,n,s,l,m,p,_,C,F,I,P){super(i),this._avaliacaoHabilidadeService=t,this._habilidadeService=o,this._protocoloAvaliacaoService=n,this._aplicacaoProtocoloAvaliacaoService=s,this._funcaoService=l,this._colaboradorService=m,this._staffService=p,this._staffCasoService=_,this._bsModalService=C,this._router=F,this._route=I,this._changeDetector=P,this.saving=!1,this.protocoloAvaliacaoChanged=new e.bkB}podeEditarSistemaPontuacao(){return this.permission.isGranted("Business.Technical.Edit")}novaPontuacao(){let i;i=this._bsModalService.show(uo,{class:"modal-lg",initialState:{protocoloAvaliacao:this.protocoloAvaliacao,pontuacao:new c.Z_2}}),i.content.onSubmit.subscribe(t=>{this.protocoloAvaliacao=t})}editPontuacao(i){let t;t=this._bsModalService.show(uo,{class:"modal-lg",initialState:{protocoloAvaliacao:this.protocoloAvaliacao,pontuacao:new c.Z_2(i)}}),t.content.onSubmit.subscribe(o=>{this.protocoloAvaliacao=o})}moverPraCima(i){this.saving=!0;var t=new c.j60(this.protocoloAvaliacao),o=t.sistemaPontuacao.findIndex(n=>n==i);t.sistemaPontuacao[o]=t.sistemaPontuacao[o-1],t.sistemaPontuacao[o-1]=i,this._protocoloAvaliacaoService.update(t).subscribe(n=>{this.protocoloAvaliacao=n,this.saving=!1})}moverPraBaixo(i){this.saving=!0;var t=new c.j60(this.protocoloAvaliacao),o=t.sistemaPontuacao.findIndex(n=>n==i);t.sistemaPontuacao[o]=t.sistemaPontuacao[o+1],t.sistemaPontuacao[o+1]=i,this._protocoloAvaliacaoService.update(t).subscribe(n=>{this.protocoloAvaliacao=n,this.saving=!1})}deletePontuacao(i){abp.message.confirm('Remover "'+i.nome+'" do sistema de pontua\xe7\xe3o do protocolo '+this.protocoloAvaliacao.nome+"?",void 0,t=>{if(t){this.saving=!0;let o=new c.j60(this.protocoloAvaliacao);o.sistemaPontuacao=o.sistemaPontuacao.filter(n=>n.id!=i.id),this._protocoloAvaliacaoService.update(o).subscribe(n=>{this.protocoloAvaliacao=n,this.saving=!1})}})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.i$O),e.rXU(c.XPk),e.rXU(c.WDn),e.rXU(c.hP4),e.rXU(c.AMc),e.rXU(c.i9W),e.rXU(c.eAk),e.rXU(c.Uos),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX),e.rXU(e.gRc))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["sistema-pontuacao-details"]],inputs:{protocoloAvaliacao:"protocoloAvaliacao"},outputs:{protocoloAvaliacaoChanged:"protocoloAvaliacaoChanged"},features:[e.Vt3],decls:21,vars:14,consts:[["class","row m-0 mb-1 justify-content-end text-center",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","5%"],[2,"width","10%"],[2,"width","20%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col","col-12","text-center"],[1,"mb-0","my-2"],[1,"row","m-0","mb-1","justify-content-end","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],["type","button",1,"btn","btn-sm","bg-primary",3,"click"],[1,"fas","fa-pencil-alt"],["type","button",1,"btn","btn-sm","bg-danger",3,"click"],[1,"fas","fa-x"],["type","button","class","btn btn-sm bg-secondary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-arrow-up"],[1,"fas","fa-arrow-down"]],template:function(t,o){if(1&t&&(e.DNE(0,Rs,5,3,"div",0),e.j41(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr"),e.nrm(5,"th",4),e.j41(6,"th",5),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.nrm(12,"th",6)(13,"th",5),e.k0s()(),e.j41(14,"tbody"),e.DNE(15,Es,19,11,"tr",7),e.k0s()()(),e.j41(16,"div",8)(17,"div",9)(18,"p",10),e.EFF(19),e.nI1(20,"localize"),e.k0s()()()),2&t){let n,s;e.Y8G("ngIf",o.podeEditarSistemaPontuacao()),e.R7$(2),e.Y8G("busy",null==o.protocoloAvaliacao||o.saving),e.R7$(5),e.JRh(e.bMT(8,6,"C\xf3digo")),e.R7$(3),e.JRh(e.bMT(11,8,"Nome")),e.R7$(5),e.Y8G("ngForOf",null!==(n=o.pontuacoes)&&void 0!==n?n:e.lJ4(13,js)),e.R7$(4),e.SpI(" ",e.i5U(20,10,"TotalRecordsCount",null!==(s=null==o.pontuacoes?null:o.pontuacoes.length)&&void 0!==s?s:0)," ")}},dependencies:[h.Sq,h.bT,E,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})(),Ds=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._protocoloAvaliacaoService=t,this.bsModalRef=o,this.tiposConfirmacao=[],this.onSave=new e.bkB}ngOnInit(){}add(){this.saving=!0;let i=new c.t2T(this.nivel);this._protocoloAvaliacaoService.updateNivel(i).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.saving=!1,this.onSave.emit()})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.WDn),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["updateNivelModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","nivelForm",3,"tiposConfirmacao","nivel"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.add())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"nivel-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"UpdateNivel")),e.R7$(3),e.Y8G("tiposConfirmacao",o.tiposConfirmacao)("nivel",o.nivel),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.cb,r.Y4,r.cV,j.x,R.z,de,f.S],encapsulation:2})}return a})(),As=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._protocoloAvaliacaoService=t,this.bsModalRef=o,this.tiposConfirmacao=[],this.onSave=new e.bkB,this.dominio=new c.vv8}ngOnInit(){}add(){this.saving=!0,this.dominio.nivelId=this.nivel.id,this._protocoloAvaliacaoService.createDominio(this.dominio).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.saving=!1,this.onSave.emit()})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.WDn),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["addDominioModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","dominioForm",3,"dominio","tiposConfirmacao"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.add())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"dominio-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"AddNewDominio")),e.R7$(3),e.Y8G("dominio",o.dominio)("tiposConfirmacao",o.tiposConfirmacao),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.cb,r.Y4,r.cV,j.x,R.z,re,f.S],encapsulation:2})}return a})(),ys=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._protocoloAvaliacaoService=t,this.bsModalRef=o,this.tiposConfirmacao=[],this.onSave=new e.bkB}ngOnInit(){}add(){this.saving=!0;let i=new c.Wmy(this.dominio);this._protocoloAvaliacaoService.updateDominio(i).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.saving=!1,this.onSave.emit()})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.WDn),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["updateDominioModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","dominioForm",3,"tiposConfirmacao","dominio"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.add())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"dominio-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"UpdateDominio")),e.R7$(3),e.Y8G("tiposConfirmacao",o.tiposConfirmacao)("dominio",o.dominio),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.cb,r.Y4,r.cV,j.x,R.z,re,f.S],encapsulation:2})}return a})(),Gs=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._habilidadeService=t,this.bsModalRef=o,this.tiposConfirmacao=[],this.onSave=new e.bkB}ngOnInit(){this.habilidade=new c.ftG,this.habilidade.isPersonalizada=!1}get codificada(){return!this.habilidade.isPersonalizada}set codificada(i){this.habilidade.isPersonalizada=!i}add(){this.saving=!0,this.habilidade.dominioId=this.dominio.id,this._habilidadeService.create(this.habilidade).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.saving=!1,this.onSave.emit()})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.XPk),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["addHabilidadeModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","habilidadeForm",3,"habilidade","tiposConfirmacao"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.add())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"habilidade-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"AddNewHabilidade")),e.R7$(3),e.Y8G("habilidade",o.habilidade)("tiposConfirmacao",o.tiposConfirmacao),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.cb,r.Y4,r.cV,j.x,R.z,K,f.S],encapsulation:2})}return a})(),Ps=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._habilidadeService=t,this.bsModalRef=o,this.tiposConfirmacao=[],this.onSave=new e.bkB}ngOnInit(){}add(){this.saving=!0;let i=new c.WJz(this.habilidade);this._habilidadeService.update(i).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.saving=!1,this.onSave.emit()})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.XPk),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["updateHabilidadeModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","habilidadeForm",3,"tiposConfirmacao","habilidade"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.add())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"habilidade-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"UpdateHabilidade")),e.R7$(3),e.Y8G("tiposConfirmacao",o.tiposConfirmacao)("habilidade",o.habilidade),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.cb,r.Y4,r.cV,j.x,R.z,K,f.S],encapsulation:2})}return a})();function $s(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",3)(1,"button",8),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.deleteHabilidade())}),e.nrm(2,"i",9),e.k0s()()}}function ws(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",3)(1,"button",4),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.updateHabilidade())}),e.nrm(2,"i",10),e.k0s()()}}let Ns=(()=>{class a extends v.q{get isCodificada(){return this.habilidade instanceof c.Bgf}get codigo(){return this.habilidade instanceof c.Bgf?this.habilidade.codigo:""}set codigo(i){this.habilidade instanceof c.Bgf&&(this.habilidade.codigo=i)}constructor(i,t,o,n,s,l){super(i),this._protocoloAvaliacaoService=t,this._habilidadeService=o,this._modalService=n,this._router=s,this._route=l,this.deetsHidden=!0,this.onDelete=new e.bkB,this.onUpdate=new e.bkB}ngOnInit(){}updateHabilidade(){let i;i=this._modalService.show(Ps,{class:"modal-lg",initialState:{protocoloAvaliacao:this.protocoloAvaliacao,dominio:this.dominio,habilidade:this.habilidade,tiposConfirmacao:this.tiposConfirmacao}}),i.content.onSave.subscribe(()=>{this.onUpdate.emit()})}deleteHabilidade(){abp.message.confirm("A seguinte habilidade ser\xe1 exclu\xedda do banco: "+this.habilidade.nome,void 0,i=>{i&&this._habilidadeService.delete(this.habilidade.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.onDelete.emit()})})}getNomeConfirmacao(){return this.tiposConfirmacao?.find(i=>i.id==this.habilidade.confirmacaoExplicitaRequeridaId)?.nome}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.WDn),e.rXU(c.XPk),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["habilidade-details"]],inputs:{protocoloAvaliacao:"protocoloAvaliacao",dominio:"dominio",habilidade:"habilidade",tiposConfirmacao:"tiposConfirmacao"},outputs:{onDelete:"onDelete",onUpdate:"onUpdate"},features:[e.Vt3],decls:15,vars:9,consts:[[1,"row","m-0","p-0"],[1,"col","p-1","m-0","align-self-end","justify-self-end"],["class","col-0 p-1 align-self-end justify-self-end",4,"ngIf"],[1,"col-0","p-1","align-self-end","justify-self-end"],["type","button",1,"btn-sm","bg-secondary",3,"click"],[1,"fa","fa-angle-right",3,"hidden"],[1,"fa","fa-angle-down",3,"hidden"],[1,"m-0","p-0","pl-4",2,"font-size","10pt",3,"hidden"],["type","button",1,"btn-sm","bg-danger",3,"click"],[1,"fa","fa-trash"],[1,"fa","fa-pencil-alt"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"label",0),e.EFF(3),e.k0s()(),e.DNE(4,$s,3,0,"div",2)(5,ws,3,0,"div",2),e.j41(6,"div",3)(7,"button",4),e.bIt("click",function(){return o.deetsHidden=!o.deetsHidden}),e.nrm(8,"i",5)(9,"i",6),e.k0s()()(),e.j41(10,"div",7)(11,"span"),e.EFF(12),e.k0s(),e.j41(13,"p"),e.EFF(14),e.k0s()()),2&t&&(e.R7$(3),e.Lme("",""!=o.codigo?o.codigo+" -":""," ",o.habilidade.nome,""),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(3),e.Y8G("hidden",!o.deetsHidden),e.R7$(),e.Y8G("hidden",o.deetsHidden),e.R7$(),e.Y8G("hidden",o.deetsHidden),e.R7$(2),e.SpI("Tipo de confirma\xe7\xe3o: ",o.getNomeConfirmacao(),""),e.R7$(2),e.JRh(o.habilidade.desc))},dependencies:[h.bT],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();function Vs(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",3)(1,"button",13),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.deleteDominio())}),e.nrm(2,"i",14),e.k0s()()}}function Bs(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",3)(1,"button",4),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.updateDominio())}),e.nrm(2,"i",15),e.k0s()()}}function zs(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",16)(1,"a",17),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.addHabilidade(!0))}),e.nrm(2,"i",18),e.k0s()()}}function Ys(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",19)(1,"div",20)(2,"habilidade-details",21),e.bIt("onUpdate",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.onUpdate.emit())})("onDelete",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.onUpdate.emit())}),e.k0s()()()}if(2&a){const i=d.$implicit,t=e.XpG();e.R7$(2),e.Y8G("tiposConfirmacao",t.tiposConfirmacao)("protocoloAvaliacao",t.protocoloAvaliacao)("dominio",t.dominio)("habilidade",i)}}function Us(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",16)(1,"a",17),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.addHabilidade(!1))}),e.nrm(2,"i",18),e.k0s()()}}function Xs(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",19)(1,"div",20)(2,"habilidade-details",22),e.bIt("onUpdate",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.onUpdate.emit())})("onDelete",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.onUpdate.emit())}),e.k0s()()()}if(2&a){const i=d.$implicit,t=e.XpG();e.R7$(2),e.Y8G("protocoloAvaliacao",t.protocoloAvaliacao)("dominio",t.dominio)("habilidade",i)}}let Hs=(()=>{class a extends v.q{constructor(i,t,o,n,s,l){super(i),this._protocoloAvaliacaoService=t,this._habilidadeService=o,this._modalService=n,this._router=s,this._route=l,this.deetsHidden=!0,this.onDelete=new e.bkB,this.onUpdate=new e.bkB}_splitHabilidades(){this.habilidadesCodificadas=this.habilidades.filter(i=>!i.isPersonalizada),this.habilidadesPersonalizadas=this.habilidades.filter(i=>i.isPersonalizada)}ngOnInit(){null!=this.habilidades?(this.habilidades=this.habilidades.filter(t=>t.dominioId==this.dominio.id),this._splitHabilidades()):this._habilidadeService.getAll(void 0,void 0,void 0,void 0,void 0,void 0,[this.dominio.id],0,50).subscribe(t=>{this.habilidades=t.items,this._splitHabilidades(),t.totalCount>t.items.length&&this._habilidadeService.getAll(void 0,void 0,void 0,void 0,void 0,void 0,[this.dominio.id],50,t.totalCount-t.items.length).subscribe(o=>{this.habilidades.push(...o.items),this._splitHabilidades()})})}updateDominio(){let i;i=this._modalService.show(ys,{class:"modal-lg",initialState:{nivel:this.nivel,dominio:this.dominio,tiposConfirmacao:this.tiposConfirmacao}}),i.content.onSave.subscribe(()=>{this.onUpdate.emit()})}deleteDominio(){abp.message.confirm("O seguinte dominio ser\xe1 exclu\xeddo do banco: "+this.dominio.nome,void 0,i=>{i&&this._protocoloAvaliacaoService.deleteDominio(this.dominio.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.onDelete.emit()})})}addHabilidade(i){let t;t=this._modalService.show(Gs,{class:"modal-lg",initialState:{protocoloAvaliacao:this.protocoloAvaliacao,dominio:this.dominio,codificada:i,tiposConfirmacao:this.tiposConfirmacao}}),t.content.onSave.subscribe(()=>{this.onUpdate.emit()})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.WDn),e.rXU(c.XPk),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["dominio-details"]],inputs:{protocoloAvaliacao:"protocoloAvaliacao",nivel:"nivel",dominio:"dominio",habilidades:"habilidades",tiposConfirmacao:"tiposConfirmacao"},outputs:{onDelete:"onDelete",onUpdate:"onUpdate"},features:[e.Vt3],decls:22,vars:11,consts:[[1,"row","m-0","p-0"],[1,"col","p-1","m-0","align-self-end","justify-self-end"],["class","col-0 p-1 align-self-end justify-self-end",4,"ngIf"],[1,"col-0","p-1","align-self-end","justify-self-end"],["type","button",1,"btn-sm","bg-secondary",3,"click"],[1,"fa","fa-angle-right",3,"hidden"],[1,"fa","fa-angle-down",3,"hidden"],[1,"m-0","p-0","pl-4",3,"hidden"],[1,"row","p-0","m-0",2,"font-size","10pt"],[1,"row","mx-0","my-1","p-0"],[1,"col","p-0","m-0","align-self-center","justify-self-center"],["class","col-0 p-0 m-0 align-self-end justify-self-end",4,"ngIf"],["class","pl-2",4,"ngFor","ngForOf"],["type","button",1,"btn-sm","bg-danger",3,"click"],[1,"fa","fa-trash"],[1,"fa","fa-pencil-alt"],[1,"col-0","p-0","m-0","align-self-end","justify-self-end"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"pl-2"],[1,"mb-2","p-2",2,"border","1px solid lightgray"],[3,"onUpdate","onDelete","tiposConfirmacao","protocoloAvaliacao","dominio","habilidade"],[3,"onUpdate","onDelete","protocoloAvaliacao","dominio","habilidade"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"label",1),e.EFF(2),e.k0s(),e.DNE(3,Vs,3,0,"div",2)(4,Bs,3,0,"div",2),e.j41(5,"div",3)(6,"button",4),e.bIt("click",function(){return o.deetsHidden=!o.deetsHidden}),e.nrm(7,"i",5)(8,"i",6),e.k0s()()(),e.j41(9,"div",7)(10,"span",8),e.EFF(11),e.k0s(),e.j41(12,"div",9)(13,"label",10),e.EFF(14,"Habilidades"),e.k0s(),e.DNE(15,zs,3,0,"div",11),e.k0s(),e.DNE(16,Ys,3,4,"div",12),e.j41(17,"div",9)(18,"label",10),e.EFF(19,"Habilidades Personalizadas"),e.k0s(),e.DNE(20,Us,3,0,"div",11),e.k0s(),e.DNE(21,Xs,3,3,"div",12),e.k0s()),2&t&&(e.R7$(2),e.SpI(" ",o.dominio.nome," "),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(3),e.Y8G("hidden",!o.deetsHidden),e.R7$(),e.Y8G("hidden",o.deetsHidden),e.R7$(),e.Y8G("hidden",o.deetsHidden),e.R7$(2),e.JRh(o.dominio.desc),e.R7$(4),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(),e.Y8G("ngForOf",o.habilidadesCodificadas),e.R7$(4),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(),e.Y8G("ngForOf",o.habilidadesPersonalizadas))},dependencies:[h.Sq,h.bT,Ns],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();function xs(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",3)(1,"button",13),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.deleteNivel())}),e.nrm(2,"i",14),e.k0s()()}}function qs(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",3)(1,"button",4),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.updateNivel())}),e.nrm(2,"i",15),e.k0s()()}}function Os(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",16)(1,"a",17),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.addDominio())}),e.nrm(2,"i",18),e.k0s()()}}function Js(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",19)(1,"div",20)(2,"dominio-details",21),e.bIt("onUpdate",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.onUpdate.emit())})("onDelete",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.onUpdate.emit())}),e.k0s()()()}if(2&a){const i=d.$implicit,t=e.XpG();e.R7$(2),e.Y8G("tiposConfirmacao",t.tiposConfirmacao)("protocoloAvaliacao",t.protocoloAvaliacao)("nivel",t.nivel)("dominio",i)}}let Ls=(()=>{class a extends v.q{get dominios(){return this._dominios}set dominios(i){this._dominios=i?.filter(t=>t.nivelId==this.nivel?.id)??[]}get habilidades(){return this._habilidades}set habilidades(i){this._habilidades=i?.filter(t=>this.dominios?.some(o=>o.id==t.dominioId)??!1)??[]}constructor(i,t,o,n,s,l){super(i),this._protocoloAvaliacaoService=t,this._habilidadeService=o,this._modalService=n,this._router=s,this._route=l,this.deetsHidden=!0,this.onDelete=new e.bkB,this.onUpdate=new e.bkB}ngOnInit(){null==this.dominios&&this._protocoloAvaliacaoService.getAllDominios(void 0,void 0,[this.nivel.id],void 0,void 0,0,25).subscribe(t=>{this._dominios=t.items,t.totalCount>t.items.length&&this._protocoloAvaliacaoService.getAllDominios(void 0,void 0,[this.nivel.id],void 0,void 0,25,t.totalCount-t.items.length).subscribe(o=>{this._dominios.push(...o.items)})}),null==this.habilidades&&this._habilidadeService.getAll(void 0,void 0,void 0,void 0,void 0,[this.nivel.id],void 0,0,25).subscribe(t=>{this._habilidades=t.items,t.totalCount>t.items.length&&this._habilidadeService.getAll(void 0,void 0,void 0,void 0,void 0,[this.nivel.id],void 0,25,t.totalCount-t.items.length).subscribe(o=>{this._habilidades.push(...o.items)})})}updateNivel(){let i;i=this._modalService.show(Ds,{class:"modal-lg",initialState:{protocoloAvaliacao:this.protocoloAvaliacao,nivel:this.nivel,tiposConfirmacao:this.tiposConfirmacao}}),i.content.onSave.subscribe(()=>{this.onUpdate.emit()})}deleteNivel(){abp.message.confirm("O seguinte nivel ser\xe1 exclu\xeddo do banco: "+this.nivel.nome,void 0,i=>{i&&this._protocoloAvaliacaoService.deleteNivel(this.nivel.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.onDelete.emit()})})}addDominio(){let i;i=this._modalService.show(As,{class:"modal-lg",initialState:{nivel:this.nivel,tiposConfirmacao:this.tiposConfirmacao}}),i.content.onSave.subscribe(()=>{this.onUpdate.emit()})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.WDn),e.rXU(c.XPk),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["nivel-details"]],inputs:{protocoloAvaliacao:"protocoloAvaliacao",nivel:"nivel",dominios:"dominios",habilidades:"habilidades",tiposConfirmacao:"tiposConfirmacao"},outputs:{onDelete:"onDelete",onUpdate:"onUpdate"},features:[e.Vt3],decls:18,vars:12,consts:[[1,"row","m-0","p-0"],[1,"col","p-1","m-0","align-self-end","justify-self-end"],["class","col-0 p-1 align-self-end justify-self-end",4,"ngIf"],[1,"col-0","p-1","align-self-end","justify-self-end"],["type","button",1,"btn-sm","bg-secondary",3,"click"],[1,"fa","fa-angle-right",3,"hidden"],[1,"fa","fa-angle-down",3,"hidden"],[1,"m-0","p-0","pl-4",3,"hidden"],[1,"row","p-0","m-0",2,"font-size","10pt"],[1,"row","mx-0","my-1","p-0"],[1,"col","p-0","m-0","align-self-center","justify-self-center"],["class","col-0 p-0 m-0 align-self-end justify-self-end",4,"ngIf"],["class","pl-2",4,"ngFor","ngForOf"],["type","button",1,"btn-sm","bg-danger",3,"click"],[1,"fa","fa-trash"],[1,"fa","fa-pencil-alt"],[1,"col-0","p-0","m-0","align-self-end","justify-self-end"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"pl-2"],[1,"mb-2","p-2",2,"border","1px solid lightgray"],[3,"onUpdate","onDelete","tiposConfirmacao","protocoloAvaliacao","nivel","dominio"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"label",1),e.EFF(2),e.k0s(),e.DNE(3,xs,3,0,"div",2)(4,qs,3,0,"div",2),e.j41(5,"div",3)(6,"button",4),e.bIt("click",function(){return o.deetsHidden=!o.deetsHidden}),e.nrm(7,"i",5)(8,"i",6),e.k0s()()(),e.j41(9,"div",7)(10,"span",8),e.EFF(11),e.k0s(),e.j41(12,"div",9)(13,"label",10),e.EFF(14),e.nI1(15,"localize"),e.k0s(),e.DNE(16,Os,3,0,"div",11),e.k0s(),e.DNE(17,Js,3,4,"div",12),e.k0s()),2&t&&(e.R7$(2),e.SpI(" ",o.nivel.nome," "),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(3),e.Y8G("hidden",!o.deetsHidden),e.R7$(),e.Y8G("hidden",o.deetsHidden),e.R7$(),e.Y8G("hidden",o.deetsHidden),e.R7$(2),e.JRh(o.nivel.desc),e.R7$(3),e.JRh(e.bMT(15,10,"Dominios")),e.R7$(2),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(),e.Y8G("ngForOf",o.dominios))},dependencies:[h.Sq,h.bT,Hs,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();function Zs(a,d){if(1&a){const i=e.RV6();e.qex(0),e.j41(1,"div",1)(2,"label",2),e.EFF(3),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.detailsAluno(o.caso.aluno))}),e.nrm(6,"i",5),e.k0s()()(),e.bVm()}if(2&a){const i=d.$implicit;e.R7$(3),e.SpI(" ",i.caso.aluno.nome," ")}}let Ws=(()=>{class a extends v.q{constructor(i,t,o,n,s,l,m,p){super(i),this._protocoloAvaliacaoService=t,this._aplicacaoProtocoloAvaliacaoService=o,this._casoService=n,this._alunoService=s,this._modalService=l,this._router=m,this._route=p}ngOnInit(){this.refresh()}refresh(){this.aplicacoes=[],null!=this.protocoloAvaliacao&&this._aplicacaoProtocoloAvaliacaoService.getAll(void 0,this.protocoloAvaliacao.id,void 0,0,10).subscribe(t=>{this.aplicacoes=t.items,t.totalCount>t.items.length&&this._aplicacaoProtocoloAvaliacaoService.getAll(void 0,this.protocoloAvaliacao.id,void 0,10,t.totalCount-t.items.length).subscribe(o=>this.aplicacoes.push(...o.items))})}detailsAluno(i){this._router.navigate(["app","alunos","details",i.id],{relativeTo:this._route})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.WDn),e.rXU(c.hP4),e.rXU(c.iD6),e.rXU(c.pg4),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["casos-protocolo-avaliacao"]],inputs:{protocoloAvaliacao:"protocoloAvaliacao"},features:[e.Vt3],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"row"],[1,"col-0"],[1,"col-2"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-link"]],template:function(t,o){1&t&&e.DNE(0,Zs,7,1,"ng-container",0),2&t&&e.Y8G("ngForOf",o.aplicacoes)},dependencies:[h.Sq],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const Qs=()=>[];function Ks(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",22)(1,"button",23),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.toRefBibDetails())}),e.nrm(2,"i",24),e.k0s()()}if(2&a){const i=e.XpG();e.R7$(),e.Y8G("disabled",null==(null==i.protocoloAvaliacao?null:i.protocoloAvaliacao.refBibliograficaId))}}function el(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",25)(1,"nivel-details",26),e.bIt("onUpdate",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.ngOnInit())})("onDelete",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.ngOnInit())}),e.k0s()()}if(2&a){const i=d.$implicit,t=e.XpG();e.R7$(),e.Y8G("tiposConfirmacao",t.tiposConfirmacao)("protocoloAvaliacao",t.protocoloAvaliacao)("nivel",i)("dominios",t.dominios)("habilidades",t.habilidades)}}function ol(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",27)(1,"a",28),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.addNivel())}),e.nrm(2,"i",29),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"AddNewNivel")," "))}function il(a,d){if(1&a&&(e.j41(0,"tab",12),e.nI1(1,"localize"),e.nrm(2,"casos-protocolo-avaliacao",30),e.k0s()),2&a){const i=e.XpG();e.Y8G("heading",e.bMT(1,2,"Casos")),e.R7$(2),e.Y8G("protocoloAvaliacao",i.protocoloAvaliacao)}}let tl=(()=>{class a extends v.q{constructor(i,t,o,n,s,l,m,p,_){super(i),this._protocoloAvaliacaoService=t,this._habilidadeService=o,this._refBibliograficaService=n,this._alunoService=s,this._changeDetector=l,this._modalService=m,this._router=p,this._route=_,this.tiposConfirmacao=[],this._habilidadeService.getAllTiposConfirmacaoHabilidade().subscribe(C=>{this.tiposConfirmacao=C.sort((F,I)=>{let P=(F?.nome??"").toLowerCase().startsWith("obs");return P==(I?.nome??"").toLowerCase().startsWith("obs")?0:P?-1:1})})}ngOnInit(){const t=Number(this._route.snapshot.paramMap.get("protocoloAvaliacaoId"));this._protocoloAvaliacaoService.get(t).subscribe(o=>{this.protocoloAvaliacao=o,null!=o?.refBibliograficaId&&this._refBibliograficaService.get(o.refBibliograficaId).subscribe(n=>{this.refBibliografica=n})}),this._protocoloAvaliacaoService.getAllNiveis(void 0,void 0,[t],void 0,void 0,void 0).subscribe(o=>{this.niveis=o.items}),this._protocoloAvaliacaoService.getAllDominios(void 0,void 0,[t],void 0,void 0,0,1e3).subscribe(o=>{this.dominios=o.items}),this._habilidadeService.getAll(void 0,void 0,void 0,void 0,[t],void 0,void 0,0,1e4).subscribe(o=>{this.habilidades=o.items})}addNivel(){let i;i=this._modalService.show(ks,{class:"modal-lg",initialState:{protocoloAvaliacao:this.protocoloAvaliacao,tiposConfirmacao:this.tiposConfirmacao}}),i.content.onSave.subscribe(()=>{this.ngOnInit()})}goBack(){this._router.navigate(["app","protocolos-avaliacao"])}toRefBibDetails(){null!=this.protocoloAvaliacao?.refBibliograficaId&&this._router.navigate(["app","ref-bibliograficas","details",this.protocoloAvaliacao.refBibliograficaId])}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.WDn),e.rXU(c.XPk),e.rXU(c.xRb),e.rXU(c.pg4),e.rXU(e.gRc),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:35,vars:25,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","m-0","p-0"],[1,"row","m-0","mt-4","p-0"],[1,"col-0","m-0","p-0","align-content-center"],[1,"col-0","m-0","p-0","align-content-center","mx-2"],["class","col-0 m-0 p-0",4,"ngIf"],[3,"protocoloAvaliacaoChange","protocoloAvaliacao"],["class","mb-2 p-1","style","border: 1px solid lightgray;",4,"ngFor","ngForOf"],["class","row m-0 align-content-center justify-content-center",4,"ngIf"],["class","p-3","style","\n                    border: 1px solid #dee2e6; \n                    border-top: 0px; \n                    border-bottom-left-radius: .25rem;\n                    border-bottom-right-radius: .25rem; \n                    background-color: white;",3,"heading",4,"ngIf"],[1,"col-0","m-0","p-0"],["type","button",1,"btn","bg-blue",3,"click","disabled"],[1,"fa","fa-link"],[1,"mb-2","p-1",2,"border","1px solid lightgray"],[1,"m-0",3,"onUpdate","onDelete","tiposConfirmacao","protocoloAvaliacao","nivel","dominios","habilidades"],[1,"row","m-0","align-content-center","justify-content-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[3,"protocoloAvaliacao"]],template:function(t,o){if(1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"h1",8),e.EFF(12),e.k0s()()()(),e.j41(13,"section",9)(14,"div",10)(15,"tabset",11)(16,"tab",12),e.nI1(17,"localize"),e.j41(18,"p",13),e.EFF(19),e.k0s(),e.j41(20,"div",14)(21,"div",15),e.EFF(22),e.nI1(23,"localize"),e.k0s(),e.j41(24,"div",16),e.EFF(25),e.k0s(),e.DNE(26,Ks,3,1,"div",17),e.k0s()(),e.j41(27,"tab",12),e.nI1(28,"localize"),e.j41(29,"sistema-pontuacao-details",18),e.mxI("protocoloAvaliacaoChange",function(s){return e.DH7(o.protocoloAvaliacao,s)||(o.protocoloAvaliacao=s),s}),e.k0s()(),e.j41(30,"tab",12),e.nI1(31,"localize"),e.DNE(32,el,2,5,"div",19)(33,ol,5,3,"div",20),e.k0s(),e.DNE(34,il,3,4,"tab",21),e.k0s()()()()),2&t){let n,s;e.Y8G("@routerTransition",void 0),e.R7$(9),e.SpI(" ",e.bMT(10,14,"Detalhes do Protocolo de Avalia\xe7\xe3o")," "),e.R7$(3),e.SpI(" ",null==o.protocoloAvaliacao?null:o.protocoloAvaliacao.nome," "),e.R7$(4),e.Y8G("heading",e.bMT(17,16,"Descricao")),e.R7$(3),e.SpI(" ",null==o.protocoloAvaliacao?null:o.protocoloAvaliacao.desc," "),e.R7$(3),e.SpI("",e.bMT(23,18,"Refer\xeancia Bibliogr\xe1fica"),":"),e.R7$(3),e.JRh(null!==(n=null==o.refBibliografica?null:o.refBibliografica.nome)&&void 0!==n?n:"N/A"),e.R7$(),e.Y8G("ngIf",null!=(null==o.protocoloAvaliacao?null:o.protocoloAvaliacao.refBibliograficaId)),e.R7$(),e.Y8G("heading",e.bMT(28,20,"Pontua\xe7\xe3o")),e.R7$(2),e.R50("protocoloAvaliacao",o.protocoloAvaliacao),e.R7$(),e.Y8G("heading",e.bMT(31,22,"N\xedveis")),e.R7$(2),e.Y8G("ngForOf",null!==(s=o.niveis)&&void 0!==s?s:e.lJ4(24,Qs)),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Admin.People"))}},dependencies:[h.Sq,h.bT,S.V6,S.fw,Ts,Ls,Ws,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})(),nl=(()=>{class a extends v.q{constructor(i){super(i),this.disabled=!1}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["info-protocolo-avaliacao-form"]],inputs:{disabled:"disabled",protocoloAvaliacao:"protocoloAvaliacao"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:20,vars:14,consts:[["nomeModel","ngModel","nomeEl",""],["descModel","ngModel","descEl",""],[1,"form-group","row","required","mx-0"],["for","nome",1,"col-md-2","col-form-label","mx-0"],[1,"col","mx-0"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],[1,"row","m-0"],[1,"form-group","col","mx-0"],["for","desc",1,"row-0","form-label","mx-0"],[1,"row","mx-0"],["type","text","name","desc","id","desc","maxlength","1000",1,"form-control",3,"ngModelChange","disabled","ngModel"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div",2)(1,"label",3),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",4)(5,"input",5,0),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.protocoloAvaliacao.nome,l)||(o.protocoloAvaliacao.nome=l),e.Njj(l)}),e.k0s(),e.nrm(8,"abp-validation-summary",6),e.k0s()(),e.j41(9,"div",7)(10,"div",8)(11,"label",9),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"div",10)(15,"textarea",11,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.protocoloAvaliacao.desc,l)||(o.protocoloAvaliacao.desc=l),e.Njj(l)}),e.EFF(18,"            "),e.k0s(),e.nrm(19,"abp-validation-summary",6),e.k0s()()()}if(2&t){const n=e.sdS(6),s=e.sdS(7),l=e.sdS(16),m=e.sdS(17);e.R7$(2),e.SpI(" ",e.bMT(3,10,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.protocoloAvaliacao.nome),e.R7$(3),e.Y8G("control",n)("controlEl",s),e.R7$(4),e.SpI(" ",e.bMT(13,12,"Descricao")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.protocoloAvaliacao.desc),e.R7$(4),e.Y8G("control",l)("controlEl",m)}},dependencies:[r.me,r.BC,r.YS,r.tU,r.vS,y.e,f.S],encapsulation:2})}return a})();function al(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"a",14),e.bIt("click",function(){const o=e.eBV(i).index,n=e.XpG();return e.Njj(n.removeNivel(o))}),e.nrm(4,"i",15),e.k0s()(),e.nrm(5,"nivel-form",16),e.k0s()()}if(2&a){const i=d.$implicit,t=d.index,o=e.XpG();e.R7$(5),e.Y8G("nivel",i)("tiposConfirmacao",o.tiposConfirmacao)("ngModelGroup","nivel"+t+"Form")}}let sl=(()=>{class a extends v.q{get tipoConfDefault(){return this.tiposConfirmacao?.find(i=>i.nome.toLowerCase().startsWith("obs"))?.id}constructor(i,t,o,n){super(i),this._protocoloAvaliacaoService=t,this._habilidadeService=o,this.bsModalRef=n,this.tiposConfirmacao=[],this.onSave=new e.bkB,this.protocoloAvaliacao=new c._mo,this._habilidadeService.getAllTiposConfirmacaoHabilidade().subscribe(s=>{this.tiposConfirmacao=s.sort((l,m)=>{let p=l.nome.toLowerCase().startsWith("obs");return p==m.nome.toLowerCase().startsWith("obs")?0:p?-1:1})})}ngOnInit(){}create(){this.saving=!0,console.log(this.protocoloAvaliacao),this._protocoloAvaliacaoService.create(this.protocoloAvaliacao).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.saving=!1,this.onSave.emit()})}createNivel(){this.protocoloAvaliacao.niveis.push(new c.clr)}removeNivel(i){this.protocoloAvaliacao.niveis.splice(i,1)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.WDn),e.rXU(c.XPk),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:18,vars:16,consts:[["createProtocoloAvaliacaoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],["ngModelGroup","infoProtocoloAvaliacao",3,"protocoloAvaliacao"],["class","mx-0",4,"ngFor","ngForOf"],[1,"row","align-content-center","justify-content-center","mx-0"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[1,"mx-0"],[1,"mb-2","p-2","row",2,"border","1px solid lightgray"],[1,"col-0","align-content-start","justify-content-center","px-0","mx-0"],["href","javascript:;",1,"btn","bg-danger",3,"click"],[1,"fa","fa-trash"],[1,"col",3,"nivel","tiposConfirmacao","ngModelGroup"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.create())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"tabset")(6,"tab",4),e.nI1(7,"localize"),e.nrm(8,"info-protocolo-avaliacao-form",5),e.k0s(),e.j41(9,"tab",4),e.nI1(10,"localize"),e.DNE(11,al,6,3,"div",6),e.j41(12,"div",7)(13,"a",8),e.bIt("click",function(){return e.eBV(n),e.Njj(o.createNivel())}),e.nrm(14,"i",9),e.EFF(15),e.nI1(16,"localize"),e.k0s()()()()(),e.j41(17,"abp-modal-footer",10),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,8,"CreateNewProtocoloAvaliacao")),e.R7$(4),e.Y8G("heading",e.bMT(7,10,"InfoProtocoloAvaliacao")),e.R7$(2),e.Y8G("protocoloAvaliacao",o.protocoloAvaliacao),e.R7$(),e.Y8G("heading",e.bMT(10,12,"Niveis")),e.R7$(2),e.Y8G("ngForOf",o.protocoloAvaliacao.niveis),e.R7$(4),e.SpI(" ",e.bMT(16,14,"CreateNewNivel")," "),e.R7$(2),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[h.Sq,r.qT,r.cb,r.Y4,r.cV,S.V6,S.fw,j.x,R.z,nl,de,f.S],encapsulation:2})}return a})();const ll=(a,d,i)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:i});function rl(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function dl(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"button",38),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.detailsProtocoloAvaliacao(o))}),e.nrm(7,"i",39),e.EFF(8),e.nI1(9,"localize"),e.k0s()()()}if(2&a){const i=d.$implicit;e.R7$(2),e.JRh(i.nome),e.R7$(2),e.JRh(i.desc),e.R7$(4),e.SpI(" ",e.bMT(9,3,"Details")," ")}}let cl=(()=>{class a extends A{constructor(i,t,o,n,s){super(i),this._protocoloAvaliacaoService=t,this._modalService=o,this._router=n,this._route=s,this.protocolosAvaliacao=[],this.keyword="",this.advancedFiltersVisible=!1}createProtocoloAvaliacao(){let i;i=this._modalService.show(sl,{class:"modal-lg"}),i.content.onSave.subscribe(()=>{this.refresh()})}detailsProtocoloAvaliacao(i){this._router.navigate(["details",i.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.isActive=void 0,this.getDataPage(1)}list(i,t,o){i.keyword=this.keyword,this._protocoloAvaliacaoService.getAll(i.keyword,void 0,void 0,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.protocolosAvaliacao=n.items,this.showPaging(n,t)})}delete(i){abp.message.confirm("O seguinte protocolo de avalia\xe7\xe3o ser\xe1 exclu\xeddo do banco",void 0,t=>{t&&this._protocoloAvaliacaoService.delete(i.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.WDn),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:59,vars:38,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"]],template:function(t,o){1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createProtocoloAvaliacao()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,rl,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th",24),e.EFF(42),e.nI1(43,"localize"),e.k0s()()(),e.j41(44,"tbody"),e.DNE(45,dl,10,5,"tr",25),e.nI1(46,"paginate"),e.k0s()()()(),e.j41(47,"div",26)(48,"div",2)(49,"div",27)(50,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(51,"i",29),e.k0s()(),e.j41(52,"div",30)(53,"p",31),e.EFF(54),e.nI1(55,"localize"),e.k0s()(),e.j41(56,"div",32)(57,"div",33)(58,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&t&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,16,"ProtocolosAvaliacao")),e.R7$(5),e.SpI(" ",e.bMT(12,18,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,20,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,22,"Nome")),e.R7$(3),e.JRh(e.bMT(40,24,"Descricao")),e.R7$(3),e.JRh(e.bMT(43,26,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(46,28,o.protocolosAvaliacao,e.sMw(34,ll,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(55,31,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,r.me,r.BC,r.vS,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})(),ul=(()=>{class a extends v.q{constructor(i,t,o,n){super(i),this._router=t,this._route=o,this.bsModalRef=n}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(b.Ix),e.rXU(b.nX),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:19,vars:12,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col"],[1,"row"],[1,"col-3"],["filterLock","true","addDisabled","true",3,"aluno","aplicacaoProtocoloAvaliacao","protocolo","habilidade"],[1,"modal-footer","justify-content-end",3,"click"],["type","button",1,"btn","btn-primary"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"h4",1),e.EFF(2),e.k0s(),e.j41(3,"button",2),e.bIt("click",function(){return o.bsModalRef.hide()}),e.j41(4,"span",3),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"span",5),e.EFF(13),e.k0s()()(),e.nrm(14,"avaliacoes-habilidade-caso",8),e.k0s(),e.j41(15,"div",9),e.bIt("click",function(){return o.bsModalRef.hide()}),e.j41(16,"button",10),e.EFF(17),e.nI1(18,"localize"),e.k0s()()),2&t&&(e.R7$(2),e.JRh("Hist\xf3rico de Avalia\xe7\xe3o de Habilidade"),e.R7$(8),e.JRh(e.bMT(11,8,"Habilidade")),e.R7$(3),e.JRh(null==o.habilidade?null:o.habilidade.nome),e.R7$(),e.Y8G("aluno",o.aluno)("aplicacaoProtocoloAvaliacao",o.aplicacao)("protocolo",o.protocolo)("habilidade",o.habilidade),e.R7$(3),e.SpI(" ",e.bMT(18,10,"OK")," "))},dependencies:[Je,f.S],encapsulation:2})}return a})();const mo=()=>[""];function ml(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",25)(1,"div",26)(2,"label",27),e.EFF(3),e.k0s(),e.j41(4,"div",28),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"div",28)(8,"div",14)(9,"button",29),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG(4);return e.Njj(n.reavaliar(o))}),e.EFF(10),e.nI1(11,"localize"),e.k0s()(),e.j41(12,"div",14)(13,"button",30),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG(4);return e.Njj(n.viewHistorico(o))}),e.EFF(14),e.nI1(15,"localize"),e.k0s()()()()()}if(2&a){const i=d.$implicit,t=e.XpG(4);e.R7$(3),e.Lme(" ",null==i?null:i.codigo," - ",null==i?null:i.nome," "),e.R7$(2),e.Lme(" ",e.bMT(6,8,"Pontua\xe7\xe3o"),": ",t.getPontuacaoString(i)," "),e.R7$(4),e.Y8G("disabled",t.saving),e.R7$(),e.SpI(" ",e.bMT(11,10,"Reavaliar")," "),e.R7$(3),e.Y8G("disabled",t.saving),e.R7$(),e.SpI(" ",e.bMT(15,12,"Historico")," ")}}function pl(a,d){if(1&a&&(e.j41(0,"div",19)(1,"div",23)(2,"label",22),e.EFF(3),e.k0s(),e.DNE(4,ml,16,14,"div",24),e.k0s()()),2&a){const i=d.$implicit,t=e.XpG(3);e.R7$(3),e.Lme(" ",null==i?null:i.codigo," - ",null==i?null:i.nome," "),e.R7$(),e.Y8G("ngForOf",t.getHabilidades(i))}}function hl(a,d){if(1&a&&(e.j41(0,"div",21)(1,"label",22),e.EFF(2),e.k0s(),e.DNE(3,pl,5,3,"div",18),e.k0s()),2&a){const i=e.XpG().$implicit,t=e.XpG();e.R7$(2),e.SpI(" ",null==i?null:i.nome," "),e.R7$(),e.Y8G("ngForOf",t.getDominios(i))}}function fl(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",21)(1,"div",22)(2,"label",21),e.EFF(3),e.k0s(),e.j41(4,"div",21),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"div",21)(8,"button",29),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,n=e.XpG();return e.Njj(n.aplicarNivel(o))}),e.EFF(9),e.nI1(10,"localize"),e.k0s()()()()}if(2&a){const i=e.XpG().$implicit,t=e.XpG();e.R7$(3),e.SpI(" ",null==i?null:i.nome," "),e.R7$(2),e.SpI(" ",e.bMT(6,4,"N\xe3o aplicado")," "),e.R7$(3),e.Y8G("disabled",t.saving),e.R7$(),e.SpI(" ",e.bMT(10,6,"Aplicar")," ")}}function bl(a,d){if(1&a&&(e.j41(0,"div",19),e.DNE(1,hl,4,2,"div",20)(2,fl,11,8,"div",20),e.k0s()),2&a){const i=d.$implicit,t=e.XpG();e.R7$(),e.Y8G("ngIf",t.isNivelAplicado(i)),e.R7$(),e.Y8G("ngIf",!t.isNivelAplicado(i))}}let gl=(()=>{class a extends v.q{constructor(i,t,o,n,s,l,m,p,_,C,F,I){super(i),this._modalService=t,this._alunoService=o,this._casoService=n,this._protocoloAvaliacaoService=s,this._aplicacaoProtocoloAvaliacaoService=l,this._habilidadeService=m,this._avaliacaoHabilidadeService=p,this._changeDetector=_,this._bsModalService=C,this._router=F,this._route=I,this.saving=!1}goBack(){this.permission.isGranted("Business.Personal.Cliente.Aluno")&&this.appSession.user.aluno?.id==this.alunoId?this._router.navigate(["app","personal"]):this._router.navigate(["app","alunos","details",this.alunoId])}ngOnInit(){const i=this._route.snapshot.paramMap;this.alunoId=Number(i.get("alunoId")),this.apliId=Number(i.get("apliId")),this.load()}load(){this.alunoLoading=!0,this._alunoService.get(this.alunoId).subscribe(t=>{this.aluno=t,this.alunoLoading=!1}),this.aplicacaoLoading=!0,this._aplicacaoProtocoloAvaliacaoService.get(this.apliId).subscribe(t=>{this.aplicacao=t,this.aplicacaoLoading=!1}),this.protocoloAvaliacaoLoading=!0,this.niveisLoading=!0,this.dominiosLoading=!0,this.habilidadesLoading=!0,this._protocoloAvaliacaoService.getByAplicacao(this.apliId).subscribe(t=>{this.protocoloAvaliacao=t,this._protocoloAvaliacaoService.getAllNiveis(void 0,void 0,[t.id],void 0,0,10).subscribe(l=>{this.niveis=l.items,l.totalCount>l.items.length?this._protocoloAvaliacaoService.getAllNiveis(void 0,void 0,[t.id],void 0,10,l.totalCount-l.items.length).subscribe(m=>{this.niveis.push(...m.items),this.niveisLoading=!1}):this.niveisLoading=!1}),this._protocoloAvaliacaoService.getAllDominios(void 0,void 0,[t.id],void 0,void 0,0,25).subscribe(l=>{this.dominios=l.items,l.totalCount>l.items.length?this._protocoloAvaliacaoService.getAllDominios(void 0,void 0,[t.id],void 0,void 0,25,l.totalCount-l.items.length).subscribe(m=>{this.dominios.push(...m.items),this.dominiosLoading=!1}):this.dominiosLoading=!1}),this._habilidadeService.getAll(void 0,void 0,void 0,void 0,[t.id],void 0,void 0,0,100).subscribe(l=>{this.habilidades=l.items,l.totalCount>l.items.length?this._habilidadeService.getAll(void 0,void 0,void 0,void 0,[t.id],void 0,void 0,100,l.totalCount-l.items.length).subscribe(m=>{this.habilidades.push(...m.items),this.habilidadesLoading=!1}):this.habilidadesLoading=!1}),this.protocoloAvaliacaoLoading=!1}),this.avaliacoesHabilidadeLoading=!0,this._avaliacaoHabilidadeService.getAll(void 0,void 0,this.apliId,void 0,void 0,0,100).subscribe(t=>{this.avaliacoesHabilidade=t.items,t.totalCount>t.items.length?this._avaliacaoHabilidadeService.getAll(void 0,void 0,this.apliId,void 0,void 0,100,t.totalCount-t.items.length).subscribe(o=>{this.avaliacoesHabilidade.push(...o.items),this.avaliacoesHabilidadeLoading=!1}):this.avaliacoesHabilidadeLoading=!1})}isNivelAplicado(i){return this.aplicacao.niveisAplicados.some(t=>t.nivelId==i.id)}aplicarNivel(i){this.saving=!0,this.aplicacaoLoading=!0;let t=new c.I8W({id:this.aplicacao.id,niveisAplicados:this.aplicacao.niveisAplicados.map(o=>o.nivelId)});t.niveisAplicados.push(i.id),this._aplicacaoProtocoloAvaliacaoService.update(t).subscribe(o=>{this.notify.info(this.l("SavedSuccessfully")),this.aplicacao=o,this.aplicacaoLoading=!1,this.saving=!1})}getDominios(i){var t=this.dominios?.filter(o=>o.nivelId==i.id);return t}getHabilidades(i){var t=this.habilidades?.filter(o=>o.dominioId==i.id);return t}getAvaliacoesHabilidade(i){return this.avaliacoesHabilidade?.filter(t=>t.habilidadeId==i.id)}getUltimaAvaliacaoHabilidade(i){var t=this.getAvaliacoesHabilidade(i);return t.sort((o,n)=>n.dataAvaliada.diff(o.dataAvaliada)),t[0]}getPontuacao(i){var t=this.getUltimaAvaliacaoHabilidade(i);if(null!=t)return this.protocoloAvaliacao.sistemaPontuacao.find(o=>o.id==t.pontuacaoId)}getPontuacaoString(i){var t=this.getPontuacao(i);return t?.nome??"N\xe3o avaliada"}reavaliar(i){let t;const o=new Map;this.dominios.forEach(l=>o.set(l.id,l));const n=new Map;this.niveis.forEach(l=>n.set(l.id,l));const s=new Map;s.set(this.protocoloAvaliacao.id,this.protocoloAvaliacao),t=this._bsModalService.show(Oe,{class:"modal-lg",initialState:{lockSelection:!0,casoId:this.aluno.casoId,aplicacaoProtocolo:this.aplicacao,habilidadeSelected:i,dominios:o,niveis:n,protocolos:s}}),t.content.onSubmit.subscribe(l=>{this.load()})}viewHistorico(i){let t;var o=this.dominios.find(s=>s.id==i.dominioId),n=this.niveis.find(s=>s.id==o?.nivelId);t=this._modalService.show(ul,{class:"modal-lg",initialState:{aluno:this.aluno,aplicacao:this.aplicacao,habilidade:i,dominio:o,nivel:n,protocolo:this.protocoloAvaliacao}})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(g.I8),e.rXU(c.pg4),e.rXU(c.iD6),e.rXU(c.WDn),e.rXU(c.hP4),e.rXU(c.XPk),e.rXU(c.i$O),e.rXU(e.gRc),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:39,vars:22,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","p-0","m-0"],[1,"col","m-0","p-0"],[1,"col","p-0","m-0"],[1,"row","p-0","m-0","mt-2"],[1,"pr-2"],["class","row m-0 mb-2 p-0",4,"ngFor","ngForOf"],[1,"row","m-0","mb-2","p-0"],["class","col p-0",4,"ngIf"],[1,"col","p-0"],[1,"row","m-0","text-left"],[1,"col","m-0"],["class","row mx-0 mt-0 mb-2 p-0",4,"ngFor","ngForOf"],[1,"row","mx-0","mt-0","mb-2","p-0"],[1,"col","m-0","ml-4","p-2",2,"border","1px solid lightgray"],[1,"row","m-0","p-0","text-left"],[1,"row","m-0","p-0"],["type","button",1,"btn","btn-sm","bg-primary",3,"click","disabled"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click","disabled"]],template:function(t,o){if(1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"h1",8),e.EFF(12),e.k0s()()()(),e.j41(13,"section",9)(14,"div",10)(15,"tabset",11)(16,"tab",12),e.nI1(17,"localize"),e.j41(18,"div",13)(19,"div",14)(20,"div",13)(21,"label",15),e.EFF(22," Data in\xedcio: "),e.k0s(),e.j41(23,"span",15),e.EFF(24),e.k0s()()(),e.j41(25,"div",14)(26,"div",13)(27,"label",15),e.EFF(28," Data arquivamento: "),e.k0s(),e.j41(29,"span",15),e.EFF(30),e.k0s()()()(),e.j41(31,"p",16)(32,"b",17),e.EFF(33),e.nI1(34,"localize"),e.k0s(),e.EFF(35),e.k0s()(),e.j41(36,"tab",12),e.nI1(37,"localize"),e.DNE(38,bl,3,2,"div",18),e.k0s()()()()()),2&t){let n,s;e.Y8G("@routerTransition",void 0),e.R7$(9),e.SpI(" ",e.bMT(10,12,"Detalhes da Aplica\xe7\xe3o de Protocolo de Avalia\xe7\xe3o")," "),e.R7$(3),e.E5c(" ",null==o.protocoloAvaliacao?null:o.protocoloAvaliacao.nome," para ",(null!==(n=null==o.aluno||null==o.aluno.nome?null:o.aluno.nome.split(" "))&&void 0!==n?n:e.lJ4(20,mo))[0]," ",(null!==(n=null==o.aluno||null==o.aluno.nome||null==(n=o.aluno.nome.split(" "))?null:n.reverse())&&void 0!==n?n:e.lJ4(21,mo))[0]," "),e.R7$(4),e.Y8G("heading",e.bMT(17,14,"InfoAplicacao")),e.R7$(8),e.SpI(" ",null==o.aplicacao||null==o.aplicacao.dataInicio?null:o.aplicacao.dataInicio.format("DD/MM/yyyy")," "),e.R7$(6),e.SpI(" ",null!==(s=null==o.aplicacao?null:o.aplicacao.dataArquivamento)&&void 0!==s?s:"-"," "),e.R7$(3),e.SpI("",e.bMT(34,16,"Descri\xe7\xe3o do Protocolo Avaliacao"),":"),e.R7$(2),e.SpI(" ",null==o.protocoloAvaliacao?null:o.protocoloAvaliacao.desc,""),e.R7$(),e.Y8G("heading",e.bMT(37,18,"Habilidades")),e.R7$(2),e.Y8G("ngForOf",o.niveis)}},dependencies:[h.Sq,h.bT,S.V6,S.fw,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})(),po=(()=>{class a extends Y{constructor(i){super(i)}ngOnInit(){}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ref-bibliografica-form"]],inputs:{refBibliografica:"refBibliografica"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:28,vars:21,consts:[["nomeModel","ngModel","nomeEl",""],["refStringModel","ngModel","refStringEl",""],["linkModel","ngModel","linkEl",""],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","200",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","refString",1,"col-md-3","col-form-label"],["type","text","name","refString","id","refString","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","link",1,"col-md-3","col-form-label"],["type","text","name","link","id","link","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div",3)(1,"label",4),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",5)(5,"input",6,0),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.refBibliografica.nome,l)||(o.refBibliografica.nome=l),e.Njj(l)}),e.k0s(),e.nrm(8,"abp-validation-summary",7),e.k0s()(),e.j41(9,"div",8)(10,"label",9),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",5)(14,"textarea",10,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.refBibliografica.refString,l)||(o.refBibliografica.refString=l),e.Njj(l)}),e.EFF(17,"        "),e.k0s(),e.nrm(18,"abp-validation-summary",7),e.k0s()(),e.j41(19,"div",8)(20,"label",11),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"div",5)(24,"input",12,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.refBibliografica.link,l)||(o.refBibliografica.link=l),e.Njj(l)}),e.k0s(),e.nrm(27,"abp-validation-summary",7),e.k0s()()}if(2&t){const n=e.sdS(6),s=e.sdS(7),l=e.sdS(15),m=e.sdS(16),p=e.sdS(25),_=e.sdS(26);e.R7$(2),e.SpI(" ",e.bMT(3,15,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.refBibliografica.nome),e.R7$(3),e.Y8G("control",n)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,17,"Texto de Refer\xeancia")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.refBibliografica.refString),e.R7$(4),e.Y8G("control",l)("controlEl",m),e.R7$(3),e.SpI(" ",e.bMT(22,19,"Link")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.refBibliografica.link),e.R7$(3),e.Y8G("control",p)("controlEl",_)}},dependencies:[r.me,r.BC,r.YS,r.tU,r.vS,y.e,f.S],encapsulation:2})}return a})(),_l=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._refbibliograficaService=t,this.bsModalRef=o,this.saving=!1,this.refBibliografica=new c.hN9,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,this._refbibliograficaService.create(this.refBibliografica).subscribe(i=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(i)})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.xRb),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["createRefBibliograficaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","refBibliografica",3,"refBibliografica"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"ref-bibliografica-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"CreateNewRefBibliografica")),e.R7$(3),e.Y8G("refBibliografica",o.refBibliografica),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.cb,r.Y4,r.cV,j.x,R.z,po,f.S],encapsulation:2})}return a})();const vl=(a,d,i)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:i});function Cl(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function Il(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"button",38),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.detailsRefBibliografica(o))}),e.nrm(9,"i",39),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"button",40),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.delete(o))}),e.nrm(13,"i",41),e.EFF(14),e.nI1(15,"localize"),e.k0s()()()}if(2&a){let i,t;const o=d.$implicit;e.R7$(2),e.JRh(o.nome),e.R7$(2),e.JRh(null!==(i=null==o?null:o.refString)&&void 0!==i?i:"-"),e.R7$(2),e.JRh(null!==(t=null==o?null:o.link)&&void 0!==t?t:"-"),e.R7$(4),e.SpI(" ",e.bMT(11,5,"Edit")," "),e.R7$(4),e.SpI(" ",e.bMT(15,7,"Delete")," ")}}let Fl=(()=>{class a extends A{constructor(i,t,o,n,s){super(i),this._refbibliograficaService=t,this._modalService=o,this._router=n,this._route=s,this.refBibliograficas=[],this.keyword="",this.advancedFiltersVisible=!1}createRefBibliografica(){let i;i=this._modalService.show(_l,{class:"modal-lg"}),i.content.onSave.subscribe(t=>{this.refresh(),this._router.navigate(["details",t.id],{relativeTo:this._route})})}detailsRefBibliografica(i){this._router.navigate(["details",i.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.getDataPage(1)}list(i,t,o){i.keyword=this.keyword,this._refbibliograficaService.getAll(i.keyword,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.refBibliograficas=n.items,this.showPaging(n,t)})}delete(i){abp.message.confirm("O seguinte refbibliografica ser\xe1 exclu\xeddo do banco",void 0,t=>{t&&this._refbibliograficaService.delete(i.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.xRb),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:62,vars:41,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createRefBibliografica()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,Cl,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th",24),e.EFF(45),e.nI1(46,"localize"),e.k0s()()(),e.j41(47,"tbody"),e.DNE(48,Il,16,9,"tr",25),e.nI1(49,"paginate"),e.k0s()()()(),e.j41(50,"div",26)(51,"div",2)(52,"div",27)(53,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(54,"i",29),e.k0s()(),e.j41(55,"div",30)(56,"p",31),e.EFF(57),e.nI1(58,"localize"),e.k0s()(),e.j41(59,"div",32)(60,"div",33)(61,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&t&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,17,"Refer\xeancias Bibliogr\xe1ficas")),e.R7$(5),e.SpI(" ",e.bMT(12,19,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,21,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,23,"Nome")),e.R7$(3),e.JRh(e.bMT(40,25,"Refer\xeancia")),e.R7$(3),e.JRh(e.bMT(43,27,"Link")),e.R7$(3),e.JRh(e.bMT(46,29,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(49,31,o.refBibliograficas,e.sMw(37,vl,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(58,34,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,r.me,r.BC,r.vS,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const kl=()=>[];function jl(a,d){if(1&a&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",i.id),e.R7$(),e.JRh(i.nome)}}let ho=(()=>{class a extends Y{get refBibId(){return this.tecnica?.refBibliograficaId??-1}set refBibId(i){-1==i&&(i=void 0),this.tecnica.refBibliograficaId=i}constructor(i,t,o){super(i),this.refBibService=t,this.changeDetectorRef=o,this.hasPresetRefBib=!1}ngOnInit(){this.hasPresetRefBib||this.refBibService.getAll(void 0,void 0,void 0).subscribe(i=>{this.refBibliograficas=i.items,this.changeDetectorRef.detectChanges()})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.xRb),e.rXU(e.gRc))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["tecnica-form"]],inputs:{hasPresetRefBib:"hasPresetRefBib",tecnica:"tecnica"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:31,vars:24,consts:[["nomeModel","ngModel","nomeEl",""],["descModel","ngModel","descEl",""],["refBibModel","ngModel","refBibEl",""],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","100",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","desc",1,"col-md-3","col-form-label"],["type","text","name","desc","id","desc","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"form-group","row",3,"hidden"],["for","refBib",1,"col-md-3","col-form-label"],["id","refBib","name","refBib",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value","-1"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div",3)(1,"label",4),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",5)(5,"input",6,0),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.tecnica.nome,l)||(o.tecnica.nome=l),e.Njj(l)}),e.k0s(),e.nrm(8,"abp-validation-summary",7),e.k0s()(),e.j41(9,"div",8)(10,"label",9),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",5)(14,"textarea",10,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.tecnica.desc,l)||(o.tecnica.desc=l),e.Njj(l)}),e.EFF(17,"        "),e.k0s(),e.nrm(18,"abp-validation-summary",7),e.k0s()(),e.j41(19,"div",11)(20,"label",12),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"div",5)(24,"select",13,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.refBibId,l)||(o.refBibId=l),e.Njj(l)}),e.j41(27,"option",14),e.EFF(28,"Nenhuma"),e.k0s(),e.DNE(29,jl,2,2,"option",15),e.k0s(),e.nrm(30,"abp-validation-summary",7),e.k0s()()}if(2&t){let n;const s=e.sdS(6),l=e.sdS(7),m=e.sdS(15),p=e.sdS(16),_=e.sdS(25),C=e.sdS(26);e.R7$(2),e.SpI(" ",e.bMT(3,17,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.tecnica.nome),e.R7$(3),e.Y8G("control",s)("controlEl",l),e.R7$(3),e.SpI(" ",e.bMT(12,19,"Descri\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.tecnica.desc),e.R7$(4),e.Y8G("control",m)("controlEl",p),e.R7$(),e.Y8G("hidden",o.hasPresetRefBib),e.R7$(2),e.SpI(" ",e.bMT(22,21,"Refer\xeancia Bibliogr\xe1fica")," "),e.R7$(3),e.Y8G("disabled",o.disabled||o.hasPresetRefBib),e.R50("ngModel",o.refBibId),e.R7$(5),e.Y8G("ngForOf",null!==(n=o.refBibliograficas)&&void 0!==n?n:e.lJ4(23,kl)),e.R7$(),e.Y8G("control",_)("controlEl",C)}},dependencies:[h.Sq,r.xH,r.y7,r.me,r.wz,r.BC,r.YS,r.tU,r.vS,y.e,f.S],encapsulation:2})}return a})(),ce=(()=>{class a extends v.q{get hasPresetRefBib(){return null!=this.presetRefBib}constructor(i,t,o){super(i),this._tecnicaService=t,this.bsModalRef=o,this.saving=!1,this.tecnica=new c.Z1O,this.onSave=new e.bkB}ngOnInit(){this.hasPresetRefBib&&(this.tecnica.refBibliograficaId=this.presetRefBib)}save(){this.saving=!0,this._tecnicaService.create(this.tecnica).subscribe(i=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(i)})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.$Q8),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["createTecnicaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","tecnica",3,"tecnica","hasPresetRefBib"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"tecnica-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"CreateNewTecnica")),e.R7$(3),e.Y8G("tecnica",o.tecnica)("hasPresetRefBib",o.hasPresetRefBib),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.cb,r.Y4,r.cV,j.x,R.z,ho,f.S],encapsulation:2})}return a})();const Rl=(a,d,i)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:i});function Sl(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function Ml(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"button",38),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.detailsTecnica(o))}),e.nrm(7,"i",14),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"button",39),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.delete(o))}),e.nrm(11,"i",40),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){let i;const t=d.$implicit,o=e.XpG();e.R7$(2),e.JRh(t.nome),e.R7$(2),e.JRh(null!==(i=null==(i=o.getRefBib(t.refBibliograficaId))?null:i.nome)&&void 0!==i?i:"-"),e.R7$(4),e.SpI(" ",e.bMT(9,4,"Details")," "),e.R7$(4),e.SpI(" ",e.bMT(13,6,"Delete")," ")}}let El=(()=>{class a extends A{constructor(i,t,o,n,s,l,m){super(i),this._tecnicaService=t,this._refBibService=o,this._modalService=n,this._changeDetector=s,this._router=l,this._route=m,this.tecnicas=[],this.referencias=[],this.keyword="",this.advancedFiltersVisible=!1}ngOnInit(){this._refBibService.getAll(void 0,void 0,void 0).subscribe(i=>{this.referencias=i.items,this._changeDetector.detectChanges()}),this.refresh()}getRefBib(i){return this.referencias?.find(t=>t.id==i)}createTecnica(){let i;i=this._modalService.show(ce,{class:"modal-lg"}),i.content.onSave.subscribe(()=>{this.refresh()})}detailsTecnica(i){this._router.navigate(["details",i.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.getDataPage(1)}list(i,t,o){i.keyword=this.keyword,this._tecnicaService.getAll(i.keyword,i.refBibId,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.tecnicas=n.items,this.showPaging(n,t)})}delete(i){abp.message.confirm("O seguinte tecnica ser\xe1 exclu\xeddo do banco",void 0,t=>{t&&this._tecnicaService.delete(i.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.$Q8),e.rXU(c.xRb),e.rXU(g.I8),e.rXU(e.gRc),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:59,vars:38,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createTecnica()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,Sl,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th",24),e.EFF(42),e.nI1(43,"localize"),e.k0s()()(),e.j41(44,"tbody"),e.DNE(45,Ml,14,8,"tr",25),e.nI1(46,"paginate"),e.k0s()()()(),e.j41(47,"div",26)(48,"div",2)(49,"div",27)(50,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(51,"i",29),e.k0s()(),e.j41(52,"div",30)(53,"p",31),e.EFF(54),e.nI1(55,"localize"),e.k0s()(),e.j41(56,"div",32)(57,"div",33)(58,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&t&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,16,"T\xe9cnicas")),e.R7$(5),e.SpI(" ",e.bMT(12,18,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,20,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,22,"Nome")),e.R7$(3),e.JRh(e.bMT(40,24,"Refer\xeancia")),e.R7$(3),e.JRh(e.bMT(43,26,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(46,28,o.tecnicas,e.sMw(34,Rl,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(55,31,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,r.me,r.BC,r.vS,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})(),Tl=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._refbibliograficaService=t,this.bsModalRef=o,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,this._refbibliograficaService.update(this.refBibliografica).subscribe(()=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.xRb),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["editRefBibliograficaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","refBibliografica",3,"refBibliografica"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"ref-bibliografica-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"EditNewRefBibliografica")),e.R7$(3),e.Y8G("refBibliografica",o.refBibliografica),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.cb,r.Y4,r.cV,j.x,R.z,po,f.S],encapsulation:2})}return a})(),Dl=(()=>{class a extends v.q{constructor(i,t,o,n){super(i),this._router=t,this._route=o,this.bsModalRef=n}ngOnInit(){}moreInfo(){this._router.navigate(["app","tecnicas","details",this.tecnica.id]),this.bsModalRef.hide()}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(b.Ix),e.rXU(b.nX),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:17,vars:5,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","m-0","p-2","text-center","justify-content-center"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-plus-square"],[1,"modal-footer","justify-content-end",3,"click"],["type","button",1,"btn","btn-primary"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"h4",1),e.EFF(2),e.k0s(),e.j41(3,"button",2),e.bIt("click",function(){return o.bsModalRef.hide()}),e.j41(4,"span",3),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",4)(7,"p"),e.EFF(8),e.k0s(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return o.moreInfo()}),e.nrm(11,"i",7),e.EFF(12),e.nI1(13,"localize"),e.k0s()()(),e.j41(14,"div",8),e.bIt("click",function(){return o.bsModalRef.hide()}),e.j41(15,"button",9),e.EFF(16," OK "),e.k0s()()),2&t&&(e.R7$(2),e.JRh(o.tecnica.nome),e.R7$(6),e.SpI(" ",o.tecnica.desc," "),e.R7$(4),e.SpI(" ",e.bMT(13,3,"MoreInfo")," "))},dependencies:[f.S],encapsulation:2})}return a})();const Al=(a,d,i)=>({id:"tecnicas-ref-bib",itemsPerPage:a,currentPage:d,totalItems:i});function yl(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"button",1),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.detailsTecnica(o))}),e.nrm(5,"i",14),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}if(2&a){const i=d.$implicit;e.R7$(2),e.JRh(i.nome),e.R7$(4),e.SpI(" ",e.bMT(7,2,"Details")," ")}}let Gl=(()=>{class a extends A{set refBibId(i){this._refBibId=i,this.refresh()}get refBibId(){return this._refBibId}constructor(i,t,o,n,s){super(i),this._tecnicaService=t,this._modalService=o,this._router=n,this._route=s,this.onSave=new e.bkB}detailsTecnica(i){let t;t=this._modalService.show(Dl,{class:"modal-lg",initialState:{tecnica:i}})}clearFilters(){this.getDataPage(1)}list(i,t,o){if(null==this.refBibId)return this.showPaging({items:[],totalCount:0},t),void o();this._tecnicaService.getAll(void 0,this.refBibId,i.skipCount,i.maxResultCount).subscribe(n=>{this.tecnicas=n.items,this.showPaging(n,t),o(),this.isTableLoading=!1})}createTecnica(){let i;i=this._modalService.show(ce,{class:"modal-lg",initialState:{presetRefBib:this._refBibId}}),i.content.onSave.subscribe(()=>{this.refresh(),this.onSave.emit()})}delete(i){abp.message.confirm("O seguinte tecnica ser\xe1 exclu\xeddo do banco",void 0,t=>{t&&this._tecnicaService.delete(i.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.$Q8),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["tecnicas-ref-bib"]],inputs:{refBibId:"refBibId"},outputs:{onSave:"onSave"},features:[e.Vt3],decls:24,vars:19,consts:[[1,"row","m-0","p-2","text-center","justify-content-center"],["type","button",1,"btn","btn-sm","bg-primary",3,"click"],[1,"fas","fa-plus-square"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","15%"],[4,"ngFor","ngForOf"],[1,"row","justify-content-end"],[1,"col-sm-4","col","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-6"],[1,"float-sm-right","m-auto"],["id","tecnicas-ref-bib",3,"pageChange"],[1,"fas","fa-search"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"button",1),e.bIt("click",function(){return o.createTecnica()}),e.nrm(2,"i",2),e.EFF(3),e.nI1(4,"localize"),e.k0s()(),e.j41(5,"div",3)(6,"table",4)(7,"thead",5)(8,"tr")(9,"th"),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.nrm(12,"th",6),e.k0s()(),e.j41(13,"tbody"),e.DNE(14,yl,8,4,"tr",7),e.nI1(15,"paginate"),e.k0s()()(),e.j41(16,"div",8)(17,"div",9)(18,"p",10),e.EFF(19),e.nI1(20,"localize"),e.k0s()(),e.j41(21,"div",11)(22,"div",12)(23,"abp-pagination-controls",13),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&t&&(e.R7$(3),e.SpI(" ",e.bMT(4,5,"AddTecnica")," "),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(11,7,"Nome")),e.R7$(4),e.Y8G("ngForOf",e.i5U(15,9,o.tecnicas,e.sMw(15,Al,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(5),e.SpI(" ",e.i5U(20,12,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})(),Pl=(()=>{class a extends v.q{constructor(i,t,o,n,s){super(i),this._refbibliograficaService=t,this._modalService=o,this._router=n,this._route=s}ngOnInit(){this.id=Number(this._route.snapshot.paramMap.get("refBibId")),this.refresh()}refresh(){this._refbibliograficaService.get(this.id).subscribe(i=>{this.refBibliografica=i})}goBack(){this._router.navigate(["../.."],{relativeTo:this._route})}editInfo(){let i;i=this._modalService.show(Tl,{class:"modal-lg",initialState:{refBibliografica:this.refBibliografica}}),i.content.onSave.subscribe(()=>{this.refresh()})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.xRb),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:35,vars:14,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","m-0","p-0"],[1,"col-2"],[1,"col"],[1,"row","m-0","p-2","text-center","justify-content-center"],["type","button",1,"btn","btn-sm","bg-primary",3,"click"],[1,"fas","fa-alt-pencil"],[3,"onSave","refBibId"]],template:function(t,o){if(1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes da Refer\xeancia Bibliogr\xe1fica "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"div",13)(18,"label",14),e.EFF(19,"Link:"),e.k0s(),e.j41(20,"span",15),e.EFF(21),e.k0s()(),e.j41(22,"div",13)(23,"label",14),e.EFF(24,"Texto de Refer\xeancia:"),e.k0s(),e.j41(25,"p",15),e.EFF(26),e.k0s()(),e.j41(27,"div",16)(28,"button",17),e.bIt("click",function(){return o.editInfo()}),e.nrm(29,"i",18),e.EFF(30),e.nI1(31,"localize"),e.k0s()()(),e.j41(32,"tab",12),e.nI1(33,"localize"),e.j41(34,"tecnicas-ref-bib",19),e.bIt("onSave",function(){return o.refresh()}),e.k0s()()()()()()),2&t){let n;e.Y8G("@routerTransition",void 0),e.R7$(11),e.SpI(" ",null==o.refBibliografica?null:o.refBibliografica.nome," "),e.R7$(4),e.Y8G("heading",e.bMT(16,8,"Informa\xe7\xe3o Geral")),e.R7$(6),e.JRh(null!==(n=null==o.refBibliografica?null:o.refBibliografica.link)&&void 0!==n?n:"-"),e.R7$(5),e.JRh(null==o.refBibliografica?null:o.refBibliografica.refString),e.R7$(4),e.SpI(" ",e.bMT(31,10,"Edit")," "),e.R7$(2),e.Y8G("heading",e.bMT(33,12,"T\xe9cnicas")),e.R7$(2),e.Y8G("refBibId",o.id)}},dependencies:[S.V6,S.fw,Gl,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})(),$l=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._tecnicaService=t,this.bsModalRef=o,this.saving=!1,this.tecnica=new c.uJi,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,console.log(this.tecnica),this._tecnicaService.update(this.tecnica).subscribe(()=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.$Q8),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["editTecnicaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","tecnica",3,"tecnica"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"tecnica-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"EditNewTecnica")),e.R7$(3),e.Y8G("tecnica",o.tecnica),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.cb,r.Y4,r.cV,j.x,R.z,ho,f.S],encapsulation:2})}return a})(),wl=(()=>{class a extends v.q{constructor(i,t,o,n,s,l){super(i),this._tecnicaService=t,this._refBibService=o,this._modalService=n,this._router=s,this._route=l}ngOnInit(){this.id=Number(this._route.snapshot.paramMap.get("tecnicaId")),this.refresh()}refresh(){this._tecnicaService.get(this.id).subscribe(i=>{this.tecnica=i,null!=this.tecnica.refBibliograficaId&&this._refBibService.get(this.tecnica.refBibliograficaId).subscribe(t=>{this.refBibliografica=t})})}goBack(){this._router.navigate(["../.."],{relativeTo:this._route})}editInfo(){let i,t=new c.uJi(this.tecnica);t.refBibliograficaId=this.tecnica.refBibliograficaId,i=this._modalService.show($l,{class:"modal-lg",initialState:{tecnica:t}}),i.content.onSave.subscribe(()=>{this.refresh()})}toRefBibDetails(){null!=this.tecnica.refBibliograficaId&&this._router.navigate(["app","ref-bibliograficas","details",this.tecnica.refBibliograficaId])}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.$Q8),e.rXU(c.xRb),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:32,vars:12,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","m-0","p-0"],[1,"row","m-0","mt-4","p-0"],[1,"col-0","m-0","p-0","align-content-center"],[1,"col-0","m-0","p-0","align-content-center","mx-2"],[1,"col-0","m-0","p-0",3,"hidden"],["type","button",1,"btn","bg-blue",3,"click","disabled"],[1,"fa","fa-link"],[1,"row","m-0","px-2","text-center","justify-content-end"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-alt-pencil"]],template:function(t,o){if(1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes da T\xe9cnica "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"div",13),e.EFF(18),e.k0s(),e.j41(19,"div",14)(20,"div",15),e.EFF(21,"Refer\xeancia Bibliogr\xe1fica:"),e.k0s(),e.j41(22,"div",16),e.EFF(23),e.k0s(),e.j41(24,"div",17)(25,"button",18),e.bIt("click",function(){return o.toRefBibDetails()}),e.nrm(26,"i",19),e.k0s()()(),e.j41(27,"div",20)(28,"button",21),e.bIt("click",function(){return o.editInfo()}),e.nrm(29,"i",22),e.EFF(30),e.nI1(31,"localize"),e.k0s()()()()()()()),2&t){let n;e.Y8G("@routerTransition",void 0),e.R7$(11),e.SpI(" ",null==o.tecnica?null:o.tecnica.nome," "),e.R7$(4),e.Y8G("heading",e.bMT(16,8,"Informa\xe7\xe3o Geral")),e.R7$(3),e.SpI(" ",null==o.tecnica?null:o.tecnica.desc," "),e.R7$(5),e.JRh(null!=(null==o.tecnica?null:o.tecnica.refBibliograficaId)?null!==(n=null==o.refBibliografica?null:o.refBibliografica.nome)&&void 0!==n?n:"...":"N/A"),e.R7$(),e.Y8G("hidden",null==(null==o.tecnica?null:o.tecnica.refBibliograficaId)),e.R7$(),e.Y8G("disabled",null==(null==o.tecnica?null:o.tecnica.refBibliograficaId)),e.R7$(5),e.SpI(" ",e.bMT(31,10,"Edit")," ")}},dependencies:[S.V6,S.fw,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})(),fo=(()=>{class a extends Y{constructor(i){super(i)}ngOnInit(){}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["formato-ensino-form"]],inputs:{formatoEnsino:"formatoEnsino"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:19,vars:14,consts:[["nomeModel","ngModel","nomeEl",""],["descModel","ngModel","descEl",""],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","desc",1,"col-md-3","col-form-label"],["type","text","name","desc","id","desc","maxlength","2500",1,"form-control",3,"ngModelChange","disabled","ngModel"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div",2)(1,"label",3),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",4)(5,"input",5,0),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.formatoEnsino.nome,l)||(o.formatoEnsino.nome=l),e.Njj(l)}),e.k0s(),e.nrm(8,"abp-validation-summary",6),e.k0s()(),e.j41(9,"div",7)(10,"label",8),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",4)(14,"textarea",9,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.formatoEnsino.desc,l)||(o.formatoEnsino.desc=l),e.Njj(l)}),e.EFF(17,"        "),e.k0s(),e.nrm(18,"abp-validation-summary",6),e.k0s()()}if(2&t){const n=e.sdS(6),s=e.sdS(7),l=e.sdS(15),m=e.sdS(16);e.R7$(2),e.SpI(" ",e.bMT(3,10,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.formatoEnsino.nome),e.R7$(3),e.Y8G("control",n)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,12,"Descri\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.formatoEnsino.desc),e.R7$(4),e.Y8G("control",l)("controlEl",m)}},dependencies:[r.me,r.BC,r.YS,r.tU,r.vS,y.e,f.S],encapsulation:2})}return a})(),bo=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._formatoEnsinoService=t,this.bsModalRef=o,this.saving=!1,this.formatoEnsino=new c.Avm,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,this._formatoEnsinoService.create(this.formatoEnsino).subscribe(i=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(i)})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.ql_),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["createFormatoEnsinoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","formatoEnsino",3,"formatoEnsino"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"formato-ensino-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"CreateNewFormatoEnsino")),e.R7$(3),e.Y8G("formatoEnsino",o.formatoEnsino),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.cb,r.Y4,r.cV,j.x,R.z,fo,f.S],encapsulation:2})}return a})();const Nl=(a,d,i)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:i});function Vl(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function Bl(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"button",38),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.detailsFormatoEnsino(o))}),e.nrm(7,"i",14),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"button",39),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.delete(o))}),e.nrm(11,"i",40),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){const i=d.$implicit,t=e.XpG();e.R7$(2),e.JRh(i.nome),e.R7$(2),e.JRh(i.desc.length>t.maxDescLength?i.desc.slice(0,t.maxDescLength)+"...":i.desc),e.R7$(4),e.SpI(" ",e.bMT(9,4,"Details")," "),e.R7$(4),e.SpI(" ",e.bMT(13,6,"Delete")," ")}}let zl=(()=>{class a extends A{constructor(i,t,o,n,s){super(i),this._formatoEnsinoService=t,this._modalService=o,this._router=n,this._route=s,this.formatosEnsino=[],this.maxDescLength=250,this.keyword="",this.advancedFiltersVisible=!1}createFormatoEnsino(){let i;i=this._modalService.show(bo,{class:"modal-lg"}),i.content.onSave.subscribe(t=>{this.refresh(),this._router.navigate(["details",t.id],{relativeTo:this._route})})}detailsFormatoEnsino(i){this._router.navigate(["details",i.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.getDataPage(1)}list(i,t,o){i.keyword=this.keyword,this._formatoEnsinoService.getAll(i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.formatosEnsino=n.items,this.showPaging(n,t)})}delete(i){abp.message.confirm("O seguinte formatoensino ser\xe1 exclu\xeddo do banco",void 0,t=>{t&&this._formatoEnsinoService.delete(i.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.ql_),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:59,vars:38,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createFormatoEnsino()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,Vl,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th",24),e.EFF(42),e.nI1(43,"localize"),e.k0s()()(),e.j41(44,"tbody"),e.DNE(45,Bl,14,8,"tr",25),e.nI1(46,"paginate"),e.k0s()()()(),e.j41(47,"div",26)(48,"div",2)(49,"div",27)(50,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(51,"i",29),e.k0s()(),e.j41(52,"div",30)(53,"p",31),e.EFF(54),e.nI1(55,"localize"),e.k0s()(),e.j41(56,"div",32)(57,"div",33)(58,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&t&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,16,"Formatos de Ensino")),e.R7$(5),e.SpI(" ",e.bMT(12,18,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,20,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,22,"Nome")),e.R7$(3),e.JRh(e.bMT(40,24,"Descri\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(43,26,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(46,28,o.formatosEnsino,e.sMw(34,Nl,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(55,31,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,r.me,r.BC,r.vS,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})(),Yl=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._formatoensinoService=t,this.bsModalRef=o,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,this._formatoensinoService.update(this.formatoEnsino).subscribe(()=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.ql_),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["editFormatoEnsinoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","formatoEnsino",3,"formatoEnsino"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"formato-ensino-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"EditNewFormatoEnsino")),e.R7$(3),e.Y8G("formatoEnsino",o.formatoEnsino),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.cb,r.Y4,r.cV,j.x,R.z,fo,f.S],encapsulation:2})}return a})(),Ul=(()=>{class a extends v.q{constructor(i,t,o,n,s){super(i),this._formatoEnsinoService=t,this._modalService=o,this._router=n,this._route=s}ngOnInit(){this.id=Number(this._route.snapshot.paramMap.get("formatoEnsinoId")),this.refresh()}refresh(){this._formatoEnsinoService.get(this.id).subscribe(i=>{this.formatoEnsino=i})}goBack(){this._router.navigate(["../.."],{relativeTo:this._route})}editInfo(){let i,t=new c.Avm(this.formatoEnsino);i=this._modalService.show(Yl,{class:"modal-lg",initialState:{formatoEnsino:t}}),i.content.onSave.subscribe(()=>{this.refresh()})}toRefBibDetails(){}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.ql_),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:24,vars:9,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","m-0","p-0"],[1,"row","m-0","px-2","text-center","justify-content-end"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-alt-pencil"]],template:function(t,o){1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes do Formato de Ensino "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"div",13),e.EFF(18),e.k0s(),e.j41(19,"div",14)(20,"button",15),e.bIt("click",function(){return o.editInfo()}),e.nrm(21,"i",16),e.EFF(22),e.nI1(23,"localize"),e.k0s()()()()()()()),2&t&&(e.Y8G("@routerTransition",void 0),e.R7$(11),e.SpI(" ",null==o.formatoEnsino?null:o.formatoEnsino.nome," "),e.R7$(4),e.Y8G("heading",e.bMT(16,5,"Informa\xe7\xe3o Geral")),e.R7$(3),e.SpI(" ",null==o.formatoEnsino?null:o.formatoEnsino.desc," "),e.R7$(4),e.SpI(" ",e.bMT(23,7,"Edit")," "))},dependencies:[S.V6,S.fw,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const Xl=(a,d,i)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:i});function Hl(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function xl(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"button",38),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.detailsHierarquiaAjuda(o))}),e.nrm(9,"i",14),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"button",39),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.delete(o))}),e.nrm(13,"i",40),e.EFF(14),e.nI1(15,"localize"),e.k0s()()()}if(2&a){let i;const t=d.$implicit;e.R7$(2),e.JRh(t.nome),e.R7$(2),e.JRh(null!==(i=t.desc)&&void 0!==i?i:"-"),e.R7$(2),e.JRh(t.tiposAjuda.length),e.R7$(4),e.SpI(" ",e.bMT(11,5,"Details")," "),e.R7$(4),e.SpI(" ",e.bMT(15,7,"Delete")," ")}}let ql=(()=>{class a extends A{constructor(i,t,o,n,s){super(i),this._hierarquiaAjudaService=t,this._modalService=o,this._router=n,this._route=s,this.hierarquiasAjuda=[],this.maxDescLength=250,this.keyword="",this.advancedFiltersVisible=!1}createHierarquiaAjuda(){this._router.navigate(["create"],{relativeTo:this._route})}detailsHierarquiaAjuda(i){this._router.navigate(["details",i.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.getDataPage(1)}list(i,t,o){i.keyword=this.keyword,this._hierarquiaAjudaService.getAll(i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.hierarquiasAjuda=n.items,this.showPaging(n,t)})}delete(i){abp.message.confirm("O seguinte hierarquiaajuda ser\xe1 exclu\xeddo do banco",void 0,t=>{t&&this._hierarquiaAjudaService.delete(i.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.QkB),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:62,vars:41,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createHierarquiaAjuda()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,Hl,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th",24),e.EFF(45),e.nI1(46,"localize"),e.k0s()()(),e.j41(47,"tbody"),e.DNE(48,xl,16,9,"tr",25),e.nI1(49,"paginate"),e.k0s()()()(),e.j41(50,"div",26)(51,"div",2)(52,"div",27)(53,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(54,"i",29),e.k0s()(),e.j41(55,"div",30)(56,"p",31),e.EFF(57),e.nI1(58,"localize"),e.k0s()(),e.j41(59,"div",32)(60,"div",33)(61,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&t&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,17,"Hierarquias de Ajuda")),e.R7$(5),e.SpI(" ",e.bMT(12,19,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,21,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,23,"Nome")),e.R7$(3),e.JRh(e.bMT(40,25,"Descri\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(43,27,"No. Tipos Ajuda")),e.R7$(3),e.JRh(e.bMT(46,29,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(49,31,o.hierarquiasAjuda,e.sMw(37,Xl,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(58,34,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,r.me,r.BC,r.vS,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();function Ol(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",16)(1,"label",17),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",18)(5,"div",3)(6,"label",17),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",5)(10,"input",19,0),e.mxI("ngModelChange",function(o){const n=e.eBV(i).$implicit;return e.DH7(n.nome,o)||(n.nome=o),e.Njj(o)}),e.k0s(),e.nrm(13,"abp-validation-summary",7),e.k0s()(),e.j41(14,"div",8)(15,"label",17),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.j41(18,"div",5)(19,"input",20,2),e.mxI("ngModelChange",function(o){const n=e.eBV(i).$implicit;return e.DH7(n.sigla,o)||(n.sigla=o),e.Njj(o)}),e.k0s(),e.nrm(22,"abp-validation-summary",7),e.k0s()(),e.j41(23,"div",21)(24,"label",17),e.EFF(25),e.nI1(26,"localize"),e.k0s(),e.j41(27,"div",5)(28,"textarea",22,1),e.mxI("ngModelChange",function(o){const n=e.eBV(i).$implicit;return e.DH7(n.desc,o)||(n.desc=o),e.Njj(o)}),e.EFF(31,"                "),e.k0s(),e.nrm(32,"abp-validation-summary",7),e.k0s()()(),e.j41(33,"div",23)(34,"button",24),e.bIt("click",function(){const o=e.eBV(i).index,n=e.XpG();return e.Njj(n.rmvTipoAjuda(o))}),e.nrm(35,"i",25),e.k0s()()()}if(2&a){const i=d.$implicit,t=d.index,o=e.sdS(11),n=e.sdS(12),s=e.sdS(20),l=e.sdS(21),m=e.sdS(29),p=e.sdS(30),_=e.XpG();e.R7$(),e.Y8G("for","tipo"+t),e.R7$(),e.SpI(" ",e.bMT(3,27,"Tipo de Ajuda "+(t+1))," "),e.R7$(4),e.Y8G("for","nome"+t),e.R7$(),e.SpI(" ",e.bMT(8,29,"Nome")," "),e.R7$(3),e.Y8G("name","nome"+t)("id","nome"+t),e.R50("ngModel",i.nome),e.Y8G("disabled",_.disabled),e.R7$(3),e.Y8G("control",o)("controlEl",n),e.R7$(2),e.Y8G("for","sigla"+t),e.R7$(),e.SpI(" ",e.bMT(17,31,"Sigla")," "),e.R7$(3),e.Y8G("name","sigla"+t)("id","sigla"+t),e.R50("ngModel",i.sigla),e.Y8G("disabled",_.disabled),e.R7$(3),e.Y8G("control",s)("controlEl",l),e.R7$(2),e.Y8G("for","desc"+t),e.R7$(),e.SpI(" ",e.bMT(26,33,"Descri\xe7\xe3o")," "),e.R7$(3),e.Y8G("name","desc"+t)("id","desc"+t),e.R50("ngModel",i.desc),e.Y8G("disabled",_.disabled),e.R7$(4),e.Y8G("control",m)("controlEl",p),e.R7$(2),e.Y8G("disabled",_.disabled)}}let go=(()=>{class a extends Y{constructor(i){super(i)}ngOnInit(){}addTipoAjuda(){this.hierarquiaAjuda.tiposAjuda.push(new c.RM4)}rmvTipoAjuda(i){this.hierarquiaAjuda.tiposAjuda.splice(i,1)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["hierarquia-ajuda-form"]],inputs:{hierarquiaAjuda:"hierarquiaAjuda"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:28,vars:19,consts:[["nomeModel","ngModel","nomeEl",""],["descModel","ngModel","descEl",""],["siglaModel","ngModel","siglaEl",""],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","ngModel","disabled"],[3,"control","controlEl"],[1,"form-group","row"],["for","desc",1,"col-md-3","col-form-label"],["type","text","name","desc","id","desc","maxlength","500",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"row","m-0","p-0"],["class","form-group row m-0 ml-2 mb-2 px-2 py-3","style","border: 1px solid lightgray; border-radius: 10px;",4,"ngFor","ngForOf"],[1,"row","m-0","p-0","justify-content-center"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"fa","fa-plus-square"],[1,"form-group","row","m-0","ml-2","mb-2","px-2","py-3",2,"border","1px solid lightgray","border-radius","10px"],[1,"col-md-3","col-form-label",3,"for"],[1,"col-md-8"],["type","text","required","","maxlength","100",1,"form-control",3,"ngModelChange","name","id","ngModel","disabled"],["type","text","maxlength","100",1,"form-control",3,"ngModelChange","name","id","ngModel","disabled"],[1,"form-group","row","mb-0"],["type","text","maxlength","500",1,"form-control",3,"ngModelChange","name","id","ngModel","disabled"],[1,"col-md-1"],["type","button",1,"btn","btn-danger",3,"click","disabled"],[1,"fa","fa-x"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div",3)(1,"label",4),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",5)(5,"input",6,0),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.hierarquiaAjuda.nome,l)||(o.hierarquiaAjuda.nome=l),e.Njj(l)}),e.k0s(),e.nrm(8,"abp-validation-summary",7),e.k0s()(),e.j41(9,"div",8)(10,"label",9),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",5)(14,"textarea",10,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.hierarquiaAjuda.desc,l)||(o.hierarquiaAjuda.desc=l),e.Njj(l)}),e.EFF(17,"        "),e.k0s(),e.nrm(18,"abp-validation-summary",7),e.k0s()(),e.j41(19,"div",11)(20,"label"),e.EFF(21,"Tipos de Ajuda"),e.k0s()(),e.DNE(22,Ol,36,35,"div",12),e.j41(23,"div",13)(24,"button",14),e.bIt("click",function(){return e.eBV(n),e.Njj(o.addTipoAjuda())}),e.nrm(25,"i",15),e.EFF(26),e.nI1(27,"localize"),e.k0s()()}if(2&t){const n=e.sdS(6),s=e.sdS(7),l=e.sdS(15),m=e.sdS(16);e.R7$(2),e.SpI(" ",e.bMT(3,13,"Nome")," "),e.R7$(3),e.R50("ngModel",o.hierarquiaAjuda.nome),e.Y8G("disabled",o.disabled),e.R7$(3),e.Y8G("control",n)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,15,"Descri\xe7\xe3o")," "),e.R7$(3),e.R50("ngModel",o.hierarquiaAjuda.desc),e.Y8G("disabled",o.disabled),e.R7$(4),e.Y8G("control",l)("controlEl",m),e.R7$(4),e.Y8G("ngForOf",o.hierarquiaAjuda.tiposAjuda),e.R7$(2),e.Y8G("disabled",o.disabled),e.R7$(2),e.SpI(" ",e.bMT(27,17,"Add Tipo de Ajuda")," ")}},dependencies:[h.Sq,r.me,r.BC,r.YS,r.tU,r.vS,y.e,f.S],encapsulation:2})}return a})(),Jl=(()=>{class a extends v.q{constructor(i,t,o,n,s){super(i),this._hierarquiaAjudaService=t,this._modalService=o,this._router=n,this._route=s,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){this.hierarquiaAjuda=new c.slc,this.hierarquiaAjuda.tiposAjuda=[]}save(){this.saving=!0,this._hierarquiaAjudaService.create(this.hierarquiaAjuda).subscribe(i=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.onSave.emit(i),this._router.navigate(["..","details",i.id],{relativeTo:this._route})})}goBack(){this._router.navigate([".."],{relativeTo:this._route})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.QkB),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:21,vars:8,consts:[["createHierarquiAjudaPage","ngForm"],[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click","disabled"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[2,"height","100%","width","100%","border","0px solid black"],[1,"card",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white"],[1,"card-body"],["ngModelGroup","hierarquiaAjuda",3,"disabled","hierarquiaAjuda"],[1,"row","m-0","mt-4","p-0","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),e.bIt("click",function(){return e.eBV(n),e.Njj(o.goBack())}),e.nrm(6,"i",6),e.k0s()()(),e.j41(7,"div",7)(8,"h1",8),e.EFF(9," Criar Nova Hierarquia de Ajuda "),e.k0s()()()(),e.j41(10,"section",9)(11,"form",10,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(13,"div",11)(14,"div",12)(15,"div",13),e.nrm(16,"hierarquia-ajuda-form",14),e.j41(17,"div",15)(18,"button",16),e.EFF(19),e.nI1(20,"localize"),e.k0s()()()()()()()()}if(2&t){const n=e.sdS(12);e.Y8G("@routerTransition",void 0),e.R7$(5),e.Y8G("disabled",o.saving),e.R7$(11),e.Y8G("disabled",o.saving)("hierarquiaAjuda",o.hierarquiaAjuda),e.R7$(2),e.Y8G("disabled",o.saving||!n.form.valid||0==o.hierarquiaAjuda.tiposAjuda.length),e.R7$(),e.SpI(" ",e.bMT(20,6,"Save")," ")}},dependencies:[r.qT,r.cb,r.Y4,r.cV,go,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const Ll=()=>[];function Zl(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s()()),2&a){const i=d.$implicit;e.R7$(2),e.Lme("",null==i?null:i.nome," ",null!=(null==i?null:i.sigla)?"("+i.sigla+")":"",""),e.R7$(2),e.JRh(null==i?null:i.desc)}}let Wl=(()=>{class a extends v.q{constructor(i,t,o,n,s){super(i),this._hierarquiaAjudaService=t,this._modalService=o,this._router=n,this._route=s,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){this.id=Number(this._route.snapshot.paramMap.get("hierarquiaAjudaId")),this.refresh()}refresh(){this._hierarquiaAjudaService.get(this.id).subscribe(i=>{this.hierarquiaAjuda=i})}save(){}goBack(){this._router.navigate(["../.."],{relativeTo:this._route})}addTipoAjuda(){this.hierarquiaAjuda.tiposAjuda.push(new c.RM4)}rmvTipoAjuda(i){this.hierarquiaAjuda.tiposAjuda.splice(i,1)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.QkB),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:35,vars:14,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","m-0","p-0"],[1,"row","m-0","p-0","mt-4"],[2,"font-size","100%"],[1,"row","mt-0","mb-4","mx-4","p-0"],[1,"table","table-bordered","m-0","p-0"],[1,"bg-light"],[4,"ngFor","ngForOf"]],template:function(t,o){if(1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes da Hierarquia de Ajuda "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"div",13),e.EFF(18),e.k0s(),e.j41(19,"div",14)(20,"h1",15)(21,"b"),e.EFF(22,"Tipos de Ajuda"),e.k0s()()(),e.j41(23,"div",16)(24,"table",17)(25,"thead",18)(26,"tr")(27,"th"),e.EFF(28),e.nI1(29,"localize"),e.k0s(),e.j41(30,"th"),e.EFF(31),e.nI1(32,"localize"),e.k0s()()(),e.j41(33,"tbody"),e.DNE(34,Zl,5,3,"tr",19),e.k0s()()()()()()()()),2&t){let n;e.Y8G("@routerTransition",void 0),e.R7$(11),e.SpI(" ",null==o.hierarquiaAjuda?null:o.hierarquiaAjuda.nome," "),e.R7$(4),e.Y8G("heading",e.bMT(16,7,"Informa\xe7\xe3o Geral")),e.R7$(3),e.SpI(" ",null==o.hierarquiaAjuda?null:o.hierarquiaAjuda.desc," "),e.R7$(10),e.JRh(e.bMT(29,9,"Nome")),e.R7$(3),e.JRh(e.bMT(32,11,"Descri\xe7\xe3o")),e.R7$(3),e.Y8G("ngForOf",null!==(n=null==o.hierarquiaAjuda?null:o.hierarquiaAjuda.tiposAjuda)&&void 0!==n?n:e.lJ4(13,Ll))}},dependencies:[h.Sq,S.V6,S.fw,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const Ql=(a,d,i)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:i});function Kl(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function er(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"button",38),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.detailsProtocoloIntervencao(o))}),e.nrm(7,"i",14),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"button",39),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.delete(o))}),e.nrm(11,"i",40),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){const i=d.$implicit;e.R7$(2),e.JRh(null==i?null:i.nome),e.R7$(2),e.JRh(null==i||null==i.versoes?null:i.versoes.length),e.R7$(4),e.SpI(" ",e.bMT(9,4,"Details")," "),e.R7$(4),e.SpI(" ",e.bMT(13,6,"Delete")," ")}}let or=(()=>{class a extends A{constructor(i,t,o,n,s){super(i),this._protocoloIntervencaoService=t,this._modalService=o,this._router=n,this._route=s,this.protocolosIntervencao=[],this.maxDescLength=250,this.keyword="",this.advancedFiltersVisible=!1}createProtocoloIntervencao(){this._router.navigate(["create"],{relativeTo:this._route})}detailsProtocoloIntervencao(i){this._router.navigate(["details",i.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.getDataPage(1)}list(i,t,o){i.keyword=this.keyword,this._protocoloIntervencaoService.getAll(i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.protocolosIntervencao=n.items,this.showPaging(n,t)})}delete(i){abp.message.confirm("O seguinte protocolo de interven\xe7\xe3o ser\xe1 exclu\xeddo do banco",void 0,t=>{t&&this._protocoloIntervencaoService.delete(i.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.J3u),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:59,vars:38,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createProtocoloIntervencao()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,Kl,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th",24),e.EFF(42),e.nI1(43,"localize"),e.k0s()()(),e.j41(44,"tbody"),e.DNE(45,er,14,8,"tr",25),e.nI1(46,"paginate"),e.k0s()()()(),e.j41(47,"div",26)(48,"div",2)(49,"div",27)(50,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(51,"i",29),e.k0s()(),e.j41(52,"div",30)(53,"p",31),e.EFF(54),e.nI1(55,"localize"),e.k0s()(),e.j41(56,"div",32)(57,"div",33)(58,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&t&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,16,"Protocolos de Interven\xe7\xe3o")),e.R7$(5),e.SpI(" ",e.bMT(12,18,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,20,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,22,"Nome")),e.R7$(3),e.JRh(e.bMT(40,24,"No. de Vers\xf5es")),e.R7$(3),e.JRh(e.bMT(43,26,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(46,28,o.protocolosIntervencao,e.sMw(34,Ql,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(55,31,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,r.me,r.BC,r.vS,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const ir=(a,d,i)=>({id:"select-tecnicas",itemsPerPage:a,currentPage:d,totalItems:i});function tr(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"th"),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"th"),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"td")(8,"button",18),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.selectUnselect(o))}),e.EFF(9),e.nI1(10,"localize"),e.k0s()()()}if(2&a){const i=d.$implicit,t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,null==i?null:i.nome)),e.R7$(3),e.JRh(e.bMT(6,5,null==i?null:i.desc)),e.R7$(4),e.SpI(" ",e.bMT(10,7,t.isSelected(i)?"Remover T\xe9cnica":"Selecionar T\xe9cnica")," ")}}let nr=(()=>{class a extends A{constructor(i,t,o){super(i),this._tecnicaService=t,this.bsModalRef=o,this.saving=!1,this.selected=[],this.tecnicas=[],this.onSubmit=new e.bkB}list(i,t,o){this._tecnicaService.getAll(void 0,void 0,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.tecnicas=n.items,this.showPaging(n,t)})}delete(i){}isSelected(i){return this.selected.some(t=>t.id==i.id)}selectUnselect(i){let t=this.selected.findIndex(o=>o.id==i.id);-1!=t?this.selected.splice(t,1):this.selected.push(i)}submit(){this.saving=!0,this.onSubmit.emit(this.selected),this.bsModalRef.hide(),this.saving=!1}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.$Q8),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:31,vars:23,consts:[["selectTecnicaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","select-tecnicas",3,"pageChange"],[3,"onCancelClick","cancelDisabled"],["type","button",1,"btn","btn-sm","bg-primary",3,"click"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.submit())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"div",4)(6,"table",5)(7,"thead",6)(8,"tr")(9,"th"),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"localize"),e.k0s(),e.nrm(15,"th"),e.k0s()(),e.j41(16,"tbody"),e.DNE(17,tr,11,9,"tr",7),e.nI1(18,"paginate"),e.k0s()()(),e.j41(19,"div",8)(20,"div",9)(21,"button",10),e.bIt("click",function(){return e.eBV(n),e.Njj(o.refresh())}),e.nrm(22,"i",11),e.k0s()(),e.j41(23,"div",12)(24,"p",13),e.EFF(25),e.nI1(26,"localize"),e.k0s()(),e.j41(27,"div",14)(28,"div",15)(29,"abp-pagination-controls",16),e.bIt("pageChange",function(l){return e.eBV(n),e.Njj(o.getDataPage(l))}),e.k0s()()()()(),e.j41(30,"abp-modal-footer",17),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}2&t&&(e.R7$(2),e.Y8G("title",e.bMT(3,7,"Selecionar T\xe9cnicas")),e.R7$(4),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(11,9,"Nome")),e.R7$(3),e.JRh(e.bMT(14,11,"Descri\xe7\xe3o")),e.R7$(4),e.Y8G("ngForOf",e.i5U(18,13,o.tecnicas,e.sMw(19,ir,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(8),e.SpI(" ",e.i5U(26,16,"TotalRecordsCount",o.totalItems)," "),e.R7$(5),e.Y8G("cancelDisabled",o.saving))},dependencies:[h.Sq,r.qT,r.cb,r.cV,G,j.x,R.z,E,f.S,T.kf],encapsulation:2})}return a})(),ar=(()=>{class a extends v.q{constructor(i,t,o,n){super(i),this._protocoloAvaliacaoService=t,this._habilidadeService=o,this.bsModalRef=n,this.saving=!1,this.selected=[],this.dominios=new Map,this.niveis=new Map,this.protocolos=new Map,this.onSubmit=new e.bkB}submit(){this.saving=!0,this.onSubmit.emit(this.selected),this.bsModalRef.hide(),this.saving=!1}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.WDn),e.rXU(c.XPk),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:5,vars:9,consts:[[3,"onCloseClick","title"],[1,"modal-body"],[3,"selectedChange","selected","protocolos","niveis","dominios"],[3,"onCancelClick","saveDisabled","cancelDisabled"]],template:function(t,o){1&t&&(e.j41(0,"abp-modal-header",0),e.nI1(1,"localize"),e.bIt("onCloseClick",function(){return o.bsModalRef.hide()}),e.k0s(),e.j41(2,"div",1)(3,"habilidade-selector",2),e.mxI("selectedChange",function(s){return e.DH7(o.selected,s)||(o.selected=s),s}),e.k0s()(),e.j41(4,"abp-modal-footer",3),e.bIt("onCancelClick",function(){return o.bsModalRef.hide()}),e.k0s()),2&t&&(e.Y8G("title",e.bMT(1,7,"Selecionar Alvos")),e.R7$(3),e.R50("selected",o.selected),e.Y8G("protocolos",o.protocolos)("niveis",o.niveis)("dominios",o.dominios),e.R7$(),e.Y8G("saveDisabled",o.saving)("cancelDisabled",o.saving))},dependencies:[j.x,R.z,qe,f.S],encapsulation:2})}return a})();function sr(a,d){if(1&a&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",i.id),e.R7$(),e.SpI(" ",i.nome," ")}}function lr(a,d){if(1&a&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",i.id),e.R7$(),e.SpI(" ",i.nome," ")}}function rr(a,d){if(1&a&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",i.id),e.R7$(),e.SpI(" ",i.nome," ")}}let dr=(()=>{class a extends v.q{set passo(i){this._passo=i}get passo(){return this._passo}constructor(i,t,o){super(i),this._changeDetector=t,this.bsModalRef=o,this.saving=!1,this._passo=new c.h2k,this.onSubmit=new e.bkB}ngOnInit(){this.passo=new c.h2k}save(){this.saving=!0,this.onSubmit.emit(this.passo),this.bsModalRef.hide(),this.saving=!1}set objetivosAlvoId(i){this._objetivosAlvoId=i,this.objetivosAlvo=[],this._objetivosAlvoId.forEach(t=>{this.objetivosAlvo.push(this.habilidades.find(o=>o.id==t))}),this._changeDetector.detectChanges()}get objetivosAlvoId(){return this._objetivosAlvoId}get marcoHabilidadeLinhaDeBaseId(){return this.passo.marcoHabilidadeLinhaDeBaseId?.toString()??""}set marcoHabilidadeLinhaDeBaseId(i){this.passo.marcoHabilidadeLinhaDeBaseId=""!=i?Number(i):void 0}get marcoHabilidadeIntroducaoId(){return this.passo.marcoHabilidadeIntroducaoId?.toString()??""}set marcoHabilidadeIntroducaoId(i){this.passo.marcoHabilidadeIntroducaoId=""!=i?Number(i):void 0}get marcoHabilidadeCriterioAlcancadoId(){return this.passo.marcoHabilidadeCriterioAlcancadoId?.toString()??""}set marcoHabilidadeCriterioAlcancadoId(i){this.passo.marcoHabilidadeCriterioAlcancadoId=""!=i?Number(i):void 0}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(e.gRc),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],inputs:{habilidades:"habilidades",objetivosAlvoId:"objetivosAlvoId"},outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:48,vars:32,consts:[["createPassoProtIntervencaoModal","ngForm"],["descModel","ngModel","descEl",""],["marcoHabilidadeLinhaDeBaseModel","ngModel","marcoHabilidadeLinhaDeBaseEl",""],["marcoHabilidadeIntroducaoModel","ngModel","marcoHabilidadeIntroducaoEl",""],["marcoHabilidadeCriterioAlcancadoModel","ngModel","marcoHabilidadeCriterioAlcancadoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","passo",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","desc","id","desc","required","","maxlength","500",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","marcoHabilidadeLinhaDeBase",1,"col-md-3","col-form-label"],["name","marcoHabilidadeLinhaDeBase","id","marcoHabilidadeLinhaDeBase",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","marcoHabilidadeIntroducao",1,"col-md-3","col-form-label"],["name","marcoHabilidadeIntroducao","id","marcoHabilidadeIntroducao",1,"form-control",3,"ngModelChange","ngModel"],["for","marcoHabilidadeCriterioAlcancado",1,"col-md-3","col-form-label"],["name","marcoHabilidadeCriterioAlcancado","id","marcoHabilidadeCriterioAlcancado",1,"form-control",3,"ngModelChange","ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",5,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",6),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",7)(5,"div",8)(6,"label",9),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",10)(10,"input",11,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.passo.desc,l)||(o.passo.desc=l),e.Njj(l)}),e.k0s(),e.nrm(13,"abp-validation-summary",12),e.k0s()(),e.j41(14,"div",13)(15,"label",14),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.j41(18,"div",10)(19,"select",15,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.marcoHabilidadeLinhaDeBaseId,l)||(o.marcoHabilidadeLinhaDeBaseId=l),e.Njj(l)}),e.nrm(22,"option",16),e.DNE(23,sr,2,2,"option",17),e.k0s(),e.nrm(24,"abp-validation-summary",12),e.k0s()(),e.j41(25,"div",13)(26,"label",18),e.EFF(27),e.nI1(28,"localize"),e.k0s(),e.j41(29,"div",10)(30,"select",19,3),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.marcoHabilidadeIntroducaoId,l)||(o.marcoHabilidadeIntroducaoId=l),e.Njj(l)}),e.nrm(33,"option",16),e.DNE(34,lr,2,2,"option",17),e.k0s(),e.nrm(35,"abp-validation-summary",12),e.k0s()(),e.j41(36,"div",13)(37,"label",20),e.EFF(38),e.nI1(39,"localize"),e.k0s(),e.j41(40,"div",10)(41,"select",21,4),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.marcoHabilidadeCriterioAlcancadoId,l)||(o.marcoHabilidadeCriterioAlcancadoId=l),e.Njj(l)}),e.nrm(44,"option",16),e.DNE(45,rr,2,2,"option",17),e.k0s(),e.nrm(46,"abp-validation-summary",12),e.k0s()()(),e.j41(47,"abp-modal-footer",22),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1),s=e.sdS(11),l=e.sdS(12),m=e.sdS(20),p=e.sdS(21),_=e.sdS(31),C=e.sdS(32),F=e.sdS(42),I=e.sdS(43);e.R7$(2),e.Y8G("title",e.bMT(3,22,"CreatePassoProtIntervencao")),e.R7$(5),e.SpI(" ",e.bMT(8,24,"Descri\xe7\xe3o Curta")," "),e.R7$(3),e.R50("ngModel",o.passo.desc),e.R7$(3),e.Y8G("control",s)("controlEl",l),e.R7$(3),e.SpI(" ",e.bMT(17,26,"Marco de Linha de Base")," "),e.R7$(3),e.R50("ngModel",o.marcoHabilidadeLinhaDeBaseId),e.R7$(4),e.Y8G("ngForOf",o.objetivosAlvo),e.R7$(),e.Y8G("control",m)("controlEl",p),e.R7$(3),e.SpI(" ",e.bMT(28,28,"Marco de Introdu\xe7\xe3o")," "),e.R7$(3),e.R50("ngModel",o.marcoHabilidadeIntroducaoId),e.R7$(4),e.Y8G("ngForOf",o.objetivosAlvo),e.R7$(),e.Y8G("control",_)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(39,30,"Marco de Crit\xe9rio Alcan\xe7ado")," "),e.R7$(3),e.R50("ngModel",o.marcoHabilidadeCriterioAlcancadoId),e.R7$(4),e.Y8G("ngForOf",o.objetivosAlvo),e.R7$(),e.Y8G("control",F)("controlEl",I),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[h.Sq,r.qT,r.xH,r.y7,r.me,r.wz,r.BC,r.cb,r.YS,r.tU,r.vS,r.cV,y.e,j.x,R.z,f.S],encapsulation:2})}return a})();const cr=(a,d,i)=>({id:"select-formatos-ensino",itemsPerPage:a,currentPage:d,totalItems:i});function ur(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"th"),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"th"),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"td")(8,"button",18),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.selectUnselect(o))}),e.EFF(9),e.nI1(10,"localize"),e.k0s()()()}if(2&a){const i=d.$implicit,t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,null==i?null:i.nome)),e.R7$(3),e.JRh(e.bMT(6,5,null==i?null:i.desc)),e.R7$(4),e.SpI(" ",e.bMT(10,7,t.isSelected(i)?"Remover Formato de Ensino":"Selecionar Formato de Ensino")," ")}}let mr=(()=>{class a extends A{constructor(i,t,o){super(i),this._formatoEnsinoService=t,this.bsModalRef=o,this.saving=!1,this.selected=[],this.formatosEnsino=[],this.novoFormatoEnsino=void 0,this.onSubmit=new e.bkB}list(i,t,o){this._formatoEnsinoService.getAll(i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.formatosEnsino=n.items,this.showPaging(n,t)})}delete(i){}isSelected(i){return this.selected.some(t=>t.id==i.id)}selectUnselect(i){let t=this.selected.findIndex(o=>o.id==i.id);-1!=t?this.selected.splice(t,1):this.selected.push(i)}criarNovoFormatoEnsino(){this.novoFormatoEnsino=new c.Avm}saveNovoFormatoEnsino(){this.saving=!0,this._formatoEnsinoService.create(this.novoFormatoEnsino).subscribe(i=>{this.selected.push(i),this.novoFormatoEnsino=void 0,this.saving=!1,this.refresh()})}save(){this.saving=!0,this.onSubmit.emit(this.selected),this.bsModalRef.hide(),this.saving=!1}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.ql_),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:31,vars:24,consts:[["selectFormatosEnsinoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","select-formatos-ensino",3,"pageChange"],[3,"onCancelClick","cancelDisabled","saveDisabled"],["type","button",1,"btn","btn-sm","bg-primary",3,"click"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"div",4)(6,"table",5)(7,"thead",6)(8,"tr")(9,"th"),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"localize"),e.k0s(),e.nrm(15,"th"),e.k0s()(),e.j41(16,"tbody"),e.DNE(17,ur,11,9,"tr",7),e.nI1(18,"paginate"),e.k0s()()(),e.j41(19,"div",8)(20,"div",9)(21,"button",10),e.bIt("click",function(){return e.eBV(n),e.Njj(o.refresh())}),e.nrm(22,"i",11),e.k0s()(),e.j41(23,"div",12)(24,"p",13),e.EFF(25),e.nI1(26,"localize"),e.k0s()(),e.j41(27,"div",14)(28,"div",15)(29,"abp-pagination-controls",16),e.bIt("pageChange",function(l){return e.eBV(n),e.Njj(o.getDataPage(l))}),e.k0s()()()()(),e.j41(30,"abp-modal-footer",17),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}2&t&&(e.R7$(2),e.Y8G("title",e.bMT(3,8,"SelectFormatoEnsino")),e.R7$(4),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(11,10,"Nome")),e.R7$(3),e.JRh(e.bMT(14,12,"Descri\xe7\xe3o")),e.R7$(4),e.Y8G("ngForOf",e.i5U(18,14,o.formatosEnsino,e.sMw(20,cr,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(8),e.SpI(" ",e.i5U(26,17,"TotalRecordsCount",o.totalItems)," "),e.R7$(5),e.Y8G("cancelDisabled",o.saving)("saveDisabled",o.saving))},dependencies:[h.Sq,r.qT,r.cb,r.cV,G,j.x,R.z,E,f.S,T.kf],encapsulation:2})}return a})(),pr=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._hierarquiaAjudaService=t,this.bsModalRef=o,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){this.hierarquiaAjuda=new c.GY4,this.hierarquiaAjuda.tiposAjuda=[]}save(){this.saving=!0,this._hierarquiaAjudaService.create(this.hierarquiaAjuda).subscribe(i=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(i)})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.QkB),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["createHierarquiaAjudaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","hierarquiaAjuda",3,"disabled","hierarquiaAjuda"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"hierarquia-ajuda-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"CreateNewHierarquiaAjuda")),e.R7$(3),e.Y8G("disabled",o.saving)("hierarquiaAjuda",o.hierarquiaAjuda),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving||0==o.hierarquiaAjuda.tiposAjuda.length)}},dependencies:[r.qT,r.cb,r.Y4,r.cV,j.x,R.z,go,f.S],encapsulation:2})}return a})();const hr=(a,d,i)=>({id:"select-hierarquia-ajuda",itemsPerPage:a,currentPage:d,totalItems:i});function fr(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"th"),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"th"),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"td")(8,"button",15),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.select(o))}),e.EFF(9),e.nI1(10,"localize"),e.k0s()()()}if(2&a){const i=d.$implicit,t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,4,null==i?null:i.nome)),e.R7$(3),e.JRh(e.bMT(6,6,t.getTiposDeAjudaString(i))),e.R7$(3),e.Y8G("disabled",t.isSelected(i)),e.R7$(),e.SpI(" ",e.bMT(10,8,"Selecionar Hierarquia de Ajuda")," ")}}let br=(()=>{class a extends A{constructor(i,t,o){super(i),this._hierarquiaService=t,this.bsModalRef=o,this.saving=!1,this.hierarquias=[],this.onSubmit=new e.bkB}list(i,t,o){this._hierarquiaService.getAll(i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.hierarquias=n.items,this.showPaging(n,t)})}delete(i){}isSelected(i){return null!=this.selected&&this.selected.id==i.id}getTiposDeAjudaString(i){let t="";return i.tiposAjuda.forEach(o=>{let n=o?.sigla??"";t+=(""==n?o?.nome??"":n)+", "}),t.slice(0,t.length-2)}select(i){this.saving=!0,this.onSubmit.emit(i),this.bsModalRef.hide(),this.saving=!1}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.QkB),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:28,vars:22,consts:[[3,"onCloseClick","title"],[1,"modal-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","select-hierarquia-ajuda",3,"pageChange"],["type","button",1,"btn","btn-sm","bg-primary",3,"click","disabled"]],template:function(t,o){1&t&&(e.j41(0,"abp-modal-header",0),e.nI1(1,"localize"),e.bIt("onCloseClick",function(){return o.bsModalRef.hide()}),e.k0s(),e.j41(2,"div",1)(3,"div",2)(4,"table",3)(5,"thead",4)(6,"tr")(7,"th"),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.nrm(13,"th"),e.k0s()(),e.j41(14,"tbody"),e.DNE(15,fr,11,10,"tr",5),e.nI1(16,"paginate"),e.k0s()()(),e.j41(17,"div",6)(18,"div",7)(19,"button",8),e.bIt("click",function(){return o.refresh()}),e.nrm(20,"i",9),e.k0s()(),e.j41(21,"div",10)(22,"p",11),e.EFF(23),e.nI1(24,"localize"),e.k0s()(),e.j41(25,"div",12)(26,"div",13)(27,"abp-pagination-controls",14),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()),2&t&&(e.Y8G("title",e.bMT(1,6,"Selecionar Hierarquia de Ajuda")),e.R7$(4),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(9,8,"Nome")),e.R7$(3),e.JRh(e.bMT(12,10,"Tipos de Ajuda")),e.R7$(4),e.Y8G("ngForOf",e.i5U(16,12,o.hierarquias,e.sMw(18,hr,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(8),e.SpI(" ",e.i5U(24,15,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,G,j.x,E,f.S,T.kf],encapsulation:2})}return a})(),gr=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._habilidadeService=t,this.bsModalRef=o,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){this.habilidade=new c.ftG,this.habilidade.isPersonalizada=!0}save(){this.saving=!0,this._habilidadeService.create(this.habilidade).subscribe(i=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(i)})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.XPk),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["createHabilidadeAvulsaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","habilidade",3,"habilidade"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"habilidade-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"CreateNewHabilidadeAvulsa")),e.R7$(3),e.Y8G("habilidade",o.habilidade),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.cb,r.Y4,r.cV,j.x,R.z,K,f.S],encapsulation:2})}return a})();const _r=()=>[2,3,4,5,6,7],vr=()=>[];function Cr(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",68)(1,"div",69),e.EFF(2),e.k0s(),e.j41(3,"div",24)(4,"button",70),e.bIt("click",function(){const o=e.eBV(i).index,n=e.XpG();return e.Njj(n.rmvAlvo(o))}),e.nrm(5,"i",71),e.k0s()()()}if(2&a){const i=d.$implicit,t=e.XpG();e.R7$(2),e.SpI(" ",t.getHabilidadeString(i.id)," "),e.R7$(2),e.Y8G("disabled",t.habilidadesLoading||t.saving||t.disabled)}}function Ir(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",68)(1,"div",72),e.EFF(2),e.k0s(),e.j41(3,"div",73)(4,"button",70),e.bIt("click",function(){const o=e.eBV(i).index,n=e.XpG();return e.Njj(n.rmvFormatoEnsino(o))}),e.nrm(5,"i",71),e.k0s()()()}if(2&a){const i=d.$implicit,t=e.XpG();e.R7$(2),e.SpI(" ",t.getFormatoEnsinoNome(i.id)," "),e.R7$(2),e.Y8G("disabled",t.formatosEnsinoLoading||t.saving||t.disabled)}}function Fr(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",38)(1,"label",39),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"input",74,13),e.mxI("ngModelChange",function(o){const n=e.eBV(i).$implicit,s=e.XpG();return e.DH7(s.versao["tentativas_Dia"+n],o)||(s.versao["tentativas_Dia"+n]=o),e.Njj(o)}),e.k0s(),e.nrm(7,"abp-validation-summary",18),e.k0s()}if(2&a){const i=d.$implicit,t=e.sdS(5),o=e.sdS(6),n=e.XpG();e.R7$(2),e.Lme("",e.bMT(3,8,"Dia")," ",i,""),e.R7$(2),e.Y8G("name","tentativas"+i)("id","tentativas"+i),e.R50("ngModel",n.versao["tentativas_Dia"+i]),e.Y8G("disabled",n.saving||n.disabled),e.R7$(3),e.Y8G("control",t)("controlEl",o)}}function kr(a,d){1&a&&(e.j41(0,"div",75),e.EFF(1),e.nI1(2,"localize"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"N\xe3o selecionada")," "))}function jr(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",75)(1,"div",73),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",73)(5,"button",70),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.unselectHierarquiaAjuda())}),e.nrm(6,"i",71),e.k0s()()()}if(2&a){const i=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,2,i.getHierarquiaAjudaNome())," "),e.R7$(3),e.Y8G("disabled",i.saving||i.disabled)}}function Rr(a,d){if(1&a&&(e.j41(0,"option",76),e.EFF(1),e.k0s()),2&a){const i=d.$implicit,t=e.XpG();e.Y8G("value",i.id),e.R7$(),e.JRh(t.getHabilidadeString(i.id))}}function Sr(a,d){if(1&a&&(e.j41(0,"option",76),e.EFF(1),e.k0s()),2&a){const i=d.$implicit,t=e.XpG();e.Y8G("value",i.id),e.R7$(),e.JRh(t.getHabilidadeString(i.id))}}function Mr(a,d){if(1&a&&(e.j41(0,"option",76),e.EFF(1),e.k0s()),2&a){const i=d.$implicit,t=e.XpG();e.Y8G("value",null==i?null:i.id),e.R7$(),e.JRh(t.getHabilidadeString(i.id))}}function Er(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",77)(1,"div",24)(2,"label",75),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"div",78),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"div",78),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"div",78),e.EFF(12),e.nI1(13,"localize"),e.k0s()(),e.j41(14,"button",79),e.bIt("click",function(){const o=e.eBV(i).index,n=e.XpG();return e.Njj(n.rmvPasso(o))}),e.nrm(15,"i",71),e.k0s()()}if(2&a){let i,t,o;const n=d.$implicit,s=d.index,l=e.XpG();e.R7$(3),e.Lme("",e.bMT(4,9,"Passo "+(s+1)),": ",null==n?null:n.desc,""),e.R7$(3),e.Lme("",e.bMT(7,11,"Marco de Linha de Base"),": ",null!==(i=l.getHabilidadeString(null==n?null:n.marcoHabilidadeLinhaDeBaseId))&&void 0!==i?i:"Nenhum",""),e.R7$(3),e.Lme("",e.bMT(10,13,"Marco de Introdu\xe7\xe3o"),": ",null!==(t=l.getHabilidadeString(null==n?null:n.marcoHabilidadeIntroducaoId))&&void 0!==t?t:"Nenhum",""),e.R7$(3),e.Lme("",e.bMT(13,15,"Marco de Crit\xe9rio Alcan\xe7ado"),": ",null!==(o=l.getHabilidadeString(null==n?null:n.marcoHabilidadeCriterioAlcancadoId))&&void 0!==o?o:"Nenhum",""),e.R7$(2),e.Y8G("disabled",l.saving||l.disabled)}}function Tr(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",80)(1,"div",81),e.EFF(2),e.k0s(),e.j41(3,"div",82)(4,"button",70),e.bIt("click",function(){const o=e.eBV(i).index,n=e.XpG();return e.Njj(n.rmvTecnica(o))}),e.nrm(5,"i",71),e.k0s()()()}if(2&a){const i=d.$implicit,t=e.XpG();e.R7$(2),e.SpI(" ",t.getTecnicaNome(i.id)," "),e.R7$(2),e.Y8G("disabled",t.tecnicasLoading||t.saving||t.disabled)}}let ue=(()=>{class a extends Y{get versao(){return this._versao}set versao(i){this._versao=i,this.loadSuplementaryData()}updateLoading(){this.loadingChange.emit(this.habilidadesLoading||this.dominiosLoading||this.niveisLoading||this.protocolosAvaliacaoLoading||this.formatosEnsinoLoading||this.hierarquiaAjudaLoading||this.tecnicasLoading)}constructor(i,t,o,n,s,l,m,p,_,C,F){super(i),this._protocoloIntervencaoService=t,this._formatoEnsinoService=o,this._hierarquiaAjudaService=n,this._protocoloAvaliacaoService=s,this._habilidadeService=l,this._tecnicaService=m,this._changeDetector=p,this._modalService=_,this._router=C,this._route=F,this.versaoChange=new e.bkB,this.loadingChange=new e.bkB,this.disabled=!1,this.saving=!1,this.protocolosAvaliacaoMap=new Map,this.niveisMap=new Map,this.dominiosMap=new Map,this.habilidadesMap=new Map,this.formatosEnsinoMap=new Map,this.tecnicasMap=new Map}loadSuplementaryData(){this.loadHabilidades(),this.loadFormatosEnsino(),this.loadHierarquiaAjuda(),this.loadTecnicas()}loadHabilidades(){(this.versao?.objetivosAlvo?.length??0)>0&&(this.protocolosAvaliacaoLoading=!0,this.updateLoading(),this._protocoloAvaliacaoService.getAll(void 0,void 0,this.versao.objetivosAlvo.map(i=>i.id),0,this.versao.objetivosAlvo.length).subscribe(i=>{this.protocolosAvaliacaoMap=new Map,i.items.forEach(t=>this.protocolosAvaliacaoMap.set(t.id,t)),this.protocolosAvaliacaoLoading=!1,this.updateLoading()}),this.niveisLoading=!0,this.updateLoading(),this._protocoloAvaliacaoService.getAllNiveis(void 0,void 0,void 0,this.versao.objetivosAlvo.map(i=>i.id),0,this.versao.objetivosAlvo.length).subscribe(i=>{this.niveisMap=new Map,i.items.forEach(t=>this.niveisMap.set(t.id,t)),this.niveisLoading=!1,this.updateLoading()}),this.dominiosLoading=!0,this.updateLoading(),this._protocoloAvaliacaoService.getAllDominios(void 0,void 0,void 0,void 0,this.versao.objetivosAlvo.map(i=>i.id),0,this.versao.objetivosAlvo.length).subscribe(i=>{this.dominiosMap=new Map,i.items.forEach(t=>this.dominiosMap.set(t.id,t)),this.dominiosLoading=!1,this.updateLoading()}),this.habilidadesLoading=!0,this.updateLoading(),this._habilidadeService.getListHabilidades(this.versao.objetivosAlvo.map(i=>i.id)).subscribe(i=>{this.habilidadesMap=new Map,i.forEach(t=>this.habilidadesMap.set(t.id,t)),this.habilidadesLoading=!1,this.updateLoading()}))}loadFormatosEnsino(){if((this.versao?.formatosEnsino?.length??0)>0){this.formatosEnsinoLoading=!0,this.updateLoading(),this.formatosEnsinoMap=new Map;for(let i=0;i<this.versao.formatosEnsino.length;i++)this._formatoEnsinoService.get(this.versao.formatosEnsino[i].id).subscribe(t=>{this.formatosEnsinoMap.set(t.id,t),this.formatosEnsinoMap.size==this.versao.formatosEnsino.length&&(this.formatosEnsinoLoading=!1,this.updateLoading())})}}loadHierarquiaAjuda(){null!=this.versao?.hierarquiaAjudaId&&(this.hierarquiaAjudaLoading=!0,this.updateLoading(),this._hierarquiaAjudaService.get(this.versao.hierarquiaAjudaId).subscribe(i=>{this.hierarquiaAjuda=i,this.hierarquiaAjudaLoading=!1,this.updateLoading()}))}loadTecnicas(){if((this.versao?.tecnicasUtilizadas?.length??0)>0){this.tecnicasLoading=!0,this.updateLoading(),this.tecnicasMap=new Map;for(let i=0;i<this.versao.tecnicasUtilizadas.length;i++)this._tecnicaService.get(this.versao.tecnicasUtilizadas[i].id).subscribe(t=>{this.tecnicasMap.set(t.id,t),this.tecnicasMap.size==this.versao.tecnicasUtilizadas.length&&(this.tecnicasLoading=!1,this.updateLoading())})}}getHabilidadeString(i){if(null==i)return;if(this.habilidadesLoading)return"Carregando...";let t=this.habilidadesMap?.get(Number(i));if(null==t)return"Erro";let o="";if(null!=t.codigo&&(o+="["+t.codigo+"] "),o+=t.nome,null!=t?.dominioId)if(this.dominiosLoading)o+=" (Carregando...)";else{let n=this.dominiosMap.get(t.dominioId);if(null==n)o+="(Erro)";else{if(o+=" (",this.niveisLoading||this.protocolosAvaliacaoLoading)o+="Carregando...";else{let s=this.niveisMap.get(n.nivelId);if(null==s)o+="Erro";else{let l=this.protocolosAvaliacaoMap.get(s?.protocoloAvaliacaoId);o+=l?.nome??"Erro"}}o+=": "+n.nome+")"}}return o}selectAlvos(){let i;i=this._modalService.show(ar,{class:"modal-lg",initialState:{selected:this.versao.objetivosAlvo.map(t=>this.habilidadesMap.get(t.id)),dominios:this.dominiosMap,niveis:this.niveisMap,protocolos:this.protocolosAvaliacaoMap}}),i.content.onSubmit.subscribe((t=>{this.versao.objetivosAlvo=t.map(o=>new c.GOu({id:o.id})),t.forEach(o=>{this.habilidadesMap.set(o.id,o)}),i.content.getSelectedDominios().forEach(o=>{this.dominiosMap.set(o.id,o)}),i.content.getSelectedNiveis().forEach(o=>{this.niveisMap.set(o.id,o)}),i.content.getSelectedProtocolos().forEach(o=>{this.protocolosAvaliacaoMap.set(o.id,o)}),this._changeDetector.detectChanges()}).bind(this))}createHabilidadePersonalizada(){let i;i=this._modalService.show(gr,{class:"modal-lg"}),i.content.onSave.subscribe(t=>{this.versao.objetivosAlvo=this.versao.objetivosAlvo??[],this.versao.objetivosAlvo.push(new c.GOu({id:t.id})),this.habilidadesMap.set(t.id,t),this._changeDetector.detectChanges()})}rmvAlvo(i){this.versao.objetivosAlvo.splice(i,1),this._changeDetector.detectChanges()}getFormatoEnsinoNome(i){return this.formatosEnsinoLoading?"Carregando...":this.formatosEnsinoMap?.get(i)?.nome??"Erro"}selectFormatosEnsino(){let i;i=this._modalService.show(mr,{class:"modal-lg"}),i.content.onSubmit.subscribe(t=>{this.versao.formatosEnsino=t.map(o=>new c.z2i({id:o.id})),t.forEach(o=>this.formatosEnsinoMap.set(o.id,o)),this._changeDetector.detectChanges()})}createFormatoEnsino(){let i;i=this._modalService.show(bo,{class:"modal-lg"}),i.content.onSave.subscribe(t=>{this.versao.formatosEnsino=this.versao.formatosEnsino??[],this.versao.formatosEnsino.push(new c.z2i({id:t.id})),this.formatosEnsinoMap.set(t.id,t),this._changeDetector.detectChanges()})}rmvFormatoEnsino(i){this.versao.formatosEnsino.splice(i,1),this._changeDetector.detectChanges()}getHierarquiaAjudaNome(){return this.hierarquiaAjudaLoading?"Carregando...":this.hierarquiaAjuda?.nome??"Erro"}selectHierarquiaAjuda(){let i;i=this._modalService.show(br,{class:"modal-lg"}),i.content.onSubmit.subscribe(t=>{this.versao.hierarquiaAjudaId=t.id,this.hierarquiaAjuda=t,this._changeDetector.detectChanges()})}createHierarquiaAjuda(){let i;i=this._modalService.show(pr,{class:"modal-lg"}),i.content.onSave.subscribe(t=>{this.versao.hierarquiaAjudaId=t.id,this.hierarquiaAjuda=t,this._changeDetector.detectChanges()})}unselectHierarquiaAjuda(){this.versao.hierarquiaAjudaId=void 0,this._changeDetector.detectChanges()}getTecnicaNome(i){return this.tecnicasLoading?"Carregando...":this.tecnicasMap?.get(i)?.nome??"Erro"}selectTecnicas(){let i;i=this._modalService.show(nr,{class:"modal-lg"}),i.content.onSubmit.subscribe(t=>{t.forEach(o=>this.tecnicasMap.set(o.id,o)),this.versao.tecnicasUtilizadas=t.map(o=>new c.z2i({id:o.id})),this._changeDetector.detectChanges()})}createTecnica(){let i;i=this._modalService.show(ce,{class:"modal-lg"}),i.content.onSave.subscribe(t=>{this.versao.tecnicasUtilizadas=this.versao.tecnicasUtilizadas??[],this.versao.tecnicasUtilizadas.push(new c.z2i({id:t.id})),this.tecnicasMap.set(t.id,t),this._changeDetector.detectChanges()})}rmvTecnica(i){this.versao.tecnicasUtilizadas.splice(i,1),this._changeDetector.detectChanges()}addReforcador(){}rmvReforcador(i){}get passos(){return this.versao.passosProtIntervencao}addPasso(){let i;i=this._modalService.show(dr,{class:"modal-lg",initialState:{habilidades:[...this.habilidadesMap.values()],objetivosAlvoId:this.versao.objetivosAlvo.map(t=>t.id)}}),i.content.onSubmit.subscribe(t=>{if(this.versao instanceof c.Zz2)this.versao.passosProtIntervencao.push(t);else if(this.versao instanceof c.uff){var o=t;o.id=0,this.versao.passosProtIntervencao.push(new c.c0n(o))}this._changeDetector.detectChanges()})}rmvPasso(i){this.versao.passosProtIntervencao.splice(i,1),this._changeDetector.detectChanges()}get hierarquiaAjudaId(){return this.versao.hierarquiaAjudaId?.toString()??""}set hierarquiaAjudaId(i){this.versao.hierarquiaAjudaId=""!=i?Number(i):void 0}get marcoHabilidadeManutencaoId(){return this.versao.marcoHabilidadeManutencaoId?.toString()??""}set marcoHabilidadeManutencaoId(i){this.versao.marcoHabilidadeManutencaoId=""!=i?Number(i):void 0}get marcoHabilidadeAmbienteNaturalId(){return this.versao.marcoHabilidadeAmbienteNaturalId?.toString()??""}set marcoHabilidadeAmbienteNaturalId(i){this.versao.marcoHabilidadeAmbienteNaturalId=""!=i?Number(i):void 0}get marcoHabilidadeArquivamentoId(){return this.versao.marcoHabilidadeArquivamentoId?.toString()??""}set marcoHabilidadeArquivamentoId(i){this.versao.marcoHabilidadeArquivamentoId=""!=i?Number(i):void 0}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.J3u),e.rXU(c.ql_),e.rXU(c.QkB),e.rXU(c.WDn),e.rXU(c.XPk),e.rXU(c.$Q8),e.rXU(e.gRc),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["versao-form"]],inputs:{versao:"versao",disabled:"disabled"},outputs:{versaoChange:"versaoChange",loadingChange:"loadingChange"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:215,vars:160,consts:[["nomeVersaoModel","ngModel","nomeVersaoEl",""],["descModel","ngModel","descEl",""],["sdModel","ngModel","sdEl",""],["respostaModel","ngModel","respostaEl",""],["reforcadoresModel","ngModel","reforcadoresEl",""],["criterioEvolucaoModel","ngModel","criterioEvolucaoEl",""],["tentativas1Model","ngModel","tentativas1El",""],["criterioManutencaoModel","ngModel","criterioManutencaoEl",""],["marcoManutencaoModel","ngModel","marcoManutencaoEl",""],["criterioAmbienteNaturalModel","ngModel","criterioAmbienteNaturalEl",""],["marcoAmbienteNaturalModel","ngModel","marcoAmbienteNaturalEl",""],["criterioArquivamentoModel","ngModel","criterioArquivamentoEl",""],["marcoArquivamentoModel","ngModel","marcoArquivamentoEl",""],["tentativasModel","ngModel","tentativasEl",""],[1,"form-group","row","required"],["for","nomeVersao",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nomeVersao","id","nomeVersao","required","","maxlength","250",1,"form-control",3,"ngModelChange","ngModel","disabled"],[3,"control","controlEl"],["for","desc",1,"col-md-3","col-form-label"],["type","text","name","desc","id","desc","required","","maxlength","500",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","alvos",1,"col-md-3","col-form-label","align-content-center"],["class","row m-0 p-0 mb-2",4,"ngFor","ngForOf"],[1,"row","text-center","justify-content-center","align-content-center"],[1,"col"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"fa","fa-plus"],["for","sd",1,"col-md-3","col-form-label"],["type","text","name","sd","id","sd","required","","maxlength","250",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","resposta",1,"col-md-3","col-form-label"],["type","text","name","resposta","id","resposta","required","","maxlength","250",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","reforcadores",1,"col-md-3","col-form-label","align-content-center"],["type","text","name","reforcadores","id","reforcadores","required","","maxlength","500",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","criterioEvolucao",1,"col-md-3","col-form-label"],["type","text","name","criterioEvolucao","id","criterioEvolucao","required","","maxlength","500",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","formatos",1,"col-md-3","col-form-label","align-content-center"],["for","tentativasSemana",1,"col-md-3","col-form-label"],[1,"row","m-0","p-0"],[1,"col","m-0","p-0"],[2,"font-size","75%"],["type","number","name","tentativas1","id","tentativas1","min","1","defaultValue","1","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["class","col m-0 p-0",4,"ngFor","ngForOf"],["for","hierarquiaAjuda",1,"col-md-3","col-form-label"],[1,"col-md-5"],["class","row m-0",4,"ngIf"],[1,"col-md-2"],[1,"row","m-2","p-0","text-center"],[1,"col","text-center"],["for","criterioManutencao",1,"col-md-3","col-form-label"],["type","text","name","criterioManutencao","id","criterioManutencao","required","","maxlength","500",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"form-group","row"],["for","marcoManutencao",1,"col-md-3","col-form-label"],["name","marcoManutencao","id","marcoManutencao",1,"form-control",3,"ngModelChange","ngModel","disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","criterioAmbienteNatural",1,"col-md-3","col-form-label"],["type","text","name","criterioAmbienteNatural","id","criterioAmbienteNatural","required","","maxlength","500",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","marcoAmbienteNatural",1,"col-md-3","col-form-label"],["name","marcoAmbienteNatural","id","marcoAmbienteNatural",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","criterioArquivamento",1,"col-md-3","col-form-label"],["type","text","name","criterioArquivamento","id","criterioArquivamento","maxlength","500","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","marcoArquivamento",1,"col-md-3","col-form-label"],["name","marcoArquivamento","id","marcoArquivamento",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"col","m-0","p-0","text-center"],["class","row m-2 mb-4 p-2","style","border: 1px solid lightgray; border-radius: 5px;",4,"ngFor","ngForOf"],[1,"row","m-2","p-0","text-center","justify-content-center","align-content-center"],["for","tecnicas",1,"row","m-2","p-0","text-center","justify-content-center","align-content-center"],["class","row m-0 p-0 mb-2 justify-content-center align-content-center",4,"ngFor","ngForOf"],[1,"row","m-0","p-0","mb-2"],[1,"col-10","mr-2","align-content-center"],["type","button",1,"row-0","btn","btn-danger",3,"click","disabled"],[1,"fa","fa-x"],[1,"col-0","mr-2","align-content-center"],[1,"col-0"],["type","number","min","0","defaultValue","0",1,"form-control",3,"ngModelChange","name","id","ngModel","disabled"],[1,"row","m-0"],[3,"value"],[1,"row","m-2","mb-4","p-2",2,"border","1px solid lightgray","border-radius","5px"],[1,"row","m-0","ml-2"],["type","button",1,"col-md-1","btn","btn-danger",3,"click","disabled"],[1,"row","m-0","p-0","mb-2","justify-content-center","align-content-center"],[1,"col-0","m-0","p-2"],[1,"col-0","m-0","p-0"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div",14)(1,"label",15),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",16)(5,"input",17,0),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.versao.nome,l)||(o.versao.nome=l),e.Njj(l)}),e.k0s(),e.nrm(8,"abp-validation-summary",18),e.k0s()(),e.j41(9,"div",14)(10,"label",19),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",16)(14,"textarea",20,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.versao.desc,l)||(o.versao.desc=l),e.Njj(l)}),e.EFF(17,"        "),e.k0s(),e.nrm(18,"abp-validation-summary",18),e.k0s()(),e.j41(19,"div",14)(20,"label",21),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"div",16),e.DNE(24,Cr,6,2,"div",22),e.j41(25,"div",23)(26,"div",24)(27,"button",25),e.bIt("click",function(){return e.eBV(n),e.Njj(o.selectAlvos())}),e.nrm(28,"i",26),e.EFF(29),e.nI1(30,"localize"),e.k0s()(),e.j41(31,"div",24)(32,"button",25),e.bIt("click",function(){return e.eBV(n),e.Njj(o.createHabilidadePersonalizada())}),e.nrm(33,"i",26),e.EFF(34),e.nI1(35,"localize"),e.k0s()()()()(),e.j41(36,"div",14)(37,"label",27),e.EFF(38),e.nI1(39,"localize"),e.k0s(),e.j41(40,"div",16)(41,"input",28,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.versao.sd_EstimuloDiscriminativo,l)||(o.versao.sd_EstimuloDiscriminativo=l),e.Njj(l)}),e.k0s(),e.nrm(44,"abp-validation-summary",18),e.k0s()(),e.j41(45,"div",14)(46,"label",29),e.EFF(47),e.nI1(48,"localize"),e.k0s(),e.j41(49,"div",16)(50,"input",30,3),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.versao.resposta,l)||(o.versao.resposta=l),e.Njj(l)}),e.k0s(),e.nrm(53,"abp-validation-summary",18),e.k0s()(),e.j41(54,"div",14)(55,"label",31),e.EFF(56),e.nI1(57,"localize"),e.k0s(),e.j41(58,"div",16)(59,"textarea",32,4),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.versao.descricaoReforcadores,l)||(o.versao.descricaoReforcadores=l),e.Njj(l)}),e.EFF(62,"        "),e.k0s(),e.nrm(63,"abp-validation-summary",18),e.k0s()(),e.j41(64,"div",14)(65,"label",33),e.EFF(66),e.nI1(67,"localize"),e.k0s(),e.j41(68,"div",16)(69,"textarea",34,5),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.versao.criterioEvolucao,l)||(o.versao.criterioEvolucao=l),e.Njj(l)}),e.EFF(72,"        "),e.k0s(),e.nrm(73,"abp-validation-summary",18),e.k0s()(),e.j41(74,"div",14)(75,"label",35),e.EFF(76),e.nI1(77,"localize"),e.k0s(),e.j41(78,"div",16),e.DNE(79,Ir,6,2,"div",22),e.j41(80,"div",23)(81,"div",24)(82,"button",25),e.bIt("click",function(){return e.eBV(n),e.Njj(o.selectFormatosEnsino())}),e.nrm(83,"i",26),e.EFF(84),e.nI1(85,"localize"),e.k0s()(),e.j41(86,"div",24)(87,"button",25),e.bIt("click",function(){return e.eBV(n),e.Njj(o.createFormatoEnsino())}),e.nrm(88,"i",26),e.EFF(89),e.nI1(90,"localize"),e.k0s()()()()(),e.j41(91,"div",14)(92,"label",36),e.EFF(93),e.nI1(94,"localize"),e.k0s(),e.j41(95,"div",16)(96,"div",37)(97,"div",38)(98,"label",39),e.EFF(99),e.nI1(100,"localize"),e.k0s(),e.j41(101,"input",40,6),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.versao.tentativas_Dia1,l)||(o.versao.tentativas_Dia1=l),e.Njj(l)}),e.k0s(),e.nrm(104,"abp-validation-summary",18),e.k0s(),e.DNE(105,Fr,8,10,"div",41),e.k0s()()(),e.j41(106,"div",14)(107,"label",42),e.EFF(108),e.nI1(109,"localize"),e.k0s(),e.j41(110,"div",43),e.DNE(111,kr,3,3,"div",44)(112,jr,7,4,"div",44),e.k0s(),e.j41(113,"div",45)(114,"button",25),e.bIt("click",function(){return e.eBV(n),e.Njj(o.selectHierarquiaAjuda())}),e.EFF(115),e.nI1(116,"localize"),e.k0s()(),e.j41(117,"div",45)(118,"button",25),e.bIt("click",function(){return e.eBV(n),e.Njj(o.createHierarquiaAjuda())}),e.EFF(119),e.nI1(120,"localize"),e.k0s()()(),e.j41(121,"div",46)(122,"label",47),e.EFF(123),e.nI1(124,"localize"),e.k0s()(),e.j41(125,"div",14)(126,"label",48),e.EFF(127),e.nI1(128,"localize"),e.k0s(),e.j41(129,"div",16)(130,"textarea",49,7),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.versao.procedimentoEvanescimentoEnsino_CriterioManutencao,l)||(o.versao.procedimentoEvanescimentoEnsino_CriterioManutencao=l),e.Njj(l)}),e.EFF(133,"        "),e.k0s(),e.nrm(134,"abp-validation-summary",18),e.k0s()(),e.j41(135,"div",50)(136,"label",51),e.EFF(137),e.nI1(138,"localize"),e.k0s(),e.j41(139,"div",16)(140,"select",52,8),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.marcoHabilidadeManutencaoId,l)||(o.marcoHabilidadeManutencaoId=l),e.Njj(l)}),e.nrm(143,"option",53),e.DNE(144,Rr,2,2,"option",54),e.k0s(),e.nrm(145,"abp-validation-summary",18),e.k0s()(),e.j41(146,"div",14)(147,"label",55),e.EFF(148),e.nI1(149,"localize"),e.k0s(),e.j41(150,"div",16)(151,"textarea",56,9),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.versao.procedimentoEvanescimentoEnsino_CriterioAmbienteNatural,l)||(o.versao.procedimentoEvanescimentoEnsino_CriterioAmbienteNatural=l),e.Njj(l)}),e.EFF(154,"        "),e.k0s(),e.nrm(155,"abp-validation-summary",18),e.k0s()(),e.j41(156,"div",50)(157,"label",57),e.EFF(158),e.nI1(159,"localize"),e.k0s(),e.j41(160,"div",16)(161,"select",58,10),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.marcoHabilidadeAmbienteNaturalId,l)||(o.marcoHabilidadeAmbienteNaturalId=l),e.Njj(l)}),e.nrm(164,"option",53),e.DNE(165,Sr,2,2,"option",54),e.k0s(),e.nrm(166,"abp-validation-summary",18),e.k0s()(),e.j41(167,"div",14)(168,"label",59),e.EFF(169),e.nI1(170,"localize"),e.k0s(),e.j41(171,"div",16)(172,"textarea",60,11),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.versao.procedimentoEvanescimentoEnsino_CriterioArquivamento,l)||(o.versao.procedimentoEvanescimentoEnsino_CriterioArquivamento=l),e.Njj(l)}),e.EFF(175,"        "),e.k0s(),e.nrm(176,"abp-validation-summary",18),e.k0s()(),e.j41(177,"div",50)(178,"label",61),e.EFF(179),e.nI1(180,"localize"),e.k0s(),e.j41(181,"div",16)(182,"select",62,12),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.marcoHabilidadeArquivamentoId,l)||(o.marcoHabilidadeArquivamentoId=l),e.Njj(l)}),e.nrm(185,"option",53),e.DNE(186,Mr,2,2,"option",54),e.k0s(),e.nrm(187,"abp-validation-summary",18),e.k0s()(),e.j41(188,"div",46)(189,"label",63),e.EFF(190),e.nI1(191,"localize"),e.k0s()(),e.DNE(192,Er,16,17,"div",64),e.j41(193,"div",65)(194,"button",25),e.bIt("click",function(){return e.eBV(n),e.Njj(o.addPasso())}),e.nrm(195,"i",26),e.EFF(196),e.nI1(197,"localize"),e.k0s()(),e.j41(198,"label",66),e.EFF(199),e.nI1(200,"localize"),e.k0s(),e.j41(201,"div",37)(202,"div",24),e.DNE(203,Tr,6,2,"div",67),e.j41(204,"div",23)(205,"div",24)(206,"button",25),e.bIt("click",function(){return e.eBV(n),e.Njj(o.selectTecnicas())}),e.nrm(207,"i",26),e.EFF(208),e.nI1(209,"localize"),e.k0s()(),e.j41(210,"div",24)(211,"button",25),e.bIt("click",function(){return e.eBV(n),e.Njj(o.createTecnica())}),e.nrm(212,"i",26),e.EFF(213),e.nI1(214,"localize"),e.k0s()()()()()}if(2&t){let n;const s=e.sdS(6),l=e.sdS(7),m=e.sdS(15),p=e.sdS(16),_=e.sdS(42),C=e.sdS(43),F=e.sdS(51),I=e.sdS(52),P=e.sdS(60),w=e.sdS(61),V=e.sdS(70),B=e.sdS(71),U=e.sdS(102),he=e.sdS(103),fe=e.sdS(131),be=e.sdS(132),ge=e.sdS(141),_e=e.sdS(142),ve=e.sdS(152),Ce=e.sdS(153),Ie=e.sdS(162),Fe=e.sdS(163),ke=e.sdS(173),je=e.sdS(174),Re=e.sdS(183),Se=e.sdS(184);e.R7$(2),e.SpI(" ",e.bMT(3,100,"Nome da Vers\xe3o")," "),e.R7$(3),e.R50("ngModel",o.versao.nome),e.Y8G("disabled",o.saving||o.disabled),e.R7$(3),e.Y8G("control",s)("controlEl",l),e.R7$(3),e.SpI(" ",e.bMT(12,102,"Descri\xe7\xe3o da Vers\xe3o")," "),e.R7$(3),e.R50("ngModel",o.versao.desc),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("control",m)("controlEl",p),e.R7$(3),e.SpI(" ",e.bMT(22,104,"Habilidades-Alvo")," "),e.R7$(3),e.Y8G("ngForOf",o.versao.objetivosAlvo),e.R7$(3),e.Y8G("disabled",o.habilidadesLoading||o.saving||o.disabled),e.R7$(2),e.SpI(" ",e.bMT(30,106,"Selecionar Alvo(s)")," "),e.R7$(3),e.Y8G("disabled",o.habilidadesLoading||o.saving||o.disabled),e.R7$(2),e.SpI(" ",e.bMT(35,108,"Criar Nova Habilidade Alvo Personalizada")," "),e.R7$(4),e.SpI(" ",e.bMT(39,110,"Est\xedmulo Discriminativo")," "),e.R7$(3),e.R50("ngModel",o.versao.sd_EstimuloDiscriminativo),e.Y8G("disabled",o.saving||o.disabled),e.R7$(3),e.Y8G("control",_)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(48,112,"Resposta")," "),e.R7$(3),e.R50("ngModel",o.versao.resposta),e.Y8G("disabled",o.saving||o.disabled),e.R7$(3),e.Y8G("control",F)("controlEl",I),e.R7$(3),e.SpI(" ",e.bMT(57,114,"Refor\xe7adores")," "),e.R7$(3),e.R50("ngModel",o.versao.descricaoReforcadores),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("control",P)("controlEl",w),e.R7$(3),e.SpI(" ",e.bMT(67,116,"Crit\xe9rio de Evolu\xe7\xe3o")," "),e.R7$(3),e.R50("ngModel",o.versao.criterioEvolucao),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("control",V)("controlEl",B),e.R7$(3),e.SpI(" ",e.bMT(77,118,"Formatos de Ensino")," "),e.R7$(3),e.Y8G("ngForOf",o.versao.formatosEnsino),e.R7$(3),e.Y8G("disabled",o.formatosEnsinoLoading||o.saving||o.disabled),e.R7$(2),e.SpI(" ",e.bMT(85,120,"Selecionar Formato(s) de Ensino")," "),e.R7$(3),e.Y8G("disabled",o.formatosEnsinoLoading||o.saving||o.disabled),e.R7$(2),e.SpI(" ",e.bMT(90,122,"Criar Novo Formato de Ensino")," "),e.R7$(4),e.SpI(" ",e.bMT(94,124,"N\xfamero de Tentativas")," "),e.R7$(6),e.SpI("",e.bMT(100,126,"Dia")," 1"),e.R7$(2),e.R50("ngModel",o.versao.tentativas_Dia1),e.Y8G("disabled",o.saving||o.disabled),e.R7$(3),e.Y8G("control",U)("controlEl",he),e.R7$(),e.Y8G("ngForOf",e.lJ4(158,_r)),e.R7$(3),e.SpI(" ",e.bMT(109,128,"Hierarquia de Ajuda")," "),e.R7$(3),e.Y8G("ngIf",null==(null==o.versao?null:o.versao.hierarquiaAjudaId)),e.R7$(),e.Y8G("ngIf",null!=(null==o.versao?null:o.versao.hierarquiaAjudaId)),e.R7$(2),e.Y8G("disabled",o.saving||o.disabled),e.R7$(),e.SpI(" ",e.bMT(116,130,"Selecionar")," "),e.R7$(3),e.Y8G("disabled",o.saving||o.disabled),e.R7$(),e.SpI(" ",e.bMT(120,132,"Criar Nova")," "),e.R7$(4),e.JRh(e.bMT(124,134,"Procedimento de Evanescimento de Ensino")),e.R7$(4),e.SpI(" ",e.bMT(128,136,"Crit\xe9rio de Manuten\xe7\xe3o")," "),e.R7$(3),e.R50("ngModel",o.versao.procedimentoEvanescimentoEnsino_CriterioManutencao),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("control",fe)("controlEl",be),e.R7$(3),e.SpI(" ",e.bMT(138,138,"Marco de Manuten\xe7\xe3o")," "),e.R7$(3),e.R50("ngModel",o.marcoHabilidadeManutencaoId),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("ngForOf",o.versao.objetivosAlvo),e.R7$(),e.Y8G("control",ge)("controlEl",_e),e.R7$(3),e.SpI(" ",e.bMT(149,140,"Crit\xe9rio de Ambiente Natural")," "),e.R7$(3),e.R50("ngModel",o.versao.procedimentoEvanescimentoEnsino_CriterioAmbienteNatural),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("control",ve)("controlEl",Ce),e.R7$(3),e.SpI(" ",e.bMT(159,142,"Marco de Ambiente Natural")," "),e.R7$(3),e.R50("ngModel",o.marcoHabilidadeAmbienteNaturalId),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("ngForOf",o.versao.objetivosAlvo),e.R7$(),e.Y8G("control",Ie)("controlEl",Fe),e.R7$(3),e.SpI(" ",e.bMT(170,144,"Crit\xe9rio de Arquivamento")," "),e.R7$(3),e.R50("ngModel",o.versao.procedimentoEvanescimentoEnsino_CriterioArquivamento),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("control",ke)("controlEl",je),e.R7$(3),e.SpI(" ",e.bMT(180,146,"Marco de Arquivamento")," "),e.R7$(3),e.R50("ngModel",o.marcoHabilidadeArquivamentoId),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("ngForOf",o.versao.objetivosAlvo),e.R7$(),e.Y8G("control",Re)("controlEl",Se),e.R7$(3),e.SpI(" ",e.bMT(191,148,"Passos")," "),e.R7$(2),e.Y8G("ngForOf",null!==(n=o.passos)&&void 0!==n?n:e.lJ4(159,vr)),e.R7$(2),e.Y8G("disabled",o.saving||o.disabled),e.R7$(2),e.SpI(" ",e.bMT(197,150,"Adicionar Passo")," "),e.R7$(3),e.SpI(" ",e.bMT(200,152,"T\xe9cnicas Utilizadas"),"\n"),e.R7$(4),e.Y8G("ngForOf",o.versao.tecnicasUtilizadas),e.R7$(3),e.Y8G("disabled",o.tecnicasLoading||o.saving||o.disabled),e.R7$(2),e.SpI(" ",e.bMT(209,154,"Selecionar T\xe9cnica(s)")," "),e.R7$(3),e.Y8G("disabled",o.tecnicasLoading||o.saving||o.disabled),e.R7$(2),e.SpI(" ",e.bMT(214,156,"Criar Nova T\xe9cnica")," ")}},dependencies:[h.Sq,h.bT,r.xH,r.y7,r.me,r.Q0,r.wz,r.BC,r.YS,r.tU,r.VZ,r.vS,y.e,f.S],encapsulation:2})}return a})(),Dr=(()=>{class a extends v.q{constructor(i,t,o,n,s,l){super(i),this._protocoloIntervencaoService=t,this._changeDetector=o,this._modalService=n,this._router=s,this._route=l,this.loading=!1,this.saving=!1,this.protocoloIntervencao=new c.pnQ,this.onSave=new e.bkB}ngOnInit(){this.protocoloIntervencao=new c.pnQ,this.protocoloIntervencao.versaoPadrao=new c.Zz2}save(){this.saving=!0,this._protocoloIntervencaoService.create(this.protocoloIntervencao).subscribe(i=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.onSave.emit(i),this._router.navigate(["..","details",i.id],{relativeTo:this._route})})}goBack(){this._router.navigate([".."],{relativeTo:this._route})}log(i){console.log(i)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.J3u),e.rXU(e.gRc),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:35,vars:19,consts:[["createProtocoloIntervencaoPage","ngForm"],["nomeModel","ngModel","nomeEl",""],[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click","disabled"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[2,"height","100%","width","100%","border","0px solid black"],[1,"card",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white"],[1,"card-body"],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],[1,"row","m-2","p-0","text-center"],[1,"col","text-center"],["ngModelGroup","versaoInicial",3,"versaoChange","loadingChange","versao"],[1,"row","m-0","mt-4","p-0","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div")(1,"section",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"button",6),e.bIt("click",function(){return e.eBV(n),e.Njj(o.goBack())}),e.nrm(6,"i",7),e.k0s()()(),e.j41(7,"div",8)(8,"h1",9),e.EFF(9),e.nI1(10,"localize"),e.k0s()()()(),e.j41(11,"section",10)(12,"form",11,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(14,"div",12)(15,"div",13)(16,"div",14)(17,"div",15)(18,"label",16),e.EFF(19),e.nI1(20,"localize"),e.k0s(),e.j41(21,"div",17)(22,"input",18,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.protocoloIntervencao.nome,l)||(o.protocoloIntervencao.nome=l),e.Njj(l)}),e.k0s(),e.nrm(25,"abp-validation-summary",19),e.k0s()(),e.j41(26,"div",20)(27,"label",21),e.EFF(28),e.nI1(29,"localize"),e.k0s()(),e.j41(30,"versao-form",22),e.mxI("versaoChange",function(l){return e.eBV(n),e.DH7(o.protocoloIntervencao.versaoPadrao,l)||(o.protocoloIntervencao.versaoPadrao=l),e.Njj(l)}),e.bIt("loadingChange",function(l){return e.eBV(n),e.Njj(o.loading=l)}),e.k0s(),e.j41(31,"div",23)(32,"button",24),e.EFF(33),e.nI1(34,"localize"),e.k0s()()()()()()()()}if(2&t){const n=e.sdS(13),s=e.sdS(23),l=e.sdS(24);e.Y8G("@routerTransition",void 0),e.R7$(5),e.Y8G("disabled",o.saving),e.R7$(4),e.SpI(" ",e.bMT(10,11,"Criar Novo Protocolo de Interven\xe7\xe3o")," "),e.R7$(10),e.SpI(" ",e.bMT(20,13,"Nome")," "),e.R7$(3),e.R50("ngModel",o.protocoloIntervencao.nome),e.R7$(3),e.Y8G("control",s)("controlEl",l),e.R7$(3),e.SpI(" ",e.bMT(29,15,"Vers\xe3o Inicial")," "),e.R7$(2),e.R50("versao",o.protocoloIntervencao.versaoPadrao),e.R7$(2),e.Y8G("disabled",o.saving||o.loading||!n.form.valid),e.R7$(),e.SpI(" ",e.bMT(34,17,"Save")," ")}},dependencies:[r.qT,r.me,r.BC,r.cb,r.YS,r.tU,r.vS,r.Y4,r.cV,y.e,ue,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const Ar=(a,d,i)=>({id:"versoes-list",itemsPerPage:a,currentPage:d,totalItems:i});function yr(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"button",17),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.detailsVersaoProtIntervencao(o))}),e.nrm(9,"i",18),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"button",19),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.delete(o))}),e.nrm(13,"i",20),e.EFF(14),e.nI1(15,"localize"),e.k0s()()()}if(2&a){const i=d.$implicit,t=e.XpG();e.R7$(2),e.JRh(null==i?null:i.nome),e.R7$(2),e.JRh(null==i?null:i.desc),e.R7$(2),e.JRh(t.getProtocolosAvaliacaoString(i)),e.R7$(4),e.SpI(" ",e.bMT(11,5,"Details")," "),e.R7$(4),e.SpI(" ",e.bMT(15,7,"Delete")," ")}}let Gr=(()=>{class a extends A{constructor(i,t,o,n,s){super(i),this._protocoloIntervencaoService=t,this._modalService=o,this._router=n,this._route=s,this.versoes=[],this.maxDescLength=250,this.advancedFiltersVisible=!1}detailsVersaoProtIntervencao(i){console.log(i),this._router.navigate(["app","protocolos-intervencao","versoes","details",i.id])}clearFilters(){this.getDataPage(1)}list(i,t,o){i.protIntervencaoId=this.protIntervencaoId,this._protocoloIntervencaoService.getAllVersoes(i.protIntervencaoId,void 0,void 0,void 0).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.versoes=n.items,this.showPaging(n,t)})}delete(i){abp.message.confirm("O seguinte protocolo de interven\xe7\xe3o ser\xe1 exclu\xeddo do banco",void 0,t=>{t&&this._protocoloIntervencaoService.deleteVersao(i.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}getProtocolosAvaliacaoString(i){return"NotImplemented"}createVersao(){null!=this.protIntervencaoId&&this._router.navigate(["app","protocolos-intervencao","versoes","create",this.protIntervencaoId])}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.J3u),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["versoes-list"]],inputs:{protIntervencaoId:"protIntervencaoId"},features:[e.Vt3],decls:36,vars:28,consts:[[1,"row","m-0","mb-1"],[1,"justify-self-end","col","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","versoes-list",3,"pageChange"],["type","button",1,"btn","btn-sm","bg-secondary","mx-1",3,"click"],[1,"fas","fa-search"],["type","button",1,"btn","btn-sm","bg-danger","mx-1",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"a",2),e.bIt("click",function(){return o.createVersao()}),e.nrm(3,"i",3),e.EFF(4),e.nI1(5,"localize"),e.k0s()()(),e.j41(6,"div",4)(7,"table",5)(8,"thead",6)(9,"tr")(10,"th"),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"localize"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"localize"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"localize"),e.k0s()()(),e.j41(22,"tbody"),e.DNE(23,yr,16,9,"tr",7),e.nI1(24,"paginate"),e.k0s()()(),e.j41(25,"div",8)(26,"div",9)(27,"button",10),e.bIt("click",function(){return o.refresh()}),e.nrm(28,"i",11),e.k0s()(),e.j41(29,"div",12)(30,"p",13),e.EFF(31),e.nI1(32,"localize"),e.k0s()(),e.j41(33,"div",14)(34,"div",15)(35,"abp-pagination-controls",16),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&t&&(e.R7$(4),e.SpI(" ",e.bMT(5,8,"Create")," "),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(12,10,"Nome")),e.R7$(3),e.JRh(e.bMT(15,12,"Descri\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(18,14,"ProtocolosAvaliacao Relacionados")),e.R7$(3),e.JRh(e.bMT(21,16,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(24,18,o.versoes,e.sMw(24,Ar,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(8),e.SpI(" ",e.i5U(32,21,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const ee=()=>[];function Pr(a,d){if(1&a&&(e.j41(0,"div",20),e.EFF(1),e.k0s()),2&a){const i=d.$implicit,t=e.XpG();e.R7$(),e.SpI(" ",t.getHabilidadeString(i.id)," ")}}function $r(a,d){if(1&a){const i=e.RV6();e.j41(0,"div"),e.EFF(1),e.j41(2,"button",21),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.formatoEnsinoDetails(o))}),e.nrm(3,"i",13),e.k0s()()}if(2&a){const i=d.$implicit;e.R7$(),e.SpI(" ",null==i?null:i.nome," ")}}function wr(a,d){if(1&a&&(e.j41(0,"div",22)(1,"div",2)(2,"label",23),e.EFF(3),e.k0s(),e.j41(4,"div",24),e.EFF(5),e.k0s(),e.j41(6,"div",24),e.EFF(7),e.k0s(),e.j41(8,"div",24),e.EFF(9),e.k0s()()()),2&a){let i,t,o;const n=d.$implicit,s=d.index,l=e.XpG();e.R7$(3),e.Lme("Passo ",s+1,": ",n.desc,""),e.R7$(2),e.SpI("Marco de Linha de Base: ",null!==(i=l.getHabilidadeString(null==n?null:n.marcoHabilidadeLinhaDeBaseId))&&void 0!==i?i:"Nenhum",""),e.R7$(2),e.SpI("Marco de Introdu\xe7\xe3o: ",null!==(t=l.getHabilidadeString(null==n?null:n.marcoHabilidadeIntroducaoId))&&void 0!==t?t:"Nenhum",""),e.R7$(2),e.SpI("Marco de Crit\xe9rio Alcan\xe7ado: ",null!==(o=l.getHabilidadeString(null==n?null:n.marcoHabilidadeCriterioAlcancadoId))&&void 0!==o?o:"Nenhum","")}}function Nr(a,d){if(1&a&&(e.j41(0,"div",25)(1,"div",2)(2,"div",0),e.EFF(3),e.k0s()()()),2&a){const i=d.$implicit,t=e.XpG();e.R7$(3),e.JRh(t.getNomeTecnica(null==i?null:i.id))}}let _o=(()=>{class a extends v.q{set versao(i){this._versao=i,this.refresh()}get versao(){return this._versao}constructor(i,t,o,n,s,l,m,p){super(p),this._formatoEnsinoService=i,this._hierarquiaAjudaService=t,this._protocoloAvaliacaoService=o,this._habilidadeService=n,this._tecnicaService=s,this._changeDetector=l,this._router=m,this.onClickEdit=new e.bkB}ngOnInit(){}getNomeTecnica(i){return this.tecnicas?.find(t=>t.id==i)?.nome}refresh(){null!=this.versao&&(this._hierarquiaAjudaService.get(this.versao.hierarquiaAjudaId).subscribe(i=>{this.hierarquiaAjuda=i,this._changeDetector.detectChanges()}),this.tecnicas=[],this.versao.tecnicasUtilizadas.forEach(i=>{this._tecnicaService.get(i.id).subscribe(t=>{this.tecnicas.push(t),this._changeDetector.detectChanges()})}),this.formatosEnsino=[],this.versao.formatosEnsino.forEach(i=>{this._formatoEnsinoService.get(i.id).subscribe(t=>this.formatosEnsino.push(t))}),this.protocolosAvaliacaoRelacionados=[],this._protocoloAvaliacaoService.getAll(void 0,void 0,this.versao.objetivosAlvo.map(i=>i.id),void 0,void 0).subscribe(i=>{this.protocolosAvaliacaoRelacionados=i.items,this._changeDetector.detectChanges()}),this.niveis=[],this._protocoloAvaliacaoService.getAllNiveis(void 0,void 0,void 0,this.versao.objetivosAlvo.map(i=>i.id),void 0,void 0).subscribe(i=>{this.niveis=i.items,this._changeDetector.detectChanges()}),this.dominios=[],this._protocoloAvaliacaoService.getAllDominios(void 0,void 0,void 0,void 0,this.versao.objetivosAlvo.map(i=>i.id),void 0,void 0).subscribe(i=>{this.dominios=i.items,this._changeDetector.detectChanges()}),this.habilidades=[],this._habilidadeService.getListHabilidades(this.versao.objetivosAlvo.map(i=>i.id)).subscribe(i=>{this.habilidades=i,this._changeDetector.detectChanges()}))}getHabilidadeString(i){let t=this.habilidades?.find(n=>n.id==i),o="";if(null!=t?.dominioId){let n=this.dominios.find(s=>s.id==t?.dominioId);if(null!=n){let s=this.niveis?.find(m=>m.id==n?.nivelId),l=this.protocolosAvaliacaoRelacionados?.find(m=>m.id==s?.protocoloAvaliacaoId);o+=l?.nome??"",o+=" - "+(s?.nome??""),o+=" - "+n?.nome+" - "}}if(o+=t?.nome??"",""!=o)return o}hierarquiaAjudaDetails(){this._router.navigate(["app","hierarquias-ajuda","details",this.hierarquiaAjuda.id])}formatoEnsinoDetails(i){this._router.navigate(["app","formatos-ensino","details",i.id])}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(c.ql_),e.rXU(c.QkB),e.rXU(c.WDn),e.rXU(c.XPk),e.rXU(c.$Q8),e.rXU(e.gRc),e.rXU(b.Ix),e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["versao-details"]],inputs:{versao:"versao"},outputs:{onClickEdit:"onClickEdit"},features:[e.Vt3],decls:134,vars:32,consts:[[1,"row","m-0","p-0","pb-2"],[1,"col-md-3"],[1,"col","m-0","p-0"],["class","row m-0 p-0",4,"ngFor","ngForOf"],[1,"col","mr-1"],[4,"ngFor","ngForOf"],[1,"row","m-0","p-0",2,"border","1px solid lightgray","border-radius","5px"],[1,"col","m-0","p-0","px-1",2,"border-right","1px solid lightgray"],[1,"row","text-center","m-0","p-0",2,"justify-self","center"],[1,"row","text-center","m-0","p-0","pb-2",2,"justify-self","center"],[1,"col","m-0","p-0","px-1"],[1,"col-0","mr-1"],["type","button",1,"col-0","btn","btn-secondary",3,"click","disabled"],[1,"fas","fa-link"],[1,"row","m-0","p-0","text-center"],[1,"col","text-center"],["type","button",1,"col-0","btn","btn-secondary",3,"hidden"],[1,"col","m-0","p-0","text-center"],["class","row m-2 mb-4 p-2","style","border: 1px solid lightgray; border-radius: 5px;",4,"ngFor","ngForOf"],["class","row m-0 mb-1 p-0",4,"ngFor","ngForOf"],[1,"row","m-0","p-0"],["type","button",1,"col-0","btn","btn-secondary",3,"click"],[1,"row","m-2","mb-4","p-2",2,"border","1px solid lightgray","border-radius","5px"],[1,"row","m-0"],[1,"row","m-0","ml-2"],[1,"row","m-0","mb-1","p-0"]],template:function(t,o){if(1&t&&(e.j41(0,"div",0)(1,"label",1),e.EFF(2,"Nome:"),e.k0s(),e.j41(3,"span",2),e.EFF(4),e.k0s()(),e.j41(5,"div",0)(6,"label",1),e.EFF(7,"Descri\xe7\xe3o:"),e.k0s(),e.j41(8,"span",2),e.EFF(9),e.k0s()(),e.j41(10,"div",0)(11,"label",1),e.EFF(12,"Habilidades-Alvo:"),e.k0s(),e.j41(13,"div",2),e.DNE(14,Pr,2,1,"div",3),e.k0s()(),e.j41(15,"div",0)(16,"label",1),e.EFF(17,"Est\xedmulo Discriminativo:"),e.k0s(),e.j41(18,"span",2),e.EFF(19),e.k0s()(),e.j41(20,"div",0)(21,"label",1),e.EFF(22,"Resposta:"),e.k0s(),e.j41(23,"span",2),e.EFF(24),e.k0s()(),e.j41(25,"div",0)(26,"label",1),e.EFF(27,"Refor\xe7adores:"),e.k0s(),e.j41(28,"div",2),e.EFF(29),e.k0s()(),e.j41(30,"div",0)(31,"label",1),e.EFF(32,"Crit\xe9rio de Evolu\xe7\xe3o:"),e.k0s(),e.j41(33,"span",2),e.EFF(34),e.k0s()(),e.j41(35,"div",0)(36,"label",1),e.EFF(37,"Formatos de Ensino:"),e.k0s(),e.j41(38,"div",4),e.DNE(39,$r,4,1,"div",5),e.k0s()(),e.j41(40,"div",0)(41,"label",1),e.EFF(42,"N\xfamero de Tentativas:"),e.k0s(),e.j41(43,"div",2)(44,"div",6)(45,"div",7)(46,"label",8),e.EFF(47,"Dia 1"),e.k0s(),e.j41(48,"div",9),e.EFF(49),e.k0s()(),e.j41(50,"div",7)(51,"label",8),e.EFF(52,"Dia 2"),e.k0s(),e.j41(53,"div",9),e.EFF(54),e.k0s()(),e.j41(55,"div",7)(56,"label",8),e.EFF(57,"Dia 3"),e.k0s(),e.j41(58,"div",9),e.EFF(59),e.k0s()(),e.j41(60,"div",7)(61,"label",8),e.EFF(62,"Dia 4"),e.k0s(),e.j41(63,"div",9),e.EFF(64),e.k0s()(),e.j41(65,"div",7)(66,"label",8),e.EFF(67,"Dia 5"),e.k0s(),e.j41(68,"div",9),e.EFF(69),e.k0s()(),e.j41(70,"div",7)(71,"label",8),e.EFF(72,"Dia 6"),e.k0s(),e.j41(73,"div",9),e.EFF(74),e.k0s()(),e.j41(75,"div",10)(76,"label",8),e.EFF(77,"Dia 7"),e.k0s(),e.j41(78,"div",9),e.EFF(79),e.k0s()()()()(),e.j41(80,"div",0)(81,"label",1),e.EFF(82,"Hierarquia de Ajuda:"),e.k0s(),e.j41(83,"span",11),e.EFF(84),e.k0s(),e.j41(85,"button",12),e.bIt("click",function(){return o.hierarquiaAjudaDetails()}),e.nrm(86,"i",13),e.k0s()(),e.j41(87,"div",14)(88,"label",15),e.EFF(89,"Procedimento de Evanescimento de Ensino"),e.k0s()(),e.j41(90,"div",0)(91,"label",1),e.EFF(92,"Crit\xe9rio de Manuten\xe7\xe3o:"),e.k0s(),e.j41(93,"span",2),e.EFF(94),e.k0s()(),e.j41(95,"div",0)(96,"label",1),e.EFF(97,"Marco de Manuten\xe7\xe3o:"),e.k0s(),e.j41(98,"span",11),e.EFF(99),e.k0s(),e.j41(100,"button",16),e.nrm(101,"i",13),e.k0s()(),e.j41(102,"div",0)(103,"label",1),e.EFF(104,"Crit\xe9rio de Ambiente Natural:"),e.k0s(),e.j41(105,"span",2),e.EFF(106),e.k0s()(),e.j41(107,"div",0)(108,"label",1),e.EFF(109,"Marco de Ambiente Natural:"),e.k0s(),e.j41(110,"span",11),e.EFF(111),e.k0s(),e.j41(112,"button",16),e.nrm(113,"i",13),e.k0s()(),e.j41(114,"div",0)(115,"label",1),e.EFF(116,"Crit\xe9rio de Arquivamento:"),e.k0s(),e.j41(117,"span",2),e.EFF(118),e.k0s()(),e.j41(119,"div",0)(120,"label",1),e.EFF(121,"Marco de Arquivamento:"),e.k0s(),e.j41(122,"span",11),e.EFF(123),e.k0s(),e.j41(124,"button",16),e.nrm(125,"i",13),e.k0s()(),e.j41(126,"div",14)(127,"label",17),e.EFF(128," Passos "),e.k0s()(),e.DNE(129,wr,10,5,"div",18),e.j41(130,"div",14)(131,"label",17),e.EFF(132," T\xe9cnicas "),e.k0s()(),e.DNE(133,Nr,4,1,"div",19)),2&t){let n,s,l,m,p,_,C,F,I,P,w,V,B,U;e.R7$(4),e.JRh(null==o.versao?null:o.versao.nome),e.R7$(5),e.JRh(null==o.versao?null:o.versao.desc),e.R7$(5),e.Y8G("ngForOf",null!==(n=null==o.versao?null:o.versao.objetivosAlvo)&&void 0!==n?n:e.lJ4(28,ee)),e.R7$(5),e.JRh(null==o.versao?null:o.versao.sd_EstimuloDiscriminativo),e.R7$(5),e.JRh(null==o.versao?null:o.versao.resposta),e.R7$(5),e.SpI(" ",null==o.versao?null:o.versao.descricaoReforcadores," "),e.R7$(5),e.JRh(null==o.versao?null:o.versao.criterioEvolucao),e.R7$(5),e.Y8G("ngForOf",null!==(s=o.formatosEnsino)&&void 0!==s?s:e.lJ4(29,ee)),e.R7$(10),e.JRh(null!==(l=null==o.versao?null:o.versao.tentativas_Dia1)&&void 0!==l?l:0),e.R7$(5),e.JRh(null!==(m=null==o.versao?null:o.versao.tentativas_Dia2)&&void 0!==m?m:0),e.R7$(5),e.JRh(null!==(p=null==o.versao?null:o.versao.tentativas_Dia3)&&void 0!==p?p:0),e.R7$(5),e.JRh(null!==(_=null==o.versao?null:o.versao.tentativas_Dia4)&&void 0!==_?_:0),e.R7$(5),e.JRh(null!==(C=null==o.versao?null:o.versao.tentativas_Dia5)&&void 0!==C?C:0),e.R7$(5),e.JRh(null!==(F=null==o.versao?null:o.versao.tentativas_Dia6)&&void 0!==F?F:0),e.R7$(5),e.JRh(null!==(I=null==o.versao?null:o.versao.tentativas_Dia7)&&void 0!==I?I:0),e.R7$(5),e.JRh(null==o.hierarquiaAjuda?null:o.hierarquiaAjuda.nome),e.R7$(),e.Y8G("disabled",null==o.hierarquiaAjuda),e.R7$(9),e.JRh(null==o.versao?null:o.versao.procedimentoEvanescimentoEnsino_CriterioManutencao),e.R7$(5),e.JRh(null!==(P=o.getHabilidadeString(null==o.versao?null:o.versao.marcoHabilidadeManutencaoId))&&void 0!==P?P:"Nenhum"),e.R7$(),e.Y8G("hidden",null==(null==o.versao?null:o.versao.marcoHabilidadeManutencaoId)),e.R7$(6),e.JRh(null==o.versao?null:o.versao.procedimentoEvanescimentoEnsino_CriterioAmbienteNatural),e.R7$(5),e.JRh(null!==(w=o.getHabilidadeString(null==o.versao?null:o.versao.marcoHabilidadeAmbienteNaturalId))&&void 0!==w?w:"Nenhum"),e.R7$(),e.Y8G("hidden",null==(null==o.versao?null:o.versao.marcoHabilidadeAmbienteNaturalId)),e.R7$(6),e.JRh(null==o.versao?null:o.versao.procedimentoEvanescimentoEnsino_CriterioArquivamento),e.R7$(5),e.JRh(null!==(V=o.getHabilidadeString(null==o.versao?null:o.versao.marcoHabilidadeArquivamentoId))&&void 0!==V?V:"Nenhum"),e.R7$(),e.Y8G("hidden",null==(null==o.versao?null:o.versao.marcoHabilidadeArquivamentoId)),e.R7$(5),e.Y8G("ngForOf",null!==(B=null==o.versao?null:o.versao.passosProtIntervencao)&&void 0!==B?B:e.lJ4(30,ee)),e.R7$(4),e.Y8G("ngForOf",null!==(U=null==o.versao?null:o.versao.tecnicasUtilizadas)&&void 0!==U?U:e.lJ4(31,ee))}},dependencies:[h.Sq],encapsulation:2})}return a})();function Vr(a,d){1&a&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"localize"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"N\xe3o h\xe1 vers\xe3o padr\xe3o definida"),". "))}function Br(a,d){if(1&a&&e.nrm(0,"versao-details",27),2&a){const i=e.XpG();e.Y8G("versao",i.versaoPadrao)}}function zr(a,d){if(1&a&&(e.j41(0,"option",9),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",i.id),e.R7$(),e.Lme("",i.id," - ",i.nome,"")}}let Yr=(()=>{class a extends v.q{constructor(i,t,o,n,s){super(i),this._protocoloIntervencaoService=t,this._modalService=o,this._router=n,this._route=s}ngOnInit(){this.id=Number(this._route.snapshot.paramMap.get("protocoloIntervencaoId")),this.refresh()}refresh(){this._protocoloIntervencaoService.get(this.id).subscribe(i=>{this.protocoloIntervencao=i,this._protocoloIntervencaoService.getVersao(i.versaoPadraoId).subscribe(t=>{this.versaoPadrao=t})})}goBack(){this._router.navigate(["app","protocolos-intervencao"])}delete(){abp.message.confirm("O seguinte protocolo de interven\xe7\xe3o ser\xe1 exclu\xeddo do banco",void 0,i=>{i&&this._protocoloIntervencaoService.delete(this.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.goBack()})})}editNome(){if(null==this.protocoloIntervencao)return;let i=new c.uS1({id:this.protocoloIntervencao.id,nome:this.protocoloIntervencao.nome,versaoPadraoId:this.protocoloIntervencao.versaoPadraoId});this._modalService.show(Ur,{class:"modal-lg",initialState:{protIntervencao:i}}).content.onSave.subscribe(()=>{this.refresh()})}editVersaoPadrao(){if(null==this.protocoloIntervencao)return;let i=new c.uS1({id:this.protocoloIntervencao.id,nome:this.protocoloIntervencao.nome,versaoPadraoId:this.protocoloIntervencao.versaoPadraoId});this._modalService.show(Xr,{class:"modal-lg",initialState:{protIntervencao:i}}).content.onSave.subscribe(()=>{this.refresh()})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.J3u),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:49,vars:31,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"height","75%","align-content","center"],[1,"col-0","m-0","p-0",2,"font-palette","dark"],[1,"col-0","m-0","p-0",2,"display","flex"],["type","button",1,"row-0","m-0","ml-4","py-1","px-2","btn","btn-secondary",2,"align-self","center",3,"click"],[1,"fas","fa-pencil-alt"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","m-0","p-0"],[1,"mr-1"],[1,"row","m-0","p-0","justify-content-end"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"row","justify-content-center"],["type","button",1,"btn","btn-secondary",3,"click"],[4,"ngIf"],[3,"versao",4,"ngIf"],[3,"protIntervencaoId"],[3,"versao"]],template:function(t,o){if(1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"div",8)(12,"h1",9),e.EFF(13),e.k0s(),e.j41(14,"div",10)(15,"button",11),e.bIt("click",function(){return o.editNome()}),e.nrm(16,"i",12),e.k0s()()()()()(),e.j41(17,"section",13)(18,"div",14)(19,"tabset",15)(20,"tab",16),e.nI1(21,"localize"),e.j41(22,"div",17)(23,"label",18),e.EFF(24),e.nI1(25,"localize"),e.k0s(),e.EFF(26),e.k0s(),e.j41(27,"div",17)(28,"label",18),e.EFF(29),e.nI1(30,"localize"),e.k0s(),e.EFF(31),e.k0s(),e.j41(32,"div",19)(33,"button",20),e.bIt("click",function(){return o.delete()}),e.nrm(34,"i",21),e.EFF(35),e.nI1(36,"localize"),e.k0s()()(),e.j41(37,"tab",16),e.nI1(38,"localize"),e.j41(39,"div",22)(40,"button",23),e.bIt("click",function(){return o.editVersaoPadrao()}),e.nrm(41,"i",12),e.EFF(42),e.nI1(43,"localize"),e.k0s()(),e.DNE(44,Vr,3,3,"p",24)(45,Br,1,1,"versao-details",25),e.k0s(),e.j41(46,"tab",16),e.nI1(47,"localize"),e.nrm(48,"versoes-list",26),e.k0s()()()()()),2&t){let n,s;e.Y8G("@routerTransition",void 0),e.R7$(9),e.SpI(" ",e.bMT(10,15,"Detalhes do Protocolo de Interven\xe7\xe3o")," "),e.R7$(4),e.SpI(" ",null==o.protocoloIntervencao?null:o.protocoloIntervencao.nome," "),e.R7$(7),e.Y8G("heading",e.bMT(21,17,"Informa\xe7\xe3o Geral")),e.R7$(4),e.SpI("",e.bMT(25,19,"Vers\xe3o Padr\xe3o"),":"),e.R7$(2),e.SpI("",null!==(n=null==o.versaoPadrao?null:o.versaoPadrao.nome)&&void 0!==n?n:"-"," "),e.R7$(3),e.SpI("",e.bMT(30,21,"No. de Vers\xf5es"),":"),e.R7$(2),e.SpI("",null!==(s=null==o.protocoloIntervencao||null==o.protocoloIntervencao.versoes?null:o.protocoloIntervencao.versoes.length)&&void 0!==s?s:"-"," "),e.R7$(4),e.SpI(" ",e.bMT(36,23,"Excluir")," "),e.R7$(2),e.Y8G("heading",e.bMT(38,25,"Vers\xe3o Padr\xe3o")),e.R7$(5),e.SpI(" ",e.bMT(43,27,"Mudar Versao Padrao")," "),e.R7$(2),e.Y8G("ngIf",null==(null==o.protocoloIntervencao?null:o.protocoloIntervencao.versaoPadraoId)),e.R7$(),e.Y8G("ngIf",null!=o.versaoPadrao),e.R7$(),e.Y8G("heading",e.bMT(47,29,"Vers\xf5es")),e.R7$(2),e.Y8G("protIntervencaoId",o.id)}},dependencies:[h.bT,S.V6,S.fw,Gr,_o,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})(),Ur=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._protocoloIntervencaoService=t,this.bsModalRef=o,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,this._protocoloIntervencaoService.update(this.protIntervencao).subscribe(i=>{this.onSave.emit(i),this.bsModalRef.hide(),this.saving=!1})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.J3u),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:15,vars:11,consts:[["editNomeProtocoloIntervencaoModal","ngForm"],["nomeModel","ngModel","nomeEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"label",6),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",7)(10,"input",8,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.protIntervencao.nome,l)||(o.protIntervencao.nome=l),e.Njj(l)}),e.k0s(),e.nrm(13,"abp-validation-summary",9),e.k0s()()(),e.j41(14,"abp-modal-footer",10),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1),s=e.sdS(11),l=e.sdS(12);e.R7$(2),e.Y8G("title",e.bMT(3,7,"EditNomeProtocoloIntervencao")),e.R7$(5),e.SpI(" ",e.bMT(8,9,"Nome")," "),e.R7$(3),e.R50("ngModel",o.protIntervencao.nome),e.R7$(3),e.Y8G("control",s)("controlEl",l),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.me,r.BC,r.cb,r.YS,r.tU,r.vS,r.cV,y.e,j.x,R.z,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})(),Xr=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._protocoloIntervencaoService=t,this.bsModalRef=o,this.loading=!1,this.saving=!1,this.versoes=[],this.onSave=new e.bkB}ngOnInit(){this.loading=!0,this._protocoloIntervencaoService.getAllVersoes(this.protIntervencao.id,void 0,void 0,void 0).subscribe(i=>{this.versoes=i.items,this.loading=!1})}get versaoId(){return this.protIntervencao.versaoPadraoId.toString()}set versaoId(i){this.protIntervencao.versaoPadraoId=Number(i)}save(){this.saving=!0,this._protocoloIntervencaoService.update(this.protIntervencao).subscribe(i=>{this.onSave.emit(i),this.bsModalRef.hide(),this.saving=!1})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.J3u),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],inputs:{versoes:"versoes"},features:[e.Vt3],decls:11,vars:8,consts:[["selectVersaoPadraoModal","ngForm"],["versaoModel","ngModel","versaoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"col-md-6"],["name","versao","id","versao","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"select",6,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.versaoId,l)||(o.versaoId=l),e.Njj(l)}),e.DNE(9,zr,2,3,"option",7),e.k0s()()(),e.j41(10,"abp-modal-footer",8),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,6,"VersaoPadraoSelect")),e.R7$(4),e.Y8G("disabled",o.loading||o.saving),e.R50("ngModel",o.versaoId),e.R7$(3),e.Y8G("ngForOf",o.versoes),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[h.Sq,r.qT,r.xH,r.y7,r.wz,r.BC,r.cb,r.YS,r.vS,r.cV,j.x,R.z,f.S],encapsulation:2})}return a})();function Hr(a,d){if(1&a&&e.nrm(0,"versao-details",17),2&a){const i=e.XpG();e.Y8G("versao",i.versao)}}let xr=(()=>{class a extends v.q{constructor(i,t,o,n,s){super(i),this._protocoloIntervencaoService=t,this._modalService=o,this._router=n,this._route=s}ngOnInit(){this.id=Number(this._route.snapshot.paramMap.get("versaoProtIntervencaoId")),this.refresh()}edit(){this._router.navigate(["app","protocolos-intervencao","versoes","edit",this.id])}refresh(){this._protocoloIntervencaoService.getVersao(this.id).subscribe(i=>{this.versao=i})}goBack(){this._router.navigate(null!=this.versao?.protocoloIntervencaoId?["../../..","details",this.versao.protocoloIntervencaoId]:["../../.."],{relativeTo:this._route})}editInfo(){}toRefBibDetails(){}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.J3u),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:24,vars:14,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[3,"versao",4,"ngIf"],[1,"row","mx-0","mb-0","mt-5","justify-content-center"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],[1,"fas","fa-pencil-alt"],[3,"versao"]],template:function(t,o){1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"h1",8),e.EFF(12),e.k0s()()()(),e.j41(13,"section",9)(14,"div",10)(15,"tabset",11)(16,"tab",12),e.nI1(17,"localize"),e.DNE(18,Hr,1,1,"versao-details",13),e.j41(19,"div",14)(20,"button",15),e.bIt("click",function(){return o.edit()}),e.nrm(21,"i",16),e.EFF(22),e.nI1(23,"localize"),e.k0s()()()()()()()),2&t&&(e.Y8G("@routerTransition",void 0),e.R7$(9),e.Lme(" ",e.bMT(10,8,"Detalhes de Vers\xe3o do Protocolo de Interven\xe7\xe3o")," ",null==o.versao?null:o.versao.protocoloIntervencaoNome," "),e.R7$(3),e.SpI(" ",null==o.versao?null:o.versao.nome," "),e.R7$(4),e.Y8G("heading",e.bMT(17,10,"Informa\xe7\xe3o Geral")),e.R7$(2),e.Y8G("ngIf",null!=o.versao),e.R7$(2),e.Y8G("disabled",null==o.versao),e.R7$(2),e.SpI(" ",e.bMT(23,12,"Edit")," "))},dependencies:[h.bT,S.V6,S.fw,_o,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})(),qr=(()=>{class a extends v.q{constructor(i,t,o,n,s,l){super(i),this._protocoloIntervencaoService=t,this._changeDetector=o,this._modalService=n,this._router=s,this._route=l,this.loading=!1,this.saving=!1,this.versao=new c.Zz2,this.onSave=new e.bkB}ngOnInit(){const i=this._route.snapshot.paramMap;this.loading=!0,this.versao=new c.Zz2,this.versao.protocoloIntervencaoId=Number(i.get("protocoloIntervencaoId")),this._protocoloIntervencaoService.get(this.versao.protocoloIntervencaoId).subscribe(t=>{this.protocoloIntervencao=t,this._protocoloIntervencaoService.getVersao(t.versaoPadraoId).subscribe(o=>{this.versao=new c.Zz2(o),this.loading=!1})})}save(){this.saving=!0,this._protocoloIntervencaoService.createVersao(this.versao).subscribe(i=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.onSave.emit(i),this._router.navigate(["app","protocolos-intervencao","versao","details",i.id])})}goBack(){this._router.navigate(["app","protocolos-intervencao","versao","details",this.versao.protocoloIntervencaoId])}log(i){console.log(i)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.J3u),e.rXU(e.gRc),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:24,vars:9,consts:[["createVersaoProtIntervencaoPage","ngForm"],[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click","disabled"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"height","75%","align-content","center"],[1,"col-0","m-0","p-0",2,"font-palette","dark"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[2,"height","100%","width","100%","border","0px solid black"],[1,"card",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white"],[1,"card-body"],["ngModelGroup","versao",3,"versaoChange","loadingChange","disabled","versao"],[1,"row","m-0","mt-4","p-0","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),e.bIt("click",function(){return e.eBV(n),e.Njj(o.goBack())}),e.nrm(6,"i",6),e.k0s()()(),e.j41(7,"div",7)(8,"h1",8),e.EFF(9," Criar Nova Vers\xe3o do Protocolo de Interven\xe7\xe3o: "),e.k0s(),e.j41(10,"div",9)(11,"h1",10),e.EFF(12),e.k0s()()()()(),e.j41(13,"section",11)(14,"form",12,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(16,"div",13)(17,"div",14)(18,"div",15)(19,"versao-form",16),e.mxI("versaoChange",function(l){return e.eBV(n),e.DH7(o.versao,l)||(o.versao=l),e.Njj(l)}),e.bIt("loadingChange",function(l){return e.eBV(n),e.Njj(o.loading=l)}),e.k0s(),e.j41(20,"div",17)(21,"button",18),e.EFF(22),e.nI1(23,"localize"),e.k0s()()()()()()()()}if(2&t){let n;const s=e.sdS(15);e.Y8G("@routerTransition",void 0),e.R7$(5),e.Y8G("disabled",o.saving),e.R7$(7),e.SpI(" ",null==o.protocoloIntervencao?null:o.protocoloIntervencao.nome," "),e.R7$(7),e.Y8G("disabled",o.loading||o.saving),e.R50("versao",o.versao),e.R7$(2),e.Y8G("disabled",o.saving||o.loading||null===(n=null==o.versao||null==o.versao.passosProtIntervencao?null:o.versao.passosProtIntervencao.length)||void 0===n||n||!s.form.valid),e.R7$(),e.SpI(" ",e.bMT(23,7,"Save")," ")}},dependencies:[r.qT,r.cb,r.Y4,r.cV,ue,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})(),Or=(()=>{class a extends v.q{constructor(i,t,o,n,s,l){super(i),this._protocoloIntervencaoService=t,this._changeDetector=o,this._modalService=n,this._router=s,this._route=l,this.loading=!1,this.saving=!1,this.versao=new c.uff,this.onSave=new e.bkB}ngOnInit(){this.id=Number(this._route.snapshot.paramMap.get("versaoProtIntervencaoId")),this.refresh()}refresh(){this._protocoloIntervencaoService.getVersao(this.id).subscribe(i=>{this._protocoloIntervencaoService.get(i.protocoloIntervencaoId).subscribe(t=>{this.protocoloIntervencao=t}),this.versao=new c.uff(i),this.versao.passosProtIntervencao=[],this.initialPassos=[],i.passosProtIntervencao.forEach(t=>{let o=new c.c0n(t);this.initialPassos.push(o),this.versao.passosProtIntervencao.push(new c.c0n(o))})})}save(){this.saving=!0,this._protocoloIntervencaoService.updateVersao(this.versao).subscribe(i=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.onSave.emit(i),this._navToDetailsVersao()})}goBack(){this._navToDetailsVersao()}_navToDetailsVersao(){this._router.navigate(["app","protocolos-intervencao","versoes","details",this.id])}log(i){console.log(i)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.J3u),e.rXU(e.gRc),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:25,vars:11,consts:[["createVersaoProtIntervencaoPage","ngForm"],[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click","disabled"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"height","75%","align-content","center"],[1,"col-0","m-0","p-0",2,"font-palette","dark"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[2,"height","100%","width","100%","border","0px solid black"],[1,"card",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white"],[1,"card-body"],["ngModelGroup","versao",3,"versaoChange","loadingChange","versao"],[1,"row","m-0","mt-4","p-0","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),e.bIt("click",function(){return e.eBV(n),e.Njj(o.goBack())}),e.nrm(6,"i",6),e.k0s()()(),e.j41(7,"div",7)(8,"h1",8),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"div",9)(12,"h1",10),e.EFF(13),e.k0s()()()()(),e.j41(14,"section",11)(15,"form",12,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(17,"div",13)(18,"div",14)(19,"div",15)(20,"versao-form",16),e.mxI("versaoChange",function(l){return e.eBV(n),e.DH7(o.versao,l)||(o.versao=l),e.Njj(l)}),e.bIt("loadingChange",function(l){return e.eBV(n),e.Njj(o.loading=l)}),e.k0s(),e.j41(21,"div",17)(22,"button",18),e.EFF(23),e.nI1(24,"localize"),e.k0s()()()()()()()()}if(2&t){let n;const s=e.sdS(16);e.Y8G("@routerTransition",void 0),e.R7$(5),e.Y8G("disabled",o.saving),e.R7$(4),e.SpI(" ",e.bMT(10,7,"Editar Vers\xe3o do Protocolo de Interven\xe7\xe3o"),": "),e.R7$(4),e.SpI(" ",null==o.protocoloIntervencao?null:o.protocoloIntervencao.nome," "),e.R7$(7),e.R50("versao",o.versao),e.R7$(2),e.Y8G("disabled",o.saving||o.loading||(null!==(n=null==o.versao||null==o.versao.passosProtIntervencao?null:o.versao.passosProtIntervencao.length)&&void 0!==n?n:0)<1||!s.form.valid),e.R7$(),e.SpI(" ",e.bMT(24,9,"Save")," ")}},dependencies:[r.qT,r.cb,r.Y4,r.cV,ue,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})(),Jr=(()=>{class a extends v.q{constructor(i,t){super(i),this.bsModalRef=t,this.saving=!1,this._data=z(),this.onSubmit=new e.bkB}ngOnInit(){}get etapaNome(){return 0==this.etapa?"In\xedcio":1==this.etapa?"Linha de Base":2==this.etapa?"Introdu\xe7\xe3o":"Crit\xe9rio Alcan\xe7ado"}get data(){return this._data.format("yyyy-MM-DD")}set data(i){this._data=z(i)}save(){this.saving=!0,this.onSubmit.emit(this._data),this.bsModalRef.hide(),this.saving=!1}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:13,vars:9,consts:[["marcoIntervencaoModal","ngForm"],["dataModel","ngModel","dataEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"row","m-0"],[1,"row","m-0","align-content-center"],[1,"col-md-6"],["type","date","name","data","id","data","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5),e.EFF(6),e.k0s(),e.j41(7,"div",6)(8,"div",7)(9,"input",8,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.data,l)||(o.data=l),e.Njj(l)}),e.k0s()()()(),e.j41(12,"abp-modal-footer",9),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,7,"MarcoIntervencao")),e.R7$(4),e.Lme(" Qual a data do marco de ",o.etapaNome," do passo ",o.passoNome,"? "),e.R7$(3),e.Y8G("disabled",o.saving),e.R50("ngModel",o.data),e.R7$(3),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.me,r.BC,r.cb,r.YS,r.vS,r.cV,j.x,R.z,f.S],encapsulation:2})}return a})();const me=()=>[],Lr=(a,d,i)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:i});function Zr(a,d){if(1&a&&(e.j41(0,"th"),e.EFF(1),e.nI1(2,"localize"),e.k0s()),2&a){const i=d.$implicit;e.R7$(),e.SpI(" ",e.bMT(2,1,i.nome)," ")}}function Wr(a,d){if(1&a&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&a){const i=d.$implicit,t=e.XpG().$implicit,o=e.XpG();e.R7$(),e.SpI(" ",o.getNoAjudas(t,i)," ")}}function Qr(a,d){if(1&a&&(e.j41(0,"tr")(1,"td",7),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.DNE(11,Wr,2,1,"td",6),e.j41(12,"td"),e.EFF(13),e.k0s()()),2&a){let i,t,o,n;const s=d.$implicit,l=e.XpG();e.R7$(2),e.JRh(l.getIdxPasso(s)+1),e.R7$(2),e.JRh(l.getNomeAT(s)),e.R7$(2),e.JRh(l.getDataHora(s)),e.R7$(2),e.JRh(null!==(i=null==s?null:s.tipo)&&void 0!==i?i:""),e.R7$(2),e.JRh(null!==(t=null==s?null:s.descricao)&&void 0!==t?t:""),e.R7$(),e.Y8G("ngForOf",null!==(o=null==l.modeloHierarquiaAjuda?null:l.modeloHierarquiaAjuda.tiposAjuda)&&void 0!==o?o:e.lJ4(7,me)),e.R7$(2),e.JRh(null!==(n=null==s?null:s.observacao)&&void 0!==n?n:"")}}let Kr=(()=>{class a extends A{constructor(i,t,o,n,s,l,m,p,_,C,F){super(i),this._alunoService=t,this._casoService=o,this._atendimentoService=n,this._colaboradorService=s,this._protocoloIntervencaoService=l,this._hierarquiaAjudaService=m,this._modalService=p,this._router=_,this._route=C,this._changeDetector=F}ngOnInit(){const i=this._route.snapshot.paramMap;this.alunoId=Number(i.get("alunoId")),this.apliId=Number(i.get("apliId")),this.refresh()}list(i,t,o){this._atendimentoService.get(this.apliId).pipe((0,$.j)(()=>o())).subscribe(n=>{this.unidades=n.unidadesEnsino,this.showPaging({items:this.unidades,totalCount:this.unidades.length},t)})}delete(i){}getAtendimento(i){return this.atendimentos?.find(t=>t.id==i.registroAtendimentoId)}getIdxPasso(i){for(let t=0;t<(this.aplicacao?.passos?.length??0);t++)if(this.aplicacao?.passos[t]?.id==i?.passoId)return t;return-1}getAtuacao(i){return this.staff?.find(t=>t.id==i)}getColabFuncao(i){return this.funcoesColaborador?.find(t=>t.id==i)}getColaborador(i){return this.colaboradores?.find(t=>t.id==i)}getNomeAT(i){var t=this.getAtendimento(i)?.atuacaoTerapeutaId;return this.getColaborador(this.getColabFuncao(this.getAtuacao(t)?.colabFuncaoId)?.colaboradorId)?.nome??""}getDataHora(i){var t=this.getAtendimento(i);return(t?.inicio?.format("DD/MM/yyyy HH:mm")??"")+"~"+(t?.fim?.format("HH:mm")??"")}getNoAjudas(i,t){return i?.ajudas?.find(o=>o.key==t.id)?.value}podeRegistrarAtendimento(){return(this.permission.isGranted("Business.Personal.Colaborador.Supervisor")||this.permission.isGranted("Business.Personal.Colaborador.AT"))&&(this.permission.isGranted("Business.Admin.People")||this.staff.some(i=>this.getColabFuncao(i.colabFuncaoId).colaboradorId==this.appSession.user.colaborador.id&&null==i.dataFim))}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.pg4),e.rXU(c.iD6),e.rXU(c.aMo),e.rXU(c.i9W),e.rXU(c.J3u),e.rXU(c.QkB),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX),e.rXU(e.gRc))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["unidades-protocolo-intervencao"]],inputs:{aluno:"aluno",aplicacao:"aplicacao",modelo:"modelo",atendimentos:"atendimentos",colaboradores:"colaboradores",funcoesColaborador:"funcoesColaborador",staff:"staff",modeloHierarquiaAjuda:"modeloHierarquiaAjuda"},features:[e.Vt3],decls:26,vars:30,consts:[[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","5%"],[2,"width","15%"],[2,"width","10%"],[4,"ngFor","ngForOf"],[1,"text-center"]],template:function(t,o){if(1&t&&(e.j41(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th",3),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"th",4),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"th",5),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"th",5),e.EFF(14),e.nI1(15,"localize"),e.k0s(),e.j41(16,"th",5),e.EFF(17),e.nI1(18,"localize"),e.k0s(),e.DNE(19,Zr,3,3,"th",6),e.j41(20,"th",5),e.EFF(21),e.nI1(22,"localize"),e.k0s()()(),e.j41(23,"tbody"),e.DNE(24,Qr,14,8,"tr",6),e.nI1(25,"paginate"),e.k0s()()()),2&t){let n,s;e.R7$(),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(6,9,"Passo")),e.R7$(3),e.JRh(e.bMT(9,11,"AT")),e.R7$(3),e.JRh(e.bMT(12,13,"Data & Hora")),e.R7$(3),e.JRh(e.bMT(15,15,"Tipo")),e.R7$(3),e.JRh(e.bMT(18,17,"Descri\xe7\xe3o")),e.R7$(2),e.Y8G("ngForOf",null!==(n=null==o.modeloHierarquiaAjuda?null:o.modeloHierarquiaAjuda.tiposAjuda)&&void 0!==n?n:e.lJ4(24,me)),e.R7$(2),e.JRh(e.bMT(22,19,"Observa\xe7\xe3o")),e.R7$(3),e.Y8G("ngForOf",e.i5U(25,21,null!==(s=o.unidades)&&void 0!==s?s:e.lJ4(25,me),e.sMw(26,Lr,o.pageSize,o.pageNumber,o.totalItems)))}},dependencies:[h.Sq,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const vo=()=>[""],ed=()=>[],od=()=>[0,1,2,3];function id(a,d){if(1&a){const i=e.RV6();e.j41(0,"td",28),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG().$implicit,s=e.XpG();return e.Njj(s.onClickCell(n,o))}),e.EFF(1),e.k0s()}if(2&a){const i=d.$implicit,t=e.XpG().$implicit,o=e.XpG();e.Aen(o.canClickCell(t,i)?"background-color: skyblue;":"background-color: white;"),e.R7$(),e.SpI(" ",o.getPassoMarco(t,i)," ")}}function td(a,d){if(1&a&&(e.j41(0,"tr")(1,"td",26),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.DNE(7,id,2,3,"td",27),e.k0s()),2&a){const i=d.$implicit,t=d.index,o=e.XpG();e.R7$(2),e.JRh(t+1),e.R7$(2),e.JRh(i.desc),e.R7$(2),e.JRh(o.getPassoSituacao(i.id)),e.R7$(),e.Y8G("ngForOf",e.lJ4(4,od))}}let nd=(()=>{class a extends v.q{get aluno(){return this._aluno}set aluno(i){this._aluno=i}constructor(i,t,o,n,s,l,m,p,_,C,F,I,P,w){super(i),this._modalService=t,this._alunoService=o,this._casoService=n,this._aplicacaoProtocoloIntervencaoService=s,this._staffCasoService=l,this._staffService=m,this._atendimentoService=p,this._colaboradorService=_,this._protocoloIntervencaoService=C,this._hierarquiaAjudaService=F,this._changeDetector=I,this._router=P,this._route=w,this.saving=!1}goBack(){this.permission.isGranted("Business.Personal.Cliente.Aluno")&&this.appSession.user.aluno?.id==this.alunoId?this._router.navigate(["app","personal"]):this._router.navigate(["app","alunos","details",this.alunoId])}ngOnInit(){const i=this._route.snapshot.paramMap;this.alunoId=Number(i.get("alunoId")),this.apliId=Number(i.get("apliId")),this.refresh()}get loading(){return this.alunoLoading||this.apliLoading||this.procLoading}refresh(){this.alunoLoading=!0;const i=50;this._alunoService.get(this.alunoId).subscribe(t=>{this.aluno=t,this._staffCasoService.getAll(this.aluno.casoId,void 0,void 0,void 0,void 0,void 0,0,i).subscribe(o=>{this.staff=o.items,o.totalCount>o.items.length&&this._staffCasoService.getAll(this.aluno.casoId,void 0,void 0,void 0,void 0,void 0,i,o.totalCount-o.items.length).subscribe(n=>{this.staff.push(...n.items)})}),this._staffService.getAll(void 0,void 0,void 0,void 0,void 0,this.aluno.casoId,void 0,void 0,0,i).subscribe(o=>{this.funcoesColaborador=o.items,o.totalCount>o.items.length&&this._staffService.getAll(void 0,void 0,void 0,void 0,void 0,this.aluno.casoId,void 0,void 0,i,o.totalCount-o.items.length).subscribe(n=>{this.funcoesColaborador.push(...n.items)})}),this._colaboradorService.getAll(void 0,void 0,void 0,void 0,this.aluno.casoId,void 0,void 0,0,i).subscribe(o=>{this.colaboradores=o.items,o.totalCount>o.items.length&&this._colaboradorService.getAll(void 0,void 0,void 0,void 0,this.aluno.casoId,void 0,void 0,i,o.totalCount-o.items.length).subscribe(n=>{this.colaboradores.push(...n.items)})}),this.alunoLoading=!1,this._changeDetector.detectChanges()}),this.apliLoading=!0,this.procLoading=!0,this._aplicacaoProtocoloIntervencaoService.get(this.apliId).subscribe(t=>{this.aplicacao=t,this.apliLoading=!1,this._protocoloIntervencaoService.getVersao(this.aplicacao.modeloId).subscribe(o=>{this.modelo=o,this._hierarquiaAjudaService.get(this.modelo.hierarquiaAjudaId).subscribe(n=>this.modeloHierarquiaAjuda=n),this.procLoading=!1,this._changeDetector.detectChanges()}),this._changeDetector.detectChanges()}),this._atendimentoService.getAll(void 0,this.apliId,void 0,void 0,void 0,0,i).subscribe(t=>{this.atendimentos=t.items,t.totalCount>t.items.length&&this._atendimentoService.getAll(void 0,this.apliId,void 0,void 0,void 0,i,t.totalCount-t.items.length).subscribe(o=>{this.atendimentos.push(...o.items)})})}save(){this.saving=!0;let i=new c.hGf(this.aplicacao);this._aplicacaoProtocoloIntervencaoService.update(i).subscribe(t=>{this.notify.info(this.l("SavedSuccessfully")),this.aplicacao=t,this.saving=!1})}cancel(){this.refresh()}getEtapaPassoByModeloId(i){let t=this.aplicacao.passos.find(o=>o.modeloPassoId==i);return this.getEtapaPasso(t)}getEtapaPasso(i){return null==i.dataInicio?0:null==i.dataLinhaDeBase&&null==i.dataIntroducao?1:null==i.dataIntroducao?2:null==i.dataCriterioAlcancado?3:4}getPassoNome(i){return this.modelo?.passosProtIntervencao?.find(t=>t.id==i)?.desc}getPassoSituacao(i){let t=this.aplicacao.passos.find(o=>o.modeloPassoId==i);return null==t.dataInicio?"N\xe3o iniciado":null==t.dataLinhaDeBase&&null==t.dataIntroducao?"Linha de base ou Introdu\xe7\xe3o":null==t.dataIntroducao?"Introdu\xe7\xe3o":null==t.dataCriterioAlcancado?"Manuten\xe7\xe3o":"Crit\xe9rio alcan\xe7ado"}getPassoMarco(i,t){let o=this.aplicacao.passos.find(n=>n.modeloPassoId==i.id);return 0==t?o?.dataInicio?.format("DD/MM/yyyy")??"":1==t?o?.dataLinhaDeBase?.format("DD/MM/yyyy")??"":2==t?o?.dataIntroducao?.format("DD/MM/yyyy")??"":3==t?o?.dataCriterioAlcancado?.format("DD/MM/yyyy")??"":""}canClickCell(i,t){if(!this.permission.isGranted("Business.Personal.Colaborador.Supervisor")&&!this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico"))return!1;let o=this.aplicacao.passos.find(s=>s.modeloPassoId==i.id),n=this.getEtapaPasso(o);return 0==t&&0==n||1==t&&1==n||2==t&&(1==n||2==n)||3==t&&3==n}onClickCell(i,t){if(!this.permission.isGranted("Business.Personal.Colaborador.Supervisor")&&!this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico"))return;let s,o=this.aplicacao.passos.find(l=>l.modeloPassoId==i.id),n=this.getEtapaPasso(o);0==t&&0!=n||1==t&&1!=n||2==t&&1!=n&&2!=n||3==t&&3!=n||(s=this._modalService.show(Jr,{class:"modal-lg",initialState:{etapa:t,passoNome:i.desc}}),s.content.onSubmit.subscribe(l=>{let m=new c.hGf(this.aplicacao);m.passos=this.aplicacao.passos.map(_=>new c.FVY(_));var p=m.passos.find(_=>_.id==o.id);0==t?p.dataInicio=l:1==t?p.dataLinhaDeBase=l:2==t?p.dataIntroducao=l:p.dataCriterioAlcancado=l,this._aplicacaoProtocoloIntervencaoService.update(m).subscribe(_=>{this.aplicacao=_,this._changeDetector.detectChanges()})}))}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(g.I8),e.rXU(c.pg4),e.rXU(c.iD6),e.rXU(c.Of0),e.rXU(c.Uos),e.rXU(c.eAk),e.rXU(c.aMo),e.rXU(c.i9W),e.rXU(c.J3u),e.rXU(c.QkB),e.rXU(e.gRc),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:64,vars:44,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","p-0","m-0"],[1,"col-0","p-0","m-0","mr-2"],[1,"col-0","p-0","m-0"],[1,"col","m-0","p-0"],[1,"row","m-0","justify-content-center"],[1,"table-responsive","col","mt-3"],[1,"table","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","5%"],[2,"width","45%"],[2,"width","10%"],[4,"ngFor","ngForOf"],[3,"aluno","colaboradores","funcoesColaborador","staff","aplicacao","modelo","atendimentos","modeloHierarquiaAjuda"],[1,"text-center"],[3,"style","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,o){if(1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes da Aplica\xe7\xe3o de Protocolo de Avalia\xe7\xe3o "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"div",13)(18,"label",14),e.EFF(19," Vers\xe3o: "),e.k0s(),e.j41(20,"span",15),e.EFF(21),e.k0s()(),e.j41(22,"div",13)(23,"div",16)(24,"div",13)(25,"label",14),e.EFF(26," Data in\xedcio: "),e.k0s(),e.j41(27,"span",15),e.EFF(28),e.k0s()()(),e.j41(29,"div",16)(30,"div",13)(31,"label",14),e.EFF(32," Data arquivamento: "),e.k0s(),e.j41(33,"span",15),e.EFF(34),e.k0s()()()(),e.j41(35,"div",17)(36,"div",18)(37,"table",19)(38,"thead",20)(39,"tr"),e.nrm(40,"th",21),e.j41(41,"th",22),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th",23),e.EFF(45),e.nI1(46,"localize"),e.k0s(),e.j41(47,"th",23),e.EFF(48),e.nI1(49,"localize"),e.k0s(),e.j41(50,"th",23),e.EFF(51),e.nI1(52,"localize"),e.k0s(),e.j41(53,"th",23),e.EFF(54),e.nI1(55,"localize"),e.k0s(),e.j41(56,"th",23),e.EFF(57),e.nI1(58,"localize"),e.k0s()()(),e.j41(59,"tbody"),e.DNE(60,td,8,5,"tr",24),e.k0s()()()()(),e.j41(61,"tab",12),e.nI1(62,"localize"),e.nrm(63,"unidades-protocolo-intervencao",25),e.k0s()()()()()),2&t){let n,s,l;e.Y8G("@routerTransition",void 0),e.R7$(11),e.E5c(" ",null==o.modelo?null:o.modelo.protocoloIntervencaoNome," para ",(null!==(n=null==o.aluno||null==o.aluno.nome?null:o.aluno.nome.split(" "))&&void 0!==n?n:e.lJ4(41,vo))[0]," ",(null!==(n=null==o.aluno||null==o.aluno.nome||null==(n=o.aluno.nome.split(" "))?null:n.reverse())&&void 0!==n?n:e.lJ4(42,vo))[0]," "),e.R7$(4),e.Y8G("heading",e.bMT(16,25,"InfoAplicacao")),e.R7$(6),e.SpI(" ",null==o.modelo?null:o.modelo.nome," "),e.R7$(7),e.SpI(" ",null==o.aplicacao||null==o.aplicacao.dataInicio?null:o.aplicacao.dataInicio.format("DD/MM/yyyy")," "),e.R7$(6),e.SpI(" ",null!==(s=null==o.aplicacao?null:o.aplicacao.dataArquivamento)&&void 0!==s?s:"-"," "),e.R7$(3),e.Y8G("busy",o.loading),e.R7$(5),e.JRh(e.bMT(43,27,"Nome")),e.R7$(3),e.JRh(e.bMT(46,29,"Situa\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(49,31,"In\xedcio")),e.R7$(3),e.JRh(e.bMT(52,33,"Linha de Base")),e.R7$(3),e.JRh(e.bMT(55,35,"Introdu\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(58,37,"Crit\xe9rio Alcan\xe7ado")),e.R7$(3),e.Y8G("ngForOf",null!==(l=null==o.modelo?null:o.modelo.passosProtIntervencao)&&void 0!==l?l:e.lJ4(43,ed)),e.R7$(),e.Y8G("heading",e.bMT(62,39,"UnidadesEnsino")),e.R7$(2),e.Y8G("aluno",o.aluno)("colaboradores",o.colaboradores)("funcoesColaborador",o.funcoesColaborador)("staff",o.staff)("aplicacao",o.aplicacao)("modelo",o.modelo)("atendimentos",o.atendimentos)("modeloHierarquiaAjuda",o.modeloHierarquiaAjuda)}},dependencies:[h.Sq,S.V6,S.fw,E,Kr,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const ad=(a,d,i)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:i});function sd(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",34)(1,"div",35)(2,"button",13),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",36),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function ld(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.nrm(9,"td"),e.k0s()),2&a){let i,t;const o=d.$implicit,n=e.XpG();e.R7$(2),e.JRh(n.getTipoServicoNome(o.tipoServicoId)),e.R7$(2),e.JRh(n.getColaborador(n.getFuncaoColaborador(o.colabFuncaoOrgId).colaboradorId).nome),e.R7$(2),e.JRh(null!==(i=null==o||null==o.inicio?null:o.inicio.format("DD/MM/YYYY HH:mm"))&&void 0!==i?i:"-"),e.R7$(2),e.JRh(null!==(t=null==o||null==o.fim?null:o.fim.format("DD/MM/YYYY HH:mm"))&&void 0!==t?t:"-")}}let rd=(()=>{class a extends A{constructor(i,t,o,n,s,l,m,p,_){super(i),this._servicoPrestadoService=t,this._tipoServicoPrestadoService=o,this._colaboradorService=n,this._staffService=s,this._modalService=l,this._changeDectetor=m,this._router=p,this._route=_,this.servicos=[],this.keyword="",this.advancedFiltersVisible=!1}ngOnInit(){this.isTableLoading=!0,this._tipoServicoPrestadoService.getAll(void 0,void 0,void 0,void 0,void 0).subscribe(i=>{this.tiposServico=i.items,this.refresh()}),this._colaboradorService.getAll(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0).subscribe(i=>{this.colaboradores=i.items,this._changeDectetor.detectChanges()}),this._staffService.getAll(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0).subscribe(i=>{this.funcoesColaborador=i.items,this._changeDectetor.detectChanges()})}getFuncaoColaborador(i){return this.funcoesColaborador?.find(t=>t.id==i)}getColaborador(i){return this.colaboradores?.find(t=>t.id==i)}getTipoServicoNome(i){return this.tiposServico?.find(t=>t.id==i)?.nome??"-"}createServicoPrestado(){let i;i=this._modalService.show(ao,{class:"modal-lg",initialState:{tiposServico:this.tiposServico}}),i.content.onSave.subscribe(()=>{this.refresh()})}list(i,t,o){this._servicoPrestadoService.getAll(void 0,void 0,void 0,void 0,void 0,void 0,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.servicos=n.items,this.showPaging(n,t)})}clearFilters(){this.keyword="",this.getDataPage(1)}delete(i){abp.message.confirm("O seguinte tecnica ser\xe1 exclu\xeddo do banco",void 0,t=>{t&&this._servicoPrestadoService.delete(i.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.Frx),e.rXU(c.$Bn),e.rXU(c.i9W),e.rXU(c.eAk),e.rXU(g.I8),e.rXU(e.gRc),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:65,vars:44,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createServicoPrestado()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,sd,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th"),e.EFF(45),e.nI1(46,"localize"),e.k0s(),e.j41(47,"th"),e.EFF(48),e.nI1(49,"localize"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,ld,10,4,"tr",24),e.nI1(52,"paginate"),e.k0s()()()(),e.j41(53,"div",25)(54,"div",2)(55,"div",26)(56,"button",27),e.bIt("click",function(){return o.refresh()}),e.nrm(57,"i",28),e.k0s()(),e.j41(58,"div",29)(59,"p",30),e.EFF(60),e.nI1(61,"localize"),e.k0s()(),e.j41(62,"div",31)(63,"div",32)(64,"abp-pagination-controls",33),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&t&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,18,"Servi\xe7os Prestados")),e.R7$(5),e.SpI(" ",e.bMT(12,20,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,22,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,24,"Tipo")),e.R7$(3),e.JRh(e.bMT(40,26,"Colaborador")),e.R7$(3),e.JRh(e.bMT(43,28,"In\xedcio")),e.R7$(3),e.JRh(e.bMT(46,30,"Fim")),e.R7$(3),e.JRh(e.bMT(49,32,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(52,34,o.servicos,e.sMw(40,ad,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(61,37,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,r.me,r.BC,r.vS,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const dd=()=>[];function cd(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",19)(1,"div",20),e.EFF(2),e.k0s(),e.j41(3,"div",24)(4,"button",27),e.bIt("click",function(){const o=e.eBV(i).index,n=e.XpG();return e.Njj(n.unselect(o))}),e.nrm(5,"i",28),e.k0s()()()}if(2&a){const i=d.$implicit,t=e.XpG();e.R7$(2),e.JRh(i.nome),e.R7$(2),e.Y8G("disabled",t.disabled)}}function ud(a,d){if(1&a&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.JRh(i.nome)}}let Co=(()=>{class a extends v.q{constructor(i,t,o,n){super(i),this._tipoServicoPrestadoService=t,this._funcaoOrgService=o,this.bsModalRef=n,this.disabled=!1,this.funcoesSelected=[],this.funcaoSelectIdx="",this.loadingFuncoes=!1}get loading(){return this.loadingFuncoes}ngOnInit(){null==this.tipoServico.funcoesOrg&&(this.tipoServico.funcoesOrg=[]),this.loadingFuncoes=!0,this._funcaoOrgService.getAll(void 0,void 0,void 0).subscribe(i=>{this.funcoes=i.items,this.funcoesSelected=[];let t=[];this.tipoServico.funcoesOrg.forEach(o=>{this.funcoesSelected.push(void 0)}),this.funcoes.forEach(o=>{let n=this.tipoServico.funcoesOrg.findIndex(s=>s.id==o.id);-1!=n?this.funcoesSelected[n]=o:t.push(o)}),this.funcoes=t,this.loadingFuncoes=!1})}select(){if(""!=this.funcaoSelectIdx){let i=this.funcaoSelectIdx;this.funcaoSelectIdx="";let t=this.funcoes.splice(Number(i),1)[0];this.funcoesSelected.push(t),this.tipoServico.funcoesOrg.push(new c.z2i({id:t.id}))}}unselect(i){this.funcoes.push(this.funcoesSelected.splice(i,1)[0]),this.tipoServico.funcoesOrg.splice(i,1)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.$Bn),e.rXU(c.AMc),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["tipo-servico-prestado-form"]],inputs:{disabled:"disabled",tipoServico:"tipoServico"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:46,vars:30,consts:[["nomeModel","ngModel","nomeEl",""],["descModel","ngModel","descEl",""],["associadoACasoModel","ngModel","associadoACasoEl",""],["funcaoSelectModel","ngModel","funcaoSelectEl",""],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","desc",1,"col-md-3","col-form-label"],["type","text","name","desc","id","desc","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","associadoACaso",1,"col-md-4","col-form-label"],[1,"col-md-2"],["type","checkbox","name","associadoACaso","id","associadoACaso",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row"],[1,"col","text-center"],[1,"row",3,"hidden"],["class","row mx-5",4,"ngFor","ngForOf"],[1,"row","mx-5"],[1,"col"],["id","funcaoSelect","name","funcaoSelect",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-0"],["type","button",1,"row-0","btn","btn-primary",3,"click","disabled"],[1,"fa","fa-plus"],["type","button",1,"row-0","btn","btn-danger",3,"click","disabled"],[1,"fa","fa-x"],[3,"value"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div",4)(1,"label",5),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",6)(5,"input",7,0),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.tipoServico.nome,l)||(o.tipoServico.nome=l),e.Njj(l)}),e.k0s(),e.nrm(8,"abp-validation-summary",8),e.k0s()(),e.j41(9,"div",9)(10,"label",10),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",6)(14,"textarea",11,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.tipoServico.desc,l)||(o.tipoServico.desc=l),e.Njj(l)}),e.EFF(17,"        "),e.k0s(),e.nrm(18,"abp-validation-summary",8),e.k0s()(),e.j41(19,"div",9)(20,"label",12),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"div",13)(24,"input",14,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.tipoServico.associadoACaso,l)||(o.tipoServico.associadoACaso=l),e.Njj(l)}),e.k0s(),e.nrm(27,"abp-validation-summary",8),e.k0s()(),e.j41(28,"div",15)(29,"label",16),e.EFF(30,"Fun\xe7\xf5es Prestadoras"),e.k0s()(),e.j41(31,"div",17)(32,"div",16),e.EFF(33,"Nenhuma fun\xe7\xe3o selecionada"),e.k0s()(),e.DNE(34,cd,6,2,"div",18),e.j41(35,"div",19)(36,"div",20)(37,"select",21,3),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.funcaoSelectIdx,l)||(o.funcaoSelectIdx=l),e.Njj(l)}),e.nrm(40,"option",22),e.DNE(41,ud,2,2,"option",23),e.k0s(),e.nrm(42,"abp-validation-summary",8),e.k0s(),e.j41(43,"div",24)(44,"button",25),e.bIt("click",function(){return e.eBV(n),e.Njj(o.select())}),e.nrm(45,"i",26),e.k0s()()()}if(2&t){let n;const s=e.sdS(6),l=e.sdS(7),m=e.sdS(15),p=e.sdS(16),_=e.sdS(25),C=e.sdS(26),F=e.sdS(38),I=e.sdS(39);e.R7$(2),e.SpI(" ",e.bMT(3,23,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.tipoServico.nome),e.R7$(3),e.Y8G("control",s)("controlEl",l),e.R7$(3),e.SpI(" ",e.bMT(12,25,"Descri\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.tipoServico.desc),e.R7$(4),e.Y8G("control",m)("controlEl",p),e.R7$(3),e.SpI(" ",e.bMT(22,27,"Vinculado a caso")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.tipoServico.associadoACaso),e.R7$(3),e.Y8G("control",_)("controlEl",C),e.R7$(4),e.Y8G("hidden",o.funcoesSelected.length>0),e.R7$(3),e.Y8G("ngForOf",o.funcoesSelected),e.R7$(3),e.Y8G("disabled",o.loadingFuncoes),e.R50("ngModel",o.funcaoSelectIdx),e.R7$(4),e.Y8G("ngForOf",null!==(n=o.funcoes)&&void 0!==n?n:e.lJ4(29,dd)),e.R7$(),e.Y8G("control",F)("controlEl",I),e.R7$(2),e.Y8G("disabled",o.loadingFuncoes||""==o.funcaoSelectIdx||o.disabled)}},dependencies:[h.Sq,r.xH,r.y7,r.me,r.Zm,r.wz,r.BC,r.YS,r.tU,r.vS,y.e,f.S],encapsulation:2})}return a})(),md=(()=>{class a extends v.q{constructor(i,t,o,n){super(i),this._tipoServicoPrestadoService=t,this._funcaoOrgService=o,this.bsModalRef=n,this.onSave=new e.bkB,this.saving=!1}ngOnInit(){this.tipoServico=new c.D7c}save(){this.saving=!0,this.tipoServico.registravelAvulso=!0,this._tipoServicoPrestadoService.create(this.tipoServico).subscribe(i=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(i)})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.$Bn),e.rXU(c.AMc),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:7,vars:7,consts:[["createTipoServicoPrestadoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","tipoServicoForm",3,"disabled","tipoServico"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"tipo-servico-prestado-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"CreateNewTipoServicoPrestado")),e.R7$(3),e.Y8G("disabled",o.saving)("tipoServico",o.tipoServico),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving||0==o.tipoServico.funcoesOrg.length)}},dependencies:[r.qT,r.cb,r.Y4,r.cV,j.x,R.z,Co,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})(),pd=(()=>{class a extends v.q{constructor(i,t,o,n){super(i),this._tipoServicoPrestadoService=t,this._funcaoOrgService=o,this.bsModalRef=n,this.onSave=new e.bkB,this.saving=!1}ngOnInit(){}save(){this.saving=!0,this.tipoServico.registravelAvulso=!0,this._tipoServicoPrestadoService.update(this.tipoServico).subscribe(i=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(i)})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.$Bn),e.rXU(c.AMc),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:7,vars:7,consts:[["editTipoServicoPrestadoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","tipoServicoForm",3,"disabled","tipoServico"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"tipo-servico-prestado-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"EditNewTipoServicoPrestado")),e.R7$(3),e.Y8G("disabled",o.saving)("tipoServico",o.tipoServico),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving||0==o.tipoServico.funcoesOrg.length)}},dependencies:[r.qT,r.cb,r.Y4,r.cV,j.x,R.z,Co,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const hd=(a,d,i)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:i});function fd(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",34)(1,"div",35)(2,"button",13),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",36),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function bd(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"button",37),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.editTipoServicoPrestado(o))}),e.nrm(11,"i",38),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){const i=d.$implicit;e.R7$(2),e.JRh(i.nome),e.R7$(2),e.JRh(i.desc),e.R7$(2),e.JRh(i.registravelAvulso?"Sim":"N\xe3o"),e.R7$(2),e.JRh(i.associadoACaso?"Sim":"N\xe3o"),e.R7$(4),e.SpI(" ",e.bMT(13,5,"Edit")," ")}}let gd=(()=>{class a extends A{constructor(i,t,o,n,s,l,m){super(i),this._servicoPrestadoService=t,this._tipoServicoPrestadoService=o,this._modalService=n,this._changeDectetor=s,this._router=l,this._route=m,this.tiposServico=[],this.keyword="",this.advancedFiltersVisible=!1}ngOnInit(){this.refresh()}getTipoServicoNome(i){return this.tiposServico?.find(t=>t.id==i)?.nome??"-"}createTipoServicoPrestado(){let i;i=this._modalService.show(md,{class:"modal-lg",initialState:{}}),i.content.onSave.subscribe(()=>{this.refresh()})}editTipoServicoPrestado(i){let t;t=this._modalService.show(pd,{class:"modal-lg",initialState:{tipoServico:i}}),t.content.onSave.subscribe(()=>{this.refresh()})}list(i,t,o){this._tipoServicoPrestadoService.getAll(void 0,void 0,void 0,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{this.tiposServico=n.items,this.showPaging(n,t)})}clearFilters(){this.keyword="",this.getDataPage(1)}delete(i){abp.message.confirm("O seguinte tecnica ser\xe1 exclu\xeddo do banco",void 0,t=>{t&&this._servicoPrestadoService.delete(i.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.Frx),e.rXU(c.$Bn),e.rXU(g.I8),e.rXU(e.gRc),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:65,vars:44,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"]],template:function(t,o){1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createTipoServicoPrestado()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,fd,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th"),e.EFF(45),e.nI1(46,"localize"),e.k0s(),e.j41(47,"th"),e.EFF(48),e.nI1(49,"localize"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,bd,14,7,"tr",24),e.nI1(52,"paginate"),e.k0s()()()(),e.j41(53,"div",25)(54,"div",2)(55,"div",26)(56,"button",27),e.bIt("click",function(){return o.refresh()}),e.nrm(57,"i",28),e.k0s()(),e.j41(58,"div",29)(59,"p",30),e.EFF(60),e.nI1(61,"localize"),e.k0s()(),e.j41(62,"div",31)(63,"div",32)(64,"abp-pagination-controls",33),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&t&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,18,"Tipos de Servi\xe7o Prestado")),e.R7$(5),e.SpI(" ",e.bMT(12,20,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,22,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,24,"Nome")),e.R7$(3),e.JRh(e.bMT(40,26,"Desc")),e.R7$(3),e.JRh(e.bMT(43,28,"Avulso")),e.R7$(3),e.JRh(e.bMT(46,30,"Associado a Caso")),e.R7$(3),e.JRh(e.bMT(49,32,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(52,34,o.tiposServico,e.sMw(40,hd,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(61,37,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,r.me,r.BC,r.vS,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();function _d(a,d){if(1&a&&(e.j41(0,"option",21),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",i),e.R7$(),e.JRh(i)}}function vd(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"button",22),e.bIt("click",function(){const o=e.eBV(i).index,n=e.XpG();return e.Njj(n.removeTipoServicoPrestado(o))}),e.nrm(5,"i",23),e.EFF(6," Remover "),e.k0s()()()}if(2&a){const i=d.$implicit;e.R7$(2),e.JRh(i.nome)}}function Cd(a,d){if(1&a&&(e.j41(0,"option",21),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.JRh(i.nome)}}let Io=(()=>{class a extends Y{constructor(i,t){super(i),this._tipoServicoPrestadoService=t,this.optionsAcessoACaso=["Nenhum","Caso a Caso","Todos"],this.isTableLoading=!1,this._tipoServicoPrestadoAdd=void 0}ngOnInit(){this.isTableLoading=!0,this._tipoServicoPrestadoService.getAll(void 0,void 0,void 0,void 0,void 0).subscribe(i=>{this.tiposServicoPrestado=i.items,this.refreshTable(),this.isTableLoading=!1})}get tipoServicoPrestadoAdd(){return this._tipoServicoPrestadoAdd?.toString()??""}set tipoServicoPrestadoAdd(i){this._tipoServicoPrestadoAdd=""==i||null==i?void 0:Number(i)}addTipoServicoPrestado(){if(null!=this._tipoServicoPrestadoAdd){let i=this.tiposServicoPrestado[this._tipoServicoPrestadoAdd];this.tiposServicoNaoPrestadoPorFunc.splice(this._tipoServicoPrestadoAdd,1),this.funcao.tiposServicoPrestado.push(new c.z2i({id:i.id})),this.tiposServicoPrestadoPorFunc.push(i),this._tipoServicoPrestadoAdd=void 0}}removeTipoServicoPrestado(i){this.funcao.tiposServicoPrestado.splice(i,1),this.tiposServicoNaoPrestadoPorFunc.push(this.tiposServicoPrestadoPorFunc.splice(i,1)[0])}refreshTable(){this.tiposServicoPrestadoPorFunc=[],this.tiposServicoNaoPrestadoPorFunc=[],this.funcao.tiposServicoPrestado.forEach(()=>{this.tiposServicoPrestadoPorFunc.push(void 0)}),this.tiposServicoPrestado.forEach(i=>{let t=this.funcao.tiposServicoPrestado.findIndex(o=>o.id==i.id);-1!=t?this.tiposServicoPrestadoPorFunc[t]=i:this.tiposServicoNaoPrestadoPorFunc.push(i)})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.$Bn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["funcao-form"]],inputs:{funcao:"funcao"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:41,vars:21,consts:[["nomeModel","ngModel","nomeEl",""],["acessoACasoModel","ngModel","acessoACasoEl",""],["tipoServicoPrestadoAddModel","ngModel","tipoServicoPrestadoAddEl",""],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","100",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","acessoACaso",1,"col-md-3","col-form-label"],["name","acessoACaso","id","acessoACaso",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","200px"],[4,"ngFor","ngForOf"],["name","tipoServicoPrestadoAdd","id","tipoServicoPrestadoAdd",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-sm","bg-primary","mx-2",3,"click","disabled"],[1,"fas","fa-plus"],[3,"value"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-x"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div",3)(1,"label",4),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",5)(5,"input",6,0),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.funcao.nome,l)||(o.funcao.nome=l),e.Njj(l)}),e.k0s(),e.nrm(8,"abp-validation-summary",7),e.k0s()(),e.j41(9,"div",8)(10,"label",9),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",5)(14,"select",10,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.funcao.acessoCasoNome,l)||(o.funcao.acessoCasoNome=l),e.Njj(l)}),e.nrm(17,"option",11),e.DNE(18,_d,2,2,"option",12),e.k0s(),e.nrm(19,"abp-validation-summary",7),e.k0s()(),e.j41(20,"div",13)(21,"table",14)(22,"thead",15)(23,"tr")(24,"th"),e.EFF(25),e.nI1(26,"localize"),e.k0s(),e.nrm(27,"th",16),e.k0s()(),e.j41(28,"tbody"),e.DNE(29,vd,7,1,"tr",17),e.j41(30,"tr")(31,"td")(32,"select",18,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.tipoServicoPrestadoAdd,l)||(o.tipoServicoPrestadoAdd=l),e.Njj(l)}),e.nrm(35,"option",11),e.DNE(36,Cd,2,2,"option",12),e.k0s()(),e.j41(37,"td")(38,"button",19),e.bIt("click",function(){return e.eBV(n),e.Njj(o.addTipoServicoPrestado())}),e.nrm(39,"i",20),e.EFF(40," Adicionar Tipo de Servi\xe7o Prestado "),e.k0s()()()()()()}if(2&t){const n=e.sdS(6),s=e.sdS(7),l=e.sdS(15),m=e.sdS(16);e.R7$(2),e.SpI(" ",e.bMT(3,15,"Nome")," "),e.R7$(3),e.R50("ngModel",o.funcao.nome),e.R7$(3),e.Y8G("control",n)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,17,"Acesso a Caso")," "),e.R7$(3),e.R50("ngModel",o.funcao.acessoCasoNome),e.R7$(4),e.Y8G("ngForOf",o.optionsAcessoACaso),e.R7$(),e.Y8G("control",l)("controlEl",m),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(26,19,"Tipos de Servi\xe7o Prestado")),e.R7$(4),e.Y8G("ngForOf",o.tiposServicoPrestadoPorFunc),e.R7$(3),e.R50("ngModel",o.tipoServicoPrestadoAdd),e.R7$(4),e.Y8G("ngForOf",o.tiposServicoNaoPrestadoPorFunc),e.R7$(2),e.Y8G("disabled",""==o.tipoServicoPrestadoAdd)}},dependencies:[h.Sq,r.xH,r.y7,r.me,r.wz,r.BC,r.YS,r.tU,r.vS,y.e,E,f.S],encapsulation:2})}return a})(),Id=(()=>{class a extends v.q{constructor(i,t,o){super(i),this._funcaoService=t,this.bsModalRef=o,this.saving=!1,this.funcao=new c.sRI,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,console.log(this.funcao),this._funcaoService.create(this.funcao).subscribe(i=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(i)})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.AMc),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["createFuncaoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","funcaoForm",3,"funcao"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"funcao-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"CreateNewFuncao")),e.R7$(3),e.Y8G("funcao",o.funcao),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.cb,r.Y4,r.cV,j.x,R.z,Io,f.S],encapsulation:2})}return a})(),Fd=(()=>{class a extends v.q{constructor(i,t,o,n){super(i),this._funcaoService=t,this._tipoServicoPrestadoService=o,this.bsModalRef=n,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,this._funcaoService.update(this.funcao).subscribe(i=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(i)})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.AMc),e.rXU(c.$Bn),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["editFuncaoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","funcaoForm",3,"funcao"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"funcao-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){const n=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"EditNewFuncao")),e.R7$(3),e.Y8G("funcao",o.funcao),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!n.form.valid||o.saving)}},dependencies:[r.qT,r.cb,r.Y4,r.cV,j.x,R.z,Io,f.S],encapsulation:2})}return a})();const kd=(a,d,i)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:i});function jd(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function Rd(a,d){if(1&a){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"button",38),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.editFuncao(o))}),e.nrm(5,"i",39),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"button",40),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.delete(o))}),e.nrm(9,"i",41),e.EFF(10),e.nI1(11,"localize"),e.k0s()()()}if(2&a){const i=d.$implicit;e.R7$(2),e.JRh(i.nome),e.R7$(4),e.SpI(" ",e.bMT(7,3,"Edit")," "),e.R7$(4),e.SpI(" ",e.bMT(11,5,"Delete")," ")}}let Sd=(()=>{class a extends A{constructor(i,t,o,n,s,l){super(i),this._funcaoService=t,this._modalService=o,this._changeDectetor=n,this._router=s,this._route=l,this.funcoes=[],this.keyword="",this.advancedFiltersVisible=!1}ngOnInit(){this.refresh()}createFuncao(){let i;i=this._modalService.show(Id,{class:"modal-lg"}),i.content.onSave.subscribe(()=>{this.refresh()})}editFuncao(i){let t;t=this._modalService.show(Fd,{class:"modal-lg",initialState:{funcao:i}}),t.content.onSave.subscribe(()=>{this.refresh()})}list(i,t,o){console.log(i),this._funcaoService.getAll(void 0,i.skipCount,i.maxResultCount).pipe((0,$.j)(()=>{o()})).subscribe(n=>{console.log(n),this.funcoes=n.items,this.showPaging(n,t)})}clearFilters(){this.keyword="",this.getDataPage(1)}delete(i){abp.message.confirm("O seguinte tecnica ser\xe1 exclu\xedda do banco",void 0,t=>{t&&this._funcaoService.delete(i.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.AMc),e.rXU(g.I8),e.rXU(e.gRc),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:56,vars:35,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","200px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createFuncao()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,jd,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th",24),e.EFF(39),e.nI1(40,"localize"),e.k0s()()(),e.j41(41,"tbody"),e.DNE(42,Rd,12,7,"tr",25),e.nI1(43,"paginate"),e.k0s()()()(),e.j41(44,"div",26)(45,"div",2)(46,"div",27)(47,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(48,"i",29),e.k0s()(),e.j41(49,"div",30)(50,"p",31),e.EFF(51),e.nI1(52,"localize"),e.k0s()(),e.j41(53,"div",32)(54,"div",33)(55,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&t&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,15,"Fun\xe7\xf5es")),e.R7$(5),e.SpI(" ",e.bMT(12,17,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,19,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,21,"Nome")),e.R7$(3),e.JRh(e.bMT(40,23,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(43,25,o.funcoes,e.sMw(31,kd,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(52,28,"TotalRecordsCount",o.totalItems)," "))},dependencies:[h.Sq,h.bT,r.me,r.BC,r.vS,G,E,f.S,T.kf],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const Fo=()=>[""];function Md(a,d){if(1&a){const i=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"funcoes-colaborador-details",11),e.mxI("funcoesChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.funcoes,o)||(n.funcoes=o),e.Njj(o)})("historicoFuncoesChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.historicoFuncoes,o)||(n.historicoFuncoes=o),e.Njj(o)})("gerentesChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.gerentes,o)||(n.gerentes=o),e.Njj(o)})("gerentesCFChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.gerentesCF,o)||(n.gerentesCF=o),e.Njj(o)}),e.k0s()()}if(2&a){const i=e.XpG();e.Y8G("heading",e.bMT(1,6,"Funcoes")),e.R7$(2),e.Y8G("colaboradorId",i.id),e.R50("funcoes",i.funcoes)("historicoFuncoes",i.historicoFuncoes)("gerentes",i.gerentes)("gerentesCF",i.gerentesCF)}}function Ed(a,d){if(1&a){const i=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"servicos-prestados-colaborador",12),e.mxI("casosChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.casos,o)||(n.casos=o),e.Njj(o)}),e.k0s()()}if(2&a){const i=e.XpG();e.Y8G("heading",e.bMT(1,6,"ServicosPrestados")),e.R7$(2),e.Y8G("colaboradorId",i.id)("colaborador",i.pessoa)("funcoes",i.funcoes)("historicoFuncoes",i.historicoFuncoes),e.R50("casos",i.casos)}}function Td(a,d){if(1&a&&(e.j41(0,"tab",8),e.nI1(1,"localize"),e.nrm(2,"casos-colaborador",13),e.k0s()),2&a){const i=e.XpG();e.Y8G("heading",e.bMT(1,7,"Casos")),e.R7$(2),e.Y8G("colaboradorId",i.id)("funcoes",i.funcoes)("historicoFuncoes",i.historicoFuncoes)("casos",i.casos)("gerentes",i.gerentes)("gerentesCF",i.gerentesCF)}}function Dd(a,d){if(1&a){const i=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"gerenciados-colaborador",14),e.mxI("gerenciadosChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.gerenciados,o)||(n.gerenciados=o),e.Njj(o)})("gerenciadosFuncoesChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.gerenciadosFuncoes,o)||(n.gerenciadosFuncoes=o),e.Njj(o)}),e.k0s()()}if(2&a){const i=e.XpG();e.Y8G("heading",e.bMT(1,6,"Gerenciados")),e.R7$(2),e.Y8G("colaborador",i.pessoa)("funcoes",i.funcoes)("historicoFuncoes",i.historicoFuncoes),e.R50("gerenciados",i.gerenciados)("gerenciadosFuncoes",i.gerenciadosFuncoes)}}function Ad(a,d){if(1&a){const i=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"dependentes-details",15),e.mxI("responsavelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.pessoa,o)||(n.pessoa=o),e.Njj(o)}),e.k0s()()}if(2&a){const i=e.XpG();e.Y8G("heading",e.bMT(1,2,"AlunosDependentes")),e.R7$(2),e.R50("responsavel",i.pessoa)}}function yd(a,d){if(1&a){const i=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"responsaveis-aluno",16),e.mxI("alunoChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.pessoa,o)||(n.pessoa=o),e.Njj(o)}),e.k0s()()}if(2&a){const i=e.XpG();e.Y8G("heading",e.bMT(1,2,"Responsaveis")),e.R7$(2),e.R50("aluno",i.pessoa)}}function Gd(a,d){if(1&a){const i=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"provedores-saude-caso",16),e.mxI("alunoChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.pessoa,o)||(n.pessoa=o),e.Njj(o)}),e.k0s()()}if(2&a){const i=e.XpG();e.Y8G("heading",e.bMT(1,2,"HealthProviders")),e.R7$(2),e.R50("aluno",i.pessoa)}}function Pd(a,d){if(1&a&&(e.j41(0,"tab",8),e.nI1(1,"localize"),e.nrm(2,"staff-caso",17),e.k0s()),2&a){const i=e.XpG();e.Y8G("heading",e.bMT(1,5,"Staff")),e.R7$(2),e.Y8G("aluno",i.pessoa)("staff",i.staff)("funcoesColaborador",i.funcoesColaborador)("colaboradores",i.colaboradores)}}function $d(a,d){if(1&a&&(e.j41(0,"tab",8),e.nI1(1,"localize"),e.nrm(2,"supervisoes-caso",17),e.k0s()),2&a){const i=e.XpG();e.Y8G("heading",e.bMT(1,5,"Supervisoes")),e.R7$(2),e.Y8G("aluno",i.pessoa)("staff",i.staff)("funcoesColaborador",i.funcoesColaborador)("colaboradores",i.colaboradores)}}function wd(a,d){if(1&a&&(e.j41(0,"tab",8),e.nI1(1,"localize"),e.nrm(2,"atendimentos-caso",17),e.k0s()),2&a){const i=e.XpG();e.Y8G("heading",e.bMT(1,5,"Atendimentos")),e.R7$(2),e.Y8G("aluno",i.pessoa)("staff",i.staff)("funcoesColaborador",i.funcoesColaborador)("colaboradores",i.colaboradores)}}function Nd(a,d){if(1&a){const i=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"protocolos-avaliacao-caso",16),e.mxI("alunoChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.pessoa,o)||(n.pessoa=o),e.Njj(o)}),e.k0s()()}if(2&a){const i=e.XpG();e.Y8G("heading",e.bMT(1,2,"ProtocolosAvaliacao")),e.R7$(2),e.R50("aluno",i.pessoa)}}function Vd(a,d){if(1&a){const i=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"protocolos-intervencao-caso",16),e.mxI("alunoChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.pessoa,o)||(n.pessoa=o),e.Njj(o)}),e.k0s()()}if(2&a){const i=e.XpG();e.Y8G("heading",e.bMT(1,2,"ProtocolosIntervencao")),e.R7$(2),e.R50("aluno",i.pessoa)}}let Bd=(()=>{class a extends Q{initEmptyPessoa(){}constructor(i,t,o,n,s,l,m,p,_,C,F,I){super(i,_,C,F,I),this._alunoService=t,this._casoService=o,this._colaboradorService=n,this._staffService=s,this._staffCasoService=l,this._responsavelService=m,this._funcaoService=p,this._paisService=_,this._modalService=C,this._router=F,this._route=I,this.tipoPessoa="Usuario",this.busy=!1}ngOnInit(){null!=this.appSession.user.colaborador&&this._funcaoService.getAll(void 0,void 0,void 0).subscribe(i=>this.funcoes=i.items),super.ngOnInit()}proccessDto(i){super.proccessDto(i);const t=25;i instanceof c.lG3&&null!=i.casoId&&(this._staffCasoService.getAll(i.casoId,void 0,void 0,void 0,void 0,void 0,0,t).subscribe(o=>{this.staff=o.items,o.totalCount>o.items.length&&this._staffCasoService.getAll(i.casoId,void 0,void 0,void 0,void 0,void 0,t,o.totalCount-o.items.length).subscribe(n=>{this.staff.push(...n.items)})}),this._staffService.getAll(void 0,void 0,void 0,void 0,void 0,i.casoId,!0,void 0,0,t).subscribe(o=>{this.funcoesColaborador=o.items,o.totalCount>o.items.length&&this._staffService.getAll(void 0,void 0,void 0,void 0,void 0,i.casoId,!0,void 0,t,o.totalCount-o.items.length).subscribe(n=>{this.funcoesColaborador.push(...n.items)})}),this._colaboradorService.getAll(void 0,void 0,void 0,void 0,i.casoId,!0,void 0,0,t).subscribe(o=>{this.colaboradores=o.items,o.totalCount>o.items.length&&this._colaboradorService.getAll(void 0,void 0,void 0,void 0,i.casoId,!0,void 0,t,o.totalCount-o.items.length).subscribe(n=>{this.colaboradores.push(...n.items)})}))}getPessoa(){return null!=this.appSession.user.aluno?(this.id=this.appSession.user.aluno.id,this.tipoPessoa="Aluno",this._alunoService.get(this.appSession.user.aluno.id)):null!=this.appSession.user.colaborador?(this.id=this.appSession.user.colaborador.id,this.tipoPessoa="Colaborador",this._colaboradorService.get(this.appSession.user.colaborador.id)):null!=this.appSession.user.responsavel?(this.id=this.appSession.user.responsavel.id,this.tipoPessoa="Responsavel",this._responsavelService.get(this.appSession.user.responsavel.id)):void 0}getTipoPessoa(){return this.tipoPessoa}getFuncaoOrg(i){return this.funcoes?.find(t=>t.id==i)}showAbaCasos(){return this.historicoFuncoes?.some(i=>"Caso a Caso"==this.getFuncaoOrg(i.funcaoOrgId)?.acessoCasoNome)}cfGerencia(i){return(this.getFuncaoOrg(i.funcaoOrgId)?.funcoesGeridasDiretamente?.length??0)>0}showAbaGerenciados(){return"Colaborador"==this.tipoPessoa&&this.historicoFuncoes?.some(this.cfGerencia.bind(this))}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.pg4),e.rXU(c.iD6),e.rXU(c.i9W),e.rXU(c.eAk),e.rXU(c.Uos),e.rXU(c.o5l),e.rXU(c.AMc),e.rXU(c.B59),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:27,vars:28,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col","p-0","text-left",2,"vertical-align","middle","margin-left","40px"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","40px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[3,"pessoaChange","onClickEdit","pessoal","pessoa","cidade","uf","pais"],["class","p-3","style","\n                    border: 1px solid #dee2e6; \n                    border-top: 0px; \n                    border-bottom-left-radius: .25rem;\n                    border-bottom-right-radius: .25rem; \n                    background-color: white;",3,"heading",4,"ngIf"],[3,"funcoesChange","historicoFuncoesChange","gerentesChange","gerentesCFChange","colaboradorId","funcoes","historicoFuncoes","gerentes","gerentesCF"],[3,"casosChange","colaboradorId","colaborador","funcoes","historicoFuncoes","casos"],[3,"colaboradorId","funcoes","historicoFuncoes","casos","gerentes","gerentesCF"],[3,"gerenciadosChange","gerenciadosFuncoesChange","colaborador","funcoes","historicoFuncoes","gerenciados","gerenciadosFuncoes"],[3,"responsavelChange","responsavel"],[3,"alunoChange","aluno"],[3,"aluno","staff","funcoesColaborador","colaboradores"]],template:function(t,o){if(1&t&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"h1",3),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"h1",4),e.EFF(8),e.k0s()()()(),e.j41(9,"section",5)(10,"div",6)(11,"tabset",7)(12,"tab",8),e.nI1(13,"localize"),e.j41(14,"info-pessoal-details",9),e.mxI("pessoaChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.bIt("onClickEdit",function(){return o.editInfoPessoal()}),e.k0s()(),e.DNE(15,Md,3,8,"tab",10)(16,Ed,3,8,"tab",10)(17,Td,3,9,"tab",10)(18,Dd,3,8,"tab",10)(19,Ad,3,4,"tab",10)(20,yd,3,4,"tab",10)(21,Gd,3,4,"tab",10)(22,Pd,3,7,"tab",10)(23,$d,3,7,"tab",10)(24,wd,3,7,"tab",10)(25,Nd,3,4,"tab",10)(26,Vd,3,4,"tab",10),e.k0s()()()()),2&t){let n;e.Y8G("@routerTransition",void 0),e.R7$(5),e.SpI(" ",e.bMT(6,22,"Meu perfil")," "),e.R7$(3),e.Lme(" ",(null!==(n=null==o.pessoa||null==o.pessoa.nome?null:o.pessoa.nome.split(" "))&&void 0!==n?n:e.lJ4(26,Fo))[0]," ",(null!==(n=null==o.pessoa||null==o.pessoa.nome||null==(n=o.pessoa.nome.split(" "))?null:n.reverse())&&void 0!==n?n:e.lJ4(27,Fo))[0]," "),e.R7$(4),e.Y8G("heading",e.bMT(13,24,"PersonalInfo")),e.R7$(2),e.Y8G("pessoal",!0),e.R50("pessoa",o.pessoa),e.Y8G("cidade",o.cidade)("uf",o.uf)("pais",o.pais),e.R7$(),e.Y8G("ngIf","Colaborador"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Colaborador"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Colaborador"==o.tipoPessoa&&o.showAbaCasos()),e.R7$(),e.Y8G("ngIf",o.showAbaGerenciados()),e.R7$(),e.Y8G("ngIf","Responsavel"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Aluno"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Aluno"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Aluno"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Aluno"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Aluno"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Aluno"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Aluno"==o.tipoPessoa)}},dependencies:[h.bT,S.V6,S.fw,J,Ue,Xe,xe,to,so,lo,ro,oo,Le,Ze,We,Qe,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const pe=()=>[];function zd(a,d){if(1&a&&(e.j41(0,"option",28),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.Lme(" ",i.protocoloIntervencaoNome," (",i.nome,") ")}}function Yd(a,d){if(1&a&&(e.j41(0,"option",28),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.SpI(" ",i.desc," ")}}function Ud(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",10)(1,"label",29),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",12)(5,"select",30,5),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.passoIdx,o)||(n.passoIdx=o),e.Njj(o)}),e.DNE(8,Yd,2,2,"option",14),e.k0s(),e.nrm(9,"abp-validation-summary",15),e.k0s()()}if(2&a){let i;const t=e.sdS(6),o=e.sdS(7),n=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,6,"Passo do Protocolo de Interven\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",n.disabled),e.R50("ngModel",n.passoIdx),e.R7$(3),e.Y8G("ngForOf",null!==(i=n.passoOptions)&&void 0!==i?i:e.lJ4(8,pe)),e.R7$(),e.Y8G("control",t)("controlEl",o)}}function Xd(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",17)(1,"label",31),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",12)(5,"input",32,6),e.mxI("ngModelChange",function(o){const n=e.eBV(i).index,s=e.XpG();return e.DH7(s.unidade.ajudas[n].value,o)||(s.unidade.ajudas[n].value=o),e.Njj(o)}),e.k0s(),e.nrm(8,"abp-validation-summary",15),e.k0s()()}if(2&a){const i=d.$implicit,t=d.index,o=e.sdS(6),n=e.sdS(7),s=e.XpG();e.R7$(),e.Y8G("for","ajuda"+t),e.R7$(),e.Lme(" ",e.bMT(3,9,i.nome)," ",null!=(null==i?null:i.abreviacao)?"("+i.abreviacao+")":""," "),e.R7$(3),e.Y8G("disabled",s.disabled)("name","ajuda"+t)("id","ajuda"+t),e.R50("ngModel",s.unidade.ajudas[t].value),e.R7$(3),e.Y8G("control",o)("controlEl",n)}}let Hd=(()=>{class a extends v.q{get disabled(){return this.loading||this.saving}constructor(i,t,o,n,s,l){super(i),this._casoService=t,this._protocoloIntervencaoService=o,this._aplicacaoProtocoloIntervencaoService=n,this._hierarquiaAjudaService=s,this.bsModalRef=l,this.NOME_SERVICO_ATENDIMENTO="Atendimento",this.loading=!1,this.saving=!1,this.unidade=new c.s8X,this.onSave=new e.bkB}ngOnInit(){null==this.protocolosIntervencao?(this.protocolosIntervencao=[],this._protocoloIntervencaoService.getAllVersoes(void 0,this.aluno.casoId,void 0,void 0).subscribe(i=>{this.protocolosIntervencao=i.items,null==this.hierarquiasAjuda&&(this.hierarquiasAjuda=[],this.protocolosIntervencao.map(t=>t.hierarquiaAjudaId).forEach(t=>{this.hierarquiasAjuda.every(o=>o.id!=t)&&this._hierarquiaAjudaService.get(t).subscribe(this.hierarquiasAjuda.push)}))})):null==this.hierarquiasAjuda&&(this.hierarquiasAjuda=[],this.protocolosIntervencao.map(i=>i.hierarquiaAjudaId).forEach(i=>{this.hierarquiasAjuda.every(t=>t.id!=i)&&this._hierarquiaAjudaService.get(i).subscribe(this.hierarquiasAjuda.push)})),null==this.aplicacoes&&(this.aplicacoes=[],this._aplicacaoProtocoloIntervencaoService.getAll(this.aluno.casoId,void 0,0,25).subscribe(t=>{this.aplicacoes=t.items,t.totalCount>t.items.length&&this._aplicacaoProtocoloIntervencaoService.getAll(this.aluno.casoId,void 0,25,t.totalCount-t.items.length).subscribe(o=>{this.aplicacoes.push(...o.items)})}))}get protocoloIdx(){return this._protocoloIdx?.toString()??""}set protocoloIdx(i){i!=this.protocoloIdx&&(this.passoIdx="",this.unidade.ajudas=void 0),this._protocoloIdx=""!=(i??"")?Number(i):void 0,null==this.unidade.ajudas&&(this.unidade.ajudas=[],this.tiposAjuda.forEach(t=>this.unidade.ajudas.push(new c.yue({key:t.id,value:0}))))}get passoOptions(){return this.protocolosIntervencao[this._protocoloIdx]?.passosProtIntervencao}get passoIdx(){return this._passoIdx?.toString()??""}set passoIdx(i){this._passoIdx=""!=(i??"")?Number(i):void 0,this.unidade.passoId=(this.passoOptions??[])[this._passoIdx]?.id}get tiposAjuda(){let i=this.protocolosIntervencao[this._protocoloIdx]?.hierarquiaAjudaId;if(null!=i)return this.hierarquiasAjuda.find(t=>t.id==i).tiposAjuda}save(){this.onSave.emit(this.unidade),this.bsModalRef.hide()}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.iD6),e.rXU(c.J3u),e.rXU(c.Of0),e.rXU(c.QkB),e.rXU(g.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:48,vars:38,consts:[["unidadeIntervencaoModal","ngForm"],["protocoloModel","ngModel","protocoloEl",""],["tipoModel","ngModel","tipoEl",""],["descricaoModel","ngModel","descricaoEl",""],["observacaoModel","ngModel","observacaoEl",""],["passoModel","ngModel","passoEl",""],["ajudaModel","ngModel","ajudaEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","protocolo",1,"col-md-3","col-form-label"],[1,"col-md-9"],["name","protocolo","id","protocolo","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],["class","form-group row required",4,"ngIf"],[1,"form-group","row"],["for","tipo",1,"col-md-3","col-form-label"],["type","text","name","tipo","id","tipo","maxlength","50",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","descricao",1,"col-md-3","col-form-label"],["type","text","name","descricao","id","descricao","maxlength","200",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row","m-1","text-center","justify-content-center"],["class","form-group row",4,"ngFor","ngForOf"],["for","observacao",1,"row","m-1","text-center","row-form-label","justify-content-center"],[1,"col"],["type","text","name","observacao","id","observacao","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"],["for","passo",1,"col-md-3","col-form-label"],["name","passo","id","passo","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"col-md-3","col-form-label",3,"for"],["type","number","min","0",1,"form-control",3,"ngModelChange","disabled","name","id","ngModel"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"form",7,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(2,"abp-modal-header",8),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",9)(5,"div",10)(6,"label",11),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",12)(10,"select",13,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.protocoloIdx,l)||(o.protocoloIdx=l),e.Njj(l)}),e.DNE(13,zd,2,3,"option",14),e.k0s(),e.nrm(14,"abp-validation-summary",15),e.k0s()(),e.DNE(15,Ud,10,9,"div",16),e.j41(16,"div",17)(17,"label",18),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.j41(20,"div",12)(21,"input",19,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.unidade.tipo,l)||(o.unidade.tipo=l),e.Njj(l)}),e.k0s(),e.nrm(24,"abp-validation-summary",15),e.k0s()(),e.j41(25,"div",17)(26,"label",20),e.EFF(27),e.nI1(28,"localize"),e.k0s(),e.j41(29,"div",12)(30,"input",21,3),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.unidade.descricao,l)||(o.unidade.descricao=l),e.Njj(l)}),e.k0s(),e.nrm(33,"abp-validation-summary",15),e.k0s()(),e.j41(34,"label",22),e.EFF(35,"Ajudas"),e.k0s(),e.DNE(36,Xd,9,11,"div",23),e.j41(37,"label",24),e.EFF(38),e.nI1(39,"localize"),e.k0s(),e.j41(40,"div",17)(41,"div",25)(42,"textarea",26,4),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.unidade.observacao,l)||(o.unidade.observacao=l),e.Njj(l)}),e.EFF(45,"                "),e.k0s(),e.nrm(46,"abp-validation-summary",15),e.k0s()()(),e.j41(47,"abp-modal-footer",27),e.bIt("onCancelClick",function(){return e.eBV(n),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&t){let n,s;const l=e.sdS(1),m=e.sdS(11),p=e.sdS(12),_=e.sdS(22),C=e.sdS(23),F=e.sdS(31),I=e.sdS(32),P=e.sdS(43),w=e.sdS(44);e.R7$(2),e.Y8G("title",e.bMT(3,26,"UnidadeEnsino")),e.R7$(5),e.SpI(" ",e.bMT(8,28,"Protocolo de Interven\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.protocoloIdx),e.R7$(3),e.Y8G("ngForOf",null!==(n=o.protocolosIntervencao)&&void 0!==n?n:e.lJ4(36,pe)),e.R7$(),e.Y8G("control",m)("controlEl",p),e.R7$(),e.Y8G("ngIf",""!=o.protocoloIdx),e.R7$(3),e.SpI(" ",e.bMT(19,30,"Tipo")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.unidade.tipo),e.R7$(3),e.Y8G("control",_)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(28,32,"Descri\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.unidade.descricao),e.R7$(3),e.Y8G("control",F)("controlEl",I),e.R7$(3),e.Y8G("ngForOf",null!==(s=o.tiposAjuda)&&void 0!==s?s:e.lJ4(37,pe)),e.R7$(2),e.SpI(" ",e.bMT(39,34,"Observa\xe7\xe3o")," "),e.R7$(4),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.unidade.observacao),e.R7$(4),e.Y8G("control",P)("controlEl",w),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!l.form.valid||o.saving)}},dependencies:[h.Sq,h.bT,r.qT,r.xH,r.y7,r.me,r.Q0,r.wz,r.BC,r.cb,r.YS,r.tU,r.VZ,r.vS,r.cV,y.e,j.x,R.z,f.S],encapsulation:2})}return a})();const ko=()=>[""],oe=()=>[];function xd(a,d){if(1&a&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&a){const i=d.$implicit,t=e.XpG();e.Y8G("value",i.id),e.R7$(),e.SpI(" ",t.getOptionString(i)," ")}}function qd(a,d){if(1&a&&(e.j41(0,"div",42)(1,"label",43),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",44),e.EFF(5),e.k0s()()),2&a){const i=e.XpG().$implicit;e.R7$(2),e.SpI(" ",e.bMT(3,2,"Observa\xe7\xe3o"),": "),e.R7$(3),e.SpI(" ",i.observacao," ")}}function Od(a,d){if(1&a&&(e.j41(0,"th",54),e.EFF(1),e.k0s()),2&a){const i=d.$implicit;e.R7$(),e.SpI(" ",i.nome," ")}}function Jd(a,d){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const i=d.$implicit,t=e.XpG().$implicit,o=e.XpG();e.R7$(),e.SpI(" ",o.getNoAjudas(t,i)," ")}}function Ld(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",40)(1,"div",41)(2,"div",42)(3,"label",43),e.EFF(4),e.nI1(5,"localize"),e.k0s(),e.j41(6,"div",44),e.EFF(7),e.k0s()(),e.j41(8,"div",45)(9,"label",43),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"div",44),e.EFF(13),e.k0s()(),e.j41(14,"div",42)(15,"label",43),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.j41(18,"div",44),e.EFF(19),e.k0s(),e.j41(20,"label",43),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"div",44),e.EFF(24),e.k0s()(),e.DNE(25,qd,6,4,"div",46),e.j41(26,"div",47)(27,"table",48)(28,"thead",49)(29,"tr")(30,"th",50),e.EFF(31),e.nI1(32,"localize"),e.k0s()(),e.j41(33,"tr"),e.DNE(34,Od,2,1,"th",51),e.k0s()(),e.j41(35,"tbody")(36,"tr"),e.DNE(37,Jd,2,1,"td",51),e.k0s()()()()(),e.j41(38,"button",52),e.bIt("click",function(){const o=e.eBV(i).index,n=e.XpG();return e.Njj(n.rmvUnidade(o))}),e.nrm(39,"i",53),e.EFF(40),e.nI1(41,"localize"),e.k0s()()}if(2&a){let i,t,o;const n=d.$implicit,s=d.index,l=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,15,"Protocolo de Interven\xe7\xe3o"),": "),e.R7$(3),e.Lme(" ",l.protocolosByUnidade[s].protocoloIntervencaoNome," (",l.protocolosByUnidade[s].nome,") "),e.R7$(3),e.SpI(" ",e.bMT(11,17,"Passo"),": "),e.R7$(3),e.SpI(" ",l.passosByUnidade[s].desc," "),e.R7$(3),e.SpI(" ",e.bMT(17,19,"Tipo"),": "),e.R7$(3),e.SpI(" ",n.tipo," "),e.R7$(2),e.SpI(" ",e.bMT(22,21,"Descri\xe7\xe3o"),": "),e.R7$(3),e.SpI(" ",n.descricao," "),e.R7$(),e.Y8G("ngIf",null!=n.observacao&&""!=n.observacao),e.R7$(5),e.Y8G("colSpan",null!==(i=null==l.hierarquiasAjudaByUnidade[s]||null==l.hierarquiasAjudaByUnidade[s].tiposAjuda?null:l.hierarquiasAjudaByUnidade[s].tiposAjuda.length)&&void 0!==i?i:1),e.R7$(),e.SpI(" ",e.bMT(32,23,"Ajudas")," "),e.R7$(3),e.Y8G("ngForOf",null!==(t=null==l.hierarquiasAjudaByUnidade[s]?null:l.hierarquiasAjudaByUnidade[s].tiposAjuda)&&void 0!==t?t:e.lJ4(27,oe)),e.R7$(3),e.Y8G("ngForOf",null!==(o=null==l.hierarquiasAjudaByUnidade[s]?null:l.hierarquiasAjudaByUnidade[s].tiposAjuda)&&void 0!==o?o:e.lJ4(28,oe)),e.R7$(3),e.SpI(" ",e.bMT(41,25,"Remove")," ")}}let Zd=(()=>{class a extends v.q{get disabled(){return this.loading||this.saving}constructor(i,t,o,n,s,l,m,p,_,C,F,I,P,w,V,B,U){super(i),this._casoService=t,this._alunoService=o,this._colaboradorService=n,this._staffService=s,this._staffCasoService=l,this._tipoServicoService=m,this._atendimentoService=p,this._protocoloIntervencaoService=_,this._aplicacaoProtocoloIntervencaoService=C,this._hierarquiaAjudaService=F,this._funcaoService=I,this._changeDetector=P,this._bsModalService=w,this._router=V,this._route=B,this._localService=U,this.NOME_SERVICO_ATENDIMENTO="Atendimento",this.loading=!1,this.saving=!1,this.protocolosByUnidade=[],this.passosByUnidade=[],this.hierarquiasAjudaByUnidade=[]}goBack(){this._router.navigate([".."],{relativeTo:this._route})}getOptionString(i){let t=this.getColabFuncao(i?.colabFuncaoId),o=this.getColaborador(t?.colaboradorId),n=this.getFuncao(t?.funcaoOrgId);return o?.nome+" ("+n?.nome+")"}getFuncao(i){return this.funcoes?.find(t=>t.id==i)}getAtuacao(i){return this.ats?.find(t=>t.id==i)}getColabFuncao(i){return this.funcoesColaborador.get(i)}getColaborador(i){return this.colaboradores.get(i)}ngOnInit(){if(this.loading=!0,this.aluno=this._localService.aluno,null==this.aluno){const t=Number(this._route.snapshot.paramMap.get("alunoId"));this._alunoService.get(t).subscribe(o=>{this.aluno=o,this.refresh()})}else this.refresh()}refresh(){this.funcoes=[],this._funcaoService.getAll(void 0,0,10).subscribe(n=>{this.funcoes=n.items,n.totalCount>n.items.length&&this._funcaoService.getAll(void 0,n.items.length,n.totalCount-n.items.length).subscribe(s=>{this.funcoes.push(...s.items)})}),this._tipoServicoService.getAll(this.NOME_SERVICO_ATENDIMENTO,void 0,void 0,0,10).subscribe(n=>{this.tiposServico=n.items,this._funcoesApropriadas=[],n.items.forEach(m=>{m.funcoesOrg.forEach(p=>{this._funcoesApropriadas.includes(p.id)||this._funcoesApropriadas.push(p.id)})}),this.ats=[],this._staffCasoService.getAll(this.aluno.casoId,!0,!0,void 0,void 0,this._funcoesApropriadas,0,25).subscribe(m=>{this.ats=m.items,m.totalCount>m.items.length?this._staffCasoService.getAll(this.aluno.casoId,!0,!0,void 0,void 0,this._funcoesApropriadas,25,m.totalCount-m.items.length).subscribe(p=>{this.ats.push(...p.items),this.filterATs(),this.loading=!1,this._changeDetector.detectChanges()}):(this.filterATs(),this.loading=!1,this._changeDetector.detectChanges())}),this.funcoesColaborador=new Map,this._staffService.getAll(void 0,void 0,void 0,this._funcoesApropriadas,!0,this.aluno.casoId,void 0,void 0,0,25).subscribe(m=>{m.items.forEach(p=>{this.funcoesColaborador.set(p.id,p)}),m.totalCount>m.items.length?this._staffService.getAll(void 0,void 0,void 0,this._funcoesApropriadas,!0,this.aluno.casoId,void 0,void 0,25,m.totalCount-m.items.length).subscribe(p=>{p.items.forEach(_=>{this.funcoesColaborador.set(_.id,_)}),this._changeDetector.detectChanges()}):this._changeDetector.detectChanges()}),this.colaboradores=new Map,this._colaboradorService.getAll(void 0,void 0,this._funcoesApropriadas,!0,this.aluno.casoId,void 0,void 0,void 0,void 0).subscribe(m=>{m.items.forEach(p=>{this.colaboradores.set(p.id,p)}),this._changeDetector.detectChanges()})}),this.loadingHierarquias=!0,this.hierarquiasAjuda=[],this._hierarquiaAjudaService.getAll(void 0,void 0).subscribe(n=>{this.hierarquiasAjuda=n.items,this.loadingHierarquias=!1}),this.loadingProtocolosIntervencao=!0,this.protocolosIntervencao=[],this._protocoloIntervencaoService.getAllVersoes(void 0,this.aluno.casoId,void 0,void 0).subscribe(n=>{this.protocolosIntervencao=n.items,this.loadingProtocolosIntervencao=!1}),this.loadingAplicacoes=!0,this.aplicacoes=[],this._aplicacaoProtocoloIntervencaoService.getAll(this.aluno.casoId,void 0,0,25).subscribe(n=>{this.aplicacoes=n.items,n.totalCount>n.items.length?this._aplicacaoProtocoloIntervencaoService.getAll(this.aluno.casoId,void 0,25,n.totalCount-n.items.length).subscribe(s=>{this.aplicacoes.push(...s.items),this.loadingAplicacoes=!1}):this.loadingAplicacoes=!1}),this.atendimento=new c.Tgy,this.atendimento.casoId=this.aluno.casoId,this.atendimento.inicio=z(),this.atendimento.fim=z(),this.atendimento.unidadesEnsino=[]}filterATs(){!this.permission.isGranted("Business.Personal.Colaborador.Supervisor")&&!this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico")&&(this.ats=this.ats.filter(i=>this.getColabFuncao(i.colabFuncaoId)?.colaboradorId==(this.appSession.user?.colaborador?.id??-1)))}addUnidade(){let i;i=this._bsModalService.show(Hd,{class:"modal-lg",initialState:{aluno:this.aluno,protocolosIntervencao:this.protocolosIntervencao,aplicacoes:this.aplicacoes,hierarquiasAjuda:this.hierarquiasAjuda}}),i.content.onSave.subscribe(t=>{this.atendimento.unidadesEnsino.push(t);var o,n=this.protocolosIntervencao.find(s=>null!=(o=s.passosProtIntervencao.find(l=>l.id==t.passoId)));this.protocolosByUnidade.push(n),this.passosByUnidade.push(o),this.hierarquiasAjudaByUnidade.push(this.hierarquiasAjuda.find(s=>s.id==n.hierarquiaAjudaId))})}rmvUnidade(i){this.atendimento.unidadesEnsino.splice(i,1),this.protocolosByUnidade.splice(i,1),this.passosByUnidade.splice(i,1),this.hierarquiasAjudaByUnidade.splice(i,1)}getNoAjudas(i,t){return i.ajudas.find(o=>o.key==t.id).value}get data(){return this.atendimento?.inicio?.format("YYYY-MM-DD")}set data(i){let t=z(i),o=z(i);t=t.hour(this.atendimento?.inicio?.hour()??0),o=o.hour(this.atendimento?.fim?.hour()??0),t=t.minute(this.atendimento?.inicio?.minute()??0),o=o.minute(this.atendimento?.fim?.minute()??0),this.atendimento.inicio=t,this.atendimento.fim=o}get horarioInicio(){return this.atendimento?.inicio?.format("HH:mm")}set horarioInicio(i){let t=Number(i.substring(0,2)),o=Number(i.substring(3,5));this.atendimento.inicio=this.atendimento?.inicio?.hour(t),this.atendimento.inicio=this.atendimento?.inicio?.minute(o)}get horarioFim(){return this.atendimento?.fim?.format("HH:mm")}set horarioFim(i){let t=Number(i.substring(0,2)),o=Number(i.substring(3,5));this.atendimento.fim=this.atendimento?.fim?.hour(t),this.atendimento.fim=this.atendimento?.fim?.minute(o)}get atId(){return this.atendimento?.atuacaoTerapeutaId?.toString()??""}set atId(i){this.atendimento.atuacaoTerapeutaId=""!=i&&null!=i?Number(i):void 0}save(){this.saving=!0;let i={next:t=>{this.saving=!1,this.notify.success(this.l("Salvo com sucesso!")),this._router.navigate([".."],{relativeTo:this._route})},error:t=>{console.log(t),this.saving=!1},complete:()=>{}};this.atendimento.inicio=this.atendimento.inicio.utcOffset(0,!0),this.atendimento.fim=this.atendimento.fim.utcOffset(0,!0),this._atendimentoService.create(this.atendimento).subscribe(i)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.iD6),e.rXU(c.pg4),e.rXU(c.i9W),e.rXU(c.eAk),e.rXU(c.Uos),e.rXU(c.$Bn),e.rXU(c.aMo),e.rXU(c.J3u),e.rXU(c.Of0),e.rXU(c.QkB),e.rXU(c.AMc),e.rXU(e.gRc),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX),e.rXU(q.n))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:70,vars:51,consts:[["registroAtendimentoPage","ngForm"],["atModel","ngModel","atEl",""],["dataModel","ngModel","dataEl",""],["horarioInicioModel","ngModel","horarioInicioEl",""],["horarioFimModel","ngModel","horarioFimEl",""],[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[2,"height","100%","width","100%","border","0px solid black"],[1,"card",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white"],[1,"card-body"],[1,"form-group","row","required"],["for","at",1,"col-md-3","col-form-label"],[1,"col-md-9"],["name","at","id","at","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],["for","data",1,"col-md-3","col-form-label"],["type","date","name","data","id","data","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","horarioInicio",1,"col-md-3","col-form-label"],["type","time","name","horarioInicio","id","horarioInicio","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","horarioFim",1,"col-md-3","col-form-label"],["type","time","name","horarioFim","id","horarioFim","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row","mx-0","my-2","justify-content-center"],["style","border: 1px solid lightgray; border-radius: 10px;","class","row mx-0 my-1",4,"ngFor","ngForOf"],[1,"row","m-0","pb-2","justify-content-center"],["type","button",1,"btn","btn-sm","bg-primary",3,"click","disabled"],[1,"fas","fa-plus-square"],[1,"row","m-0","justify-content-center"],["type","submit",1,"btn","bg-primary",3,"disabled"],[3,"value"],[1,"row","mx-0","my-1",2,"border","1px solid lightgray","border-radius","10px"],[1,"col-md-11","p-0"],[1,"row","m-0","px-1","pb-1","pt-2"],[1,"col-md-3","p-0","pl-2"],[1,"col"],[1,"row","m-0","p-1"],["class","row m-0 px-1 pb-1 pt-2",4,"ngIf"],[1,"row","m-0"],[1,"table","table-bordered","m-0"],[1,"bg-light"],[1,"text-center",3,"colSpan"],["class","text-center",4,"ngFor","ngForOf"],["type","button",1,"col","btn","btn-sm","bg-danger",3,"click"],[1,"fas","fa-x"],[1,"text-center"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div")(1,"section",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"button",9),e.bIt("click",function(){return e.eBV(n),e.Njj(o.goBack())}),e.nrm(6,"i",10),e.k0s()()(),e.j41(7,"div",11)(8,"h1",12),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"h1",13),e.EFF(12),e.k0s()()()(),e.j41(13,"section",14)(14,"form",15,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(16,"div",16)(17,"div",17)(18,"div",18)(19,"div",19)(20,"label",20),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"div",21)(24,"select",22,1),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.atId,l)||(o.atId=l),e.Njj(l)}),e.nrm(27,"option",23),e.DNE(28,xd,2,2,"option",24),e.k0s(),e.nrm(29,"abp-validation-summary",25),e.k0s()(),e.j41(30,"div",19)(31,"label",26),e.EFF(32),e.nI1(33,"localize"),e.k0s(),e.j41(34,"div",21)(35,"input",27,2),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.data,l)||(o.data=l),e.Njj(l)}),e.k0s(),e.nrm(38,"abp-validation-summary",25),e.k0s()(),e.j41(39,"div",19)(40,"label",28),e.EFF(41),e.nI1(42,"localize"),e.k0s(),e.j41(43,"div",21)(44,"input",29,3),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.horarioInicio,l)||(o.horarioInicio=l),e.Njj(l)}),e.k0s(),e.nrm(47,"abp-validation-summary",25),e.k0s()(),e.j41(48,"div",19)(49,"label",30),e.EFF(50),e.nI1(51,"localize"),e.k0s(),e.j41(52,"div",21)(53,"input",31,4),e.mxI("ngModelChange",function(l){return e.eBV(n),e.DH7(o.horarioFim,l)||(o.horarioFim=l),e.Njj(l)}),e.k0s(),e.nrm(56,"abp-validation-summary",25),e.k0s()(),e.j41(57,"label",32),e.EFF(58),e.nI1(59,"localize"),e.k0s(),e.DNE(60,Ld,42,29,"div",33),e.j41(61,"div",34)(62,"button",35),e.bIt("click",function(){return e.eBV(n),e.Njj(o.addUnidade())}),e.nrm(63,"i",36),e.EFF(64),e.nI1(65,"localize"),e.k0s()(),e.j41(66,"div",37)(67,"button",38),e.EFF(68),e.nI1(69,"localize"),e.k0s()()()()()()()()}if(2&t){let n,s,l;const m=e.sdS(15),p=e.sdS(25),_=e.sdS(26),C=e.sdS(36),F=e.sdS(37),I=e.sdS(45),P=e.sdS(46),w=e.sdS(54),V=e.sdS(55);e.Y8G("@routerTransition",void 0),e.R7$(9),e.SpI(" ",e.bMT(10,31,"Registro de Atendimento ao Aluno")," "),e.R7$(3),e.Lme(" ",(null!==(n=null==o.aluno||null==o.aluno.nome?null:o.aluno.nome.split(" "))&&void 0!==n?n:e.lJ4(47,ko))[0]," ",(null!==(n=null==o.aluno||null==o.aluno.nome||null==(n=o.aluno.nome.split(" "))?null:n.reverse())&&void 0!==n?n:e.lJ4(48,ko))[0]," "),e.R7$(9),e.SpI(" ",e.bMT(22,33,"AT")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.atId),e.R7$(4),e.Y8G("ngForOf",null!==(s=o.ats)&&void 0!==s?s:e.lJ4(49,oe)),e.R7$(),e.Y8G("control",p)("controlEl",_),e.R7$(3),e.SpI(" ",e.bMT(33,35,"Data")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.data),e.R7$(3),e.Y8G("control",C)("controlEl",F),e.R7$(3),e.SpI(" ",e.bMT(42,37,"Hor\xe1rio In\xedcio")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.horarioInicio),e.R7$(3),e.Y8G("control",I)("controlEl",P),e.R7$(3),e.SpI(" ",e.bMT(51,39,"Hor\xe1rio Fim")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.horarioFim),e.R7$(3),e.Y8G("control",w)("controlEl",V),e.R7$(2),e.JRh(e.bMT(59,41,"UnidadesEnsino")),e.R7$(2),e.Y8G("ngForOf",null!==(l=null==o.atendimento?null:o.atendimento.unidadesEnsino)&&void 0!==l?l:e.lJ4(50,oe)),e.R7$(2),e.Y8G("disabled",o.loading||o.loadingHierarquias||o.loadingProtocolosIntervencao||o.loadingAplicacoes),e.R7$(2),e.SpI(" ",e.bMT(65,43,"AddUnidadeEnsino")," "),e.R7$(3),e.Y8G("disabled",o.loading||o.loadingHierarquias||o.loadingProtocolosIntervencao||o.loadingAplicacoes||o.saving||!m.form.valid||0==o.atendimento.unidadesEnsino.length),e.R7$(),e.SpI(" ",e.bMT(69,45,"Save")," ")}},dependencies:[h.Sq,h.bT,r.qT,r.xH,r.y7,r.me,r.wz,r.BC,r.cb,r.YS,r.vS,r.cV,y.e,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const Wd=()=>[];function Qd(a,d){if(1&a&&(e.j41(0,"option",188),e.EFF(1),e.k0s()),2&a){const i=d.$implicit,t=e.XpG(2);e.Y8G("value",i.id),e.R7$(),e.SpI(" ",t.getOptionString(i)," ")}}function Kd(a,d){if(1&a){const i=e.RV6();e.j41(0,"div")(1,"div",30)(2,"label",31),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.logOptions())}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"div",32)(6,"select",33,0),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.avaliadorId,o)||(n.avaliadorId=o),e.Njj(o)}),e.nrm(9,"option",34),e.DNE(10,Qd,2,2,"option",35),e.k0s(),e.nrm(11,"abp-validation-summary",36),e.k0s()(),e.j41(12,"div",30)(13,"label",37),e.EFF(14),e.nI1(15,"localize"),e.k0s(),e.j41(16,"div",32)(17,"input",38,1),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.data,o)||(n.data=o),e.Njj(o)}),e.k0s(),e.nrm(20,"abp-validation-summary",36),e.k0s()(),e.j41(21,"details")(22,"summary"),e.EFF(23),e.nI1(24,"localize"),e.k0s(),e.j41(25,"div",39)(26,"label",40),e.EFF(27),e.nI1(28,"localize"),e.k0s(),e.j41(29,"div",32)(30,"textarea",41,2),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.diagnostico,o)||(n.anamnese.diagnostico=o),e.Njj(o)}),e.EFF(33,"            "),e.k0s(),e.nrm(34,"abp-validation-summary",36),e.k0s()(),e.j41(35,"div",39)(36,"label",42),e.EFF(37),e.nI1(38,"localize"),e.k0s(),e.j41(39,"div",32)(40,"input",43,3),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.cuidador,o)||(n.anamnese.cuidador=o),e.Njj(o)}),e.k0s(),e.nrm(43,"abp-validation-summary",36),e.k0s()(),e.j41(44,"div",39)(45,"label",44),e.EFF(46),e.nI1(47,"localize"),e.k0s(),e.j41(48,"div",32)(49,"input",45,4),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.profissaoCuidador,o)||(n.anamnese.profissaoCuidador=o),e.Njj(o)}),e.k0s(),e.nrm(52,"abp-validation-summary",36),e.k0s()(),e.j41(53,"div",39)(54,"label",46),e.EFF(55),e.nI1(56,"localize"),e.k0s(),e.j41(57,"div",32)(58,"input",47,5),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.telefone,o)||(n.anamnese.telefone=o),e.Njj(o)}),e.k0s(),e.nrm(61,"abp-validation-summary",36),e.k0s()(),e.j41(62,"div",39)(63,"label",48),e.EFF(64),e.nI1(65,"localize"),e.k0s(),e.j41(66,"div",32)(67,"textarea",49,6),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.historicoPessoal,o)||(n.anamnese.historicoPessoal=o),e.Njj(o)}),e.EFF(70,"            "),e.k0s(),e.nrm(71,"abp-validation-summary",36),e.k0s()(),e.j41(72,"div",39)(73,"label",50),e.EFF(74),e.nI1(75,"localize"),e.k0s(),e.j41(76,"div",32)(77,"textarea",51,7),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.patologiaAssociada,o)||(n.anamnese.patologiaAssociada=o),e.Njj(o)}),e.EFF(80,"            "),e.k0s(),e.nrm(81,"abp-validation-summary",36),e.k0s()(),e.j41(82,"div",39)(83,"label",52),e.EFF(84),e.nI1(85,"localize"),e.k0s(),e.j41(86,"div",32)(87,"textarea",53,8),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.convulsoes,o)||(n.anamnese.convulsoes=o),e.Njj(o)}),e.EFF(90,"            "),e.k0s(),e.nrm(91,"abp-validation-summary",36),e.k0s()()(),e.j41(92,"details")(93,"summary"),e.EFF(94),e.nI1(95,"localize"),e.k0s(),e.j41(96,"div",39)(97,"div",54)(98,"label"),e.EFF(99),e.nI1(100,"localize"),e.k0s(),e.j41(101,"div")(102,"input",55,9),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.sentou,o)||(n.anamnese.sentou=o),e.Njj(o)}),e.k0s(),e.nrm(105,"abp-validation-summary",36),e.k0s()(),e.j41(106,"div",54)(107,"label"),e.EFF(108),e.nI1(109,"localize"),e.k0s(),e.j41(110,"div")(111,"input",56,10),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.engatinhou,o)||(n.anamnese.engatinhou=o),e.Njj(o)}),e.k0s(),e.nrm(114,"abp-validation-summary",36),e.k0s()(),e.j41(115,"div",54)(116,"label"),e.EFF(117),e.nI1(118,"localize"),e.k0s(),e.j41(119,"div")(120,"input",57,11),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.andou,o)||(n.anamnese.andou=o),e.Njj(o)}),e.k0s(),e.nrm(123,"abp-validation-summary",36),e.k0s()()(),e.j41(124,"div",39)(125,"label",58),e.EFF(126),e.nI1(127,"localize"),e.k0s(),e.j41(128,"div",32)(129,"textarea",59,12),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.estereotipiasMotoras,o)||(n.anamnese.estereotipiasMotoras=o),e.Njj(o)}),e.EFF(132,"            "),e.k0s(),e.nrm(133,"abp-validation-summary",36),e.k0s()()(),e.j41(134,"details")(135,"summary"),e.EFF(136),e.nI1(137,"localize"),e.k0s(),e.j41(138,"div",39)(139,"div",54)(140,"label"),e.EFF(141),e.nI1(142,"localize"),e.k0s(),e.j41(143,"div",60)(144,"label",54),e.EFF(145),e.nI1(146,"localize"),e.k0s(),e.j41(147,"div",54)(148,"input",61),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.solidos,o)||(n.solidos=o),e.Njj(o)}),e.k0s()(),e.j41(149,"label",54),e.EFF(150),e.nI1(151,"localize"),e.k0s(),e.j41(152,"div",54)(153,"input",62),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.solidos,o)||(n.solidos=o),e.Njj(o)}),e.k0s()()()(),e.j41(154,"div",54)(155,"label"),e.EFF(156),e.nI1(157,"localize"),e.k0s(),e.j41(158,"div",60)(159,"label",54),e.EFF(160),e.nI1(161,"localize"),e.k0s(),e.j41(162,"div",54)(163,"input",63),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.pastosos,o)||(n.pastosos=o),e.Njj(o)}),e.k0s()(),e.j41(164,"label",54),e.EFF(165),e.nI1(166,"localize"),e.k0s(),e.j41(167,"div",54)(168,"input",64),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.pastosos,o)||(n.pastosos=o),e.Njj(o)}),e.k0s()()()(),e.j41(169,"div",54)(170,"label"),e.EFF(171),e.nI1(172,"localize"),e.k0s(),e.j41(173,"div",60)(174,"label",54),e.EFF(175),e.nI1(176,"localize"),e.k0s(),e.j41(177,"div",54)(178,"input",65),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.liquidos,o)||(n.liquidos=o),e.Njj(o)}),e.k0s()(),e.j41(179,"label",54),e.EFF(180),e.nI1(181,"localize"),e.k0s(),e.j41(182,"div",54)(183,"input",66),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.liquidos,o)||(n.liquidos=o),e.Njj(o)}),e.k0s()()()()(),e.j41(184,"div",39)(185,"label",67),e.EFF(186),e.nI1(187,"localize"),e.k0s(),e.j41(188,"div",32)(189,"textarea",68,13),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.alergiasEIntolerancias,o)||(n.anamnese.alergiasEIntolerancias=o),e.Njj(o)}),e.EFF(192,"            "),e.k0s(),e.nrm(193,"abp-validation-summary",36),e.k0s()()(),e.j41(194,"details")(195,"summary"),e.EFF(196),e.nI1(197,"localize"),e.k0s(),e.j41(198,"div",39)(199,"label",69),e.EFF(200),e.nI1(201,"localize"),e.k0s(),e.j41(202,"div",32)(203,"textarea",70,14),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.alimentacao,o)||(n.anamnese.alimentacao=o),e.Njj(o)}),e.EFF(206,"            "),e.k0s(),e.nrm(207,"abp-validation-summary",36),e.k0s()(),e.j41(208,"div",39)(209,"label",71),e.EFF(210),e.nI1(211,"localize"),e.k0s(),e.j41(212,"div",32)(213,"textarea",72,15),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.banho,o)||(n.anamnese.banho=o),e.Njj(o)}),e.EFF(216,"            "),e.k0s(),e.nrm(217,"abp-validation-summary",36),e.k0s()(),e.j41(218,"div",39)(219,"label",73),e.EFF(220),e.nI1(221,"localize"),e.k0s(),e.j41(222,"div",32)(223,"textarea",74,16),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.vestuario,o)||(n.anamnese.vestuario=o),e.Njj(o)}),e.EFF(226,"            "),e.k0s(),e.nrm(227,"abp-validation-summary",36),e.k0s()(),e.j41(228,"div",39)(229,"label",75),e.EFF(230),e.nI1(231,"localize"),e.k0s(),e.j41(232,"div",32)(233,"textarea",76,17),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.cuidadosPessoais,o)||(n.anamnese.cuidadosPessoais=o),e.Njj(o)}),e.EFF(236,"            "),e.k0s(),e.nrm(237,"abp-validation-summary",36),e.k0s()(),e.j41(238,"div",39)(239,"label",77),e.EFF(240),e.nI1(241,"localize"),e.k0s(),e.j41(242,"div",32)(243,"textarea",78,18),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.sono,o)||(n.anamnese.sono=o),e.Njj(o)}),e.EFF(246,"            "),e.k0s(),e.nrm(247,"abp-validation-summary",36),e.k0s()(),e.j41(248,"div",39)(249,"label",79),e.EFF(250),e.nI1(251,"localize"),e.k0s(),e.j41(252,"div",32)(253,"textarea",80,19),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.esfincter,o)||(n.anamnese.esfincter=o),e.Njj(o)}),e.EFF(256,"            "),e.k0s(),e.nrm(257,"abp-validation-summary",36),e.k0s()()(),e.j41(258,"details")(259,"summary"),e.EFF(260),e.nI1(261,"localize"),e.k0s(),e.j41(262,"label",81),e.EFF(263),e.nI1(264,"localize"),e.k0s(),e.j41(265,"div",39)(266,"label",82),e.EFF(267),e.nI1(268,"localize"),e.k0s(),e.j41(269,"div",32)(270,"div",60)(271,"div",54)(272,"label"),e.EFF(273),e.nI1(274,"localize"),e.k0s()(),e.j41(275,"div",54)(276,"input",83),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.gestosElementares,o)||(n.gestosElementares=o),e.Njj(o)}),e.k0s()(),e.j41(277,"div",54)(278,"label"),e.EFF(279),e.nI1(280,"localize"),e.k0s()(),e.j41(281,"div",54)(282,"input",84),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.gestosElementares,o)||(n.gestosElementares=o),e.Njj(o)}),e.k0s()(),e.j41(283,"div",54)(284,"label"),e.EFF(285),e.nI1(286,"localize"),e.k0s()(),e.j41(287,"div",54)(288,"input",85),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.gestosElementares,o)||(n.gestosElementares=o),e.Njj(o)}),e.k0s()()()()(),e.j41(289,"div",39)(290,"label",86),e.EFF(291),e.nI1(292,"localize"),e.k0s(),e.j41(293,"div",32)(294,"div",60)(295,"div",54)(296,"label"),e.EFF(297),e.nI1(298,"localize"),e.k0s()(),e.j41(299,"div",54)(300,"input",87),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.naoSimbolicosConvencionais,o)||(n.naoSimbolicosConvencionais=o),e.Njj(o)}),e.k0s()(),e.j41(301,"div",54)(302,"label"),e.EFF(303),e.nI1(304,"localize"),e.k0s()(),e.j41(305,"div",54)(306,"input",88),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.naoSimbolicosConvencionais,o)||(n.naoSimbolicosConvencionais=o),e.Njj(o)}),e.k0s()(),e.j41(307,"div",54)(308,"label"),e.EFF(309),e.nI1(310,"localize"),e.k0s()(),e.j41(311,"div",54)(312,"input",89),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.naoSimbolicosConvencionais,o)||(n.naoSimbolicosConvencionais=o),e.Njj(o)}),e.k0s()()()()(),e.j41(313,"div",39)(314,"label",90),e.EFF(315),e.nI1(316,"localize"),e.k0s(),e.j41(317,"div",32)(318,"div",60)(319,"div",54)(320,"label"),e.EFF(321),e.nI1(322,"localize"),e.k0s()(),e.j41(323,"div",54)(324,"input",91),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.simbolicos,o)||(n.simbolicos=o),e.Njj(o)}),e.k0s()(),e.j41(325,"div",54)(326,"label"),e.EFF(327),e.nI1(328,"localize"),e.k0s()(),e.j41(329,"div",54)(330,"input",92),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.simbolicos,o)||(n.simbolicos=o),e.Njj(o)}),e.k0s()(),e.j41(331,"div",54)(332,"label"),e.EFF(333),e.nI1(334,"localize"),e.k0s()(),e.j41(335,"div",54)(336,"input",93),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.simbolicos,o)||(n.simbolicos=o),e.Njj(o)}),e.k0s()()()()(),e.j41(337,"label",81),e.EFF(338),e.nI1(339,"localize"),e.k0s(),e.j41(340,"div",39)(341,"label",94),e.EFF(342),e.nI1(343,"localize"),e.k0s(),e.j41(344,"div",32)(345,"div",60)(346,"div",54)(347,"label"),e.EFF(348),e.nI1(349,"localize"),e.k0s()(),e.j41(350,"div",54)(351,"input",95),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.verbal,o)||(n.verbal=o),e.Njj(o)}),e.k0s()(),e.j41(352,"div",54)(353,"label"),e.EFF(354),e.nI1(355,"localize"),e.k0s()(),e.j41(356,"div",54)(357,"input",96),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.verbal,o)||(n.verbal=o),e.Njj(o)}),e.k0s()(),e.j41(358,"div",54)(359,"label"),e.EFF(360),e.nI1(361,"localize"),e.k0s()(),e.j41(362,"div",54)(363,"input",97),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.verbal,o)||(n.verbal=o),e.Njj(o)}),e.k0s()()()()(),e.j41(364,"div",39)(365,"label",98),e.EFF(366),e.nI1(367,"localize"),e.k0s(),e.j41(368,"div",32)(369,"div",60)(370,"div",54)(371,"label"),e.EFF(372),e.nI1(373,"localize"),e.k0s()(),e.j41(374,"div",54)(375,"input",99),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.balbucio,o)||(n.balbucio=o),e.Njj(o)}),e.k0s()(),e.j41(376,"div",54)(377,"label"),e.EFF(378),e.nI1(379,"localize"),e.k0s()(),e.j41(380,"div",54)(381,"input",100),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.balbucio,o)||(n.balbucio=o),e.Njj(o)}),e.k0s()(),e.j41(382,"div",54)(383,"label"),e.EFF(384),e.nI1(385,"localize"),e.k0s()(),e.j41(386,"div",54)(387,"input",101),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.balbucio,o)||(n.balbucio=o),e.Njj(o)}),e.k0s()()()()(),e.j41(388,"div",39)(389,"label",102),e.EFF(390),e.nI1(391,"localize"),e.k0s(),e.j41(392,"div",32)(393,"div",60)(394,"div",54)(395,"label"),e.EFF(396),e.nI1(397,"localize"),e.k0s()(),e.j41(398,"div",54)(399,"input",103),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.palavrasIsoladas,o)||(n.palavrasIsoladas=o),e.Njj(o)}),e.k0s()(),e.j41(400,"div",54)(401,"label"),e.EFF(402),e.nI1(403,"localize"),e.k0s()(),e.j41(404,"div",54)(405,"input",104),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.palavrasIsoladas,o)||(n.palavrasIsoladas=o),e.Njj(o)}),e.k0s()(),e.j41(406,"div",54)(407,"label"),e.EFF(408),e.nI1(409,"localize"),e.k0s()(),e.j41(410,"div",54)(411,"input",105),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.palavrasIsoladas,o)||(n.palavrasIsoladas=o),e.Njj(o)}),e.k0s()()()()(),e.j41(412,"div",39),e.nrm(413,"label",106),e.j41(414,"div",32)(415,"textarea",107,20),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.palavrasIsoladasDesc,o)||(n.anamnese.palavrasIsoladasDesc=o),e.Njj(o)}),e.EFF(418,"            "),e.k0s(),e.nrm(419,"abp-validation-summary",36),e.k0s()(),e.j41(420,"div",39)(421,"label",108),e.EFF(422),e.nI1(423,"localize"),e.k0s(),e.j41(424,"div",32)(425,"div",60)(426,"div",54)(427,"label"),e.EFF(428),e.nI1(429,"localize"),e.k0s()(),e.j41(430,"div",54)(431,"input",109),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.enunciadoDuasPalavras,o)||(n.enunciadoDuasPalavras=o),e.Njj(o)}),e.k0s()(),e.j41(432,"div",54)(433,"label"),e.EFF(434),e.nI1(435,"localize"),e.k0s()(),e.j41(436,"div",54)(437,"input",110),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.enunciadoDuasPalavras,o)||(n.enunciadoDuasPalavras=o),e.Njj(o)}),e.k0s()(),e.j41(438,"div",54)(439,"label"),e.EFF(440),e.nI1(441,"localize"),e.k0s()(),e.j41(442,"div",54)(443,"input",111),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.enunciadoDuasPalavras,o)||(n.enunciadoDuasPalavras=o),e.Njj(o)}),e.k0s()()()()(),e.j41(444,"div",39)(445,"label",112),e.EFF(446),e.nI1(447,"localize"),e.k0s(),e.j41(448,"div",32)(449,"div",60)(450,"div",54)(451,"label"),e.EFF(452),e.nI1(453,"localize"),e.k0s()(),e.j41(454,"div",54)(455,"input",113),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.frases,o)||(n.frases=o),e.Njj(o)}),e.k0s()(),e.j41(456,"div",54)(457,"label"),e.EFF(458),e.nI1(459,"localize"),e.k0s()(),e.j41(460,"div",54)(461,"input",114),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.frases,o)||(n.frases=o),e.Njj(o)}),e.k0s()(),e.j41(462,"div",54)(463,"label"),e.EFF(464),e.nI1(465,"localize"),e.k0s()(),e.j41(466,"div",54)(467,"input",115),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.frases,o)||(n.frases=o),e.Njj(o)}),e.k0s()()()()(),e.j41(468,"div",39)(469,"label",116),e.EFF(470),e.nI1(471,"localize"),e.k0s(),e.j41(472,"div",32)(473,"div",60)(474,"div",54)(475,"label"),e.EFF(476),e.nI1(477,"localize"),e.k0s()(),e.j41(478,"div",54)(479,"input",117),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.estereotipiasVocais,o)||(n.estereotipiasVocais=o),e.Njj(o)}),e.k0s()(),e.j41(480,"div",54)(481,"label"),e.EFF(482),e.nI1(483,"localize"),e.k0s()(),e.j41(484,"div",54)(485,"input",118),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.estereotipiasVocais,o)||(n.estereotipiasVocais=o),e.Njj(o)}),e.k0s()(),e.j41(486,"div",54)(487,"label"),e.EFF(488),e.nI1(489,"localize"),e.k0s()(),e.j41(490,"div",54)(491,"input",119),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.estereotipiasVocais,o)||(n.estereotipiasVocais=o),e.Njj(o)}),e.k0s()()()()(),e.j41(492,"div",39),e.nrm(493,"label",120),e.j41(494,"div",32)(495,"textarea",121,21),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.estereotipiasVocaisDesc,o)||(n.anamnese.estereotipiasVocaisDesc=o),e.Njj(o)}),e.EFF(498,"            "),e.k0s(),e.nrm(499,"abp-validation-summary",36),e.k0s()()(),e.j41(500,"details")(501,"summary"),e.EFF(502),e.nI1(503,"localize"),e.k0s(),e.j41(504,"div",39)(505,"label",122),e.EFF(506),e.nI1(507,"localize"),e.k0s(),e.j41(508,"div",32)(509,"div",60)(510,"div",54)(511,"label"),e.EFF(512),e.nI1(513,"localize"),e.k0s()(),e.j41(514,"div",54)(515,"input",123),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.faltaExpressaoFacialAdequada,o)||(n.faltaExpressaoFacialAdequada=o),e.Njj(o)}),e.k0s()(),e.j41(516,"div",54)(517,"label"),e.EFF(518),e.nI1(519,"localize"),e.k0s()(),e.j41(520,"div",54)(521,"input",124),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.faltaExpressaoFacialAdequada,o)||(n.faltaExpressaoFacialAdequada=o),e.Njj(o)}),e.k0s()(),e.j41(522,"div",54)(523,"label"),e.EFF(524),e.nI1(525,"localize"),e.k0s()(),e.j41(526,"div",54)(527,"input",125),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.faltaExpressaoFacialAdequada,o)||(n.faltaExpressaoFacialAdequada=o),e.Njj(o)}),e.k0s()()()()(),e.j41(528,"div",39)(529,"label",126),e.EFF(530),e.nI1(531,"localize"),e.k0s(),e.j41(532,"div",32)(533,"div",60)(534,"div",54)(535,"label"),e.EFF(536),e.nI1(537,"localize"),e.k0s()(),e.j41(538,"div",54)(539,"input",127),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.atencaoDiminuida,o)||(n.atencaoDiminuida=o),e.Njj(o)}),e.k0s()(),e.j41(540,"div",54)(541,"label"),e.EFF(542),e.nI1(543,"localize"),e.k0s()(),e.j41(544,"div",54)(545,"input",128),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.atencaoDiminuida,o)||(n.atencaoDiminuida=o),e.Njj(o)}),e.k0s()(),e.j41(546,"div",54)(547,"label"),e.EFF(548),e.nI1(549,"localize"),e.k0s()(),e.j41(550,"div",54)(551,"input",129),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.atencaoDiminuida,o)||(n.atencaoDiminuida=o),e.Njj(o)}),e.k0s()()()()(),e.j41(552,"div",39)(553,"label",130),e.EFF(554),e.nI1(555,"localize"),e.k0s(),e.j41(556,"div",32)(557,"div",60)(558,"div",54)(559,"label"),e.EFF(560),e.nI1(561,"localize"),e.k0s()(),e.j41(562,"div",54)(563,"input",131),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.preferenciaAoIsolamento,o)||(n.preferenciaAoIsolamento=o),e.Njj(o)}),e.k0s()(),e.j41(564,"div",54)(565,"label"),e.EFF(566),e.nI1(567,"localize"),e.k0s()(),e.j41(568,"div",54)(569,"input",132),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.preferenciaAoIsolamento,o)||(n.preferenciaAoIsolamento=o),e.Njj(o)}),e.k0s()(),e.j41(570,"div",54)(571,"label"),e.EFF(572),e.nI1(573,"localize"),e.k0s()(),e.j41(574,"div",54)(575,"input",133),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.preferenciaAoIsolamento,o)||(n.preferenciaAoIsolamento=o),e.Njj(o)}),e.k0s()()()()(),e.j41(576,"div",39)(577,"label",134),e.EFF(578),e.nI1(579,"localize"),e.k0s(),e.j41(580,"div",32)(581,"div",60)(582,"div",54)(583,"label"),e.EFF(584),e.nI1(585,"localize"),e.k0s()(),e.j41(586,"div",54)(587,"input",135),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.ageComoSurdo,o)||(n.ageComoSurdo=o),e.Njj(o)}),e.k0s()(),e.j41(588,"div",54)(589,"label"),e.EFF(590),e.nI1(591,"localize"),e.k0s()(),e.j41(592,"div",54)(593,"input",136),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.ageComoSurdo,o)||(n.ageComoSurdo=o),e.Njj(o)}),e.k0s()(),e.j41(594,"div",54)(595,"label"),e.EFF(596),e.nI1(597,"localize"),e.k0s()(),e.j41(598,"div",54)(599,"input",137),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.ageComoSurdo,o)||(n.ageComoSurdo=o),e.Njj(o)}),e.k0s()()()()(),e.j41(600,"div",39)(601,"label",138),e.EFF(602),e.nI1(603,"localize"),e.k0s(),e.j41(604,"div",32)(605,"div",60)(606,"div",54)(607,"label"),e.EFF(608),e.nI1(609,"localize"),e.k0s()(),e.j41(610,"div",54)(611,"input",139),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.olhaQuemLheFala,o)||(n.olhaQuemLheFala=o),e.Njj(o)}),e.k0s()(),e.j41(612,"div",54)(613,"label"),e.EFF(614),e.nI1(615,"localize"),e.k0s()(),e.j41(616,"div",54)(617,"input",140),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.olhaQuemLheFala,o)||(n.olhaQuemLheFala=o),e.Njj(o)}),e.k0s()(),e.j41(618,"div",54)(619,"label"),e.EFF(620),e.nI1(621,"localize"),e.k0s()(),e.j41(622,"div",54)(623,"input",141),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.olhaQuemLheFala,o)||(n.olhaQuemLheFala=o),e.Njj(o)}),e.k0s()()()()(),e.j41(624,"div",39)(625,"label",142),e.EFF(626),e.nI1(627,"localize"),e.k0s(),e.j41(628,"div",32)(629,"div",60)(630,"div",54)(631,"label"),e.EFF(632),e.nI1(633,"localize"),e.k0s()(),e.j41(634,"div",54)(635,"input",143),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.olhaChamadoNome,o)||(n.olhaChamadoNome=o),e.Njj(o)}),e.k0s()(),e.j41(636,"div",54)(637,"label"),e.EFF(638),e.nI1(639,"localize"),e.k0s()(),e.j41(640,"div",54)(641,"input",144),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.olhaChamadoNome,o)||(n.olhaChamadoNome=o),e.Njj(o)}),e.k0s()(),e.j41(642,"div",54)(643,"label"),e.EFF(644),e.nI1(645,"localize"),e.k0s()(),e.j41(646,"div",54)(647,"input",145),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.olhaChamadoNome,o)||(n.olhaChamadoNome=o),e.Njj(o)}),e.k0s()()()()(),e.j41(648,"div",39)(649,"label",146),e.EFF(650),e.nI1(651,"localize"),e.k0s(),e.j41(652,"div",32)(653,"div",60)(654,"div",54)(655,"label"),e.EFF(656),e.nI1(657,"localize"),e.k0s()(),e.j41(658,"div",54)(659,"input",147),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.pedeItensInteresse,o)||(n.pedeItensInteresse=o),e.Njj(o)}),e.k0s()(),e.j41(660,"div",54)(661,"label"),e.EFF(662),e.nI1(663,"localize"),e.k0s()(),e.j41(664,"div",54)(665,"input",148),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.pedeItensInteresse,o)||(n.pedeItensInteresse=o),e.Njj(o)}),e.k0s()(),e.j41(666,"div",54)(667,"label"),e.EFF(668),e.nI1(669,"localize"),e.k0s()(),e.j41(670,"div",54)(671,"input",149),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.pedeItensInteresse,o)||(n.pedeItensInteresse=o),e.Njj(o)}),e.k0s()()()()(),e.j41(672,"div",39)(673,"label",150),e.EFF(674),e.nI1(675,"localize"),e.k0s(),e.j41(676,"div",32)(677,"div",60)(678,"div",54)(679,"label"),e.EFF(680),e.nI1(681,"localize"),e.k0s()(),e.j41(682,"div",54)(683,"input",151),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.imitacao,o)||(n.imitacao=o),e.Njj(o)}),e.k0s()(),e.j41(684,"div",54)(685,"label"),e.EFF(686),e.nI1(687,"localize"),e.k0s()(),e.j41(688,"div",54)(689,"input",152),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.imitacao,o)||(n.imitacao=o),e.Njj(o)}),e.k0s()(),e.j41(690,"div",54)(691,"label"),e.EFF(692),e.nI1(693,"localize"),e.k0s()(),e.j41(694,"div",54)(695,"input",153),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.imitacao,o)||(n.imitacao=o),e.Njj(o)}),e.k0s()()()()(),e.j41(696,"div",39)(697,"label",154),e.EFF(698),e.nI1(699,"localize"),e.k0s(),e.j41(700,"div",32)(701,"div",60)(702,"div",54)(703,"label"),e.EFF(704),e.nI1(705,"localize"),e.k0s()(),e.j41(706,"div",54)(707,"input",155),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.brincaAdequadoBrinquedo,o)||(n.brincaAdequadoBrinquedo=o),e.Njj(o)}),e.k0s()(),e.j41(708,"div",54)(709,"label"),e.EFF(710),e.nI1(711,"localize"),e.k0s()(),e.j41(712,"div",54)(713,"input",156),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.brincaAdequadoBrinquedo,o)||(n.brincaAdequadoBrinquedo=o),e.Njj(o)}),e.k0s()(),e.j41(714,"div",54)(715,"label"),e.EFF(716),e.nI1(717,"localize"),e.k0s()(),e.j41(718,"div",54)(719,"input",157),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.brincaAdequadoBrinquedo,o)||(n.brincaAdequadoBrinquedo=o),e.Njj(o)}),e.k0s()()()()(),e.j41(720,"div",39)(721,"label",158),e.EFF(722),e.nI1(723,"localize"),e.k0s(),e.j41(724,"div",32)(725,"textarea",159,22),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.preferenciaObjetosEspecificos,o)||(n.anamnese.preferenciaObjetosEspecificos=o),e.Njj(o)}),e.EFF(728,"            "),e.k0s(),e.nrm(729,"abp-validation-summary",36),e.k0s()(),e.j41(730,"div",39)(731,"label",160),e.EFF(732),e.nI1(733,"localize"),e.k0s(),e.j41(734,"div",32)(735,"textarea",161,23),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.aversoes,o)||(n.anamnese.aversoes=o),e.Njj(o)}),e.EFF(738,"            "),e.k0s(),e.nrm(739,"abp-validation-summary",36),e.k0s()(),e.j41(740,"div",39)(741,"div",54)(742,"label"),e.EFF(743),e.nI1(744,"localize"),e.k0s(),e.j41(745,"div",60)(746,"label",54),e.EFF(747),e.nI1(748,"localize"),e.k0s(),e.j41(749,"div",54)(750,"input",162),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.autoEstimulacao,o)||(n.autoEstimulacao=o),e.Njj(o)}),e.k0s()(),e.j41(751,"label",54),e.EFF(752),e.nI1(753,"localize"),e.k0s(),e.j41(754,"div",54)(755,"input",163),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.autoEstimulacao,o)||(n.autoEstimulacao=o),e.Njj(o)}),e.k0s()()()()(),e.j41(756,"div",39)(757,"div",54)(758,"label"),e.EFF(759),e.nI1(760,"localize"),e.k0s(),e.j41(761,"div",60)(762,"label",54),e.EFF(763),e.nI1(764,"localize"),e.k0s(),e.j41(765,"div",54)(766,"input",164),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.autoOuHeteroAgressao,o)||(n.autoOuHeteroAgressao=o),e.Njj(o)}),e.k0s()(),e.j41(767,"label",54),e.EFF(768),e.nI1(769,"localize"),e.k0s(),e.j41(770,"div",54)(771,"input",165),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.autoOuHeteroAgressao,o)||(n.autoOuHeteroAgressao=o),e.Njj(o)}),e.k0s()()()()(),e.j41(772,"div",39)(773,"div",54)(774,"label"),e.EFF(775),e.nI1(776,"localize"),e.k0s(),e.j41(777,"div",60)(778,"label",54),e.EFF(779),e.nI1(780,"localize"),e.k0s(),e.j41(781,"div",54)(782,"input",166),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.birrasIrritabilidade,o)||(n.birrasIrritabilidade=o),e.Njj(o)}),e.k0s()(),e.j41(783,"label",54),e.EFF(784),e.nI1(785,"localize"),e.k0s(),e.j41(786,"div",54)(787,"input",167),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.birrasIrritabilidade,o)||(n.birrasIrritabilidade=o),e.Njj(o)}),e.k0s()()()()(),e.j41(788,"div",39)(789,"div",54)(790,"label"),e.EFF(791),e.nI1(792,"localize"),e.k0s(),e.j41(793,"div",60)(794,"label",54),e.EFF(795),e.nI1(796,"localize"),e.k0s(),e.j41(797,"div",54)(798,"input",168),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.maniasRituais,o)||(n.maniasRituais=o),e.Njj(o)}),e.k0s()(),e.j41(799,"label",54),e.EFF(800),e.nI1(801,"localize"),e.k0s(),e.j41(802,"div",54)(803,"input",169),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.maniasRituais,o)||(n.maniasRituais=o),e.Njj(o)}),e.k0s()()()()()(),e.j41(804,"details")(805,"summary"),e.EFF(806),e.nI1(807,"localize"),e.k0s(),e.j41(808,"div",39)(809,"div",54)(810,"label"),e.EFF(811),e.nI1(812,"localize"),e.k0s(),e.j41(813,"div",60)(814,"label",54),e.EFF(815),e.nI1(816,"localize"),e.k0s(),e.j41(817,"div",54)(818,"input",170),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.estuda,o)||(n.estuda=o),e.Njj(o)}),e.k0s()(),e.j41(819,"label",54),e.EFF(820),e.nI1(821,"localize"),e.k0s(),e.j41(822,"div",54)(823,"input",171),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.estuda,o)||(n.estuda=o),e.Njj(o)}),e.k0s()()()()(),e.j41(824,"div",39)(825,"label",172),e.EFF(826),e.nI1(827,"localize"),e.k0s(),e.j41(828,"div",32)(829,"input",173,24),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.nomeEscola,o)||(n.anamnese.nomeEscola=o),e.Njj(o)}),e.k0s(),e.nrm(832,"abp-validation-summary",36),e.k0s()(),e.j41(833,"div",39)(834,"label",174),e.EFF(835),e.nI1(836,"localize"),e.k0s(),e.j41(837,"div",32)(838,"input",175,25),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.serie,o)||(n.anamnese.serie=o),e.Njj(o)}),e.k0s(),e.nrm(841,"abp-validation-summary",36),e.k0s()(),e.j41(842,"div",39)(843,"div",54)(844,"label"),e.EFF(845),e.nI1(846,"localize"),e.k0s(),e.j41(847,"div",60)(848,"label",54),e.EFF(849),e.nI1(850,"localize"),e.k0s(),e.j41(851,"div",54)(852,"input",176),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.escolaRegular,o)||(n.escolaRegular=o),e.Njj(o)}),e.k0s()(),e.j41(853,"label",54),e.EFF(854),e.nI1(855,"localize"),e.k0s(),e.j41(856,"div",54)(857,"input",177),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.escolaRegular,o)||(n.escolaRegular=o),e.Njj(o)}),e.k0s()()()()(),e.j41(858,"div",39)(859,"div",54)(860,"label"),e.EFF(861),e.nI1(862,"localize"),e.k0s(),e.j41(863,"div",60)(864,"label",54),e.EFF(865),e.nI1(866,"localize"),e.k0s(),e.j41(867,"div",54)(868,"input",178),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.professorApoio,o)||(n.professorApoio=o),e.Njj(o)}),e.k0s()(),e.j41(869,"label",54),e.EFF(870),e.nI1(871,"localize"),e.k0s(),e.j41(872,"div",54)(873,"input",179),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.professorApoio,o)||(n.professorApoio=o),e.Njj(o)}),e.k0s()()()()()(),e.j41(874,"details")(875,"summary"),e.EFF(876),e.nI1(877,"localize"),e.k0s(),e.j41(878,"div",39)(879,"div",54)(880,"label"),e.EFF(881),e.nI1(882,"localize"),e.k0s(),e.j41(883,"div",60)(884,"label",54),e.EFF(885),e.nI1(886,"localize"),e.k0s(),e.j41(887,"div",54)(888,"input",180),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.outroCasoFamilia,o)||(n.outroCasoFamilia=o),e.Njj(o)}),e.k0s()(),e.j41(889,"label",54),e.EFF(890),e.nI1(891,"localize"),e.k0s(),e.j41(892,"div",54)(893,"input",181),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.outroCasoFamilia,o)||(n.outroCasoFamilia=o),e.Njj(o)}),e.k0s()()()()(),e.j41(894,"div",39)(895,"label",182),e.EFF(896),e.nI1(897,"localize"),e.k0s(),e.j41(898,"div",32)(899,"textarea",183,26),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.outrosCasosDesc,o)||(n.anamnese.outrosCasosDesc=o),e.Njj(o)}),e.EFF(902,"            "),e.k0s(),e.nrm(903,"abp-validation-summary",36),e.k0s()(),e.j41(904,"div",39)(905,"label",184),e.EFF(906),e.nI1(907,"localize"),e.k0s(),e.j41(908,"div",32)(909,"textarea",185,27),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.terapias,o)||(n.anamnese.terapias=o),e.Njj(o)}),e.EFF(912,"            "),e.k0s(),e.nrm(913,"abp-validation-summary",36),e.k0s()(),e.j41(914,"div",39)(915,"label",186),e.EFF(916),e.nI1(917,"localize"),e.k0s(),e.j41(918,"div",32)(919,"textarea",187,28),e.mxI("ngModelChange",function(o){e.eBV(i);const n=e.XpG();return e.DH7(n.anamnese.expectativasFamilia,o)||(n.anamnese.expectativasFamilia=o),e.Njj(o)}),e.EFF(922,"            "),e.k0s(),e.nrm(923,"abp-validation-summary",36),e.k0s()()()()}if(2&a){let i;const t=e.sdS(7),o=e.sdS(8),n=e.sdS(18),s=e.sdS(19),l=e.sdS(31),m=e.sdS(32),p=e.sdS(41),_=e.sdS(42),C=e.sdS(50),F=e.sdS(51),I=e.sdS(59),P=e.sdS(60),w=e.sdS(68),V=e.sdS(69),B=e.sdS(78),U=e.sdS(79),he=e.sdS(88),fe=e.sdS(89),be=e.sdS(103),ge=e.sdS(104),_e=e.sdS(112),ve=e.sdS(113),Ce=e.sdS(121),Ie=e.sdS(122),Fe=e.sdS(130),ke=e.sdS(131),je=e.sdS(190),Re=e.sdS(191),Se=e.sdS(204),lc=e.sdS(205),rc=e.sdS(214),dc=e.sdS(215),cc=e.sdS(224),uc=e.sdS(225),mc=e.sdS(234),pc=e.sdS(235),hc=e.sdS(244),fc=e.sdS(245),bc=e.sdS(254),gc=e.sdS(255),_c=e.sdS(416),vc=e.sdS(417),Cc=e.sdS(496),Ic=e.sdS(497),Fc=e.sdS(726),kc=e.sdS(727),jc=e.sdS(736),Rc=e.sdS(737),Sc=e.sdS(830),Mc=e.sdS(831),Ec=e.sdS(839),Tc=e.sdS(840),Dc=e.sdS(900),Ac=e.sdS(901),yc=e.sdS(910),Gc=e.sdS(911),Pc=e.sdS(920),$c=e.sdS(921),u=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,411,"Avaliador")," "),e.R7$(3),e.Y8G("disabled",u.disabled||!u.isNovo),e.R50("ngModel",u.avaliadorId),e.R7$(4),e.Y8G("ngForOf",null!==(i=u.avaliadores)&&void 0!==i?i:e.lJ4(695,Wd)),e.R7$(),e.Y8G("control",t)("controlEl",o),e.R7$(3),e.SpI(" ",e.bMT(15,413,"Data")," "),e.R7$(3),e.Y8G("disabled",u.disabled||!u.isNovo),e.R50("ngModel",u.data),e.R7$(3),e.Y8G("control",n)("controlEl",s),e.R7$(3),e.JRh(e.bMT(24,415,"Hist\xf3rico Pessoal")),e.R7$(4),e.SpI(" ",e.bMT(28,417,"Diagn\xf3stico")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.diagnostico),e.R7$(4),e.Y8G("control",l)("controlEl",m),e.R7$(3),e.SpI(" ",e.bMT(38,419,"Cuidador")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.cuidador),e.R7$(3),e.Y8G("control",p)("controlEl",_),e.R7$(3),e.SpI(" ",e.bMT(47,421,"Descri\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.profissaoCuidador),e.R7$(3),e.Y8G("control",C)("controlEl",F),e.R7$(3),e.SpI(" ",e.bMT(56,423,"Telefone")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.telefone),e.R7$(3),e.Y8G("control",I)("controlEl",P),e.R7$(3),e.SpI(" ",e.bMT(65,425,"Hist\xf3rico Pessoal")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.historicoPessoal),e.R7$(4),e.Y8G("control",w)("controlEl",V),e.R7$(3),e.SpI(" ",e.bMT(75,427,"Patologia Associada")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.patologiaAssociada),e.R7$(4),e.Y8G("control",B)("controlEl",U),e.R7$(3),e.SpI(" ",e.bMT(85,429,"Convuls\xf5es")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.convulsoes),e.R7$(4),e.Y8G("control",he)("controlEl",fe),e.R7$(3),e.JRh(e.bMT(95,431,"Desenvolvimento Motor")),e.R7$(5),e.JRh(e.bMT(100,433,"Sentou")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.sentou),e.R7$(3),e.Y8G("control",be)("controlEl",ge),e.R7$(3),e.JRh(e.bMT(109,435,"Engatinhou")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.engatinhou),e.R7$(3),e.Y8G("control",_e)("controlEl",ve),e.R7$(3),e.JRh(e.bMT(118,437,"Andou")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.andou),e.R7$(3),e.Y8G("control",Ce)("controlEl",Ie),e.R7$(3),e.SpI(" ",e.bMT(127,439,"Estereotipias Motoras")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.estereotipiasMotoras),e.R7$(4),e.Y8G("control",Fe)("controlEl",ke),e.R7$(3),e.JRh(e.bMT(137,441,"Alimenta\xe7\xe3o")),e.R7$(5),e.JRh(e.bMT(142,443,"S\xf3lidos")),e.R7$(4),e.JRh(e.bMT(146,445,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.solidos),e.R7$(2),e.JRh(e.bMT(151,447,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.solidos),e.R7$(3),e.JRh(e.bMT(157,449,"Pastosos")),e.R7$(4),e.JRh(e.bMT(161,451,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.pastosos),e.R7$(2),e.JRh(e.bMT(166,453,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.pastosos),e.R7$(3),e.JRh(e.bMT(172,455,"L\xedquidos")),e.R7$(4),e.JRh(e.bMT(176,457,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.liquidos),e.R7$(2),e.JRh(e.bMT(181,459,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.liquidos),e.R7$(3),e.SpI(" ",e.bMT(187,461,"Alergias e Intoler\xe2ncias")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.alergiasEIntolerancias),e.R7$(4),e.Y8G("control",je)("controlEl",Re),e.R7$(3),e.JRh(e.bMT(197,463,"AVD")),e.R7$(4),e.SpI(" ",e.bMT(201,465,"Alimenta\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.alimentacao),e.R7$(4),e.Y8G("control",Se)("controlEl",lc),e.R7$(3),e.SpI(" ",e.bMT(211,467,"Banho")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.banho),e.R7$(4),e.Y8G("control",rc)("controlEl",dc),e.R7$(3),e.SpI(" ",e.bMT(221,469,"Vestu\xe1rio")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.vestuario),e.R7$(4),e.Y8G("control",cc)("controlEl",uc),e.R7$(3),e.SpI(" ",e.bMT(231,471,"Cuidados Pessoais")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.cuidadosPessoais),e.R7$(4),e.Y8G("control",mc)("controlEl",pc),e.R7$(3),e.SpI(" ",e.bMT(241,473,"Sono")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.sono),e.R7$(4),e.Y8G("control",hc)("controlEl",fc),e.R7$(3),e.SpI(" ",e.bMT(251,475,"Esf\xedncter")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.esfincter),e.R7$(4),e.Y8G("control",bc)("controlEl",gc),e.R7$(3),e.JRh(e.bMT(261,477,"Desenvolvimento da Linguagem")),e.R7$(3),e.JRh(e.bMT(264,479,"N\xe3o Verbal (Gestos)")),e.R7$(4),e.SpI(" ",e.bMT(268,481,"Gestos Elementares")," "),e.R7$(6),e.JRh(e.bMT(274,483,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.gestosElementares),e.R7$(3),e.JRh(e.bMT(280,485,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.gestosElementares),e.R7$(3),e.JRh(e.bMT(286,487,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.gestosElementares),e.R7$(3),e.SpI(" ",e.bMT(292,489,"N\xe3o Simb\xf3licos Convencionais")," "),e.R7$(6),e.JRh(e.bMT(298,491,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.naoSimbolicosConvencionais),e.R7$(3),e.JRh(e.bMT(304,493,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.naoSimbolicosConvencionais),e.R7$(3),e.JRh(e.bMT(310,495,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.naoSimbolicosConvencionais),e.R7$(3),e.SpI(" ",e.bMT(316,497,"Simb\xf3licos")," "),e.R7$(6),e.JRh(e.bMT(322,499,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.simbolicos),e.R7$(3),e.JRh(e.bMT(328,501,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.simbolicos),e.R7$(3),e.JRh(e.bMT(334,503,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.simbolicos),e.R7$(2),e.JRh(e.bMT(339,505,"Verbal")),e.R7$(4),e.SpI(" ",e.bMT(343,507,"Verbal")," "),e.R7$(6),e.JRh(e.bMT(349,509,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.verbal),e.R7$(3),e.JRh(e.bMT(355,511,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.verbal),e.R7$(3),e.JRh(e.bMT(361,513,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.verbal),e.R7$(3),e.SpI(" ",e.bMT(367,515,"Balbucio")," "),e.R7$(6),e.JRh(e.bMT(373,517,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.balbucio),e.R7$(3),e.JRh(e.bMT(379,519,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.balbucio),e.R7$(3),e.JRh(e.bMT(385,521,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.balbucio),e.R7$(3),e.SpI(" ",e.bMT(391,523,"Palavras Isoladas")," "),e.R7$(6),e.JRh(e.bMT(397,525,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.palavrasIsoladas),e.R7$(3),e.JRh(e.bMT(403,527,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.palavrasIsoladas),e.R7$(3),e.JRh(e.bMT(409,529,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.palavrasIsoladas),e.R7$(4),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.palavrasIsoladasDesc),e.R7$(4),e.Y8G("control",_c)("controlEl",vc),e.R7$(3),e.SpI(" ",e.bMT(423,531,"Enunciado de duas palavras")," "),e.R7$(6),e.JRh(e.bMT(429,533,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.enunciadoDuasPalavras),e.R7$(3),e.JRh(e.bMT(435,535,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.enunciadoDuasPalavras),e.R7$(3),e.JRh(e.bMT(441,537,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.enunciadoDuasPalavras),e.R7$(3),e.SpI(" ",e.bMT(447,539,"Frases")," "),e.R7$(6),e.JRh(e.bMT(453,541,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.frases),e.R7$(3),e.JRh(e.bMT(459,543,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.frases),e.R7$(3),e.JRh(e.bMT(465,545,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.frases),e.R7$(3),e.SpI(" ",e.bMT(471,547,"Palavras Isoladas")," "),e.R7$(6),e.JRh(e.bMT(477,549,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.estereotipiasVocais),e.R7$(3),e.JRh(e.bMT(483,551,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.estereotipiasVocais),e.R7$(3),e.JRh(e.bMT(489,553,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.estereotipiasVocais),e.R7$(4),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.estereotipiasVocaisDesc),e.R7$(4),e.Y8G("control",Cc)("controlEl",Ic),e.R7$(3),e.JRh(e.bMT(503,555,"Intera\xe7\xe3o Social")),e.R7$(4),e.SpI(" ",e.bMT(507,557,"Falta express\xe3o facial adequada?")," "),e.R7$(6),e.JRh(e.bMT(513,559,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.faltaExpressaoFacialAdequada),e.R7$(3),e.JRh(e.bMT(519,561,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.faltaExpressaoFacialAdequada),e.R7$(3),e.JRh(e.bMT(525,563,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.faltaExpressaoFacialAdequada),e.R7$(3),e.SpI(" ",e.bMT(531,565,"Apresenta aten\xe7\xe3o diminu\xedda?")," "),e.R7$(6),e.JRh(e.bMT(537,567,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.atencaoDiminuida),e.R7$(3),e.JRh(e.bMT(543,569,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.atencaoDiminuida),e.R7$(3),e.JRh(e.bMT(549,571,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.atencaoDiminuida),e.R7$(3),e.SpI(" ",e.bMT(555,573,"Apresenta prefer\xeancia ao isolamento?")," "),e.R7$(6),e.JRh(e.bMT(561,575,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.preferenciaAoIsolamento),e.R7$(3),e.JRh(e.bMT(567,577,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.preferenciaAoIsolamento),e.R7$(3),e.JRh(e.bMT(573,579,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.preferenciaAoIsolamento),e.R7$(3),e.SpI(" ",e.bMT(579,581,"Age como se fosse surdo?")," "),e.R7$(6),e.JRh(e.bMT(585,583,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.ageComoSurdo),e.R7$(3),e.JRh(e.bMT(591,585,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.ageComoSurdo),e.R7$(3),e.JRh(e.bMT(597,587,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.ageComoSurdo),e.R7$(3),e.SpI(" ",e.bMT(603,589,"Olha para algu\xe9m que lhe fala?")," "),e.R7$(6),e.JRh(e.bMT(609,591,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.olhaQuemLheFala),e.R7$(3),e.JRh(e.bMT(615,593,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.olhaQuemLheFala),e.R7$(3),e.JRh(e.bMT(621,595,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.olhaQuemLheFala),e.R7$(3),e.SpI(" ",e.bMT(627,597,"Olha quando chamado pelo nome?")," "),e.R7$(6),e.JRh(e.bMT(633,599,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.olhaChamadoNome),e.R7$(3),e.JRh(e.bMT(639,601,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.olhaChamadoNome),e.R7$(3),e.JRh(e.bMT(645,603,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.olhaChamadoNome),e.R7$(3),e.SpI(" ",e.bMT(651,605,"Faz pedido de itens de seu interesse?")," "),e.R7$(6),e.JRh(e.bMT(657,607,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.pedeItensInteresse),e.R7$(3),e.JRh(e.bMT(663,609,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.pedeItensInteresse),e.R7$(3),e.JRh(e.bMT(669,611,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.pedeItensInteresse),e.R7$(3),e.SpI(" ",e.bMT(675,613,"Realiza imita\xe7\xe3o?")," "),e.R7$(6),e.JRh(e.bMT(681,615,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.imitacao),e.R7$(3),e.JRh(e.bMT(687,617,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.imitacao),e.R7$(3),e.JRh(e.bMT(693,619,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.imitacao),e.R7$(3),e.SpI(" ",e.bMT(699,621,"Brinca adequadamente com o brinquedo?")," "),e.R7$(6),e.JRh(e.bMT(705,623,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.brincaAdequadoBrinquedo),e.R7$(3),e.JRh(e.bMT(711,625,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.brincaAdequadoBrinquedo),e.R7$(3),e.JRh(e.bMT(717,627,"\xc0s vezes")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.brincaAdequadoBrinquedo),e.R7$(3),e.SpI(" ",e.bMT(723,629,"Prefer\xeancia por objetos espec\xedficos?")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.preferenciaObjetosEspecificos),e.R7$(4),e.Y8G("control",Fc)("controlEl",kc),e.R7$(3),e.SpI(" ",e.bMT(733,631,"Apresenta avers\xf5es (tato, audi\xe7\xe3o, visual, paladar e olfativa)?")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.aversoes),e.R7$(4),e.Y8G("control",jc)("controlEl",Rc),e.R7$(4),e.JRh(e.bMT(744,633,"Apresenta auto estimula\xe7\xe3o?")),e.R7$(4),e.JRh(e.bMT(748,635,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.autoEstimulacao),e.R7$(2),e.JRh(e.bMT(753,637,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.autoEstimulacao),e.R7$(4),e.JRh(e.bMT(760,639,"Apresenta autoagress\xe3o/heteroagress\xe3o?")),e.R7$(4),e.JRh(e.bMT(764,641,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.autoOuHeteroAgressao),e.R7$(2),e.JRh(e.bMT(769,643,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.autoOuHeteroAgressao),e.R7$(4),e.JRh(e.bMT(776,645,"Apresenta birras/irritabilidade?")),e.R7$(4),e.JRh(e.bMT(780,647,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.birrasIrritabilidade),e.R7$(2),e.JRh(e.bMT(785,649,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.birrasIrritabilidade),e.R7$(4),e.JRh(e.bMT(792,651,"Apresenta manias/rituais?")),e.R7$(4),e.JRh(e.bMT(796,653,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.maniasRituais),e.R7$(2),e.JRh(e.bMT(801,655,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.maniasRituais),e.R7$(3),e.JRh(e.bMT(807,657,"Escola")),e.R7$(5),e.JRh(e.bMT(812,659,"Estuda?")),e.R7$(4),e.JRh(e.bMT(816,661,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.estuda),e.R7$(2),e.JRh(e.bMT(821,663,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.estuda),e.R7$(3),e.SpI(" ",e.bMT(827,665,"Nome da escola")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.nomeEscola),e.R7$(3),e.Y8G("control",Sc)("controlEl",Mc),e.R7$(3),e.SpI(" ",e.bMT(836,667,"S\xe9rie")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.serie),e.R7$(3),e.Y8G("control",Ec)("controlEl",Tc),e.R7$(4),e.JRh(e.bMT(846,669,"Escola regular")),e.R7$(4),e.JRh(e.bMT(850,671,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.escolaRegular),e.R7$(2),e.JRh(e.bMT(855,673,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.escolaRegular),e.R7$(4),e.JRh(e.bMT(862,675,"Professor de apoio")),e.R7$(4),e.JRh(e.bMT(866,677,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.professorApoio),e.R7$(2),e.JRh(e.bMT(871,679,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.professorApoio),e.R7$(3),e.JRh(e.bMT(877,681,"Outros")),e.R7$(5),e.JRh(e.bMT(882,683,"Outro caso na fam\xedlia?")),e.R7$(4),e.JRh(e.bMT(886,685,"Sim")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.outroCasoFamilia),e.R7$(2),e.JRh(e.bMT(891,687,"N\xe3o")),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.outroCasoFamilia),e.R7$(3),e.SpI(" ",e.bMT(897,689,"Detalhamento dos outros casos")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.outrosCasosDesc),e.R7$(4),e.Y8G("control",Dc)("controlEl",Ac),e.R7$(3),e.SpI(" ",e.bMT(907,691,"Terapias")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.terapias),e.R7$(4),e.Y8G("control",yc)("controlEl",Gc),e.R7$(3),e.SpI(" ",e.bMT(917,693,"Expectativa da fam\xedlia")," "),e.R7$(3),e.Y8G("disabled",u.disabled),e.R50("ngModel",u.anamnese.expectativasFamilia),e.R7$(4),e.Y8G("control",Pc)("controlEl",$c)}}let jo=(()=>{class a extends v.q{get isNovo(){return this.anamnese instanceof c.Qe4}constructor(i){super(i)}getOptionString(i){let t=this.getColabFuncao(i?.colabFuncaoId),o=this.getColaborador(t?.colaboradorId),n=this.getFuncao(t?.funcaoOrgId);return o?.nome+" ("+n?.nome+")"}getFuncao(i){return this.funcoes?.find(t=>t.id==i)}getAtuacao(i){return this.avaliadores?.find(t=>t.id==i)}getColabFuncao(i){return this.funcoesColaborador?.find(t=>t.id==i)}getColaborador(i){return this.colaboradores?.find(t=>t.id==i)}logOptions(){console.log(this.avaliadores,this.funcoesColaborador,this.colaboradores,this.funcoes)}get data(){return this.anamnese?.dataAvaliacao?.format("YYYY-MM-DD")??""}set data(i){null==this.anamnese||""==(i??"")||(this.anamnese.dataAvaliacao=z(i))}get avaliadorId(){return this.anamnese?.atuacaoId?.toString()??""}set avaliadorId(i){this.anamnese.atuacaoId=""!=i&&null!=i?Number(i):void 0}get solidos(){return this.anamnese?.solidos?.toString()??""}set solidos(i){this.anamnese.solidos=""!=i&&null!=i?"true"==i:void 0}get pastosos(){return this.anamnese?.pastosos?.toString()??""}set pastosos(i){this.anamnese.pastosos=""!=i&&null!=i?"true"==i:void 0}get liquidos(){return this.anamnese?.liquidos?.toString()??""}set liquidos(i){this.anamnese.liquidos=""!=i&&null!=i?"true"==i:void 0}get gestosElementares(){return this.anamnese?.gestosElementares?.toString()??""}set gestosElementares(i){""==i||null==i?this.anamnese.gestosElementares=void 0:"0"==i?this.anamnese.gestosElementares=c.nbj._0:"1"==i?this.anamnese.gestosElementares=c.nbj._1:"2"==i&&(this.anamnese.gestosElementares=c.nbj._2)}get naoSimbolicosConvencionais(){return this.anamnese?.naoSimbolicosConvencionais?.toString()??""}set naoSimbolicosConvencionais(i){""==i||null==i?this.anamnese.naoSimbolicosConvencionais=void 0:"0"==i?this.anamnese.naoSimbolicosConvencionais=c.nbj._0:"1"==i?this.anamnese.naoSimbolicosConvencionais=c.nbj._1:"2"==i&&(this.anamnese.naoSimbolicosConvencionais=c.nbj._2)}get simbolicos(){return this.anamnese?.simbolicos?.toString()??""}set simbolicos(i){""==i||null==i?this.anamnese.simbolicos=void 0:"0"==i?this.anamnese.simbolicos=c.nbj._0:"1"==i?this.anamnese.simbolicos=c.nbj._1:"2"==i&&(this.anamnese.simbolicos=c.nbj._2)}get verbal(){return this.anamnese?.verbal?.toString()??""}set verbal(i){""==i||null==i?this.anamnese.verbal=void 0:"0"==i?this.anamnese.verbal=c.nbj._0:"1"==i?this.anamnese.verbal=c.nbj._1:"2"==i&&(this.anamnese.verbal=c.nbj._2)}get balbucio(){return this.anamnese?.balbucio?.toString()??""}set balbucio(i){""==i||null==i?this.anamnese.balbucio=void 0:"0"==i?this.anamnese.balbucio=c.nbj._0:"1"==i?this.anamnese.balbucio=c.nbj._1:"2"==i&&(this.anamnese.balbucio=c.nbj._2)}get palavrasIsoladas(){return this.anamnese?.palavrasIsoladas?.toString()??""}set palavrasIsoladas(i){""==i||null==i?this.anamnese.palavrasIsoladas=void 0:"0"==i?this.anamnese.palavrasIsoladas=c.nbj._0:"1"==i?this.anamnese.palavrasIsoladas=c.nbj._1:"2"==i&&(this.anamnese.palavrasIsoladas=c.nbj._2)}get enunciadoDuasPalavras(){return this.anamnese?.enunciadoDuasPalavras?.toString()??""}set enunciadoDuasPalavras(i){""==i||null==i?this.anamnese.enunciadoDuasPalavras=void 0:"0"==i?this.anamnese.enunciadoDuasPalavras=c.nbj._0:"1"==i?this.anamnese.enunciadoDuasPalavras=c.nbj._1:"2"==i&&(this.anamnese.enunciadoDuasPalavras=c.nbj._2)}get frases(){return this.anamnese?.frases?.toString()??""}set frases(i){""==i||null==i?this.anamnese.frases=void 0:"0"==i?this.anamnese.frases=c.nbj._0:"1"==i?this.anamnese.frases=c.nbj._1:"2"==i&&(this.anamnese.frases=c.nbj._2)}get estereotipiasVocais(){return this.anamnese?.estereotipiasVocais?.toString()??""}set estereotipiasVocais(i){""==i||null==i?this.anamnese.estereotipiasVocais=void 0:"0"==i?this.anamnese.estereotipiasVocais=c.nbj._0:"1"==i?this.anamnese.estereotipiasVocais=c.nbj._1:"2"==i&&(this.anamnese.estereotipiasVocais=c.nbj._2)}get faltaExpressaoFacialAdequada(){return this.anamnese?.faltaExpressaoFacialAdequada?.toString()??""}set faltaExpressaoFacialAdequada(i){""==i||null==i?this.anamnese.faltaExpressaoFacialAdequada=void 0:"0"==i?this.anamnese.faltaExpressaoFacialAdequada=c.nbj._0:"1"==i?this.anamnese.faltaExpressaoFacialAdequada=c.nbj._1:"2"==i&&(this.anamnese.faltaExpressaoFacialAdequada=c.nbj._2)}get atencaoDiminuida(){return this.anamnese?.atencaoDiminuida?.toString()??""}set atencaoDiminuida(i){""==i||null==i?this.anamnese.atencaoDiminuida=void 0:"0"==i?this.anamnese.atencaoDiminuida=c.nbj._0:"1"==i?this.anamnese.atencaoDiminuida=c.nbj._1:"2"==i&&(this.anamnese.atencaoDiminuida=c.nbj._2)}get preferenciaAoIsolamento(){return this.anamnese?.preferenciaAoIsolamento?.toString()??""}set preferenciaAoIsolamento(i){""==i||null==i?this.anamnese.preferenciaAoIsolamento=void 0:"0"==i?this.anamnese.preferenciaAoIsolamento=c.nbj._0:"1"==i?this.anamnese.preferenciaAoIsolamento=c.nbj._1:"2"==i&&(this.anamnese.preferenciaAoIsolamento=c.nbj._2)}get ageComoSurdo(){return this.anamnese?.ageComoSurdo?.toString()??""}set ageComoSurdo(i){""==i||null==i?this.anamnese.ageComoSurdo=void 0:"0"==i?this.anamnese.ageComoSurdo=c.nbj._0:"1"==i?this.anamnese.ageComoSurdo=c.nbj._1:"2"==i&&(this.anamnese.ageComoSurdo=c.nbj._2)}get olhaQuemLheFala(){return this.anamnese?.olhaQuemLheFala?.toString()??""}set olhaQuemLheFala(i){""==i||null==i?this.anamnese.olhaQuemLheFala=void 0:"0"==i?this.anamnese.olhaQuemLheFala=c.nbj._0:"1"==i?this.anamnese.olhaQuemLheFala=c.nbj._1:"2"==i&&(this.anamnese.olhaQuemLheFala=c.nbj._2)}get olhaChamadoNome(){return this.anamnese?.olhaChamadoNome?.toString()??""}set olhaChamadoNome(i){""==i||null==i?this.anamnese.olhaChamadoNome=void 0:"0"==i?this.anamnese.olhaChamadoNome=c.nbj._0:"1"==i?this.anamnese.olhaChamadoNome=c.nbj._1:"2"==i&&(this.anamnese.olhaChamadoNome=c.nbj._2)}get pedeItensInteresse(){return this.anamnese?.pedeItensInteresse?.toString()??""}set pedeItensInteresse(i){""==i||null==i?this.anamnese.pedeItensInteresse=void 0:"0"==i?this.anamnese.pedeItensInteresse=c.nbj._0:"1"==i?this.anamnese.pedeItensInteresse=c.nbj._1:"2"==i&&(this.anamnese.pedeItensInteresse=c.nbj._2)}get imitacao(){return this.anamnese?.imitacao?.toString()??""}set imitacao(i){""==i||null==i?this.anamnese.imitacao=void 0:"0"==i?this.anamnese.imitacao=c.nbj._0:"1"==i?this.anamnese.imitacao=c.nbj._1:"2"==i&&(this.anamnese.imitacao=c.nbj._2)}get brincaAdequadoBrinquedo(){return this.anamnese?.brincaAdequadoBrinquedo?.toString()??""}set brincaAdequadoBrinquedo(i){""==i||null==i?this.anamnese.brincaAdequadoBrinquedo=void 0:"0"==i?this.anamnese.brincaAdequadoBrinquedo=c.nbj._0:"1"==i?this.anamnese.brincaAdequadoBrinquedo=c.nbj._1:"2"==i&&(this.anamnese.brincaAdequadoBrinquedo=c.nbj._2)}get autoEstimulacao(){return this.anamnese?.autoEstimulacao?.toString()??""}set autoEstimulacao(i){this.anamnese.autoEstimulacao=""!=i&&null!=i?"true"==i:void 0}get autoOuHeteroAgressao(){return this.anamnese?.autoOuHeteroAgressao?.toString()??""}set autoOuHeteroAgressao(i){this.anamnese.autoOuHeteroAgressao=""!=i&&null!=i?"true"==i:void 0}get birrasIrritabilidade(){return this.anamnese?.birrasIrritabilidade?.toString()??""}set birrasIrritabilidade(i){this.anamnese.birrasIrritabilidade=""!=i&&null!=i?"true"==i:void 0}get maniasRituais(){return this.anamnese?.maniasRituais?.toString()??""}set maniasRituais(i){this.anamnese.maniasRituais=""!=i&&null!=i?"true"==i:void 0}get estuda(){return this.anamnese?.estuda?.toString()??""}set estuda(i){this.anamnese.estuda=""!=i&&null!=i?"true"==i:void 0}get escolaRegular(){return this.anamnese?.escolaRegular?.toString()??""}set escolaRegular(i){this.anamnese.escolaRegular=""!=i&&null!=i?"true"==i:void 0}get professorApoio(){return this.anamnese?.professorApoio?.toString()??""}set professorApoio(i){this.anamnese.professorApoio=""!=i&&null!=i?"true"==i:void 0}get outroCasoFamilia(){return this.anamnese?.outroCasoFamilia?.toString()??""}set outroCasoFamilia(i){this.anamnese.outroCasoFamilia=""!=i&&null!=i?"true"==i:void 0}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["anamnese-form"]],inputs:{disabled:"disabled",aluno:"aluno",anamnese:"anamnese",avaliadores:"avaliadores",funcoesColaborador:"funcoesColaborador",colaboradores:"colaboradores",funcoes:"funcoes"},features:[e.Jv_([],[{provide:r.ZU,useExisting:r.Y4}]),e.Vt3],decls:1,vars:1,consts:[["avaliadorModel","ngModel","avaliadorEl",""],["dataModel","ngModel","dataEl",""],["diagnosticoModel","ngModel","diagnosticoEl",""],["cuidadorModel","ngModel","cuidadorEl",""],["profissaoCuidadorModel","ngModel","profissaoCuidadorEl",""],["telefoneModel","ngModel","telefoneEl",""],["historicoPessoalModel","ngModel","historicoPessoalEl",""],["patologiaAssociadaModel","ngModel","patologiaAssociadaEl",""],["convulsoesModel","ngModel","convulsoesEl",""],["sentouModel","ngModel","sentouEl",""],["engatinhouModel","ngModel","engatinhouEl",""],["andouModel","ngModel","andouEl",""],["estereotipiasMotorasModel","ngModel","estereotipiasMotorasEl",""],["alergiasEIntoleranciasModel","ngModel","alergiasEIntoleranciasEl",""],["alimentacaoModel","ngModel","alimentacaoEl",""],["banhoModel","ngModel","banhoEl",""],["vestuarioModel","ngModel","vestuarioEl",""],["cuidadosPessoaisModel","ngModel","cuidadosPessoaisEl",""],["sonoModel","ngModel","sonoEl",""],["esfincterModel","ngModel","esfincterEl",""],["palavrasIsoladasDescModel","ngModel","palavrasIsoladasDescEl",""],["estereotipiasVocaisDescModel","ngModel","estereotipiasVocaisDescEl",""],["preferenciaObjetosEspecificosModel","ngModel","preferenciaObjetosEspecificosEl",""],["aversoesModel","ngModel","aversoesEl",""],["nomeEscolaModel","ngModel","nomeEscolaEl",""],["serieModel","ngModel","serieEl",""],["outrosCasosDescModel","ngModel","outrosCasosDescEl",""],["terapiasModel","ngModel","terapiasEl",""],["expectativasFamiliaModel","ngModel","expectativasFamiliaEl",""],[4,"ngIf"],[1,"form-group","row","required"],["for","avaliador",1,"col-md-3","col-form-label",3,"click"],[1,"col-md-9"],["name","avaliador","id","avaliador","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],["for","data",1,"col-md-3","col-form-label"],["type","date","name","data","id","data","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"form-group","row"],["for","diagnostico",1,"col-md-3","col-form-label"],["type","text","name","diagnostico","id","diagnostico","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","cuidador",1,"col-md-3","col-form-label"],["type","text","name","cuidador","id","cuidador","maxlength","1000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","profissaoCuidador",1,"col-md-3","col-form-label"],["type","text","name","profissaoCuidador","id","profissaoCuidador","maxlength","200",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","telefone",1,"col-md-3","col-form-label"],["type","text","name","telefone","id","telefone","maxlength","20",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","historicoPessoal",1,"col-md-3","col-form-label"],["type","text","name","historicoPessoal","id","historicoPessoal","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","patologiaAssociada",1,"col-md-3","col-form-label"],["type","text","name","patologiaAssociada","id","patologiaAssociada","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","convulsoes",1,"col-md-3","col-form-label"],["type","text","name","convulsoes","id","convulsoes","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"col"],["type","text","name","sentou","id","sentou","maxlength","50",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","text","name","engatinhou","id","engatinhou","maxlength","50",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","text","name","andou","id","andou","maxlength","50",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","estereotipiasMotoras",1,"col-md-3","col-form-label"],["type","text","name","estereotipiasMotoras","id","estereotipiasMotoras","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row"],["type","radio","name","solidos","id","solidosSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","solidos","id","solidosN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","pastosos","id","pastososSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","pastosos","id","pastososN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","liquidos","id","liquidosSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","liquidos","id","liquidosN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","alergiasEIntolerancias",1,"col-md-3","col-form-label"],["type","text","name","alergiasEIntolerancias","id","alergiasEIntolerancias","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","alimentacao",1,"col-md-3","col-form-label"],["type","text","name","alimentacao","id","alimentacao","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","banho",1,"col-md-3","col-form-label"],["type","text","name","banho","id","banho","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","vestuario",1,"col-md-3","col-form-label"],["type","text","name","vestuario","id","vestuario","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","cuidadosPessoais",1,"col-md-3","col-form-label"],["type","text","name","cuidadosPessoais","id","cuidadosPessoais","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","sono",1,"col-md-3","col-form-label"],["type","text","name","sono","id","sono","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","esfincter",1,"col-md-3","col-form-label"],["type","text","name","esfincter","id","esfincter","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row","p-0","m-0"],["for","gestosElementares",1,"col-md-3","col-form-label"],["type","radio","name","gestosElementares","id","gestosElementaresSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","gestosElementares","id","gestosElementaresNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","gestosElementares","id","gestosElementaresAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","naoSimbolicosConvencionais",1,"col-md-3","col-form-label"],["type","radio","name","naoSimbolicosConvencionais","id","naoSimbolicosConvencionaisSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","naoSimbolicosConvencionais","id","naoSimbolicosConvencionaisNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","naoSimbolicosConvencionais","id","naoSimbolicosConvencionaisAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","simbolicos",1,"col-md-3","col-form-label"],["type","radio","name","simbolicos","id","simbolicosSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","simbolicos","id","simbolicosNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","simbolicos","id","simbolicosAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","verbal",1,"col-md-3","col-form-label"],["type","radio","name","verbal","id","verbalSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","verbal","id","verbalNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","verbal","id","verbalAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","balbucio",1,"col-md-3","col-form-label"],["type","radio","name","balbucio","id","balbucioSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","balbucio","id","balbucioNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","balbucio","id","balbucioAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","palavrasIsoladas",1,"col-md-3","col-form-label"],["type","radio","name","palavrasIsoladas","id","palavrasIsoladasSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","palavrasIsoladas","id","palavrasIsoladasNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","palavrasIsoladas","id","palavrasIsoladasAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","palavrasIsoladasDesc",1,"col-md-3","col-form-label"],["type","text","name","palavrasIsoladasDesc","id","palavrasIsoladasDesc","maxlength","4000","placeholder","Quais palavras?",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","enunciadoDuasPalavras",1,"col-md-3","col-form-label"],["type","radio","name","enunciadoDuasPalavras","id","enunciadoDuasPalavrasSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","enunciadoDuasPalavras","id","enunciadoDuasPalavrasNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","enunciadoDuasPalavras","id","enunciadoDuasPalavrasAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","frases",1,"col-md-3","col-form-label"],["type","radio","name","frases","id","frasesSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","frases","id","frasesNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","frases","id","frasesAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","estereotipiasVocais",1,"col-md-3","col-form-label"],["type","radio","name","estereotipiasVocais","id","estereotipiasVocaisSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","estereotipiasVocais","id","estereotipiasVocaisNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","estereotipiasVocais","id","estereotipiasVocaisAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","estereotipiasVocaisDesc",1,"col-md-3","col-form-label"],["type","text","name","estereotipiasVocaisDesc","id","estereotipiasVocaisDesc","maxlength","4000","placeholder","Quais estereotipias vocais?",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","faltaExpressaoFacialAdequada",1,"col-md-3","col-form-label"],["type","radio","name","faltaExpressaoFacialAdequada","id","faltaExpressaoFacialAdequadaSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","faltaExpressaoFacialAdequada","id","faltaExpressaoFacialAdequadaNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","faltaExpressaoFacialAdequada","id","faltaExpressaoFacialAdequadaAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","atencaoDiminuida",1,"col-md-3","col-form-label"],["type","radio","name","atencaoDiminuida","id","atencaoDiminuidaSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","atencaoDiminuida","id","atencaoDiminuidaNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","atencaoDiminuida","id","atencaoDiminuidaAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","preferenciaAoIsolamento",1,"col-md-3","col-form-label"],["type","radio","name","preferenciaAoIsolamento","id","preferenciaAoIsolamentoSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","preferenciaAoIsolamento","id","preferenciaAoIsolamentoNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","preferenciaAoIsolamento","id","preferenciaAoIsolamentoAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","ageComoSurdo",1,"col-md-3","col-form-label"],["type","radio","name","ageComoSurdo","id","ageComoSurdoSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","ageComoSurdo","id","ageComoSurdoNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","ageComoSurdo","id","ageComoSurdoAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","olhaQuemLheFala",1,"col-md-3","col-form-label"],["type","radio","name","olhaQuemLheFala","id","olhaQuemLheFalaSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","olhaQuemLheFala","id","olhaQuemLheFalaNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","olhaQuemLheFala","id","olhaQuemLheFalaAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","olhaChamadoNome",1,"col-md-3","col-form-label"],["type","radio","name","olhaChamadoNome","id","olhaChamadoNomeSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","olhaChamadoNome","id","olhaChamadoNomeNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","olhaChamadoNome","id","olhaChamadoNomeAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","pedeItensInteresse",1,"col-md-3","col-form-label"],["type","radio","name","pedeItensInteresse","id","pedeItensInteresseSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","pedeItensInteresse","id","pedeItensInteresseNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","pedeItensInteresse","id","pedeItensInteresseAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","imitacao",1,"col-md-3","col-form-label"],["type","radio","name","imitacao","id","imitacaoSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","imitacao","id","imitacaoNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","imitacao","id","imitacaoAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","brincaAdequadoBrinquedo",1,"col-md-3","col-form-label"],["type","radio","name","brincaAdequadoBrinquedo","id","brincaAdequadoBrinquedoSim","value","2",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","brincaAdequadoBrinquedo","id","brincaAdequadoBrinquedoNao","value","0",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","brincaAdequadoBrinquedo","id","brincaAdequadoBrinquedoAsVezes","value","1",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","preferenciaObjetosEspecificos",1,"col-md-3","col-form-label"],["type","text","name","preferenciaObjetosEspecificos","id","preferenciaObjetosEspecificos","maxlength","8000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","aversoes",1,"col-md-3","col-form-label"],["type","text","name","aversoes","id","aversoes","maxlength","8000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","autoEstimulacao","id","autoEstimulacaoSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","autoEstimulacao","id","autoEstimulacaoN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","autoOuHeteroAgressao","id","autoOuHeteroAgressaoSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","autoOuHeteroAgressao","id","autoOuHeteroAgressaoN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","birrasIrritabilidade","id","birrasIrritabilidadeSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","birrasIrritabilidade","id","birrasIrritabilidadeN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","maniasRituais","id","maniasRituaisSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","maniasRituais","id","maniasRituaisN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","estuda","id","estudaSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","estuda","id","estudaN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","nomeEscola",1,"col-md-3","col-form-label"],["type","text","name","nomeEscola","id","nomeEscola","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","serie",1,"col-md-3","col-form-label"],["type","text","name","serie","id","serie","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","escolaRegular","id","escolaRegularSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","escolaRegular","id","escolaRegularN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","professorApoio","id","professorApoioSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","professorApoio","id","professorApoioN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","outroCasoFamilia","id","outroCasoFamiliaSim","value","true",1,"form-control",3,"ngModelChange","disabled","ngModel"],["type","radio","name","outroCasoFamilia","id","outroCasoFamiliaN\xe3o","value","false",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","outrosCasosDesc",1,"col-md-3","col-form-label"],["type","text","name","outrosCasosDesc","id","outrosCasosDesc","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","terapias",1,"col-md-3","col-form-label"],["type","text","name","terapias","id","terapias","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","expectativasFamilia",1,"col-md-3","col-form-label"],["type","text","name","expectativasFamilia","id","expectativasFamilia","maxlength","4000",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value"]],template:function(t,o){1&t&&e.DNE(0,Kd,924,696,"div",29),2&t&&e.Y8G("ngIf",null!=o.anamnese)},dependencies:[h.Sq,h.bT,r.xH,r.y7,r.me,r.wz,r.Fm,r.BC,r.YS,r.tU,r.vS,y.e,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const Ro=()=>[""];let ec=(()=>{class a extends v.q{get loading(){return this.funcoesLoading||this.staffLoading||this.staffCasoLoading||this.colaboradoresLoading}constructor(i,t,o,n,s,l,m,p,_,C,F,I,P,w,V,B){super(i),this._casoService=t,this._alunoService=o,this._colaboradorService=n,this._staffService=s,this._staffCasoService=l,this._anamneseService=m,this._tipoServicoService=p,this._protocoloIntervencaoService=_,this._hierarquiaAjudaService=C,this._funcaoService=F,this._changeDetector=I,this._bsModalService=P,this._router=w,this._route=V,this._localService=B,this.saving=!1,this.funcoesLoading=!1,this.staffLoading=!1,this.staffCasoLoading=!1,this.colaboradoresLoading=!1}goBack(){this.permission.isGranted("Business.Personal.Cliente.Aluno")&&this.appSession.user.aluno?.id==this.alunoId?this._router.navigate(["app","personal"]):this._router.navigate(["app","alunos","details",this.alunoId])}getFuncao(i){return this.funcoes?.find(t=>t.id==i)}getAtuacao(i){return this.avaliadores?.find(t=>t.id==i)}getColabFuncao(i){return this.funcoesColaborador.find(t=>t.id==i)}getColaborador(i){return this.colaboradores.find(t=>t.id==i)}ngOnInit(){this.alunoId=Number(this._route.snapshot.paramMap.get("alunoId")),this.aluno=this._localService.aluno,this.anamnese=new c.Qe4,null==this.aluno?this._alunoService.get(this.alunoId).subscribe(t=>{this.aluno=t,this.refresh()}):this.refresh()}refresh(){this.funcoesLoading=!0,this.funcoes=[],this._funcaoService.getAll(void 0,0,25).subscribe(l=>{this.funcoes=l.items,l.totalCount>l.items.length?this._funcaoService.getAll(void 0,25,l.totalCount-l.items.length).subscribe(m=>{this.funcoes.push(...m.items),this.funcoesLoading=!1}):this.funcoesLoading=!1});var t=void 0;this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico")||(t=this.appSession?.user?.colaborador?.id),this.staffLoading=!0,this._staffService.getAll(t,void 0,void 0,void 0,!0,this.aluno.casoId,!0,void 0,0,50).subscribe(l=>{this.funcoesColaborador=l.items,l.totalCount>l.items.length?this._staffService.getAll(t,void 0,void 0,void 0,!0,this.aluno.casoId,!0,void 0,50,l.totalCount-l.items.length).subscribe(m=>{this.funcoesColaborador.push(...m.items),this.staffLoading=!1}):this.staffLoading=!1}),this.staffCasoLoading=!0,this.avaliadores=[],this._staffCasoService.getAll(this.aluno.casoId,!0,!0,t,void 0,void 0,0,100).subscribe(l=>{this.avaliadores=l.items,l.totalCount>l.items.length?this._staffCasoService.getAll(this.aluno.casoId,!0,!0,t,void 0,void 0,0,100).subscribe(m=>{this.avaliadores.push(...m.items),this.staffCasoLoading=!1}):this.staffCasoLoading=!1}),this.colaboradoresLoading=!0,this.colaboradores=[],null==t?this._colaboradorService.getAll(void 0,void 0,void 0,!0,this.aluno.casoId,!0,void 0,0,10).subscribe(l=>{this.colaboradores=l.items,l.totalCount>l.items.length?this._colaboradorService.getAll(void 0,void 0,void 0,!0,this.aluno.casoId,!0,void 0,10,l.totalCount-l.items.length).subscribe(m=>{this.colaboradores.push(...m.items),this.colaboradoresLoading=!1}):this.colaboradoresLoading=!1}):this._colaboradorService.get(t).subscribe(l=>{this.colaboradores=[l],this.colaboradoresLoading=!1}),this.anamnese=new c.Qe4,this.anamnese.casoId=this.aluno.casoId,this.anamnese.dataAvaliacao=z()}click1(){this.fecharRegistro=!1}click2(){this.fecharRegistro=!0}save(){this.saving=!0;let i={next:t=>{this.saving=!1,this.notify.success(this.l("Salvo com sucesso!")),this.goBack()},error:t=>{console.log(t),this.saving=!1},complete:()=>{}};this.anamnese.dataAvaliacao=this.anamnese.dataAvaliacao.utcOffset(0,!0),this.anamnese.fecharRegistro=this.fecharRegistro,this._anamneseService.create(this.anamnese).subscribe(i)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.iD6),e.rXU(c.pg4),e.rXU(c.i9W),e.rXU(c.eAk),e.rXU(c.Uos),e.rXU(c.asg),e.rXU(c.$Bn),e.rXU(c.J3u),e.rXU(c.QkB),e.rXU(c.AMc),e.rXU(e.gRc),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX),e.rXU(q.n))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:31,vars:22,consts:[["anamnesePage","ngForm"],[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[2,"height","100%","width","100%","border","0px solid black"],[1,"card",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white"],[1,"card-body"],["ngModelGroup","anamnese",3,"disabled","avaliadores","funcoesColaborador","colaboradores","funcoes","anamnese"],[1,"row","p-0","m-0"],[1,"col","p-0","m-0"],[1,"row","m-0","justify-content-center"],["type","submit",1,"btn","bg-secondary",3,"click","disabled"],["type","submit",1,"btn","bg-primary",3,"click","disabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),e.bIt("click",function(){return e.eBV(n),e.Njj(o.goBack())}),e.nrm(6,"i",6),e.k0s()()(),e.j41(7,"div",7)(8,"h1",8),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"h1",9),e.EFF(12),e.k0s()()()(),e.j41(13,"section",10)(14,"form",11,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(16,"div",12)(17,"div",13)(18,"div",14),e.nrm(19,"anamnese-form",15),e.j41(20,"div",16)(21,"div",17)(22,"div",18)(23,"button",19),e.bIt("click",function(){return e.eBV(n),e.Njj(o.click1())}),e.EFF(24),e.nI1(25,"localize"),e.k0s()()(),e.j41(26,"div",17)(27,"div",18)(28,"button",20),e.bIt("click",function(){return e.eBV(n),e.Njj(o.click2())}),e.EFF(29),e.nI1(30,"localize"),e.k0s()()()()()()()()()()}if(2&t){let n;const s=e.sdS(15);e.Y8G("@routerTransition",void 0),e.R7$(9),e.SpI(" ",e.bMT(10,14,"Anamnese")," "),e.R7$(3),e.Lme(" ",(null!==(n=null==o.aluno||null==o.aluno.nome?null:o.aluno.nome.split(" "))&&void 0!==n?n:e.lJ4(20,Ro))[0]," ",(null!==(n=null==o.aluno||null==o.aluno.nome||null==(n=o.aluno.nome.split(" "))?null:n.reverse())&&void 0!==n?n:e.lJ4(21,Ro))[0]," "),e.R7$(7),e.Y8G("disabled",o.saving||o.loading)("avaliadores",o.avaliadores)("funcoesColaborador",o.funcoesColaborador)("colaboradores",o.colaboradores)("funcoes",o.funcoes)("anamnese",o.anamnese),e.R7$(4),e.Y8G("disabled",o.loading||o.saving||!s.form.valid),e.R7$(),e.SpI(" ",e.bMT(25,16,"Salvar Registro em Aberto")," "),e.R7$(4),e.Y8G("disabled",o.loading||o.saving||!s.form.valid),e.R7$(),e.SpI(" ",e.bMT(30,18,"Salvar & Concluir Registro")," ")}},dependencies:[r.qT,r.cb,r.Y4,r.cV,jo,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})();const So=()=>[""];function oc(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",17)(1,"div",18)(2,"div",19)(3,"button",20),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.click1())}),e.EFF(4),e.nI1(5,"localize"),e.k0s()()(),e.j41(6,"div",18)(7,"div",19)(8,"button",21),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.click2())}),e.EFF(9),e.nI1(10,"localize"),e.k0s()()()()}if(2&a){const i=e.XpG(),t=e.sdS(15);e.R7$(3),e.Y8G("disabled",i.loading||i.saving||!t.form.valid),e.R7$(),e.SpI(" ",e.bMT(5,4,"Salvar Registro em Aberto")," "),e.R7$(4),e.Y8G("disabled",i.loading||i.saving||!t.form.valid),e.R7$(),e.SpI(" ",e.bMT(10,6,"Salvar & Concluir Registro")," ")}}let ic=(()=>{class a extends v.q{get locked(){return null!=this.anamnese?.dataRegistroFechado}constructor(i,t,o,n,s,l,m,p,_,C,F,I,P,w,V,B){super(i),this._casoService=t,this._alunoService=o,this._colaboradorService=n,this._staffService=s,this._staffCasoService=l,this._anamneseService=m,this._tipoServicoService=p,this._protocoloIntervencaoService=_,this._hierarquiaAjudaService=C,this._funcaoService=F,this._changeDetector=I,this._bsModalService=P,this._router=w,this._route=V,this._localService=B,this.loading=!1,this.saving=!1}goBack(){this.permission.isGranted("Business.Personal.Cliente.Aluno")&&this.appSession.user.aluno?.id==this.alunoId?this._router.navigate(["app","personal"]):this._router.navigate(["app","alunos","details",this.alunoId])}ngOnInit(){this.loading=!0,this.alunoId=Number(this._route.snapshot.paramMap.get("alunoId")),this.aluno=this._localService.aluno,null==this.aluno?this._alunoService.get(this.alunoId).subscribe(t=>{this.aluno=t,this.refresh()}):this.refresh()}refresh(){this.loading=!0;let i={next:n=>{this.anamnese=n,this._staffCasoService.get(n.atuacaoId).subscribe(s=>{this.avaliadores=[s],this._staffService.get(s.colabFuncaoId).subscribe(l=>{this.funcoesColaborador=[l],this._colaboradorService.get(l.colaboradorId).subscribe(m=>{this.colaboradores=[m],this._changeDetector.detectChanges()}),this._funcaoService.get(l.funcaoOrgId).subscribe(m=>{this.funcoes=[m],this._changeDetector.detectChanges()}),this._changeDetector.detectChanges()}),this._changeDetector.detectChanges()}),this._changeDetector.detectChanges(),this.loading=!1},error:n=>{console.log(n),this.saving=!1,this.refresh()},complete:()=>{}};const o=Number(this._route.snapshot.paramMap.get("anamneseId"));this._anamneseService.get(o).subscribe(i)}click1(){this.fecharRegistro=!1}click2(){this.fecharRegistro=!0}save(){this.saving=!0;let i={next:o=>{this.saving=!1,this.notify.success(this.l("Salvo com sucesso!")),this.goBack()},error:o=>{console.log(o),this.saving=!1},complete:()=>{}};var t=new c.DrZ(this.anamnese);t.fecharRegistro=this.fecharRegistro,this._anamneseService.update(t).subscribe(i)}static#e=this.\u0275fac=function(t){return new(t||a)(e.rXU(e.zZn),e.rXU(c.iD6),e.rXU(c.pg4),e.rXU(c.i9W),e.rXU(c.eAk),e.rXU(c.Uos),e.rXU(c.asg),e.rXU(c.$Bn),e.rXU(c.J3u),e.rXU(c.QkB),e.rXU(c.AMc),e.rXU(e.gRc),e.rXU(g.I8),e.rXU(b.Ix),e.rXU(b.nX),e.rXU(q.n))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:21,vars:15,consts:[["anamnesePage","ngForm"],[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[2,"height","100%","width","100%","border","0px solid black"],[1,"card",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white"],[1,"card-body"],["ngModelGroup","anamnese",3,"disabled","avaliadores","funcoesColaborador","colaboradores","funcoes","anamnese"],["class","row p-0 m-0",4,"ngIf"],[1,"row","p-0","m-0"],[1,"col","p-0","m-0"],[1,"row","m-0","justify-content-center"],["type","submit",1,"btn","bg-secondary",3,"click","disabled"],["type","submit",1,"btn","bg-primary",3,"click","disabled"]],template:function(t,o){if(1&t){const n=e.RV6();e.j41(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),e.bIt("click",function(){return e.eBV(n),e.Njj(o.goBack())}),e.nrm(6,"i",6),e.k0s()()(),e.j41(7,"div",7)(8,"h1",8),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"h1",9),e.EFF(12),e.k0s()()()(),e.j41(13,"section",10)(14,"form",11,0),e.bIt("ngSubmit",function(){return e.eBV(n),e.Njj(o.save())}),e.j41(16,"div",12)(17,"div",13)(18,"div",14),e.nrm(19,"anamnese-form",15),e.DNE(20,oc,11,8,"div",16),e.k0s()()()()()()}if(2&t){let n;e.Y8G("@routerTransition",void 0),e.R7$(9),e.SpI(" ",e.bMT(10,11,"Anamnese")," "),e.R7$(3),e.Lme(" ",(null!==(n=null==o.aluno||null==o.aluno.nome?null:o.aluno.nome.split(" "))&&void 0!==n?n:e.lJ4(13,So))[0]," ",(null!==(n=null==o.aluno||null==o.aluno.nome||null==(n=o.aluno.nome.split(" "))?null:n.reverse())&&void 0!==n?n:e.lJ4(14,So))[0]," "),e.R7$(7),e.Y8G("disabled",o.loading||o.saving||o.locked)("avaliadores",o.avaliadores)("funcoesColaborador",o.funcoesColaborador)("colaboradores",o.colaboradores)("funcoes",o.funcoes)("anamnese",o.anamnese),e.R7$(),e.Y8G("ngIf",!o.locked)}},dependencies:[h.bT,r.qT,r.cb,r.Y4,r.cV,jo,f.S],encapsulation:2,data:{animation:[(0,k.OD)()]}})}return a})(),tc=(()=>{class a{static#e=this.\u0275fac=function(t){return new(t||a)};static#o=this.\u0275mod=e.$C({type:a});static#i=this.\u0275inj=e.G2t({imports:[b.iI.forChild([{path:"",component:ai,children:[{path:"home",component:si,canActivate:[D.E]},{path:"personal",component:Bd,canActivate:[D.E]},{path:"users",component:Ct,data:{permission:"Pages.Users"},canActivate:[D.E]},{path:"roles",component:Gt,data:{permission:"Pages.Roles"},canActivate:[D.E]},{path:"alunos",data:{permission:"Business.Admin.People"},component:Ht,canActivate:[D.E]},{path:"alunos/details/:alunoId",component:Fa,canActivate:[D.E]},{path:"alunos/details/:alunoId/registro-atendimento",data:{permission:"Business.Personal.Colaborador"},component:Zd,canActivate:[D.E]},{path:"alunos/details/:alunoId/registro-anamnese",data:{permission:"Business.Personal.Colaborador"},component:ec,canActivate:[D.E]},{path:"alunos/details/:alunoId/view-registro-anamnese/:anamneseId",data:{permission:"Business.Personal.Colaborador"},component:ic,canActivate:[D.E]},{path:"alunos/details/:alunoId/protocolo-avaliacao/:apliId",component:gl,canActivate:[D.E]},{path:"alunos/details/:alunoId/protocolo-intervencao/:apliId",component:nd,canActivate:[D.E]},{path:"responsaveis",data:{permission:"Business.Admin.People"},component:Sa,canActivate:[D.E]},{path:"responsaveis/details/:responsavelId",component:Aa,canActivate:[D.E]},{path:"colaboradores",data:{permission:"Business.Admin.People"},component:fs,canActivate:[D.E]},{path:"colaboradores/details/:colaboradorId",component:ds,canActivate:[D.E]},{path:"protocolos-avaliacao",data:{permission:"Business.Technical"},component:cl,canActivate:[D.E]},{path:"protocolos-avaliacao/details/:protocoloAvaliacaoId",component:tl,canActivate:[D.E]},{path:"ref-bibliograficas",data:{permission:"Business.Technical"},component:Fl,canActivate:[D.E]},{path:"ref-bibliograficas/details/:refBibId",component:Pl,canActivate:[D.E]},{path:"tecnicas",data:{permission:"Business.Technical"},component:El,canActivate:[D.E]},{path:"tecnicas/details/:tecnicaId",component:wl,canActivate:[D.E]},{path:"formatos-ensino",data:{permission:"Business.Technical"},component:zl,canActivate:[D.E]},{path:"formatos-ensino/details/:formatoEnsinoId",component:Ul,canActivate:[D.E]},{path:"hierarquias-ajuda",data:{permission:"Business.Technical"},component:ql,canActivate:[D.E]},{path:"hierarquias-ajuda/create",data:{permission:"Business.Technical"},component:Jl,canActivate:[D.E]},{path:"hierarquias-ajuda/details/:hierarquiaAjudaId",component:Wl,canActivate:[D.E]},{path:"protocolos-intervencao",data:{permission:"Business.Technical"},component:or,canActivate:[D.E]},{path:"protocolos-intervencao/create",data:{permission:"Business.Technical"},component:Dr,canActivate:[D.E]},{path:"protocolos-intervencao/details/:protocoloIntervencaoId",component:Yr,canActivate:[D.E]},{path:"protocolos-intervencao/versoes/details/:versaoProtIntervencaoId",component:xr,canActivate:[D.E]},{path:"protocolos-intervencao/versoes/create/:protocoloIntervencaoId",data:{permission:"Business.Technical"},component:qr,canActivate:[D.E]},{path:"protocolos-intervencao/versoes/edit/:versaoProtIntervencaoId",data:{permission:"Business.Technical"},component:Or,canActivate:[D.E]},{path:"servicos-prestados",data:{permission:"Business.Finance"},component:rd,canActivate:[D.E]},{path:"servicos-prestados/tipos",data:{permission:"Business.Finance"},component:gd,canActivate:[D.E]},{path:"funcoes",component:Sd,data:{permission:"Business.Admin.OrgRoles"},canActivate:[D.E]},{path:"tenants",component:St,data:{permission:"Pages.Tenants"},canActivate:[D.E]},{path:"about",component:li,canActivate:[D.E]},{path:"update-password",component:ya,canActivate:[D.E]}]}]),b.iI]})}return a})();var nc=M(66943);let ac=(()=>{class a{handleError(i){/Loading chunk [\d]+ failed/.test(i.message)&&confirm("New version available. Load New Version?")&&window.location.reload()}static#e=this.\u0275fac=function(t){return new(t||a)};static#o=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),sc=(()=>{class a{static#e=this.\u0275fac=function(t){return new(t||a)};static#o=this.\u0275mod=e.$C({type:a});static#i=this.\u0275inj=e.G2t({providers:[{provide:e.zcH,useClass:ac}],imports:[h.MD,r.YN,r.X1,Ee.q1,Ee.uA,g.Q_.forChild(),X.zE,Te.G,S.jr,tc,q.W,nc.G,T.ed]})}return a})()}}]);