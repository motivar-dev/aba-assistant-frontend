"use strict";(self.webpackChunkABAAssistant=self.webpackChunkABAAssistant||[]).push([[26796],{26796:(ud,me,j)=>{j.r(me),j.d(me,{AppModule:()=>Ql});var e=j(54438),p=j(60177),l=j(84341),he=j(81562),f=j(50779),U=j(68580),fe=j(5992),I=j(13816),T=j(62796),h=j(33271),_=j(18133),L=j(98341),io=j(47906);class ao{static initSignalR(d){const t=(new io.TJ).getCookieValue(L.M.authorization.encryptedAuthTokenName);abp.signalr={autoConnect:!0,connect:void 0,hubs:void 0,qs:L.M.authorization.encryptedAuthTokenName+"="+encodeURIComponent(t),remoteServiceBaseUrl:L.M.remoteServiceBaseUrl,startConnection:void 0,url:"/signalr",withUrlOptions:{}};const n=document.createElement("script");d&&(n.onload=()=>{d()}),n.src=L.M.appBaseUrl+"/assets/abp/abp.signalr-client.js",document.head.appendChild(n)}}var ee=j(45548),m=j(54747);const so=()=>["home"],ro=()=>["about"];let lo=(()=>{class a{constructor(t){this._layoutStore=t}ngOnInit(){this._layoutStore.sidebarExpanded.subscribe(t=>{this.sidebarExpanded=t})}toggleSidebar(){this._layoutStore.setSidebarExpanded(!this.sidebarExpanded)}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(ee.B))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["header-left-navbar"]],decls:12,vars:10,consts:[[1,"navbar-nav"],[1,"nav-item"],["href","javascript:;",1,"nav-link",3,"click"],[1,"fas","fa-bars"],[1,"nav-item","d-none","d-sm-inline-block"],[1,"nav-link",3,"routerLink"]],template:function(n,o){1&n&&(e.j41(0,"ul",0)(1,"li",1)(2,"a",2),e.bIt("click",function(){return o.toggleSidebar()}),e.nrm(3,"i",3),e.k0s()(),e.j41(4,"li",4)(5,"a",5),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"li",4)(9,"a",5),e.EFF(10),e.nI1(11,"localize"),e.k0s()()()),2&n&&(e.R7$(5),e.Y8G("routerLink",e.lJ4(8,so)),e.R7$(),e.SpI(" ",e.bMT(7,4,"HomePage")," "),e.R7$(3),e.Y8G("routerLink",e.lJ4(9,ro)),e.R7$(),e.SpI(" ",e.bMT(11,6,"About")," "))},dependencies:[h.Wk,m.S],encapsulation:2,changeDetection:0})}return a})();var c=j(81801),co=j(3578);function uo(a,d){if(1&a){const t=e.RV6();e.j41(0,"a",7),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG(2);return e.Njj(i.changeLanguage(o.name))}),e.nrm(1,"i"),e.EFF(2),e.k0s()}if(2&a){const t=e.XpG().$implicit;e.R7$(),e.ZvI("d-inline-block ",t.icon," mr-1"),e.R7$(),e.SpI(" ",t.displayName," ")}}function po(a,d){if(1&a&&(e.qex(0),e.DNE(1,uo,3,4,"a",6),e.bVm()),2&a){const t=d.$implicit,n=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.name!=n.currentLanguage.name)}}function mo(a,d){if(1&a&&(e.j41(0,"div",4),e.DNE(1,po,2,1,"ng-container",5),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.languages)}}let ho=(()=>{class a extends _.q{constructor(t,n){super(t),this._userService=n}ngOnInit(){this.languages=(0,co.A)(this.localization.languages,t=>!t.isDisabled),this.currentLanguage=this.localization.currentLanguage}changeLanguage(t){const n=new c.Vm;n.languageName=t,this._userService.changeLanguage(n).subscribe(()=>{abp.utils.setCookieValue("Abp.Localization.CultureName",t,new Date((new Date).getTime()+15768e7),abp.appPath),window.location.reload()})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.LC))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["header-language-menu"]],features:[e.Vt3],decls:6,vars:4,consts:[["dropdown","",1,"nav-item","dropdown"],["href","javascript:;","dropdownToggle","",1,"nav-link"],[1,"d-none","d-md-inline-block","ml-1"],["class","dropdown-menu dropdown-menu-right p-0",4,"dropdownMenu"],[1,"dropdown-menu","dropdown-menu-right","p-0"],[4,"ngFor","ngForOf"],["class","dropdown-item","href","javascript:;",3,"click",4,"ngIf"],["href","javascript:;",1,"dropdown-item",3,"click"]],template:function(n,o){1&n&&(e.j41(0,"li",0)(1,"a",1),e.nrm(2,"i"),e.j41(3,"span",2),e.EFF(4),e.k0s()(),e.DNE(5,mo,2,1,"div",3),e.k0s()),2&n&&(e.R7$(2),e.ZvI("d-inline-block ",o.currentLanguage.icon,""),e.R7$(2),e.SpI(" ",o.currentLanguage.displayName," "))},dependencies:[p.Sq,p.bT,U.hs,U.UL,U.Kk],encapsulation:2,changeDetection:0})}return a})();var fo=j(43728);const bo=()=>["update-password"];function _o(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",4)(1,"a",5),e.nrm(2,"i",6),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"a",7),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.logout())}),e.nrm(6,"i",8),e.EFF(7),e.nI1(8,"localize"),e.k0s()()}2&a&&(e.R7$(),e.Y8G("routerLink",e.lJ4(7,bo)),e.R7$(2),e.SpI(" ",e.bMT(4,3,"UpdatePassword")," "),e.R7$(4),e.SpI(" ",e.bMT(8,5,"Logout")," "))}let go=(()=>{class a{constructor(t){this._authService=t}logout(){this._authService.logout()}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(fo.D))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["header-user-menu"]],decls:4,vars:0,consts:[["dropdown","",1,"nav-item","dropdown","nav-user-menu"],["href","javascript:;","dropdownToggle","",1,"nav-link"],["src","assets/img/user.png","alt","User Image",1,"user-image","img-circle","elevation-2"],["class","dropdown-menu dropdown-menu-right",4,"dropdownMenu"],[1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item",3,"routerLink"],[1,"fas","fa-user-edit"],["href","javascript:;",1,"dropdown-item",3,"click"],[1,"fas","fa-sign-out-alt"]],template:function(n,o){1&n&&(e.j41(0,"li",0)(1,"a",1),e.nrm(2,"img",2),e.k0s(),e.DNE(3,_o,9,8,"div",3),e.k0s())},dependencies:[U.hs,U.UL,U.Kk,h.Wk,m.S],encapsulation:2,changeDetection:0})}return a})(),vo=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["app-header"]],decls:5,vars:0,consts:[[1,"main-header","navbar","navbar-expand","navbar-white","navbar-light"],[1,"navbar-nav","ml-auto"]],template:function(n,o){1&n&&(e.j41(0,"nav",0),e.nrm(1,"header-left-navbar"),e.j41(2,"ul",1),e.nrm(3,"header-language-menu")(4,"header-user-menu"),e.k0s()())},dependencies:[lo,ho,go],encapsulation:2,changeDetection:0})}return a})(),Co=(()=>{class a extends _.q{constructor(t){super(t),this.currentYear=(new Date).getFullYear(),this.versionText=this.appSession.application.version+" ["+this.appSession.application.releaseDate.format("YYYYDDMM")+"]"}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["app-footer"]],features:[e.Vt3],decls:11,vars:5,consts:[[1,"main-footer"],["href","javascript:;"],[1,"float-right","d-none","d-sm-inline-block"]],template:function(n,o){1&n&&(e.j41(0,"footer",0)(1,"strong"),e.EFF(2),e.j41(3,"a",1),e.EFF(4,"ABAAssistant"),e.k0s(),e.EFF(5,". "),e.k0s(),e.j41(6,"div",2)(7,"b"),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.EFF(10),e.k0s()()),2&n&&(e.R7$(2),e.SpI(" Copyright \xa9 ",o.currentYear," "),e.R7$(6),e.SpI("",e.bMT(9,3,"Version")," "),e.R7$(2),e.SpI(" ",o.versionText," "))},dependencies:[m.S],encapsulation:2,changeDetection:0})}return a})();const Io=()=>["home"];let Fo=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["sidebar-logo"]],decls:4,vars:2,consts:[[1,"brand-link",3,"routerLink"],["src","assets/img/logo.png","alt","Logo",1,"brand-image","img-circle","elevation-3",2,"opacity","0.8"],[1,"brand-text","font-weight-light"]],template:function(n,o){1&n&&(e.j41(0,"a",0),e.nrm(1,"img",1),e.j41(2,"span",2),e.EFF(3,"ABAAssistant"),e.k0s()()),2&n&&e.Y8G("routerLink",e.lJ4(1,Io))},dependencies:[h.Wk],encapsulation:2,changeDetection:0})}return a})(),ko=(()=>{class a extends _.q{constructor(t){super(t),this.shownLoginName=""}ngOnInit(){this.shownLoginName=this.appSession.getShownLoginName()}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["sidebar-user-panel"]],features:[e.Vt3],decls:6,vars:1,consts:[[1,"user-panel","mt-3","pb-3","mb-3","d-flex"],[1,"image"],["src","assets/img/user.png","alt","User Image",1,"img-circle","elevation-2"],[1,"info"],["href","javascript:;",1,"d-block"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"img",2),e.k0s(),e.j41(3,"div",3)(4,"a",4),e.EFF(5),e.k0s()()()),2&n&&(e.R7$(5),e.JRh(o.shownLoginName))},encapsulation:2,changeDetection:0})}return a})();var jo=j(84412);class w{constructor(d,t,n,o=null,i=null){this.label=d,this.route=t,this.icon=n,this.permissionName=o,this.children=i}}const be=a=>({item:a});function Ro(a,d){1&a&&e.eu8(0)}function So(a,d){if(1&a&&(e.qex(0),e.DNE(1,Ro,1,0,"ng-container",4),e.bVm()),2&a){const t=d.$implicit;e.XpG();const n=e.sdS(4);e.R7$(),e.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",e.eq3(2,be,t))}}function Mo(a,d){if(1&a&&(e.j41(0,"a",11),e.nrm(1,"i"),e.j41(2,"p"),e.EFF(3),e.k0s()()),2&a){const t=e.XpG(2).item;e.AVh("active",t.isActive),e.Y8G("routerLink",t.route),e.R7$(),e.ZvI("nav-icon ",t.icon,""),e.R7$(2),e.SpI(" ",t.label," ")}}function Eo(a,d){if(1&a&&(e.j41(0,"a",12),e.nrm(1,"i"),e.j41(2,"p"),e.EFF(3),e.k0s()()),2&a){const t=e.XpG(2).item;e.Y8G("href",t.route,e.B4B),e.R7$(),e.ZvI("nav-icon ",t.icon,""),e.R7$(2),e.SpI(" ",t.label," ")}}function To(a,d){if(1&a){const t=e.RV6();e.j41(0,"a",13),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2).item;return e.Njj(o.isCollapsed=!o.isCollapsed)}),e.nrm(1,"i"),e.j41(2,"p"),e.EFF(3),e.nrm(4,"i",14),e.k0s()()}if(2&a){const t=e.XpG(2).item;e.AVh("active",t.isActive),e.R7$(),e.ZvI("nav-icon ",t.icon,""),e.R7$(2),e.SpI(" ",t.label," ")}}function Do(a,d){1&a&&e.eu8(0)}function yo(a,d){if(1&a&&(e.qex(0),e.DNE(1,Do,1,0,"ng-container",4),e.bVm()),2&a){const t=d.$implicit;e.XpG(4);const n=e.sdS(4);e.R7$(),e.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",e.eq3(2,be,t))}}function Ao(a,d){if(1&a&&(e.j41(0,"ul",15),e.DNE(1,yo,2,4,"ng-container",3),e.k0s()),2&a){const t=e.XpG(2).item;e.Y8G("collapse",t.isCollapsed)("isAnimated",!0),e.R7$(),e.Y8G("ngForOf",t.children)}}function Po(a,d){if(1&a&&(e.j41(0,"li",6),e.DNE(1,Mo,4,7,"a",7)(2,Eo,4,5,"a",8)(3,To,5,6,"a",9)(4,Ao,2,3,"ul",10),e.k0s()),2&a){const t=e.XpG().item;e.AVh("menu-open",!t.isCollapsed)("has-treeview",t.children),e.R7$(),e.Y8G("ngIf",t.route&&0!=t.route.indexOf("http")),e.R7$(),e.Y8G("ngIf",t.route&&0==t.route.indexOf("http")&&!t.children),e.R7$(),e.Y8G("ngIf",!t.route&&t.children),e.R7$(),e.Y8G("ngIf",t.children)}}function wo(a,d){if(1&a&&e.DNE(0,Po,5,8,"li",5),2&a){const t=d.item,n=e.XpG();e.Y8G("ngIf",n.isMenuItemVisible(t))}}let $o=(()=>{class a extends _.q{constructor(t,n){super(t),this.router=n,this.menuItemsMap={},this.activatedMenuItems=[],this.routerEvents=new jo.t(void 0),this.homeRoute="/app/about"}ngOnInit(){this.menuItems=this.getMenuItems(),this.patchMenuItems(this.menuItems),this.router.events.subscribe(t=>{const o=this.router.parseUrl("/"!==t.url?t.url:this.homeRoute).root.children[h.Xk];o&&this.activateMenuItems("/"+o.toString())})}getMenuItems(){return[new w(this.l("MeuPerfil"),"/app/personal","fas fa-user"),new w(this.l("About"),"/app/about","fas fa-info-circle"),new w(this.l("HomePage"),"/app/home","fas fa-home"),new w(this.l("Servidor"),"","fas fa-circle","Pages.Users",[new w(this.l("Roles"),"/app/roles","fas fa-theater-masks","Pages.Roles"),new w(this.l("Tenants"),"/app/tenants","fas fa-building","Pages.Tenants"),new w(this.l("Users"),"/app/users","fas fa-users","Pages.Users")]),new w(this.l("Clientes"),"","fas fa-users","Business.Admin.People",[new w(this.l("Alunos"),"/app/alunos","fas fa-users","Business.Admin.People"),new w(this.l("Responsaveis"),"/app/responsaveis","fas fa-users","Business.Admin.People")]),new w(this.l("Administrativo"),"","fas fa-address-book","Business.Admin",[new w(this.l("Fun\xe7\xf5es"),"/app/funcoes","fas fa-address-book","Business.Admin.OrgRoles"),new w(this.l("Colaboradores"),"/app/colaboradores","fas fa-users","Business.Admin.People")]),new w(this.l("Financeiro"),"","fas fa-address-book","Business.Finance",[new w(this.l("Servi\xe7os Prestados"),"/app/servicos-prestados","fas fa-address-book","Business.Finance"),new w(this.l("Tipos de Servi\xe7o Prestado"),"/app/servicos-prestados/tipos","fas fa-address-book","Business.Finance")]),new w(this.l("T\xe9cnico"),"","fas fa-book","Business.Technical",[new w(this.l("Protocolos de Interven\xe7\xe3o"),"/app/protocolos-intervencao","fas fa-book","Business.Technical"),new w(this.l("Protocolos de Avalia\xe7\xe3o"),"/app/protocolos-avaliacao","fas fa-book","Business.Technical"),new w(this.l("T\xe9cnicas"),"/app/tecnicas","fas fa-book","Business.Technical"),new w(this.l("Refer\xeancias Bibliogr\xe1ficas"),"/app/ref-bibliograficas","fas fa-book","Business.Technical"),new w(this.l("Formatos de Ensino"),"/app/formatos-ensino","fas fa-book","Business.Technical"),new w(this.l("Hierarquias de Ajuda"),"/app/hierarquias-ajuda","fas fa-book","Business.Technical")])]}patchMenuItems(t,n){t.forEach((o,i)=>{o.id=n?+(n+""+(i+1)):i+1,n&&(o.parentId=n),(n||o.children)&&(this.menuItemsMap[o.id]=o),o.children&&this.patchMenuItems(o.children,o.id)})}activateMenuItems(t){this.deactivateMenuItems(this.menuItems),this.activatedMenuItems=[],this.findMenuItemsByUrl(t,this.menuItems).forEach(o=>{this.activateMenuItem(o)})}deactivateMenuItems(t){t.forEach(n=>{n.isActive=!1,n.isCollapsed=!0,n.children&&this.deactivateMenuItems(n.children)})}findMenuItemsByUrl(t,n,o=[]){return n.forEach(i=>{i.route===t?o.push(i):i.children&&this.findMenuItemsByUrl(t,i.children,o)}),o}activateMenuItem(t){t.isActive=!0,t.children&&(t.isCollapsed=!1),this.activatedMenuItems.push(t),t.parentId&&this.activateMenuItem(this.menuItemsMap[t.parentId])}isMenuItemVisible(t){return!t.permissionName||this.permission.isGranted(t.permissionName)}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(h.Ix))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["sidebar-menu"]],features:[e.Vt3],decls:5,vars:1,consts:[["sidebarInner",""],[1,"mt-2"],["data-widget","treeview","role","menu","data-accordion","false",1,"nav","nav-pills","nav-sidebar","flex-column","nav-flat"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","nav-item",3,"menu-open","has-treeview",4,"ngIf"],[1,"nav-item"],["class","nav-link",3,"routerLink","active",4,"ngIf"],["class","nav-link","target","_blank",3,"href",4,"ngIf"],["class","nav-link","href","javascript:;",3,"active","click",4,"ngIf"],["class","nav nav-treeview",3,"collapse","isAnimated",4,"ngIf"],[1,"nav-link",3,"routerLink"],["target","_blank",1,"nav-link",3,"href"],["href","javascript:;",1,"nav-link",3,"click"],[1,"right","fas","fa-angle-left"],[1,"nav","nav-treeview",3,"collapse","isAnimated"]],template:function(n,o){1&n&&(e.j41(0,"nav",1)(1,"ul",2),e.DNE(2,So,2,4,"ng-container",3),e.k0s()(),e.DNE(3,wo,1,1,"ng-template",null,0,e.C5r)),2&n&&(e.R7$(2),e.Y8G("ngForOf",o.menuItems))},dependencies:[p.Sq,p.bT,p.T3,fe.D,h.Wk],encapsulation:2})}return a})(),Go=(()=>{class a{constructor(t,n){this.renderer=t,this._layoutStore=n}ngOnInit(){this._layoutStore.sidebarExpanded.subscribe(t=>{this.sidebarExpanded=t,this.toggleSidebar()})}toggleSidebar(){this.sidebarExpanded?this.hideSidebar():this.showSidebar()}showSidebar(){this.renderer.removeClass(document.body,"sidebar-collapse"),this.renderer.addClass(document.body,"sidebar-open")}hideSidebar(){this.renderer.removeClass(document.body,"sidebar-open"),this.renderer.addClass(document.body,"sidebar-collapse")}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.sFG),e.rXU(ee.B))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["sidebar"]],decls:5,vars:0,consts:[[1,"main-sidebar","sidebar-dark-primary","elevation-4"],[1,"sidebar"]],template:function(n,o){1&n&&(e.j41(0,"aside",0),e.nrm(1,"sidebar-logo"),e.j41(2,"div",1),e.nrm(3,"sidebar-user-panel")(4,"sidebar-menu"),e.k0s()())},dependencies:[Fo,ko,$o],encapsulation:2,changeDetection:0})}return a})(),Vo=(()=>{class a extends _.q{constructor(t,n,o){super(t),this.renderer=n,this._layoutStore=o}ngOnInit(){this.renderer.addClass(document.body,"sidebar-mini"),ao.initSignalR(),abp.event.on("abp.notifications.received",t=>{abp.notifications.showUiNotifyForUserNotification(t),Push.create("AbpZeroTemplate",{body:t.notification.data.message,icon:abp.appPath+"assets/app-logo-small.png",timeout:6e3,onClick:function(){window.focus(),this.close()}})}),this._layoutStore.sidebarExpanded.subscribe(t=>{this.sidebarExpanded=t})}toggleSidebar(){this._layoutStore.setSidebarExpanded(!this.sidebarExpanded)}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(e.sFG),e.rXU(ee.B))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:7,vars:0,consts:[[1,"wrapper"],[1,"content-wrapper"],["id","sidebar-overlay",3,"click"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.nrm(1,"app-header")(2,"sidebar"),e.j41(3,"div",1),e.nrm(4,"router-outlet"),e.k0s(),e.nrm(5,"app-footer"),e.j41(6,"div",2),e.bIt("click",function(){return o.toggleSidebar()}),e.k0s()())},dependencies:[h.n3,vo,Co,Go],encapsulation:2})}return a})();var R=j(37191),v=j(42856);let No=(()=>{class a extends _.q{constructor(t){super(t)}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:214,vars:4,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"content","px-2"],[1,"alert","alert-info","alert-dismissible"],[1,"icon","fa","fa-info"],[1,"col-lg-3","col-6"],[1,"small-box","bg-info"],[1,"inner"],[1,"icon"],[1,"fas","fa-users"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/graphs/contributors","target","_blank",1,"small-box-footer"],[1,"fas","fa-arrow-circle-right"],[1,"small-box","bg-warning"],[1,"fas","fa-tools"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/network/dependents","target","_blank",1,"small-box-footer"],[1,"small-box","bg-primary"],[1,"fas","fa-code"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/network/members","target","_blank",1,"small-box-footer"],[1,"col-12","col-sm-6","col-md-3"],[1,"info-box"],[1,"info-box-icon","bg-primary","elevation-1"],[1,"fas","fa-plus-circle"],[1,"info-box-content"],[1,"info-box-text"],[1,"info-box-number"],[1,"info-box","mb-3"],[1,"info-box-icon","bg-warning","elevation-1"],[1,"fas","fa-exclamation-triangle"],[1,"clearfix","hidden-md-up"],[1,"info-box-icon","bg-info","elevation-1"],[1,"fas","fa-tag"],[1,"info-box-icon","bg-success","elevation-1"],[1,"fas","fa-eye"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body","table-responsive","p-0"],[1,"table","table-hover","text-nowrap"],[1,"bg-light"],[1,"w-25"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/issues/5452","target","_blank"],[1,"badge","badge-secondary","mx-1"],[1,"badge","badge-primary","mx-1"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/issues/5391","target","_blank"],[1,"badge","badge-danger","mx-1"],[1,"badge","badge-success","mx-1"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/issues/5390","target","_blank"],[1,"badge","badge-warning","mx-1"],[1,"badge","badge-info","mx-1"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/pull/5430","target","_blank"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/pull/5362","target","_blank"],["href","https://github.com/aspnetboilerplate/aspnetboilerplate/pull/4924","target","_blank"]],template:function(n,o){1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()()(),e.j41(8,"section",4)(9,"div",1)(10,"div",2)(11,"div",3)(12,"div",5)(13,"h6"),e.nrm(14,"i",6),e.EFF(15," This is a sample Dashboard which doesn't show any server side data. However, you can develop your own dashboard inspired by this one and its source code."),e.k0s()()()(),e.j41(16,"div",2)(17,"div",7)(18,"div",8)(19,"div",9)(20,"h3"),e.EFF(21,"140+"),e.k0s(),e.j41(22,"p"),e.EFF(23,"Contributors"),e.k0s()(),e.j41(24,"div",10),e.nrm(25,"i",11),e.k0s(),e.j41(26,"a",12),e.EFF(27," More info "),e.nrm(28,"i",13),e.k0s()()(),e.j41(29,"div",7)(30,"div",14)(31,"div",9)(32,"h3"),e.EFF(33,"1.6k+"),e.k0s(),e.j41(34,"p"),e.EFF(35,"Used / Dependents"),e.k0s()(),e.j41(36,"div",10),e.nrm(37,"i",15),e.k0s(),e.j41(38,"a",16),e.EFF(39," More info "),e.nrm(40,"i",13),e.k0s()()(),e.j41(41,"div",7)(42,"div",17)(43,"div",9)(44,"h3"),e.EFF(45,"3.1k+"),e.k0s(),e.j41(46,"p"),e.EFF(47,"Forks"),e.k0s()(),e.j41(48,"div",10),e.nrm(49,"i",18),e.k0s(),e.j41(50,"a",19),e.EFF(51," More info "),e.nrm(52,"i",13),e.k0s()()()(),e.j41(53,"div",2)(54,"div",20)(55,"div",21)(56,"span",22),e.nrm(57,"i",23),e.k0s(),e.j41(58,"div",24)(59,"span",25),e.EFF(60,"Commits"),e.k0s(),e.j41(61,"span",26),e.EFF(62," 6,350+ "),e.k0s()()()(),e.j41(63,"div",20)(64,"div",27)(65,"span",28),e.nrm(66,"i",29),e.k0s(),e.j41(67,"div",24)(68,"span",25),e.EFF(69,"Issues"),e.k0s(),e.j41(70,"span",26),e.EFF(71," 170+ "),e.k0s()()()(),e.nrm(72,"div",30),e.j41(73,"div",20)(74,"div",27)(75,"span",31),e.nrm(76,"i",32),e.k0s(),e.j41(77,"div",24)(78,"span",25),e.EFF(79,"Releases"),e.k0s(),e.j41(80,"span",26),e.EFF(81," 200+ "),e.k0s()()()(),e.j41(82,"div",20)(83,"div",27)(84,"span",33),e.nrm(85,"i",34),e.k0s(),e.j41(86,"div",24)(87,"span",25),e.EFF(88,"Watching by"),e.k0s(),e.j41(89,"span",26),e.EFF(90," 810+ "),e.k0s()()()()(),e.j41(91,"div",2)(92,"div",35)(93,"div",36)(94,"div",37)(95,"h3",38),e.EFF(96,"Open Issues"),e.k0s()(),e.j41(97,"div",39)(98,"table",40)(99,"thead",41)(100,"tr")(101,"th"),e.EFF(102,"Id"),e.k0s(),e.j41(103,"th",42),e.EFF(104,"Title"),e.k0s(),e.j41(105,"th",42),e.EFF(106,"Labels"),e.k0s(),e.j41(107,"th"),e.EFF(108,"Date"),e.k0s(),e.j41(109,"th"),e.EFF(110,"Opened by"),e.k0s()()(),e.j41(111,"tbody")(112,"tr")(113,"td")(114,"a",43),e.EFF(115," 5452 "),e.k0s()(),e.j41(116,"td"),e.EFF(117,"Angular UI migration to AdminLTE 3"),e.k0s(),e.j41(118,"td")(119,"span",44),e.EFF(120," module-zero-core-template "),e.k0s(),e.j41(121,"span",45),e.EFF(122," feature "),e.k0s()(),e.j41(123,"td"),e.EFF(124,"11 days ago"),e.k0s(),e.j41(125,"td"),e.EFF(126,"iyilm4z"),e.k0s()(),e.j41(127,"tr")(128,"td")(129,"a",46),e.EFF(130," 5391 "),e.k0s()(),e.j41(131,"td"),e.EFF(132," AbpCacheBase should lock the same object for sync and async "),e.k0s(),e.j41(133,"td")(134,"span",47),e.EFF(135," bug "),e.k0s(),e.j41(136,"span",48),e.EFF(137," pull request candidate "),e.k0s()(),e.j41(138,"td"),e.EFF(139,"26 days ago"),e.k0s(),e.j41(140,"td"),e.EFF(141,"acjh"),e.k0s()(),e.j41(142,"tr")(143,"td")(144,"a",49),e.EFF(145," 5390 "),e.k0s()(),e.j41(146,"td"),e.EFF(147,"AbpCache sliding/absolute expire time"),e.k0s(),e.j41(148,"td")(149,"span",50),e.EFF(150," breaking-change "),e.k0s(),e.j41(151,"span",51),e.EFF(152,"enhancement"),e.k0s()(),e.j41(153,"td"),e.EFF(154,"27 days ago"),e.k0s(),e.j41(155,"td"),e.EFF(156,"ryancyq"),e.k0s()()()()()()()(),e.j41(157,"div",2)(158,"div",35)(159,"div",36)(160,"div",37)(161,"h3",38),e.EFF(162,"Closed Pull Requests"),e.k0s()(),e.j41(163,"div",39)(164,"table",40)(165,"thead",41)(166,"tr")(167,"th"),e.EFF(168,"Id"),e.k0s(),e.j41(169,"th",42),e.EFF(170,"Title"),e.k0s(),e.j41(171,"th",42),e.EFF(172,"Milestone"),e.k0s(),e.j41(173,"th"),e.EFF(174,"Date"),e.k0s(),e.j41(175,"th"),e.EFF(176,"Made by"),e.k0s()()(),e.j41(177,"tbody")(178,"tr")(179,"td")(180,"a",52),e.EFF(181," 5430 "),e.k0s()(),e.j41(182,"td"),e.EFF(183," Added Dynamic-Parameter-System doc to documentation menu "),e.k0s(),e.j41(184,"td"),e.EFF(185,"v5.6"),e.k0s(),e.j41(186,"td"),e.EFF(187,"18 days ago"),e.k0s(),e.j41(188,"td"),e.EFF(189,"maliming"),e.k0s()(),e.j41(190,"tr")(191,"td")(192,"a",53),e.EFF(193," 5362 "),e.k0s()(),e.j41(194,"td"),e.EFF(195," Dynamic Parameter Module "),e.k0s(),e.j41(196,"td"),e.EFF(197,"v5.4"),e.k0s(),e.j41(198,"td"),e.EFF(199,"25 days ago"),e.k0s(),e.j41(200,"td"),e.EFF(201,"demirmusa"),e.k0s()(),e.j41(202,"tr")(203,"td")(204,"a",54),e.EFF(205," 4924 "),e.k0s()(),e.j41(206,"td"),e.EFF(207," ASP.NET Core 3.0 Upgrade "),e.k0s(),e.j41(208,"td"),e.EFF(209,"v5.0"),e.k0s(),e.j41(210,"td"),e.EFF(211,"Oct 15"),e.k0s(),e.j41(212,"td"),e.EFF(213,"ismcagdas"),e.k0s()()()()()()()()()()()),2&n&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,2,"HomePage")))},dependencies:[m.S],encapsulation:2,data:{animation:[(0,v.OD)()]},changeDetection:0})}return a})(),Bo=(()=>{class a extends _.q{constructor(t){super(t)}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:106,vars:4,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"content","px-2"],[1,"card"],[1,"card-body"],["href","http://aspnetzero.com?ref=abptmpl","target","_blank"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Zero/Tenant-Management"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Zero/Role-Management"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Zero/User-Management"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Authorization"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Zero/Permission-Management"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Setting-Management"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Zero/Language-Management"],["href","http://www.aspnetboilerplate.com/Pages/Documents/Audit-Logging"],["href","https://docs.microsoft.com/en-us/aspnet/core/security/authentication/identity","target","_blank"],["href","https://www.aspnetboilerplate.com/Pages/Documents/Zero/Startup-Template-Core"],["href","http://www.aspnetboilerplate.com/Pages/Documents"],["href","https://github.com/aspnetboilerplate/module-zero-core-template","target","_blank"]],template:function(n,o){1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()()(),e.j41(8,"section",4)(9,"div",1)(10,"div",5)(11,"div",6)(12,"p"),e.EFF(13," This is a simple startup template based on ASP.NET Boilerplate framework and Module Zero. If you need an enterprise startup project, check "),e.j41(14,"a",7),e.EFF(15," ASP.NET ZERO "),e.k0s(),e.EFF(16,". "),e.k0s(),e.j41(17,"h3"),e.EFF(18,"What is ASP.NET Boilerplate?"),e.k0s(),e.j41(19,"p"),e.EFF(20," ASP.NET Boilerplate is an application framework built on latest "),e.j41(21,"strong"),e.EFF(22,"ASP.NET Core"),e.k0s(),e.EFF(23," framework. It makes easy to use authorization, dependency injection, validation, exception handling, localization, logging, caching, background jobs and so on. It's built on already familiar tools like Entity Framework, AutoMapper, Castle Windsor... "),e.k0s(),e.j41(24,"p"),e.EFF(25," ASP.NET Boilerplate implements "),e.j41(26,"strong"),e.EFF(27,"NLayer architecture"),e.k0s(),e.EFF(28," (Domain, Application, Infrastructure and Presentation Layers) and "),e.j41(29,"strong"),e.EFF(30,"Domain Driven Design"),e.k0s(),e.EFF(31," (Entities, Repositories, Domain/Application Services, DTO's...). Also implements and provides a good infrastructure to implement common software development "),e.j41(32,"strong"),e.EFF(33,"best practices"),e.k0s(),e.EFF(34,". "),e.k0s(),e.j41(35,"h3"),e.EFF(36,"What is Module Zero?"),e.k0s(),e.j41(37,"p"),e.EFF(38," ASP.NET Boilerplate framework is designed to be independent of any database schema and to be as generic as possible. Therefore, It leaves some concepts "),e.j41(39,"strong"),e.EFF(40,"abstract"),e.k0s(),e.EFF(41," and "),e.j41(42,"strong"),e.EFF(43,"optional"),e.k0s(),e.EFF(44," (like audit logging, permission and setting stores) which requires some "),e.j41(45,"strong"),e.EFF(46,"data store"),e.k0s(),e.EFF(47,". "),e.k0s(),e.j41(48,"p")(49,"strong"),e.EFF(50,"Module Zero "),e.k0s(),e.EFF(51,"implements all fundamental concepts of ASP.NET Boilerplate framework such as "),e.j41(52,"a",8),e.EFF(53,"tenant management"),e.k0s(),e.EFF(54," ("),e.j41(55,"strong"),e.EFF(56,"multi-tenancy"),e.k0s(),e.EFF(57,"), "),e.j41(58,"a",9),e.EFF(59," role management "),e.k0s(),e.EFF(60,", "),e.j41(61,"a",10),e.EFF(62,"user management"),e.k0s(),e.EFF(63,", "),e.j41(64,"a",11),e.EFF(65,"authorization"),e.k0s(),e.EFF(66," ("),e.j41(67,"a",12),e.EFF(68," permission management "),e.k0s(),e.EFF(69,"), "),e.j41(70,"a",13),e.EFF(71,"setting management"),e.k0s(),e.EFF(72,", "),e.j41(73,"a",14),e.EFF(74," language management "),e.k0s(),e.EFF(75,", "),e.j41(76,"a",15),e.EFF(77,"audit logging"),e.k0s(),e.EFF(78," and so on. "),e.k0s(),e.j41(79,"p"),e.EFF(80," Module-Zero defines entities and implements "),e.j41(81,"strong"),e.EFF(82,"domain logic"),e.k0s(),e.EFF(83," (domain layer) and leaves application and presentation layers to you. "),e.k0s(),e.j41(84,"h4"),e.EFF(85,"Based on Microsoft ASP.NET Core Identity"),e.k0s(),e.j41(86,"p"),e.EFF(87," Module Zero is based on Microsoft's "),e.j41(88,"a",16),e.EFF(89,"ASP.NET Core Identity"),e.k0s(),e.EFF(90," library. It extends user and role managers and implements user and role stores using generic repositories. "),e.k0s(),e.j41(91,"h3"),e.EFF(92,"Documentation"),e.k0s(),e.j41(93,"ul")(94,"li")(95,"a",17),e.EFF(96,"Documentation for this template"),e.k0s()(),e.j41(97,"li")(98,"a",18),e.EFF(99,"ASP.NET Boilerplate documentation"),e.k0s()()(),e.j41(100,"h3"),e.EFF(101,"Source code"),e.k0s(),e.j41(102,"p"),e.EFF(103," This template is developed open source on Github. You can contribute to the template. "),e.j41(104,"a",19),e.EFF(105,"https://github.com/aspnetboilerplate/module-zero-core-template"),e.k0s()()()()()()()),2&n&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,2,"About")))},dependencies:[m.S],encapsulation:2,data:{animation:[(0,v.OD)()]},changeDetection:0})}return a})();var y=j(70980);class Yo{}let A=(()=>{class a extends _.q{constructor(t){super(t),this.pageSize=10,this.pageNumber=1,this.totalPages=1,this.isTableLoading=!1}ngOnInit(){this.refresh()}refresh(){this.getDataPage(this.pageNumber)}showPaging(t,n){this.totalPages=(t.totalCount-t.totalCount%this.pageSize)/this.pageSize+1,this.totalItems=t.totalCount,this.pageNumber=n}getDataPage(t){const n=new Yo;n.maxResultCount=this.pageSize,n.skipCount=(t-1)*this.pageSize,this.isTableLoading=!0,this.list(n,t,()=>{this.isTableLoading=!1})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return a})();var _e=j(56689),Uo=j(37277),ge=j(73883),ve=j(31287);const Xo=function zo(a,d){var t=-1,n=(0,ve.A)(a)?Array(a.length):[];return(0,ge.A)(a,function(o,i,s){n[++t]=d(o,i,s)}),n};var oe=j(43744);const Z=function qo(a,d){return((0,oe.A)(a)?_e.A:Xo)(a,(0,Uo.A)(d,3))},Ho=function Oo(a,d){for(var t=-1,n=null==a?0:a.length;++t<n&&!1!==d(a[t],t,a););return a};var Jo=j(57003);const W=function Zo(a,d){return((0,oe.A)(a)?Ho:ge.A)(a,function xo(a){return"function"==typeof a?a:Jo.A}(d))};var S=j(48339),F=j(417),k=j(42991);let Ce=(()=>{class a{constructor(t,n){this.validateEqual=t,this.reverse=n}get isReverse(){return!!this.reverse&&"true"===this.reverse}validate(t){const n=t.value,o=t.root.get(this.validateEqual);return o&&n!==o.value&&!this.isReverse?{validateEqual:!0}:(o&&n===o.value&&this.isReverse&&(delete o.errors.validateEqual,Object.keys(o.errors).length||o.setErrors(null)),o&&n!==o.value&&this.isReverse&&o.setErrors({validateEqual:!0}),null)}static#e=this.\u0275fac=function(n){return new(n||a)(e.kS0("validateEqual"),e.kS0("reverse"))};static#o=this.\u0275dir=e.FsC({type:a,selectors:[["","validateEqual","","formControlName",""],["","validateEqual","","formControl",""],["","validateEqual","","ngModel",""]],features:[e.Jv_([{provide:l.cz,useExisting:(0,e.Rfq)(()=>a),multi:!0}])]})}return a})();function Wo(a,d){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"div",34)(2,"div",29)(3,"input",35),e.bIt("change",function(o){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onRoleChange(i,o))}),e.k0s(),e.j41(4,"label",36),e.EFF(5),e.k0s()()(),e.bVm()}if(2&a){const t=d.$implicit,n=d.index,o=e.XpG();e.R7$(3),e.Y8G("id","role_"+n)("checked",o.isRoleChecked(t.normalizedName)),e.R7$(),e.Y8G("for","role_"+n),e.R7$(),e.SpI(" ",t.name," ")}}let Qo=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._userService=n,this.bsModalRef=o,this.saving=!1,this.user=new c.TG,this.roles=[],this.checkedRolesMap={},this.defaultRoleCheckedStatus=!1,this.passwordValidationErrors=[{name:"pattern",localizationKey:"PasswordsMustBeAtLeast8CharactersContainLowercaseUppercaseNumber"}],this.confirmPasswordValidationErrors=[{name:"validateEqual",localizationKey:"PasswordsDoNotMatch"}],this.onSave=new e.bkB}ngOnInit(){this.user.isActive=!0,this._userService.getRoles().subscribe(t=>{this.roles=t.items,this.setInitialRolesStatus()})}setInitialRolesStatus(){Z(this.roles,t=>{this.checkedRolesMap[t.normalizedName]=this.isRoleChecked(t.normalizedName)})}isRoleChecked(t){return this.defaultRoleCheckedStatus}onRoleChange(t,n){this.checkedRolesMap[t.normalizedName]=n.target.checked}getCheckedRoles(){const t=[];return W(this.checkedRolesMap,function(n,o){n&&t.push(o)}),t}save(){this.saving=!0,this.user.roleNames=this.getCheckedRoles(),this._userService.create(this.user).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()},()=>{this.saving=!1})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.LC),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:75,vars:53,consts:[["createUserModal","ngForm"],["nameModel","ngModel","nameEl",""],["surnameModel","ngModel","surnameEl",""],["userNameModel","ngModel","userNameEl",""],["passwordModel","ngModel","passwordEl",""],["confirmPasswordModel","ngModel","confirmPasswordEl",""],["emailAddressModel","ngModel","emailAddressEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],[1,"form-group","row","required"],["for","name",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","name","id","name","required","","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","surname",1,"col-md-3","col-form-label"],["type","text","name","surname","id","surname","required","","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],["for","userName",1,"col-md-3","col-form-label"],["type","text","name","userName","id","userName","required","","minlength","2","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"col-md-3","col-form-label"],["type","password","name","password","id","password","required","","maxlength","32","validateEqual","confirmPassword","reverse","true","pattern","(?=^.{8,}$)(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s)[0-9a-zA-Z!@#$%^&*()]*$",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl","customValidationErrors"],["for","confirmPassword",1,"col-md-3","col-form-label"],["type","password","name","confirmPassword","id","confirmPassword","required","","maxlength","32","validateEqual","password","reverse","false","ngModel","",1,"form-control"],["for","emailAddress",1,"col-md-3","col-form-label"],["type","email","name","emailAddress","id","emailAddress","required","","maxlength","256","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{1,})+$",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row","mb-0"],[1,"col-md-3","col-form-label"],[1,"custom-control","custom-checkbox"],["type","checkbox","name","isActive","id","isActive",1,"custom-control-input",3,"ngModelChange","ngModel"],["for","isActive",1,"custom-control-label","mt-2"],[4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[1,"col-md-6"],["type","checkbox",1,"custom-control-input",3,"change","id","checked"],[1,"custom-control-label",3,"for"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",7,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",8),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",9)(5,"tabset")(6,"tab",10),e.nI1(7,"localize"),e.j41(8,"div",11)(9,"label",12),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"div",13)(13,"input",14,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.user.name,r)||(o.user.name=r),e.Njj(r)}),e.k0s(),e.nrm(16,"abp-validation-summary",15),e.k0s()(),e.j41(17,"div",11)(18,"label",16),e.EFF(19),e.nI1(20,"localize"),e.k0s(),e.j41(21,"div",13)(22,"input",17,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.user.surname,r)||(o.user.surname=r),e.Njj(r)}),e.k0s(),e.nrm(25,"abp-validation-summary",15),e.k0s()(),e.j41(26,"div",11)(27,"label",18),e.EFF(28),e.nI1(29,"localize"),e.k0s(),e.j41(30,"div",13)(31,"input",19,3),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.user.userName,r)||(o.user.userName=r),e.Njj(r)}),e.k0s(),e.nrm(34,"abp-validation-summary",15),e.k0s()(),e.j41(35,"div",11)(36,"label",20),e.EFF(37),e.nI1(38,"localize"),e.k0s(),e.j41(39,"div",13)(40,"input",21,4),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.user.password,r)||(o.user.password=r),e.Njj(r)}),e.k0s(),e.nrm(43,"abp-validation-summary",22),e.k0s()(),e.j41(44,"div",11)(45,"label",23),e.EFF(46),e.nI1(47,"localize"),e.k0s(),e.j41(48,"div",13),e.nrm(49,"input",24,5)(52,"abp-validation-summary",22),e.k0s()(),e.j41(53,"div",11)(54,"label",25),e.EFF(55),e.nI1(56,"localize"),e.k0s(),e.j41(57,"div",13)(58,"input",26,6),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.user.emailAddress,r)||(o.user.emailAddress=r),e.Njj(r)}),e.k0s(),e.nrm(61,"abp-validation-summary",15),e.k0s()(),e.j41(62,"div",27)(63,"label",28),e.EFF(64),e.nI1(65,"localize"),e.k0s(),e.j41(66,"div",13)(67,"div",29)(68,"input",30),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.user.isActive,r)||(o.user.isActive=r),e.Njj(r)}),e.k0s(),e.nrm(69,"label",31),e.k0s()()()(),e.j41(70,"tab",10),e.nI1(71,"localize"),e.j41(72,"div",27),e.DNE(73,Wo,6,4,"ng-container",32),e.k0s()()()(),e.j41(74,"abp-modal-footer",33),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1),s=e.sdS(14),r=e.sdS(15),u=e.sdS(23),b=e.sdS(24),g=e.sdS(32),C=e.sdS(33),E=e.sdS(41),P=e.sdS(42),$=e.sdS(50),G=e.sdS(51),N=e.sdS(59),Y=e.sdS(60);e.R7$(2),e.Y8G("title",e.bMT(3,33,"CreateNewUser")),e.R7$(4),e.Y8G("heading",e.bMT(7,35,"UserDetails")),e.R7$(4),e.SpI(" ",e.bMT(11,37,"Name")," "),e.R7$(3),e.R50("ngModel",o.user.name),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(20,39,"Surname")," "),e.R7$(3),e.R50("ngModel",o.user.surname),e.R7$(3),e.Y8G("control",u)("controlEl",b),e.R7$(3),e.SpI(" ",e.bMT(29,41,"UserName")," "),e.R7$(3),e.R50("ngModel",o.user.userName),e.R7$(3),e.Y8G("control",g)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(38,43,"Password")," "),e.R7$(3),e.R50("ngModel",o.user.password),e.R7$(3),e.Y8G("control",E)("controlEl",P)("customValidationErrors",o.passwordValidationErrors),e.R7$(3),e.SpI(" ",e.bMT(47,45,"ConfirmPassword")," "),e.R7$(6),e.Y8G("control",$)("controlEl",G)("customValidationErrors",o.confirmPasswordValidationErrors),e.R7$(3),e.SpI(" ",e.bMT(56,47,"EmailAddress")," "),e.R7$(3),e.R50("ngModel",o.user.emailAddress),e.R7$(3),e.Y8G("control",N)("controlEl",Y),e.R7$(3),e.SpI(" ",e.bMT(65,49,"IsActive")," "),e.R7$(4),e.R50("ngModel",o.user.isActive),e.R7$(2),e.Y8G("heading",e.bMT(71,51,"UserRoles")),e.R7$(3),e.Y8G("ngForOf",o.roles),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.me,l.Zm,l.BC,l.cb,l.YS,l.xh,l.tU,l.R_,l.vS,l.cV,I.V6,I.fw,S.e,F.x,k.z,Ce,m.S],encapsulation:2})}return a})();const tt=function ot(a){return a!=a};var rt=j(45281),lt=j(42661);var pt=/\s/;var ft=/^\s+/;const _t=function bt(a){return a&&a.slice(0,function mt(a){for(var d=a.length;d--&&pt.test(a.charAt(d)););return d}(a)+1).replace(ft,"")};var Ie=j(30554),gt=j(74077),vt=/^[-+]0x[0-9a-f]+$/i,Ct=/^0b[01]+$/i,It=/^0o[0-7]+$/i,Ft=parseInt;var ke=1/0;const Mt=function St(a){return a?(a=function kt(a){if("number"==typeof a)return a;if((0,gt.A)(a))return NaN;if((0,Ie.A)(a)){var d="function"==typeof a.valueOf?a.valueOf():a;a=(0,Ie.A)(d)?d+"":d}if("string"!=typeof a)return 0===a?a:+a;a=_t(a);var t=Ct.test(a);return t||It.test(a)?Ft(a.slice(2),t?2:8):vt.test(a)?NaN:+a}(a))===ke||a===-ke?17976931348623157e292*(a<0?-1:1):a==a?a:0:0===a?a:0};var At=j(2662);const wt=function Pt(a){return null==a?[]:function Dt(a,d){return(0,_e.A)(d,function(t){return a[t]})}(a,(0,At.A)(a))};var $t=Math.max;const je=function Gt(a,d,t,n){a=(0,ve.A)(a)?a:wt(a),t=t&&!n?function Et(a){var d=Mt(a),t=d%1;return d==d?t?d-t:d:0}(t):0;var o=a.length;return t<0&&(t=$t(o+t,0)),function ct(a){return"string"==typeof a||!(0,oe.A)(a)&&(0,lt.A)(a)&&"[object String]"==(0,rt.A)(a)}(a)?t<=o&&a.indexOf(d,t)>-1:!!o&&function at(a,d,t){return d==d?function nt(a,d,t){for(var n=t-1,o=a.length;++n<o;)if(a[n]===d)return n;return-1}(a,d,t):function Ko(a,d,t,n){for(var o=a.length,i=t+(n?1:-1);n?i--:++i<o;)if(d(a[i],i,a))return i;return-1}(a,tt,t)}(a,d,t)>-1};function Vt(a,d){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"div",27)(2,"div",22)(3,"input",28),e.bIt("change",function(o){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onRoleChange(i,o))}),e.k0s(),e.j41(4,"label",29),e.EFF(5),e.k0s()()(),e.bVm()}if(2&a){const t=d.$implicit,n=d.index,o=e.XpG();e.R7$(3),e.Y8G("id","role_"+n)("checked",o.isRoleChecked(t.normalizedName)),e.R7$(),e.Y8G("for","role_"+n),e.R7$(),e.SpI(" ",t.name," ")}}let Nt=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._userService=n,this.bsModalRef=o,this.saving=!1,this.user=new c.Lq,this.roles=[],this.checkedRolesMap={},this.onSave=new e.bkB}ngOnInit(){this._userService.get(this.id).subscribe(t=>{this.user=t,this._userService.getRoles().subscribe(n=>{this.roles=n.items,this.setInitialRolesStatus()})})}setInitialRolesStatus(){Z(this.roles,t=>{this.checkedRolesMap[t.normalizedName]=this.isRoleChecked(t.normalizedName)})}isRoleChecked(t){return je(this.user.roleNames,t)}onRoleChange(t,n){this.checkedRolesMap[t.normalizedName]=n.target.checked}getCheckedRoles(){const t=[];return W(this.checkedRolesMap,function(n,o){n&&t.push(o)}),t}save(){this.saving=!0,this.user.roleNames=this.getCheckedRoles(),this._userService.update(this.user).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()},()=>{this.saving=!1})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.LC),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:57,vars:40,consts:[["editUserModal","ngForm"],["nameModel","ngModel","nameEl",""],["surnameModel","ngModel","surnameEl",""],["userNameModel","ngModel","userNameEl",""],["emailAddressModel","ngModel","emailAddressEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],[1,"form-group","row","required"],["for","name",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","name","id","name","required","","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","surname",1,"col-md-3","col-form-label"],["type","text","name","surname","id","surname","required","","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],["for","userName",1,"col-md-3","col-form-label"],["type","text","name","userName","id","userName","required","","minlength","2","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],["for","emailAddress",1,"col-md-3","col-form-label"],["type","email","name","emailAddress","id","emailAddress","required","","maxlength","256","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{1,})+$",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row","mb-0"],[1,"col-md-3","col-form-label"],[1,"custom-control","custom-checkbox"],["type","checkbox","name","isActive","id","isActive",1,"custom-control-input",3,"ngModelChange","ngModel"],["for","isActive",1,"custom-control-label","mt-2"],[4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[1,"col-md-6"],["type","checkbox",1,"custom-control-input",3,"change","id","checked"],[1,"custom-control-label",3,"for"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",5,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",6),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",7)(5,"tabset")(6,"tab",8),e.nI1(7,"localize"),e.j41(8,"div",9)(9,"label",10),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"div",11)(13,"input",12,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.user.name,r)||(o.user.name=r),e.Njj(r)}),e.k0s(),e.nrm(16,"abp-validation-summary",13),e.k0s()(),e.j41(17,"div",9)(18,"label",14),e.EFF(19),e.nI1(20,"localize"),e.k0s(),e.j41(21,"div",11)(22,"input",15,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.user.surname,r)||(o.user.surname=r),e.Njj(r)}),e.k0s(),e.nrm(25,"abp-validation-summary",13),e.k0s()(),e.j41(26,"div",9)(27,"label",16),e.EFF(28),e.nI1(29,"localize"),e.k0s(),e.j41(30,"div",11)(31,"input",17,3),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.user.userName,r)||(o.user.userName=r),e.Njj(r)}),e.k0s(),e.nrm(34,"abp-validation-summary",13),e.k0s()(),e.j41(35,"div",9)(36,"label",18),e.EFF(37),e.nI1(38,"localize"),e.k0s(),e.j41(39,"div",11)(40,"input",19,4),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.user.emailAddress,r)||(o.user.emailAddress=r),e.Njj(r)}),e.k0s(),e.nrm(43,"abp-validation-summary",13),e.k0s()(),e.j41(44,"div",20)(45,"label",21),e.EFF(46),e.nI1(47,"localize"),e.k0s(),e.j41(48,"div",11)(49,"div",22)(50,"input",23),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.user.isActive,r)||(o.user.isActive=r),e.Njj(r)}),e.k0s(),e.nrm(51,"label",24),e.k0s()()()(),e.j41(52,"tab",8),e.nI1(53,"localize"),e.j41(54,"div",20),e.DNE(55,Vt,6,4,"ng-container",25),e.k0s()()()(),e.j41(56,"abp-modal-footer",26),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1),s=e.sdS(14),r=e.sdS(15),u=e.sdS(23),b=e.sdS(24),g=e.sdS(32),C=e.sdS(33),E=e.sdS(41),P=e.sdS(42);e.R7$(2),e.Y8G("title",e.bMT(3,24,"EditUser")),e.R7$(4),e.Y8G("heading",e.bMT(7,26,"UserDetails")),e.R7$(4),e.SpI(" ",e.bMT(11,28,"Name")," "),e.R7$(3),e.R50("ngModel",o.user.name),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(20,30,"Surname")," "),e.R7$(3),e.R50("ngModel",o.user.surname),e.R7$(3),e.Y8G("control",u)("controlEl",b),e.R7$(3),e.SpI(" ",e.bMT(29,32,"UserName")," "),e.R7$(3),e.R50("ngModel",o.user.userName),e.R7$(3),e.Y8G("control",g)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(38,34,"EmailAddress")," "),e.R7$(3),e.R50("ngModel",o.user.emailAddress),e.R7$(3),e.Y8G("control",E)("controlEl",P),e.R7$(3),e.SpI(" ",e.bMT(47,36,"IsActive")," "),e.R7$(4),e.R50("ngModel",o.user.isActive),e.R7$(2),e.Y8G("heading",e.bMT(53,38,"UserRoles")),e.R7$(3),e.Y8G("ngForOf",o.roles),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.me,l.Zm,l.BC,l.cb,l.YS,l.xh,l.tU,l.R_,l.vS,l.cV,I.V6,I.fw,S.e,F.x,k.z,m.S],encapsulation:2})}return a})(),Bt=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._userService=n,this.bsModalRef=o,this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.resetPasswordDto=new c.US,this.resetPasswordDto.userId=this.id,this.resetPasswordDto.newPassword=Math.random().toString(36).substr(2,10),this.isLoading=!1}resetPassword(){this.isLoading=!0,this._userService.resetPassword(this.resetPasswordDto).subscribe(()=>{this.notify.info("Password Reset"),this.bsModalRef.hide()},()=>{this.isLoading=!1})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.LC),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["app-reset-password"]],features:[e.Vt3],decls:31,vars:21,consts:[["resetPasswordModal","ngForm"],["adminPasswordModel","ngModel","adminPasswordEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"row"],[1,"col-md-9","offset-md-3"],[1,"text-info","mb-1"],[1,"form-group","row","required"],["for","adminPassword",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","password","id","adminPassword","name","adminPassword","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","newPassword",1,"col-md-3","col-form-label"],["type","text","name","NewPassword","id","newPassword","readonly","",1,"form-control",3,"ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.resetPassword())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"div",6)(7,"p",7),e.EFF(8),e.nI1(9,"localize"),e.k0s()()(),e.j41(10,"div",8)(11,"label",9),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"div",10)(15,"input",11,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.resetPasswordDto.adminPassword,r)||(o.resetPasswordDto.adminPassword=r),e.Njj(r)}),e.k0s(),e.nrm(18,"abp-validation-summary",12),e.k0s()(),e.j41(19,"div",5)(20,"div",6)(21,"p",7),e.EFF(22),e.nI1(23,"localize"),e.k0s()()(),e.j41(24,"div",13)(25,"label",14),e.EFF(26),e.nI1(27,"localize"),e.k0s(),e.j41(28,"div",10),e.nrm(29,"input",15),e.k0s()()(),e.j41(30,"abp-modal-footer",16),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1),s=e.sdS(16),r=e.sdS(17);e.R7$(2),e.Y8G("title",e.bMT(3,11,"ResetPassword")),e.R7$(6),e.SpI(" ",e.bMT(9,13,"ResetPasswordStepOneInfo")," "),e.R7$(4),e.SpI(" ",e.bMT(13,15,"AdminPassword")," "),e.R7$(3),e.R50("ngModel",o.resetPasswordDto.adminPassword),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(4),e.SpI(" ",e.bMT(23,17,"ResetPasswordStepTwoInfo")," "),e.R7$(4),e.SpI(" ",e.bMT(27,19,"NewPassword")," "),e.R7$(3),e.Y8G("ngModel",o.resetPasswordDto.newPassword),e.R7$(),e.Y8G("cancelDisabled",o.isLoading)("saveDisabled",!i.form.valid||o.isLoading)}},dependencies:[l.qT,l.me,l.BC,l.cb,l.YS,l.vS,l.cV,S.e,F.x,k.z,m.S],encapsulation:2})}return a})();function Yt(a,d){if(1&a){const t=e.RV6();e.j41(0,"a",9),e.bIt("click",function(){e.eBV(t),e.XpG(3);const o=e.sdS(1);return e.Njj(o.previous())}),e.nrm(1,"i",10),e.k0s()}}function Ut(a,d){1&a&&(e.j41(0,"a",11),e.nrm(1,"i",10),e.k0s())}function zt(a,d){if(1&a&&(e.j41(0,"li",6),e.DNE(1,Yt,2,0,"a",7)(2,Ut,2,0,"a",8),e.k0s()),2&a){e.XpG(2);const t=e.sdS(1);e.AVh("disabled",t.isFirstPage()),e.R7$(),e.Y8G("ngIf",!t.isFirstPage()),e.R7$(),e.Y8G("ngIf",t.isFirstPage())}}function Xt(a,d){if(1&a){const t=e.RV6();e.j41(0,"li",6)(1,"a",9),e.bIt("click",function(){const o=e.eBV(t).$implicit;e.XpG(2);const i=e.sdS(1);return e.Njj(i.setCurrent(o.value))}),e.EFF(2),e.k0s()()}if(2&a){const t=d.$implicit;e.XpG(2);const n=e.sdS(1);e.xc7("z-index",n.getCurrent()===t.value?"0":""),e.AVh("active",n.getCurrent()===t.value),e.R7$(2),e.SpI(" ",t.label," ")}}function qt(a,d){if(1&a){const t=e.RV6();e.j41(0,"a",9),e.bIt("click",function(){e.eBV(t),e.XpG(3);const o=e.sdS(1);return e.Njj(o.next())}),e.nrm(1,"i",12),e.k0s()}}function Ot(a,d){1&a&&(e.j41(0,"a",11),e.nrm(1,"i",12),e.k0s())}function Ht(a,d){if(1&a&&(e.j41(0,"li",6),e.DNE(1,qt,2,0,"a",7)(2,Ot,2,0,"a",8),e.k0s()),2&a){e.XpG(2);const t=e.sdS(1);e.AVh("disabled",t.isLastPage()),e.R7$(),e.Y8G("ngIf",!t.isLastPage()),e.R7$(),e.Y8G("ngIf",t.isLastPage())}}function Jt(a,d){if(1&a&&(e.j41(0,"ul",3),e.DNE(1,zt,3,4,"li",4)(2,Xt,3,5,"li",5)(3,Ht,3,4,"li",4),e.k0s()),2&a){const t=e.XpG(),n=e.sdS(1);e.R7$(),e.Y8G("ngIf",t.directionLinks),e.R7$(),e.Y8G("ngForOf",n.pages),e.R7$(),e.Y8G("ngIf",t.directionLinks)}}let D=(()=>{class a{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new e.bkB,this._directionLinks=!0,this._autoHide=!1}get directionLinks(){return this._directionLinks}set directionLinks(t){this._directionLinks=!!t&&"false"!==t}get autoHide(){return this._autoHide}set autoHide(t){this._autoHide=!!t&&"false"!==t}static#e=this.\u0275fac=function(n){return new(n||a)};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["abp-pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide"},outputs:{pageChange:"pageChange"},decls:4,vars:3,consts:[["p","paginationApi"],[3,"pageChange","id","maxSize"],["class","pagination m-0",4,"ngIf"],[1,"pagination","m-0"],["class","page-item",3,"disabled",4,"ngIf"],["class","page-item",3,"active","z-index",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","href","javascript:;",3,"click",4,"ngIf"],["class","page-link","href","javascript:;",4,"ngIf"],["href","javascript:;",1,"page-link",3,"click"],[1,"fas","fa-chevron-left"],["href","javascript:;",1,"page-link"],[1,"fas","fa-chevron-right"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"pagination-template",1,0),e.bIt("pageChange",function(r){return e.eBV(i),e.Njj(o.pageChange.emit(r))}),e.j41(2,"nav"),e.DNE(3,Jt,4,3,"ul",2),e.k0s()()}if(2&n){const i=e.sdS(1);e.Y8G("id",o.id)("maxSize",o.maxSize),e.R7$(3),e.Y8G("ngIf",!(o.autoHide&&i.pages.length<=1))}},dependencies:[p.Sq,p.bT,T.Qr],encapsulation:2})}return a})(),M=(()=>{class a{constructor(t){this._element=t}set busy(t){this.refreshState(t)}refreshState(t){void 0!==t&&(t?abp.ui.setBusy(this._element.nativeElement):abp.ui.clearBusy(this._element.nativeElement))}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.aKT))};static#o=this.\u0275dir=e.FsC({type:a,selectors:[["","busy",""]],inputs:{busy:"busy"}})}return a})();const xt=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function Lt(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",35)(1,"div",20)(2,"form",36)(3,"div",2)(4,"div",10)(5,"div",37)(6,"label",38),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",39)(10,"div",40)(11,"input",41),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.isActive,o)||(i.isActive=o),e.Njj(o)}),e.k0s(),e.j41(12,"label",42),e.EFF(13),e.nI1(14,"localize"),e.k0s()(),e.j41(15,"div",43)(16,"input",44),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.isActive,o)||(i.isActive=o),e.Njj(o)}),e.k0s(),e.j41(17,"label",45),e.EFF(18),e.nI1(19,"localize"),e.k0s()(),e.j41(20,"div",40)(21,"input",46),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.isActive,o)||(i.isActive=o),e.Njj(o)}),e.k0s(),e.j41(22,"label",47),e.EFF(23),e.nI1(24,"localize"),e.k0s()()()()()()()(),e.j41(25,"div",48)(26,"button",13),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(27),e.nI1(28,"localize"),e.k0s(),e.j41(29,"button",49),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(30),e.nI1(31,"localize"),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(7),e.SpI(" ",e.bMT(8,12,"IsActive")," "),e.R7$(4),e.R50("ngModel",t.isActive),e.Y8G("value",void 0),e.R7$(2),e.SpI(" ",e.bMT(14,14,"All")," "),e.R7$(3),e.R50("ngModel",t.isActive),e.Y8G("value",!0),e.R7$(2),e.SpI(" ",e.bMT(19,16,"Yes")," "),e.R7$(3),e.R50("ngModel",t.isActive),e.Y8G("value",!1),e.R7$(2),e.SpI(" ",e.bMT(24,18,"No")," "),e.R7$(4),e.SpI(" ",e.bMT(28,20,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(31,22,"Clear")," ")}}function Zt(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"div",50),e.nrm(9,"input",51)(10,"label",52),e.k0s()(),e.j41(11,"td")(12,"button",53),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.editUser(o))}),e.nrm(13,"i",54),e.EFF(14),e.nI1(15,"localize"),e.k0s(),e.j41(16,"button",55),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.delete(o))}),e.nrm(17,"i",56),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.j41(20,"button",53),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.resetPassword(o))}),e.nrm(21,"i",57),e.EFF(22),e.nI1(23,"localize"),e.k0s()()()}if(2&a){const t=d.$implicit;e.R7$(2),e.JRh(t.userName),e.R7$(2),e.JRh(t.fullName),e.R7$(2),e.JRh(t.emailAddress),e.R7$(3),e.Y8G("checked",t.isActive),e.R7$(5),e.SpI(" ",e.bMT(15,7,"Edit")," "),e.R7$(4),e.SpI(" ",e.bMT(19,9,"Delete")," "),e.R7$(4),e.SpI(" ",e.bMT(23,11,"ResetPassword")," ")}}let Wt=(()=>{class a extends A{constructor(t,n,o,i){super(t),this._userService=n,this._sessionService=o,this._modalService=i,this.users=[],this.keyword="",this.advancedFiltersVisible=!1}getCurUserId(){return abp.session.userId}createUser(){this.showCreateOrEditUserDialog()}editUser(t){this.showCreateOrEditUserDialog(t.id)}resetPassword(t){this.showResetPasswordUserDialog(t.id)}clearFilters(){this.keyword="",this.isActive=void 0,this.getDataPage(1)}list(t,n,o){t.keyword=this.keyword,t.isActive=this.isActive,this._userService.getAll(t.keyword,t.isActive,t.skipCount,t.maxResultCount).pipe((0,y.j)(()=>{o()})).subscribe(i=>{this.users=i.items,this.showPaging(i,n)})}delete(t){abp.message.confirm(this.l("UserDeleteWarningMessage",t.fullName),void 0,n=>{n&&this._userService.delete(t.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}showResetPasswordUserDialog(t){this._modalService.show(Bt,{class:"modal-lg",initialState:{id:t}})}showCreateOrEditUserDialog(t){let n;n=t?this._modalService.show(Nt,{class:"modal-lg",initialState:{id:t}}):this._modalService.show(Qo,{class:"modal-lg"}),n.content.onSave.subscribe(()=>{this.refresh()})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.LC),e.rXU(c.ci),e.rXU(f.I8))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:65,vars:44,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"form-horizontal"],[1,"form-group","row","mb-0"],[1,"col-md-3","col-form-label"],[1,"col-md-9","pt-2"],[1,"custom-control","custom-radio","d-inline"],["type","radio","id","isActiveAll","name","isActive","checked","",1,"custom-control-input",3,"ngModelChange","ngModel","value"],["for","isActiveAll",1,"custom-control-label"],[1,"custom-control","custom-radio","d-inline","mx-3"],["type","radio","id","isActiveActive","name","isActive",1,"custom-control-input",3,"ngModelChange","ngModel","value"],["for","isActiveActive",1,"custom-control-label"],["type","radio","id","isActivePassive","name","isActive",1,"custom-control-input",3,"ngModelChange","ngModel","value"],["for","isActivePassive",1,"custom-control-label"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],[1,"custom-control","custom-checkbox"],["type","checkbox","disabled","",1,"custom-control-input",3,"checked"],[1,"custom-control-label"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"],[1,"fas","fa-lock"]],template:function(n,o){1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createUser()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,Lt,32,24,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th"),e.EFF(45),e.nI1(46,"localize"),e.k0s(),e.j41(47,"th",24),e.EFF(48),e.nI1(49,"localize"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,Zt,24,13,"tr",25),e.nI1(52,"paginate"),e.k0s()()()(),e.j41(53,"div",26)(54,"div",2)(55,"div",27)(56,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(57,"i",29),e.k0s()(),e.j41(58,"div",30)(59,"p",31),e.EFF(60),e.nI1(61,"localize"),e.k0s()(),e.j41(62,"div",32)(63,"div",33)(64,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&n&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,18,"Users")),e.R7$(5),e.SpI(" ",e.bMT(12,20,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,22,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,24,"UserName")),e.R7$(3),e.JRh(e.bMT(40,26,"FullName")),e.R7$(3),e.JRh(e.bMT(43,28,"EmailAddress")),e.R7$(3),e.JRh(e.bMT(46,30,"IsActive")),e.R7$(3),e.JRh(e.bMT(49,32,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(52,34,o.users,e.sMw(40,xt,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(61,37,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.qT,l.me,l.Fm,l.BC,l.cb,l.vS,l.cV,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})(),Qt=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._tenantService=n,this.bsModalRef=o,this.saving=!1,this.tenant=new c.GB,this.onSave=new e.bkB}ngOnInit(){this.tenant.isActive=!0}save(){this.saving=!0,this._tenantService.create(this.tenant).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()},()=>{this.saving=!1})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.nR),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:50,vars:35,consts:[["createTenantForm","ngForm"],["tenancyNameModel","ngModel","tenancyNameEl",""],["nameModel","ngModel","nameEl",""],["adminEmailAddressModel","ngModel","adminEmailAddressEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","tenancyName",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","tenancyName","id","tenancyName","minlength","2","maxlength","64","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","name",1,"col-md-3","col-form-label"],["type","text","name","name","id","name","maxlength","128","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row"],["for","connectionString",1,"col-md-3","col-form-label"],["type","text","name","connectionString","id","connectionString","maxlength","1024",1,"form-control",3,"ngModelChange","ngModel"],["for","adminEmailAddress",1,"col-md-3","col-form-label"],["type","email","name","adminEmailAddress","id","adminEmailAddress","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{1,})+$","maxlength","256","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row","mb-0"],[1,"col-md-3","col-form-label"],[1,"custom-control","custom-checkbox"],["type","checkbox","name","isActive","id","isActive",1,"custom-control-input",3,"ngModelChange","ngModel"],["for","isActive",1,"custom-control-label","mt-2"],[1,"text-center","text-info","mb-0"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",4,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",5),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",6)(5,"div",7)(6,"label",8),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",9)(10,"input",10,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.tenant.tenancyName,r)||(o.tenant.tenancyName=r),e.Njj(r)}),e.k0s(),e.nrm(13,"abp-validation-summary",11),e.k0s()(),e.j41(14,"div",7)(15,"label",12),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.j41(18,"div",9)(19,"input",13,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.tenant.name,r)||(o.tenant.name=r),e.Njj(r)}),e.k0s(),e.nrm(22,"abp-validation-summary",11),e.k0s()(),e.j41(23,"div",14)(24,"label",15),e.EFF(25),e.nI1(26,"localize"),e.k0s(),e.j41(27,"div",9)(28,"input",16),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.tenant.connectionString,r)||(o.tenant.connectionString=r),e.Njj(r)}),e.k0s()()(),e.j41(29,"div",7)(30,"label",17),e.EFF(31),e.nI1(32,"localize"),e.k0s(),e.j41(33,"div",9)(34,"input",18,3),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.tenant.adminEmailAddress,r)||(o.tenant.adminEmailAddress=r),e.Njj(r)}),e.k0s(),e.nrm(37,"abp-validation-summary",11),e.k0s()(),e.j41(38,"div",19)(39,"label",20),e.EFF(40),e.nI1(41,"localize"),e.k0s(),e.j41(42,"div",9)(43,"div",21)(44,"input",22),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.tenant.isActive,r)||(o.tenant.isActive=r),e.Njj(r)}),e.k0s(),e.nrm(45,"label",23),e.k0s()()(),e.j41(46,"p",24),e.EFF(47),e.nI1(48,"localize"),e.k0s()(),e.j41(49,"abp-modal-footer",25),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1),s=e.sdS(11),r=e.sdS(12),u=e.sdS(20),b=e.sdS(21),g=e.sdS(35),C=e.sdS(36);e.R7$(2),e.Y8G("title",e.bMT(3,20,"CreateNewTenant")),e.R7$(5),e.SpI(" ",e.bMT(8,22,"TenancyName")," "),e.R7$(3),e.R50("ngModel",o.tenant.tenancyName),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(17,24,"Name")," "),e.R7$(3),e.R50("ngModel",o.tenant.name),e.R7$(3),e.Y8G("control",u)("controlEl",b),e.R7$(3),e.SpI(" ",e.bMT(26,26,"DatabaseConnectionString")," "),e.R7$(3),e.R50("ngModel",o.tenant.connectionString),e.R7$(3),e.SpI(" ",e.bMT(32,28,"AdminEmailAddress")," "),e.R7$(3),e.R50("ngModel",o.tenant.adminEmailAddress),e.R7$(3),e.Y8G("control",g)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(41,30,"IsActive")," "),e.R7$(4),e.R50("ngModel",o.tenant.isActive),e.R7$(3),e.SpI(" ",e.i5U(48,32,"DefaultPasswordIs","123qwe")," "),e.R7$(2),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.me,l.Zm,l.BC,l.cb,l.YS,l.xh,l.tU,l.R_,l.vS,l.cV,S.e,F.x,k.z,m.S],encapsulation:2})}return a})(),Kt=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._tenantService=n,this.bsModalRef=o,this.saving=!1,this.tenant=new c.su,this.onSave=new e.bkB}ngOnInit(){this._tenantService.get(this.id).subscribe(t=>{this.tenant=t})}save(){this.saving=!0,this._tenantService.update(this.tenant).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()},()=>{this.saving=!1})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.nR),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:32,vars:21,consts:[["editTenantForm","ngForm"],["tenancyNameModel","ngModel","tenancyNameEl",""],["nameModel","ngModel","nameEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","tenancyName",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","tenancyName","id","tenancyName","minlength","2","maxlength","64","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","name",1,"col-md-3","col-form-label"],["type","text","name","name","id","name","maxlength","128","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row","mb-0"],[1,"col-md-3","col-form-label"],[1,"custom-control","custom-checkbox"],["type","checkbox","name","isActive","id","isActive",1,"custom-control-input",3,"ngModelChange","ngModel"],["for","isActive",1,"custom-control-label","mt-2"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",4),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",5)(5,"div",6)(6,"label",7),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",8)(10,"input",9,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.tenant.tenancyName,r)||(o.tenant.tenancyName=r),e.Njj(r)}),e.k0s(),e.nrm(13,"abp-validation-summary",10),e.k0s()(),e.j41(14,"div",6)(15,"label",11),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.j41(18,"div",8)(19,"input",12,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.tenant.name,r)||(o.tenant.name=r),e.Njj(r)}),e.k0s(),e.nrm(22,"abp-validation-summary",10),e.k0s()(),e.j41(23,"div",13)(24,"label",14),e.EFF(25),e.nI1(26,"localize"),e.k0s(),e.j41(27,"div",8)(28,"div",15)(29,"input",16),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.tenant.isActive,r)||(o.tenant.isActive=r),e.Njj(r)}),e.k0s(),e.nrm(30,"label",17),e.k0s()()()(),e.j41(31,"abp-modal-footer",18),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1),s=e.sdS(11),r=e.sdS(12),u=e.sdS(20),b=e.sdS(21);e.R7$(2),e.Y8G("title",e.bMT(3,13,"EditTenant")),e.R7$(5),e.SpI(" ",e.bMT(8,15,"TenancyName")," "),e.R7$(3),e.R50("ngModel",o.tenant.tenancyName),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(17,17,"Name")," "),e.R7$(3),e.R50("ngModel",o.tenant.name),e.R7$(3),e.Y8G("control",u)("controlEl",b),e.R7$(3),e.SpI(" ",e.bMT(26,19,"IsActive")," "),e.R7$(4),e.R50("ngModel",o.tenant.isActive),e.R7$(2),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.me,l.Zm,l.BC,l.cb,l.YS,l.xh,l.tU,l.vS,l.cV,S.e,F.x,k.z,m.S],encapsulation:2})}return a})();const en=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function on(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",35)(1,"div",20)(2,"form",36)(3,"div",2)(4,"div",10)(5,"div",37)(6,"label",38),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",39)(10,"div",40)(11,"input",41),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.isActive,o)||(i.isActive=o),e.Njj(o)}),e.k0s(),e.j41(12,"label",42),e.EFF(13),e.nI1(14,"localize"),e.k0s()(),e.j41(15,"div",43)(16,"input",44),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.isActive,o)||(i.isActive=o),e.Njj(o)}),e.k0s(),e.j41(17,"label",45),e.EFF(18),e.nI1(19,"localize"),e.k0s()(),e.j41(20,"div",40)(21,"input",46),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.isActive,o)||(i.isActive=o),e.Njj(o)}),e.k0s(),e.j41(22,"label",47),e.EFF(23),e.nI1(24,"localize"),e.k0s()()()()()()()(),e.j41(25,"div",48)(26,"button",13),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(27),e.nI1(28,"localize"),e.k0s(),e.j41(29,"button",49),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(30),e.nI1(31,"localize"),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(7),e.SpI(" ",e.bMT(8,12,"IsActive")," "),e.R7$(4),e.R50("ngModel",t.isActive),e.Y8G("value",void 0),e.R7$(2),e.SpI(" ",e.bMT(14,14,"All")," "),e.R7$(3),e.R50("ngModel",t.isActive),e.Y8G("value",!0),e.R7$(2),e.SpI(" ",e.bMT(19,16,"Yes")," "),e.R7$(3),e.R50("ngModel",t.isActive),e.Y8G("value",!1),e.R7$(2),e.SpI(" ",e.bMT(24,18,"No")," "),e.R7$(4),e.SpI(" ",e.bMT(28,20,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(31,22,"Clear")," ")}}function tn(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"div",50),e.nrm(7,"input",51)(8,"label",52),e.k0s()(),e.j41(9,"td")(10,"button",53),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.editTenant(o))}),e.nrm(11,"i",54),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"button",55),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.delete(o))}),e.nrm(15,"i",56),e.EFF(16),e.nI1(17,"localize"),e.k0s()()()}if(2&a){const t=d.$implicit;e.R7$(2),e.JRh(t.tenancyName),e.R7$(2),e.JRh(t.name),e.R7$(3),e.Y8G("checked",t.isActive),e.R7$(5),e.SpI(" ",e.bMT(13,5,"Edit")," "),e.R7$(4),e.SpI(" ",e.bMT(17,7,"Delete")," ")}}let nn=(()=>{class a extends A{constructor(t,n,o){super(t),this._tenantService=n,this._modalService=o,this.tenants=[],this.keyword="",this.advancedFiltersVisible=!1}list(t,n,o){t.keyword=this.keyword,t.isActive=this.isActive,this._tenantService.getAll(t.keyword,t.isActive,t.skipCount,t.maxResultCount).pipe((0,y.j)(()=>{o()})).subscribe(i=>{this.tenants=i.items,this.showPaging(i,n)})}delete(t){abp.message.confirm(this.l("TenantDeleteWarningMessage",t.name),void 0,n=>{n&&this._tenantService.delete(t.id).pipe((0,y.j)(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})).subscribe(()=>{})})}createTenant(){this.showCreateOrEditTenantDialog()}editTenant(t){this.showCreateOrEditTenantDialog(t.id)}showCreateOrEditTenantDialog(t){let n;n=t?this._modalService.show(Kt,{class:"modal-lg",initialState:{id:t}}):this._modalService.show(Qt,{class:"modal-lg"}),n.content.onSave.subscribe(()=>{this.refresh()})}clearFilters(){this.keyword="",this.isActive=void 0,this.getDataPage(1)}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.nR),e.rXU(f.I8))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:62,vars:41,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","200px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"form-horizontal"],[1,"form-group","row","mb-0"],[1,"col-md-3","col-form-label"],[1,"col-md-9","pt-2"],[1,"custom-control","custom-radio","d-inline"],["type","radio","id","isActiveAll","name","isActive","checked","",1,"custom-control-input",3,"ngModelChange","ngModel","value"],["for","isActiveAll",1,"custom-control-label"],[1,"custom-control","custom-radio","d-inline","mx-3"],["type","radio","id","isActiveActive","name","isActive",1,"custom-control-input",3,"ngModelChange","ngModel","value"],["for","isActiveActive",1,"custom-control-label"],["type","radio","id","isActivePassive","name","isActive",1,"custom-control-input",3,"ngModelChange","ngModel","value"],["for","isActivePassive",1,"custom-control-label"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],[1,"custom-control","custom-checkbox"],["type","checkbox","disabled","",1,"custom-control-input",3,"checked"],[1,"custom-control-label"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createTenant()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,on,32,24,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th",24),e.EFF(45),e.nI1(46,"localize"),e.k0s()()(),e.j41(47,"tbody"),e.DNE(48,tn,18,9,"tr",25),e.nI1(49,"paginate"),e.k0s()()()(),e.j41(50,"div",26)(51,"div",2)(52,"div",27)(53,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(54,"i",29),e.k0s()(),e.j41(55,"div",30)(56,"p",31),e.EFF(57),e.nI1(58,"localize"),e.k0s()(),e.j41(59,"div",32)(60,"div",33)(61,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&n&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,17,"Tenants")),e.R7$(5),e.SpI(" ",e.bMT(12,19,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,21,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,23,"TenancyName")),e.R7$(3),e.JRh(e.bMT(40,25,"Name")),e.R7$(3),e.JRh(e.bMT(43,27,"IsActive")),e.R7$(3),e.JRh(e.bMT(46,29,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(49,31,o.tenants,e.sMw(37,en,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(58,34,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.qT,l.me,l.Fm,l.BC,l.cb,l.vS,l.cV,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();function an(a,d){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"div",19)(2,"div",20)(3,"input",21),e.bIt("change",function(o){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onPermissionChange(i,o))}),e.k0s(),e.j41(4,"label",22),e.EFF(5),e.k0s()()(),e.bVm()}if(2&a){const t=d.$implicit,n=d.index,o=e.XpG();e.R7$(3),e.Y8G("id","permission_"+n)("checked",o.isPermissionChecked(t.name)),e.R7$(),e.Y8G("for","permission_"+n),e.R7$(),e.SpI(" ",t.displayName," ")}}let sn=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._roleService=n,this.bsModalRef=o,this.saving=!1,this.role=new c.GP,this.permissions=[],this.checkedPermissionsMap={},this.defaultPermissionCheckedStatus=!0,this.onSave=new e.bkB}ngOnInit(){this._roleService.getAllPermissions().subscribe(t=>{this.permissions=t.items,this.setInitialPermissionsStatus()})}setInitialPermissionsStatus(){Z(this.permissions,t=>{this.checkedPermissionsMap[t.name]=this.isPermissionChecked(t.name)})}isPermissionChecked(t){return this.defaultPermissionCheckedStatus}onPermissionChange(t,n){this.checkedPermissionsMap[t.name]=n.target.checked}getCheckedPermissions(){const t=[];return W(this.checkedPermissionsMap,function(n,o){n&&t.push(o)}),t}save(){this.saving=!0;const t=new c.St;t.init(this.role),t.grantedPermissions=this.getCheckedPermissions(),this._roleService.create(t).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()},()=>{this.saving=!1})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.Ge),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:38,vars:28,consts:[["createRoleForm","ngForm"],["nameModel","ngModel","nameEl",""],["displayNameModel","ngModel","displayNameEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],[1,"form-group","row","required"],["for","name",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","name","id","name","required","","minlength","2","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","displayName",1,"col-md-3","col-form-label"],["type","text","name","displayName","id","displayName","required","","minlength","2","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row","mb-0"],["for","description",1,"col-md-3","col-form-label"],["type","text","name","description","id","description",1,"form-control",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[1,"col-md-6"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"change","id","checked"],[1,"custom-control-label",3,"for"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",4),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",5)(5,"tabset")(6,"tab",6),e.nI1(7,"localize"),e.j41(8,"div",7)(9,"label",8),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"div",9)(13,"input",10,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.role.name,r)||(o.role.name=r),e.Njj(r)}),e.k0s(),e.nrm(16,"abp-validation-summary",11),e.k0s()(),e.j41(17,"div",7)(18,"label",12),e.EFF(19),e.nI1(20,"localize"),e.k0s(),e.j41(21,"div",9)(22,"input",13,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.role.displayName,r)||(o.role.displayName=r),e.Njj(r)}),e.k0s(),e.nrm(25,"abp-validation-summary",11),e.k0s()(),e.j41(26,"div",14)(27,"label",15),e.EFF(28),e.nI1(29,"localize"),e.k0s(),e.j41(30,"div",9)(31,"textarea",16),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.role.description,r)||(o.role.description=r),e.Njj(r)}),e.EFF(32,"            "),e.k0s()()()(),e.j41(33,"tab",6),e.nI1(34,"localize"),e.j41(35,"div",14),e.DNE(36,an,6,4,"ng-container",17),e.k0s()()()(),e.j41(37,"abp-modal-footer",18),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1),s=e.sdS(14),r=e.sdS(15),u=e.sdS(23),b=e.sdS(24);e.R7$(2),e.Y8G("title",e.bMT(3,16,"CreateNewRole")),e.R7$(4),e.Y8G("heading",e.bMT(7,18,"Details")),e.R7$(4),e.SpI(" ",e.bMT(11,20,"Name")," "),e.R7$(3),e.R50("ngModel",o.role.name),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(20,22,"DisplayName")," "),e.R7$(3),e.R50("ngModel",o.role.displayName),e.R7$(3),e.Y8G("control",u)("controlEl",b),e.R7$(3),e.SpI(" ",e.bMT(29,24,"RoleDescription")," "),e.R7$(3),e.R50("ngModel",o.role.description),e.R7$(2),e.Y8G("heading",e.bMT(34,26,"Permissions")),e.R7$(3),e.Y8G("ngForOf",o.permissions),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.me,l.BC,l.cb,l.YS,l.xh,l.tU,l.vS,l.cV,I.V6,I.fw,S.e,F.x,k.z,m.S],encapsulation:2})}return a})();function rn(a,d){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"div",19)(2,"div",20)(3,"input",21),e.bIt("change",function(o){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onPermissionChange(i,o))}),e.k0s(),e.j41(4,"label",22),e.EFF(5),e.k0s()()(),e.bVm()}if(2&a){const t=d.$implicit,n=d.index,o=e.XpG();e.R7$(3),e.Y8G("id","permission_"+n)("checked",o.isPermissionChecked(t.name))("disabled",o.role.isStatic),e.R7$(),e.Y8G("for","permission_"+n),e.R7$(),e.SpI(" ",t.displayName," ")}}let ln=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._roleService=n,this.bsModalRef=o,this.saving=!1,this.role=new c.Ae,this.checkedPermissionsMap={},this.onSave=new e.bkB}ngOnInit(){this._roleService.getRoleForEdit(this.id).subscribe(t=>{this.role=t.role,this.permissions=t.permissions,this.grantedPermissionNames=t.grantedPermissionNames,this.setInitialPermissionsStatus()})}setInitialPermissionsStatus(){Z(this.permissions,t=>{this.checkedPermissionsMap[t.name]=this.isPermissionChecked(t.name)})}isPermissionChecked(t){return je(this.grantedPermissionNames,t)}onPermissionChange(t,n){this.checkedPermissionsMap[t.name]=n.target.checked}getCheckedPermissions(){const t=[];return W(this.checkedPermissionsMap,function(n,o){n&&t.push(o)}),t}save(){this.saving=!0;const t=new c.GP;t.init(this.role),t.grantedPermissions=this.getCheckedPermissions(),this._roleService.update(t).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()},()=>{this.saving=!1})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.Ge),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:38,vars:28,consts:[["editRoleForm","ngForm"],["nameModel","ngModel","nameEl",""],["displayNameModel","ngModel","displayNameEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],[1,"form-group","row","required"],["for","name",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","name","id","name","required","","minlength","2","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","displayName",1,"col-md-3","col-form-label"],["type","text","name","displayName","id","displayName","required","","minlength","2","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row","mb-0"],["for","description",1,"col-md-3","col-form-label"],["type","text","name","description","id","description",1,"form-control",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[1,"col-md-6"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"change","id","checked","disabled"],[1,"custom-control-label",3,"for"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",4),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",5)(5,"tabset")(6,"tab",6),e.nI1(7,"localize"),e.j41(8,"div",7)(9,"label",8),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"div",9)(13,"input",10,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.role.name,r)||(o.role.name=r),e.Njj(r)}),e.k0s(),e.nrm(16,"abp-validation-summary",11),e.k0s()(),e.j41(17,"div",7)(18,"label",12),e.EFF(19),e.nI1(20,"localize"),e.k0s(),e.j41(21,"div",9)(22,"input",13,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.role.displayName,r)||(o.role.displayName=r),e.Njj(r)}),e.k0s(),e.nrm(25,"abp-validation-summary",11),e.k0s()(),e.j41(26,"div",14)(27,"label",15),e.EFF(28),e.nI1(29,"localize"),e.k0s(),e.j41(30,"div",9)(31,"textarea",16),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.role.description,r)||(o.role.description=r),e.Njj(r)}),e.EFF(32,"            "),e.k0s()()()(),e.j41(33,"tab",6),e.nI1(34,"localize"),e.j41(35,"div",14),e.DNE(36,rn,6,5,"ng-container",17),e.k0s()()()(),e.j41(37,"abp-modal-footer",18),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1),s=e.sdS(14),r=e.sdS(15),u=e.sdS(23),b=e.sdS(24);e.R7$(2),e.Y8G("title",e.bMT(3,16,"EditRole")),e.R7$(4),e.Y8G("heading",e.bMT(7,18,"Details")),e.R7$(4),e.SpI(" ",e.bMT(11,20,"Name")," "),e.R7$(3),e.R50("ngModel",o.role.name),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(20,22,"DisplayName")," "),e.R7$(3),e.R50("ngModel",o.role.displayName),e.R7$(3),e.Y8G("control",u)("controlEl",b),e.R7$(3),e.SpI(" ",e.bMT(29,24,"RoleDescription")," "),e.R7$(3),e.R50("ngModel",o.role.description),e.R7$(2),e.Y8G("heading",e.bMT(34,26,"Permissions")),e.R7$(3),e.Y8G("ngForOf",o.permissions),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.me,l.BC,l.cb,l.YS,l.xh,l.tU,l.vS,l.cV,I.V6,I.fw,S.e,F.x,k.z,m.S],encapsulation:2})}return a})();const dn=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function cn(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"button",31),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.editRole(o))}),e.nrm(7,"i",32),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"button",33),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.delete(o))}),e.nrm(11,"i",34),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){const t=d.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.displayName),e.R7$(4),e.SpI(" ",e.bMT(9,4,"Edit")," "),e.R7$(4),e.SpI(" ",e.bMT(13,6,"Delete")," ")}}let un=(()=>{class a extends A{constructor(t,n,o){super(t),this._rolesService=n,this._modalService=o,this.roles=[],this.keyword=""}list(t,n,o){t.keyword=this.keyword,this._rolesService.getAll(t.keyword,t.skipCount,t.maxResultCount).pipe((0,y.j)(()=>{o()})).subscribe(i=>{this.roles=i.items,this.showPaging(i,n)})}delete(t){abp.message.confirm(this.l("RoleDeleteWarningMessage",t.displayName),void 0,n=>{n&&this._rolesService.delete(t.id).pipe((0,y.j)(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})).subscribe(()=>{})})}createRole(){this.showCreateOrEditRoleDialog()}editRole(t){this.showCreateOrEditRoleDialog(t.id)}showCreateOrEditRoleDialog(t){let n;n=t?this._modalService.show(ln,{class:"modal-lg",initialState:{id:t}}):this._modalService.show(sn,{class:"modal-lg"}),n.content.onSave.subscribe(()=>{this.refresh()})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.Ge),e.rXU(f.I8))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:55,vars:33,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","200px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createRole()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s()()()()(),e.j41(26,"div",16)(27,"div",17)(28,"table",18)(29,"thead",19)(30,"tr")(31,"th"),e.EFF(32),e.nI1(33,"localize"),e.k0s(),e.j41(34,"th"),e.EFF(35),e.nI1(36,"localize"),e.k0s(),e.j41(37,"th",20),e.EFF(38),e.nI1(39,"localize"),e.k0s()()(),e.j41(40,"tbody"),e.DNE(41,cn,14,8,"tr",21),e.nI1(42,"paginate"),e.k0s()()()(),e.j41(43,"div",22)(44,"div",2)(45,"div",23)(46,"button",24),e.bIt("click",function(){return o.refresh()}),e.nrm(47,"i",25),e.k0s()(),e.j41(48,"div",26)(49,"p",27),e.EFF(50),e.nI1(51,"localize"),e.k0s()(),e.j41(52,"div",28)(53,"div",29)(54,"abp-pagination-controls",30),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&n&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,11,"Roles")),e.R7$(5),e.SpI(" ",e.bMT(12,13,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,15,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(33,17,"RoleName")),e.R7$(3),e.JRh(e.bMT(36,19,"DisplayName")),e.R7$(3),e.JRh(e.bMT(39,21,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(42,23,o.roles,e.sMw(29,dn,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(51,26,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,l.me,l.BC,l.vS,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})(),B=(()=>{class a extends _.q{constructor(t){super(t)}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["custom-form-base"]],inputs:{disabled:"disabled"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return a})();const Re=()=>[];function pn(a,d){if(1&a&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.nome)}}function mn(a,d){if(1&a&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.nome)}}function hn(a,d){if(1&a&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.nome)}}let Se=(()=>{class a extends B{get paisId(){return this._paisId?.toString()??""}set paisId(t){if(null!=t&&t.length>0){let n=Number(t);n!=this._paisId&&(this.ufId=void 0),this._paisId=n}else this._paisId=void 0,this.ufId=void 0}get ufId(){return this._ufId?.toString()??""}set ufId(t){if(null!=t&&t.length>0){let n=Number(t);n!=this._ufId&&(this.pessoa.endereco_CidadeId=void 0),this._ufId=n}else this._ufId=void 0,this.pessoa.endereco_CidadeId=void 0}get cidadeId(){return this.pessoa?.endereco_CidadeId?.toString()??""}set cidadeId(t){var n=Number(t);Number.isNaN(n)&&(n=void 0),this.pessoa.endereco_CidadeId=n}constructor(t,n,o){super(t),this._paisService=n,this._changeDetector=o,this.paises=[],this.ufsByPais={},this.ufs=[],this.cidadesByUF={},this.cidades=[]}ngOnInit(){this._paisService.getAllPaises().subscribe(t=>{console.log(t),t.forEach(n=>{this.paises.push(n),this.ufsByPais[n.id]=[]}),this._paisService.getAllUnidadesFederais(void 0).subscribe(n=>{this.ufs=n,n.forEach(o=>{this.ufsByPais[o.paisId].push(o),this.cidadesByUF[o.id]=[]}),this._paisService.getAllCidades(void 0,void 0).subscribe(o=>{if(this.cidades=o,o.forEach(i=>{this.cidadesByUF[i.ufId].push(i)}),null!=this.pessoa?.endereco_CidadeId){let i=o.find(s=>s.id==this.pessoa.endereco_CidadeId);null!=i&&(this._ufId=i.ufId,this._paisId=n.find(s=>s.id==this._ufId).paisId)}this._changeDetector.detectChanges()})})})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.B5),e.rXU(e.gRc))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["endereco-form"]],inputs:{pessoa:"pessoa"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:60,vars:52,consts:[["linha1Model","ngModel","linha1El",""],["bairroModel","ngModel","bairroEl",""],["cidadeModel","ngModel","cidadeEl",""],["ufModel","ngModel","ufEl",""],["paisModel","ngModel","paisEl",""],[1,"form-group","row"],["for","linha1",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","linha1","id","linha1","maxlength","200",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],["for","linha2",1,"col-md-3","col-form-label"],["type","text","name","linha2","id","linha2","maxlength","100",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","bairro",1,"col-md-3","col-form-label"],["type","text","name","bairro","id","bairro","maxlength","100",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"form-group","row",3,"hidden"],["for","cidade",1,"col-md-3","col-form-label"],["id","cidade","name","cidade",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","uf",1,"col-md-3","col-form-label"],["id","uf","name","uf",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","pais",1,"col-md-3","col-form-label"],["id","pais","name","pais",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","cep",1,"col-md-3","col-form-label"],["type","text","name","cep","id","cep","maxlength","9","pattern","[0-9A-Za-z]*",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"div",5)(1,"label",6),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",7)(5,"input",8,0),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.pessoa.endereco_Linha1,r)||(o.pessoa.endereco_Linha1=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",9),e.k0s()(),e.j41(9,"div",5)(10,"label",10),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",7)(14,"input",11),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.pessoa.endereco_Linha2,r)||(o.pessoa.endereco_Linha2=r),e.Njj(r)}),e.k0s()()(),e.j41(15,"div",5)(16,"label",12),e.EFF(17),e.nI1(18,"localize"),e.k0s(),e.j41(19,"div",7)(20,"input",13,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.pessoa.endereco_Bairro,r)||(o.pessoa.endereco_Bairro=r),e.Njj(r)}),e.k0s(),e.nrm(23,"abp-validation-summary",9),e.k0s()(),e.j41(24,"div",14)(25,"label",15),e.EFF(26),e.nI1(27,"localize"),e.k0s(),e.j41(28,"div",7)(29,"select",16,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.cidadeId,r)||(o.cidadeId=r),e.Njj(r)}),e.DNE(32,pn,2,2,"option",17),e.k0s(),e.nrm(33,"abp-validation-summary",9),e.k0s()(),e.j41(34,"div",14)(35,"label",18),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"div",7)(39,"select",19,3),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.ufId,r)||(o.ufId=r),e.Njj(r)}),e.DNE(42,mn,2,2,"option",17),e.k0s(),e.nrm(43,"abp-validation-summary",9),e.k0s()(),e.j41(44,"div",5)(45,"label",20),e.EFF(46),e.nI1(47,"localize"),e.k0s(),e.j41(48,"div",7)(49,"select",21,4),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.paisId,r)||(o.paisId=r),e.Njj(r)}),e.DNE(52,hn,2,2,"option",17),e.k0s(),e.nrm(53,"abp-validation-summary",9),e.k0s()(),e.j41(54,"div",5)(55,"label",22),e.EFF(56),e.nI1(57,"localize"),e.k0s(),e.j41(58,"div",7)(59,"input",23),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.pessoa.endereco_CodigoPostal,r)||(o.pessoa.endereco_CodigoPostal=r),e.Njj(r)}),e.k0s()()()}if(2&n){let i,s,r,u;const b=e.sdS(6),g=e.sdS(7),C=e.sdS(21),E=e.sdS(22),P=e.sdS(30),$=e.sdS(31),G=e.sdS(40),N=e.sdS(41),Y=e.sdS(50),z=e.sdS(51);e.R7$(2),e.SpI(" ",e.bMT(3,36,"Linha 1")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.pessoa.endereco_Linha1),e.R7$(3),e.Y8G("control",b)("controlEl",g),e.R7$(3),e.SpI(" ",e.bMT(12,38,"Linha 2")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.pessoa.endereco_Linha2),e.R7$(3),e.SpI(" ",e.bMT(18,40,"Bairro")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.pessoa.endereco_Bairro),e.R7$(3),e.Y8G("control",C)("controlEl",E),e.R7$(),e.Y8G("hidden",""==(null!==(i=o.paisId)&&void 0!==i?i:"")||""==(null!==(i=o.ufId)&&void 0!==i?i:"")),e.R7$(2),e.SpI(" ",e.bMT(27,42,"Cidade")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.cidadeId),e.R7$(3),e.Y8G("ngForOf",null!==(s=o.cidadesByUF[o.ufId])&&void 0!==s?s:e.lJ4(50,Re)),e.R7$(),e.Y8G("control",P)("controlEl",$),e.R7$(),e.Y8G("hidden",""==(null!==(r=o.paisId)&&void 0!==r?r:"")),e.R7$(2),e.SpI(" ",e.bMT(37,44,"UF")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.ufId),e.R7$(3),e.Y8G("ngForOf",null!==(u=o.ufsByPais[o.paisId])&&void 0!==u?u:e.lJ4(51,Re)),e.R7$(),e.Y8G("control",G)("controlEl",N),e.R7$(3),e.SpI(" ",e.bMT(47,46,"Pais")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.paisId),e.R7$(3),e.Y8G("ngForOf",o.paises),e.R7$(),e.Y8G("control",Y)("controlEl",z),e.R7$(3),e.SpI(" ",e.bMT(57,48,"CEP")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.pessoa.endereco_CodigoPostal)}},dependencies:[p.Sq,l.xH,l.y7,l.me,l.wz,l.BC,l.tU,l.R_,l.vS,S.e,m.S],encapsulation:2})}return a})(),O=(()=>{class a extends B{constructor(t){super(t)}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["endereco-residencia-form"]],inputs:{pessoa:"pessoa"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:1,vars:2,consts:[["ngModelGroup","novoEndereco",3,"pessoa","disabled"]],template:function(n,o){1&n&&e.nrm(0,"endereco-form",0),2&n&&e.Y8G("pessoa",o.pessoa)("disabled",o.disabled)},dependencies:[l.cb,l.Y4,Se],encapsulation:2})}return a})();var V=j(97586);let X=(()=>{class a extends B{get dataNascimento(){return this.pessoa?.dataNascimento?.format("yyyy-MM-DD")??""}set dataNascimento(t){this.pessoa.dataNascimento=""!=t&&null!=t?V(t):void 0}get generoId(){return this.pessoa?.generoId?.toString()??""}set generoId(t){var n=Number(t);Number.isNaN(n)&&(n=void 0),this.pessoa.generoId=n}constructor(t){super(t)}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["info-pessoal-form"]],inputs:{pessoa:"pessoa"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:42,vars:28,consts:[["nomeModel","ngModel","nomeEl",""],["cpfModel","ngModel","cpfEl",""],["generoModel","ngModel","generoEl",""],["dataNascimentoModel","ngModel","dataNascimentoEl",""],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","cpf",1,"col-md-3","col-form-label"],["type","text","name","cpf","id","cpf","maxlength","11",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","genero",1,"col-md-3","col-form-label"],["id","genero","name","genero",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value","1"],["value","2"],["value","3"],["for","dataNascimento",1,"col-md-3","col-form-label"],["type","date","name","dataNascimento","id","dataNascimento",1,"form-control",3,"ngModelChange","disabled","ngModel"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"div",4)(1,"label",5),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",6)(5,"input",7,0),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.pessoa.nome,r)||(o.pessoa.nome=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",8),e.k0s()(),e.j41(9,"div",9)(10,"label",10),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",6)(14,"input",11,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.pessoa.cpf,r)||(o.pessoa.cpf=r),e.Njj(r)}),e.k0s(),e.nrm(17,"abp-validation-summary",8),e.k0s()(),e.j41(18,"div",9)(19,"label",12),e.EFF(20),e.nI1(21,"localize"),e.k0s(),e.j41(22,"div",6)(23,"select",13,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.generoId,r)||(o.generoId=r),e.Njj(r)}),e.j41(26,"option",14),e.EFF(27,"Feminino"),e.k0s(),e.j41(28,"option",15),e.EFF(29,"Masculino"),e.k0s(),e.j41(30,"option",16),e.EFF(31,"N\xe3o-bin\xe1rio"),e.k0s()(),e.nrm(32,"abp-validation-summary",8),e.k0s()(),e.j41(33,"div",9)(34,"label",17),e.EFF(35),e.nI1(36,"localize"),e.k0s(),e.j41(37,"div",6)(38,"input",18,3),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.dataNascimento,r)||(o.dataNascimento=r),e.Njj(r)}),e.k0s(),e.nrm(41,"abp-validation-summary",8),e.k0s()()}if(2&n){const i=e.sdS(6),s=e.sdS(7),r=e.sdS(15),u=e.sdS(16),b=e.sdS(24),g=e.sdS(25),C=e.sdS(39),E=e.sdS(40);e.R7$(2),e.SpI(" ",e.bMT(3,20,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.pessoa.nome),e.R7$(3),e.Y8G("control",i)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,22,"CPF")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.pessoa.cpf),e.R7$(3),e.Y8G("control",r)("controlEl",u),e.R7$(3),e.SpI(" ",e.bMT(21,24,"G\xeanero")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.generoId),e.R7$(9),e.Y8G("control",b)("controlEl",g),e.R7$(3),e.SpI(" ",e.bMT(36,26,"DataDeNascimento")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.dataNascimento),e.R7$(3),e.Y8G("control",C)("controlEl",E)}},dependencies:[l.xH,l.y7,l.me,l.wz,l.BC,l.YS,l.tU,l.vS,S.e,m.S],encapsulation:2})}return a})(),q=(()=>{class a extends B{constructor(t){super(t)}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["info-contato-form"]],inputs:{pessoa:"pessoa"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:27,vars:18,consts:[["emailModel","ngModel","emailEl",""],["telefone1Model","ngModel","telefone1El",""],[1,"form-group","row"],["for","email",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","email","name","email","id","email","maxlength","500",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","telefone1",1,"col-md-3","col-form-label"],["type","tel","name","telefone1","id","telefone1","maxlength","20","pattern","\\+[0-9]*","placeholder","+55 98 9XXXX XXXX",1,"form-control",3,"ngModelChange","ngModel"],["for","telefone2",1,"col-md-3","col-form-label"],["type","tel","name","telefone2","id","telefone2","maxlength","20","pattern","\\+[0-9]*","placeholder","+55 98 9XXXX XXXX",1,"form-control",3,"ngModelChange","ngModel"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"div",2)(1,"label",3),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",4)(5,"input",5,0),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.pessoa.infoContato_Email,r)||(o.pessoa.infoContato_Email=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",6),e.k0s()(),e.j41(9,"div",2)(10,"label",7),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",4)(14,"input",8,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.pessoa.infoContato_Telefone1,r)||(o.pessoa.infoContato_Telefone1=r),e.Njj(r)}),e.k0s(),e.nrm(17,"abp-validation-summary",6),e.k0s()(),e.j41(18,"div",2)(19,"label",9),e.EFF(20),e.nI1(21,"localize"),e.k0s(),e.j41(22,"div",4)(23,"input",10,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.pessoa.infoContato_Telefone2,r)||(o.pessoa.infoContato_Telefone2=r),e.Njj(r)}),e.k0s(),e.nrm(26,"abp-validation-summary",6),e.k0s()()}if(2&n){const i=e.sdS(6),s=e.sdS(7),r=e.sdS(15),u=e.sdS(16);e.R7$(2),e.SpI(" ",e.bMT(3,12,"Email")," "),e.R7$(3),e.R50("ngModel",o.pessoa.infoContato_Email),e.R7$(3),e.Y8G("control",i)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,14,"Telefone 1")," "),e.R7$(3),e.R50("ngModel",o.pessoa.infoContato_Telefone1),e.R7$(3),e.Y8G("control",r)("controlEl",u),e.R7$(3),e.SpI(" ",e.bMT(21,16,"Telefone 2")," "),e.R7$(3),e.R50("ngModel",o.pessoa.infoContato_Telefone2),e.R7$(3),e.Y8G("control",r)("controlEl",u)}},dependencies:[l.me,l.BC,l.tU,l.R_,l.vS,S.e,m.S],encapsulation:2})}return a})(),te=(()=>{class a extends _.q{constructor(t,n){super(t),this.bsModalRef=n,this.saving=!1,this.onSave=new e.bkB,this.saveOrReturn=!1}initEmptyPessoaDto(){}ngOnInit(){this.initEmptyPessoaDto()}_format(){}save(){this.saving=!0,this._format(),this.saveOrReturn?(this.onSave.emit(this.pessoa),this.saving=!1):this.create().subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.onSave.emit(),this.saving=!1,this.bsModalRef.hide()})}printFormStatus(t,n=["infoPessoal","infoContato","enderecoNovo"]){console.log(t.status),console.log(t.errors);for(let o=0;o<n.length;o++)console.log(n[o],t.form.controls[n[o]].errors);console.log(t)}create(){throw"Not Implemented"}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:16,vars:17,consts:[["createPessoaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],["ngModelGroup","infoPessoal",3,"pessoa"],["ngModelGroup","infoContato",3,"pessoa"],["ngModelGroup","endereco",3,"pessoa"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"tabset")(6,"tab",4),e.nI1(7,"localize"),e.nrm(8,"info-pessoal-form",5),e.k0s(),e.j41(9,"tab",4),e.nI1(10,"localize"),e.nrm(11,"info-contato-form",6),e.k0s(),e.j41(12,"tab",4),e.nI1(13,"localize"),e.nrm(14,"endereco-residencia-form",7),e.k0s()()(),e.j41(15,"abp-modal-footer",8),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,9,"CreateNewPessoa")),e.R7$(4),e.Y8G("heading",e.bMT(7,11,"InfoPessoal")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(10,13,"InfoContato")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(13,15,"Endere\xe7oResidencia")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,I.V6,I.fw,F.x,k.z,O,X,q,m.S],encapsulation:2})}return a})();var fn=j(21413);let bn=(()=>{class a extends B{constructor(t){super(t),this.infoPessoalDisabled=!1,this.infoContatoDisabled=!1,this.enderecoDisabled=!1}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["create-responsavel-coluna"]],inputs:{infoPessoalDisabled:"infoPessoalDisabled",infoContatoDisabled:"infoContatoDisabled",enderecoDisabled:"enderecoDisabled",responsavel:"responsavel"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:3,vars:6,consts:[["ngModelGroup","responsavelInfoPessoal",3,"pessoa","disabled"],["ngModelGroup","responsavelInfoContato",3,"pessoa","disabled"],["ngModelGroup","responsavelEndereco",3,"pessoa","disabled"]],template:function(n,o){1&n&&e.nrm(0,"info-pessoal-form",0)(1,"info-contato-form",1)(2,"endereco-residencia-form",2),2&n&&(e.Y8G("pessoa",o.responsavel)("disabled",o.infoPessoalDisabled||o.disabled),e.R7$(),e.Y8G("pessoa",o.responsavel)("disabled",o.infoContatoDisabled||o.disabled),e.R7$(),e.Y8G("pessoa",o.responsavel)("disabled",o.enderecoDisabled||o.disabled))},dependencies:[l.cb,l.Y4,O,X,q],encapsulation:2})}return a})();function _n(a,d){if(1&a&&e.nrm(0,"create-responsavel-coluna",15),2&a){const t=e.XpG();e.Y8G("responsavel",t.responsavel)("disabled",t.temResponsavelPredefinido)}}function gn(a,d){if(1&a&&e.nrm(0,"info-contato-form",16),2&a){const t=e.XpG();e.Y8G("pessoa",t.pessoa)}}let ne=(()=>{class a extends te{get temResponsavelPredefinido(){return this._temResponsavelPredefinido}set temResponsavelPredefinido(t){this._temResponsavelPredefinido=t,t&&(this.semResponsavel=!1)}get semContato(){return this._semContato}set semContato(t){this._semContato=t,t&&(this.pessoa.infoContato_Email=void 0,this.pessoa.infoContato_Telefone1=void 0,this.pessoa.infoContato_Telefone2=void 0)}get semEndereco(){return this._semEndereco}set semEndereco(t){this._semEndereco=t,t&&(this.semResponsavel=!1,this.pessoa.endereco_Linha1=this.responsavel.endereco_Linha1,this.pessoa.endereco_Linha2=this.responsavel.endereco_Linha2,this.pessoa.endereco_Bairro=this.responsavel.endereco_Bairro,this.pessoa.endereco_CidadeId=this.responsavel.endereco_CidadeId,this.pessoa.endereco_CodigoPostal=this.responsavel.endereco_CodigoPostal)}constructor(t,n,o,i){super(t,i),this._alunoService=n,this._responsavelService=o,this.bsModalRef=i,this._temResponsavelPredefinido=!1,this.semResponsavel=!0,this._semContato=!1,this._semEndereco=!1,this.pessoa=new c.P$}ngOnInit(){super.ngOnInit(),this.temResponsavelPredefinido||(this.responsavel=new c.C9)}initEmptyPessoaDto(){this.pessoa=new c.P$,super.initEmptyPessoaDto(),this.pessoa.responsaveis=[]}_format(){}create(){if(this.temResponsavelPredefinido&&this.responsavel instanceof c.I4)this.pessoa.responsaveis=[new c.GO({id:this.responsavel.id})];else{if(this.semResponsavel)return this._alunoService.create(this.pessoa);if(this.responsavel instanceof c.C9){let t=new fn.B;return this._responsavelService.create(this.responsavel).subscribe(n=>{this.pessoa.responsaveis=[new c.GO({id:n.id})],this._alunoService.create(this.pessoa).subscribe(o=>t.next(o))}),t}if(this.responsavel instanceof c.I4)return this.pessoa.responsaveis=[new c.GO({id:this.responsavel.id})],this._alunoService.create(this.pessoa)}}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.o5),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:46,vars:29,consts:[["createAlunoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],["ngModelGroup","infoPessoal",3,"pessoa"],[1,"row","p-1","pb-4"],[1,"col"],["name","hasResponsavel","type","radio",3,"change","disabled","checked"],["ngModelGroup","responsavel",3,"responsavel","disabled",4,"ngIf"],["name","hasContato","type","radio",3,"change","checked"],["ngModelGroup","infoContato",3,"pessoa",4,"ngIf"],["name","hasEndereco","type","radio",3,"change","checked"],["ngModelGroup","endereco",3,"pessoaChange","pessoa"],[3,"onCancelClick","cancelDisabled","saveDisabled"],["ngModelGroup","responsavel",3,"responsavel","disabled"],["ngModelGroup","infoContato",3,"pessoa"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"tabset")(6,"tab",4),e.nI1(7,"localize"),e.nrm(8,"info-pessoal-form",5),e.k0s(),e.j41(9,"tab",4),e.nI1(10,"localize"),e.j41(11,"div",6)(12,"label",7),e.EFF(13,"N\xe3o possui respons\xe1vel"),e.k0s(),e.j41(14,"div",7)(15,"input",8),e.bIt("change",function(r){return e.eBV(i),e.Njj(o.semResponsavel=r.target.checked)}),e.k0s()(),e.j41(16,"label",7),e.EFF(17,"Possui respons\xe1vel"),e.k0s(),e.j41(18,"div",7)(19,"input",8),e.bIt("change",function(r){return e.eBV(i),e.Njj(o.semResponsavel=!r.target.checked)}),e.k0s()()(),e.DNE(20,_n,1,2,"create-responsavel-coluna",9),e.k0s(),e.j41(21,"tab",4),e.nI1(22,"localize"),e.j41(23,"div",6)(24,"label",7),e.EFF(25,"N\xe3o possui contato pr\xf3prio"),e.k0s(),e.j41(26,"div",7)(27,"input",10),e.bIt("change",function(r){return e.eBV(i),e.Njj(o.semContato=r.target.checked)}),e.k0s()(),e.j41(28,"label",7),e.EFF(29,"Possui contato pr\xf3prio"),e.k0s(),e.j41(30,"div",7)(31,"input",10),e.bIt("change",function(r){return e.eBV(i),e.Njj(o.semContato=!r.target.checked)}),e.k0s()()(),e.DNE(32,gn,1,1,"info-contato-form",11),e.k0s(),e.j41(33,"tab",4),e.nI1(34,"localize"),e.j41(35,"div",6)(36,"label",7),e.EFF(37,"Mora com respons\xe1vel"),e.k0s(),e.j41(38,"div",7)(39,"input",12),e.bIt("change",function(r){return e.eBV(i),e.Njj(o.semEndereco=r.target.checked)}),e.k0s()(),e.j41(40,"label",7),e.EFF(41,"Mora em outro endere\xe7o"),e.k0s(),e.j41(42,"div",7)(43,"input",12),e.bIt("change",function(r){return e.eBV(i),e.Njj(o.semEndereco=!r.target.checked)}),e.k0s()()(),e.j41(44,"endereco-residencia-form",13),e.mxI("pessoaChange",function(r){return e.eBV(i),e.DH7(o.pessoa,r)||(o.pessoa=r),e.Njj(r)}),e.k0s()()()(),e.j41(45,"abp-modal-footer",14),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,19,"CreateNewAluno")),e.R7$(4),e.Y8G("heading",e.bMT(7,21,"InfoPessoal")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(10,23,"Responsavel")),e.R7$(6),e.Y8G("disabled",o.temResponsavelPredefinido)("checked",o.semResponsavel),e.R7$(4),e.Y8G("disabled",o.temResponsavelPredefinido)("checked",!o.semResponsavel),e.R7$(),e.Y8G("ngIf",!o.semResponsavel),e.R7$(),e.Y8G("heading",e.bMT(22,25,"InfoContato")),e.R7$(6),e.Y8G("checked",o.semContato),e.R7$(4),e.Y8G("checked",!o.semContato),e.R7$(),e.Y8G("ngIf",!o.semContato),e.R7$(),e.Y8G("heading",e.bMT(34,27,"Endere\xe7oResidencia")),e.R7$(6),e.Y8G("checked",o.semEndereco),e.R7$(4),e.Y8G("checked",!o.semEndereco),e.R7$(),e.R50("pessoa",o.pessoa),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[p.bT,l.qT,l.cb,l.Y4,l.cV,I.V6,I.fw,F.x,k.z,O,X,q,bn,m.S],encapsulation:2})}return a})();const vn=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function Cn(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function In(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"button",38),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.detailsAluno(o))}),e.nrm(11,"i",39),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){let t,n,o;const i=d.$implicit;e.R7$(2),e.JRh(i.nome),e.R7$(2),e.JRh(null!==(t=i.genero_Nome)&&void 0!==t?t:"-"),e.R7$(2),e.JRh(null!==(n=i.cpf)&&void 0!==n?n:"-"),e.R7$(2),e.JRh(null!==(o=null==i.dataNascimento?null:i.dataNascimento.format("DD/MM/yyyy"))&&void 0!==o?o:"-"),e.R7$(4),e.SpI(" ",e.bMT(13,5,"Details")," ")}}let Fn=(()=>{class a extends A{constructor(t,n,o,i,s){super(t),this._alunoService=n,this._modalService=o,this._router=i,this._route=s,this.alunos=[],this.keyword="",this.advancedFiltersVisible=!1}createAluno(){let t;t=this._modalService.show(ne,{class:"modal-lg"}),t.content.onSave.subscribe(()=>{this.refresh()})}detailsAluno(t){this._router.navigate(["details",t.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.isActive=void 0,this.getDataPage(1)}list(t,n,o){t.keyword=this.keyword,this._alunoService.getAll(t.keyword,t.skipCount,t.maxResultCount).pipe((0,y.j)(()=>{o()})).subscribe(i=>{this.alunos=i.items,this.showPaging(i,n)})}delete(t){abp.message.confirm("O seguinte endere\xe7o ser\xe1 exclu\xeddo do banco",void 0,n=>{n&&this._alunoService.delete(t.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:65,vars:44,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"]],template:function(n,o){1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createAluno()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,Cn,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th"),e.EFF(45),e.nI1(46,"localize"),e.k0s(),e.j41(47,"th",24),e.EFF(48),e.nI1(49,"localize"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,In,14,7,"tr",25),e.nI1(52,"paginate"),e.k0s()()()(),e.j41(53,"div",26)(54,"div",2)(55,"div",27)(56,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(57,"i",29),e.k0s()(),e.j41(58,"div",30)(59,"p",31),e.EFF(60),e.nI1(61,"localize"),e.k0s()(),e.j41(62,"div",32)(63,"div",33)(64,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&n&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,18,"Alunos")),e.R7$(5),e.SpI(" ",e.bMT(12,20,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,22,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,24,"Nome")),e.R7$(3),e.JRh(e.bMT(40,26,"G\xeanero")),e.R7$(3),e.JRh(e.bMT(43,28,"CPF")),e.R7$(3),e.JRh(e.bMT(46,30,"Data de Nascimento")),e.R7$(3),e.JRh(e.bMT(49,32,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(52,34,o.alunos,e.sMw(40,vn,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(61,37,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})(),kn=(()=>{class a extends _.q{constructor(t,n,o,i,s){super(t),this._alunoService=n,this._colaboradorService=o,this._responsavelService=i,this.bsModalRef=s,this.saving=!1,this.tipoPessoa=void 0,this.onSave=new e.bkB}ngOnInit(){if("Aluno"==this.tipoPessoa)this._pessoaService=this._alunoService;else if("Colaborador"==this.tipoPessoa)this._pessoaService=this._colaboradorService;else{if("Responsavel"!=this.tipoPessoa)throw"Tipo de pessoa inv\xe1lido";this._pessoaService=this._responsavelService}null==this.inputPessoa?this._pessoaService.get(this.pessoaId).subscribe(t=>{this.inputPessoa=t,this._setUpdateDto()}):this._setUpdateDto()}_setUpdateDto(){this.inputPessoa instanceof c.lG?this.pessoa=new c.kl(this.inputPessoa):this.inputPessoa instanceof c.Gc?this.pessoa=new c.Th(this.inputPessoa):this.inputPessoa instanceof c.I4&&(this.pessoa=new c.jA(this.inputPessoa))}save(){this.saving=!0,this._pessoaService.update(this.pessoa).subscribe(t=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(t),this.saving=!1})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.i9),e.rXU(c.o5),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:16,vars:17,consts:[["editEnderecoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],["ngModelGroup","infoPessoal",3,"pessoa"],["ngModelGroup","infoContato",3,"pessoa"],["ngModelGroup","endereco",3,"pessoa"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"tabset")(6,"tab",4),e.nI1(7,"localize"),e.nrm(8,"info-pessoal-form",5),e.k0s(),e.j41(9,"tab",4),e.nI1(10,"localize"),e.nrm(11,"info-contato-form",6),e.k0s(),e.j41(12,"tab",4),e.nI1(13,"localize"),e.nrm(14,"endereco-form",7),e.k0s()()(),e.j41(15,"abp-modal-footer",8),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,9,"Edit"+o.tipoPessoa)),e.R7$(4),e.Y8G("heading",e.bMT(7,11,"InfoPessoal")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(10,13,"InfoContato")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(13,15,"Endere\xe7oResidencia")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,I.V6,I.fw,F.x,k.z,Se,X,q,m.S],encapsulation:2})}return a})();function jn(a,d){if(1&a&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.R7$(),e.JRh(t)}}function Rn(a,d){if(1&a){const t=e.RV6();e.j41(0,"a",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onClickEdit.emit())}),e.nrm(1,"i",11),e.EFF(2),e.nI1(3,"localize"),e.k0s()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Edit")," "))}let H=(()=>{class a extends _.q{constructor(t){super(t),this.onClickEdit=new e.bkB,this.pessoal=!1}ngOnInit(){}podeEditar(){return this.pessoal||this.permission.isGranted("Business.Admin.People")}getEnderecoString(){let t="";return null!=this.pessoa?.endereco_Linha1&&(t+=this.pessoa?.endereco_Linha1+"\n"),null!=this.pessoa?.endereco_Linha2&&(t+=this.pessoa?.endereco_Linha2+"\n"),null!=this.pessoa?.endereco_Bairro&&(t+=this.pessoa?.endereco_Bairro,null!=this.cidade?.nome&&(t+=", ")),null!=this.cidade?.nome&&(t+=this.cidade?.nome,null!=this.uf?.abreviacao&&(t+=" - ")),null!=this.uf?.abreviacao&&(t+=this.uf?.abreviacao),(null!=this.pessoa?.endereco_Bairro||null!=this.cidade?.nome||null!=this.uf?.abreviacao)&&(t+="\n"),null!=this.pais?.nome&&(t+=this.pais?.nome),""==t?["-"]:t.split("\n")}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["info-pessoal-details"]],inputs:{pessoa:"pessoa",cidade:"cidade",uf:"uf",pais:"pais",pessoal:"pessoal"},outputs:{onClickEdit:"onClickEdit"},features:[e.Vt3],decls:45,vars:9,consts:[[1,"container-fluid","row","p-0","m-0"],[1,"col-md-8"],[1,"row","m-0","p-0"],[1,"col-md-4","m-0","p-0","text-left"],[1,"col-md-8","m-0","p-0"],[1,"row","mx-0","mb-0","mt-4","p-0"],[4,"ngFor","ngForOf"],[1,"row","mx-0","mt-4","mb-0","p-0","justify-content-center","align-content-center"],[1,"col-0","m-0","p-0"],["href","javascript:;","class","btn bg-blue",3,"click",4,"ngIf"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-pencil"]],template:function(n,o){if(1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.EFF(4," Nome Completo: "),e.k0s(),e.j41(5,"label",4),e.EFF(6),e.k0s()(),e.j41(7,"div",2)(8,"div",3),e.EFF(9," CPF: "),e.k0s(),e.j41(10,"label",4),e.EFF(11),e.k0s()(),e.j41(12,"div",2)(13,"div",3),e.EFF(14," G\xeanero: "),e.k0s(),e.j41(15,"label",4),e.EFF(16),e.k0s()(),e.j41(17,"div",2)(18,"div",3),e.EFF(19," Data de Nascimento: "),e.k0s(),e.j41(20,"label",4),e.EFF(21),e.k0s()(),e.j41(22,"div",5)(23,"div",3),e.EFF(24," Endere\xe7o: "),e.k0s(),e.j41(25,"label",4),e.DNE(26,jn,2,1,"div",6),e.k0s()(),e.j41(27,"div",5)(28,"div",3),e.EFF(29," Email: "),e.k0s(),e.j41(30,"label",4),e.EFF(31),e.k0s()(),e.j41(32,"div",2)(33,"div",3),e.EFF(34," Telefone 1: "),e.k0s(),e.j41(35,"label",4),e.EFF(36),e.k0s()(),e.j41(37,"div",2)(38,"div",3),e.EFF(39," Telefone 2: "),e.k0s(),e.j41(40,"label",4),e.EFF(41),e.k0s()(),e.j41(42,"div",7)(43,"div",8),e.DNE(44,Rn,4,3,"a",9),e.k0s()()()()),2&n){let i,s,r,u,b,g,C;e.R7$(6),e.SpI(" ",null!==(i=null==o.pessoa?null:o.pessoa.nome)&&void 0!==i?i:""," "),e.R7$(5),e.SpI(" ",null!==(s=null==o.pessoa?null:o.pessoa.cpf)&&void 0!==s?s:"-"," "),e.R7$(5),e.SpI(" ",null!==(r=null==o.pessoa?null:o.pessoa.genero_Nome)&&void 0!==r?r:"-"," "),e.R7$(5),e.SpI(" ",null!==(u=null==o.pessoa||null==o.pessoa.dataNascimento?null:o.pessoa.dataNascimento.format("DD/MM/yyyy"))&&void 0!==u?u:"-"," "),e.R7$(5),e.Y8G("ngForOf",o.getEnderecoString()),e.R7$(5),e.SpI(" ",null!==(b=null==o.pessoa?null:o.pessoa.infoContato_Email)&&void 0!==b?b:"-"," "),e.R7$(5),e.SpI(" ",null!==(g=null==o.pessoa?null:o.pessoa.infoContato_Telefone1)&&void 0!==g?g:"-"," "),e.R7$(5),e.SpI(" ",null!==(C=null==o.pessoa?null:o.pessoa.infoContato_Telefone2)&&void 0!==C?C:"-"," "),e.R7$(3),e.Y8G("ngIf",o.podeEditar())}},dependencies:[p.Sq,p.bT,m.S],encapsulation:2})}return a})(),Q=(()=>{class a extends _.q{initEmptyPessoa(){}createUser(t){}get createUserCallable(){return this.createUser.bind(this)}constructor(t,n,o,i,s){super(t),this._paisService=n,this._modalService=o,this._router=i,this._route=s,this.pessoa=this.initEmptyPessoa()}goBack(){this._router.navigate(["../.."],{relativeTo:this._route})}getPessoa(){throw"NotImplemented"}getTipoPessoa(){throw"NotImplemented"}proccessDto(t){this.pessoa=t,null!=this.pessoa.endereco_CidadeId&&(this._paisService.getCidade(this.pessoa.endereco_CidadeId).subscribe(n=>this.cidade=n),this._paisService.getUnidadeFederal(void 0,this.pessoa.endereco_CidadeId).subscribe(n=>this.uf=n),this._paisService.getPais(void 0,void 0,this.pessoa.endereco_CidadeId).subscribe(n=>this.pais=n))}ngOnInit(){this.getPessoa().subscribe(this.proccessDto.bind(this))}editInfoPessoal(){this._modalService.show(kn,{class:"modal-lg",initialState:{pessoaId:this.pessoa.id,inputPessoa:this.pessoa,tipoPessoa:this.getTipoPessoa()}}).content.onSave.subscribe((n=>{this.pessoa=n}).bind(this))}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.B5),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:18,vars:10,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[3,"pessoaChange","onClickEdit","pessoa","cidade","uf","pais"]],template:function(n,o){1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes da Pessoa "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"info-pessoal-details",13),e.mxI("pessoaChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.bIt("onClickEdit",function(){return o.editInfoPessoal()}),e.k0s()()()()()()),2&n&&(e.Y8G("@routerTransition",void 0),e.R7$(11),e.Lme(" ",o.pessoa.nome.split(" ")[0]," ",o.pessoa.nome.split(" ").reverse()[0]," "),e.R7$(4),e.Y8G("heading",e.bMT(16,8,"PersonalInfo")),e.R7$(2),e.R50("pessoa",o.pessoa),e.Y8G("cidade",o.cidade)("uf",o.uf)("pais",o.pais))},dependencies:[I.V6,I.fw,H,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();function Sn(a,d){if(1&a&&(e.j41(0,"div",2)(1,"div",3),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",3),e.EFF(5),e.k0s()()),2&a){let t;const n=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,2,"Username"),": "),e.R7$(3),e.SpI(" ",null!==(t=null==n.user?null:n.user.userName)&&void 0!==t?t:"-"," ")}}function Mn(a,d){if(1&a){const t=e.RV6();e.j41(0,"a",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG(3);return e.Njj(o.startUserCreate())}),e.EFF(1),e.nI1(2,"localize"),e.k0s()}2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Criar conta de usu\xe1rio")," "))}function En(a,d){if(1&a&&(e.j41(0,"div",8),e.DNE(1,Mn,3,3,"a",9),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.podeConceder())}}function Tn(a,d){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"div",11)(2,"label",12),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"div",13)(6,"input",14),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG(2);return e.DH7(i.userCreate.username,o)||(i.userCreate.username=o),e.Njj(o)}),e.k0s()()(),e.j41(7,"div",15)(8,"button",16),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.cancelUserCreate())}),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"button",17),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.finishUserCreate())}),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){const t=e.XpG(2);e.R7$(3),e.SpI(" ",e.bMT(4,7,"Username")," "),e.R7$(3),e.Y8G("disabled",t.saving),e.R50("ngModel",t.userCreate.username),e.R7$(2),e.Y8G("disabled",t.saving),e.R7$(),e.SpI(" ",e.bMT(10,9,"Cancel")," "),e.R7$(2),e.Y8G("disabled",!t.usernameValid()||t.saving),e.R7$(),e.SpI(" ",e.bMT(13,11,"Save")," ")}}function Dn(a,d){if(1&a&&(e.j41(0,"div",4)(1,"div",5),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.DNE(4,En,2,1,"div",6)(5,Tn,14,13,"div",7),e.k0s()),2&a){const t=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,3,"Esta pessoa n\xe3o possui uma conta de usu\xe1rio.")," "),e.R7$(2),e.Y8G("ngIf",!t.creating),e.R7$(),e.Y8G("ngIf",t.creating)}}let ie=(()=>{class a extends _.q{set pessoa(t){this._pessoa=t,null!=this.pessoa.userId&&this._userService.get(this._pessoa.userId).subscribe(n=>{this._user=n}),this.cancelUserCreate()}get pessoa(){return this._pessoa}get user(){return this._user}constructor(t,n){super(t),this._userService=n,this.creating=!1,this.saving=!1}ngOnInit(){}podeConceder(){return!0}startUserCreate(){this.creating=!0;let t=this._pessoa.nome.toLowerCase().split(" ");this.userCreate=new c.Mj({pessoaId:this._pessoa.id,username:t[0]+"."+t[t.length-1]})}cancelUserCreate(){this.creating=!1,this.userCreate=void 0}usernameValid(){return null!=this.userCreate.username&&""!=this.userCreate.username}finishUserCreate(){this.saving=!0,this.createUserCallable(this.userCreate).subscribe({next:t=>{this._user=t,this._pessoa.userId=t.id,this.saving=!1,this.cancelUserCreate()},error:t=>{this.saving=!1,this.cancelUserCreate()}})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.LC))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["pessoa-account-details"]],inputs:{pessoa:"pessoa",createUserCallable:"createUserCallable"},features:[e.Vt3],decls:2,vars:2,consts:[["class","container-fluid row p-0 m-0",4,"ngIf"],["class","container-fluid col p-0 m-0",4,"ngIf"],[1,"container-fluid","row","p-0","m-0"],[1,"col-0","my-0","ml-0","mr-1","p-0","text-align-left"],[1,"container-fluid","col","p-0","m-0"],[1,"row","m-0","p-0","text-center","align-content-center","justify-content-center"],["class","row m-0 p-0 align-content-center justify-content-center",4,"ngIf"],[4,"ngIf"],[1,"row","m-0","p-0","align-content-center","justify-content-center"],["href","javascript:;","class","btn bg-blue",3,"click",4,"ngIf"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"form-group","row","required","align-content-center","justify-content-center"],["for","username",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","username","id","username","required","","maxlength","256",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row","m-0","p-0","align-content-center","justify-content-between"],[1,"btn","bg-secondary","col-0",3,"click","disabled"],[1,"btn","bg-primary","col-0",3,"click","disabled"]],template:function(n,o){1&n&&e.DNE(0,Sn,6,4,"div",0)(1,Dn,6,5,"div",1),2&n&&(e.Y8G("ngIf",null!=o.pessoa.userId),e.R7$(),e.Y8G("ngIf",null==o.pessoa.userId))},dependencies:[p.bT,l.me,l.BC,l.YS,l.tU,l.vS,m.S],encapsulation:2})}return a})(),Me=(()=>{class a extends te{constructor(t,n,o){super(t,o),this._responsavelService=n,this.bsModalRef=o}initEmptyPessoaDto(){this.pessoa=new c.C9,super.initEmptyPessoaDto(),this.pessoa.dependentes=[]}create(){return this._responsavelService.create(this.pessoa)}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.o5),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:16,vars:17,consts:[["createResponsavelModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],["ngModelGroup","infoPessoal",3,"pessoa"],["ngModelGroup","infoContato",3,"pessoa"],["ngModelGroup","endereco",3,"pessoaChange","pessoa"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"tabset")(6,"tab",4),e.nI1(7,"localize"),e.nrm(8,"info-pessoal-form",5),e.k0s(),e.j41(9,"tab",4),e.nI1(10,"localize"),e.nrm(11,"info-contato-form",6),e.k0s(),e.j41(12,"tab",4),e.nI1(13,"localize"),e.j41(14,"endereco-residencia-form",7),e.mxI("pessoaChange",function(r){return e.eBV(i),e.DH7(o.pessoa,r)||(o.pessoa=r),e.Njj(r)}),e.k0s()()()(),e.j41(15,"abp-modal-footer",8),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,9,"CreateNewResponsavel")),e.R7$(4),e.Y8G("heading",e.bMT(7,11,"InfoPessoal")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(10,13,"InfoContato")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(13,15,"Endere\xe7oResidencia")),e.R7$(2),e.R50("pessoa",o.pessoa),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,I.V6,I.fw,F.x,k.z,O,X,q,m.S],encapsulation:2})}return a})();const yn=()=>[];function An(a,d){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"div",5)(2,"label",6),e.EFF(3),e.k0s(),e.j41(4,"div",7)(5,"a",2),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.detailsResponsavel(o))}),e.nrm(6,"i",8),e.k0s()()(),e.bVm()}if(2&a){const t=d.$implicit,n=e.XpG();e.R7$(3),e.SpI(" ",n.getResponsavelNome(t)," ")}}let Ee=(()=>{class a extends _.q{set aluno(t){this._aluno=t,this.refresh()}get aluno(){return this._aluno}constructor(t,n,o,i,s,r,u){super(t),this._responsavelService=n,this._alunoService=o,this._modalService=i,this._changeDetector=s,this._router=r,this._route=u,this.alunoChange=new e.bkB}ngOnInit(){this.refresh()}refresh(){this.responsaveis=[],this.aluno?.responsaveis?.forEach(t=>{this._responsavelService.get(t.id).subscribe(n=>{this.responsaveis.push(n)})})}getResponsavelNome(t){return this.responsaveis?.find(n=>n.id==t.id)?.nome??""}detailsResponsavel(t){this._router.navigate(this.appSession.user.responsavel?.id==t.id?["app","personal",t.id]:["app","responsaveis","details",t.id])}cadastrarResponsavel(){let t=this._modalService.show(Me,{class:"modal-lg",initialState:{saveOrReturn:!0}});t.content.onSave.subscribe((n=>{n.dependentes=[new c.GO({id:this.aluno.id})],this._responsavelService.create(n).subscribe(o=>{this.aluno.responsaveis.push(new c.GO(o)),t.content.notify.info(this.l("SavedSuccessfully")),t.content.bsModalRef.hide()})}).bind(this))}podeAddResponsaveis(){return this.permission.isGranted("Business.Admin.People")}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.o5),e.rXU(c.pg),e.rXU(f.I8),e.rXU(e.gRc),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["responsaveis-aluno"]],inputs:{aluno:"aluno"},outputs:{alunoChange:"alunoChange"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:7,vars:6,consts:[[1,"row","mb-2",3,"hidden"],[1,"col","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-0"],[1,"col-2"],[1,"fa","fa-link"]],template:function(n,o){if(1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"a",2),e.bIt("click",function(){return o.cadastrarResponsavel()}),e.nrm(3,"i",3),e.EFF(4),e.nI1(5,"localize"),e.k0s()()(),e.DNE(6,An,7,1,"ng-container",4)),2&n){let i;e.Y8G("hidden",!o.podeAddResponsaveis()),e.R7$(4),e.SpI(" ",e.bMT(5,3,"CadastrarResponsavel")," "),e.R7$(2),e.Y8G("ngForOf",null!==(i=null==o.aluno?null:o.aluno.responsaveis)&&void 0!==i?i:e.lJ4(5,yn))}},dependencies:[p.Sq,m.S],encapsulation:2})}return a})();var ae=j(7707);const Pn=()=>[],wn=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function $n(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",13)(1,"a",14),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.registrarAtendimento())}),e.nrm(2,"i",15),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"RegistrarAtendimento")," "))}function Gn(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.nrm(9,"td"),e.k0s()),2&a){let t,n,o;const i=d.$implicit,s=e.XpG();e.R7$(2),e.JRh(s.getNomeAT(null==i?null:i.atuacaoTerapeutaId)),e.R7$(2),e.JRh(null!==(t=null==i||null==i.inicio?null:i.inicio.format("DD/MM/yyyy"))&&void 0!==t?t:"-"),e.R7$(2),e.Lme("",null!==(n=null==i||null==i.inicio?null:i.inicio.format("HH:mm"))&&void 0!==n?n:"-","~",null!==(n=null==i||null==i.fim?null:i.fim.format("HH:mm"))&&void 0!==n?n:"-",""),e.R7$(2),e.JRh(null!==(o=null==i||null==i.unidadesEnsino?null:i.unidadesEnsino.length)&&void 0!==o?o:"-")}}let Te=(()=>{class a extends A{set aluno(t){this._aluno=t,this._localService.aluno=t,this.refresh()}get aluno(){return this._aluno}constructor(t,n,o,i,s,r,u,b,g,C,E){super(t),this._alunoService=n,this._casoService=o,this._colaboradorService=i,this._protocoloIntervencaoService=s,this._hierarquiaAjudaService=r,this._modalService=u,this._router=b,this._route=g,this._changeDetector=C,this._localService=E,this.refreshCallback=new e.bkB}ngOnInit(){this.refresh()}getAtuacao(t){return this.staff?.find(n=>n.id==t)}getColabFuncao(t){return this.funcoesColaborador?.find(n=>n.id==t)}getColaborador(t){return this.colaboradores?.find(n=>n.id==t)}list(t,n,o){null!=this.aluno?.casoId?this._casoService.getAllRegistrosAtendimento(this.aluno.casoId,void 0,void 0,void 0,void 0).pipe((0,y.j)(()=>o())).subscribe(i=>{this.atendimentos=i,this.showPaging({items:i,totalCount:i.length},n)}):(this.atendimentos=[],this.showPaging({items:[],totalCount:0},n))}delete(t){}registrarAtendimento(){this._router.navigate(["registro-atendimento"],{relativeTo:this._route})}getNomeAT(t){return this.getColaborador(this.getColabFuncao(this.getAtuacao(t)?.colabFuncaoId)?.colaboradorId)?.nome??""}podeRegistrarAtendimento(){return(this.permission.isGranted("Business.Personal.Colaborador.Supervisor")||this.permission.isGranted("Business.Personal.Colaborador.AT"))&&(this.permission.isGranted("Business.Admin.People")||this.staff?.some(t=>this.getColabFuncao(this.getAtuacao(t.id)?.colabFuncaoId)?.colaboradorId==this.appSession.user.colaborador?.id&&null!=this.appSession.user.colaborador?.id&&null==t.dataFim))}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.iD),e.rXU(c.i9),e.rXU(c.J3),e.rXU(c.Qk),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX),e.rXU(e.gRc),e.rXU(ae.n))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["atendimentos-caso"]],inputs:{aluno:"aluno",colaboradores:"colaboradores",funcoesColaborador:"funcoesColaborador",staff:"staff"},outputs:{refreshCallback:"refreshCallback"},features:[e.Vt3],decls:30,vars:27,consts:[["class","row m-0 mb-1 justify-content-end text-center",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","10%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"row","m-0","mb-1","justify-content-end","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"]],template:function(n,o){if(1&n&&(e.DNE(0,$n,5,3,"div",0),e.j41(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"th",4),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"th",4),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"th",4),e.EFF(15),e.nI1(16,"localize"),e.k0s(),e.nrm(17,"th",4),e.k0s()(),e.j41(18,"tbody"),e.DNE(19,Gn,10,5,"tr",5),e.nI1(20,"paginate"),e.k0s()()(),e.j41(21,"div",6),e.nrm(22,"div",7),e.j41(23,"div",8)(24,"p",9),e.EFF(25),e.nI1(26,"localize"),e.k0s()(),e.j41(27,"div",10)(28,"div",11)(29,"abp-pagination-controls",12),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&n){let i;e.Y8G("ngIf",o.podeRegistrarAtendimento()),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(7,8,"AT")),e.R7$(3),e.JRh(e.bMT(10,10,"Data")),e.R7$(3),e.JRh(e.bMT(13,12,"Hora")),e.R7$(3),e.JRh(e.bMT(16,14,"No Unidades Ensino")),e.R7$(4),e.Y8G("ngForOf",e.i5U(20,16,null!==(i=o.atendimentos)&&void 0!==i?i:e.lJ4(22,Pn),e.sMw(23,wn,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(6),e.SpI(" ",e.i5U(26,19,"TotalRecordsCount",o.totalItems)," ")}},dependencies:[p.Sq,p.bT,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();const De=()=>[];function Vn(a,d){if(1&a&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&a){let t;const n=d.$implicit,o=e.XpG();e.Y8G("value",n.id),e.R7$(),e.SpI(" ",null==(t=o.getColaborador(null==(t=o.getFuncaoColaborador(null==n?null:n.colabFuncaoId))?null:t.colaboradorId))?null:t.nome," ")}}function Nn(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td",30),e.EFF(2),e.k0s(),e.j41(3,"td",30)(4,"input",31),e.bIt("change",function(o){const i=e.eBV(t).index,s=e.XpG();return e.Njj(s.onParticipacaoChange(i,o.target.checked))}),e.k0s()()()}if(2&a){let t;const n=d.$implicit,o=d.index,i=e.XpG();e.R7$(2),e.JRh(null==(t=i.getColaborador(null==(t=i.getFuncaoColaborador(null==n?null:n.colabFuncaoId))?null:t.colaboradorId))?null:t.nome),e.R7$(2),e.Y8G("id","participacao"+o)("name","participacao"+o)}}let Bn=(()=>{class a extends _.q{get loading(){return this.loadingTiposServico||this.loadingStaff||this.loadingFuncoesColaborador||this.loadingColaboradores}get disabled(){return this.loading||this.saving}constructor(t,n,o,i,s){super(t),this._alunoService=n,this._casoService=o,this._tipoServicoService=i,this.bsModalRef=s,this.NOME_SERVICO_SUPERVISAO="Supervis\xe3o",this.NOME_SERVICO_PARTICIPACAO="Participa\xe7\xe3o em Supervis\xe3o",this.loadingTiposServico=!1,this.loadingStaff=!1,this.loadingFuncoesColaborador=!1,this.loadingColaboradores=!1,this.saving=!1,this.onSave=new e.bkB}_setSupervisoresEParticipantes(){if(!this.loading&&null!=this.staff&&null!=this._funcoesApropriadasParticipantes&&null!=this._funcoesApropriadasSupervisor)if(this.supervisores=[],this.podemParticipar=[],this.staff.forEach(s=>{this._funcoesApropriadasSupervisor.includes(this.funcoesColaborador.find(r=>r.id==s.colabFuncaoId).funcaoOrgId)&&null==s.dataFim&&this.supervisores.push(s),this._funcoesApropriadasParticipantes.includes(this.funcoesColaborador.find(r=>r.id==s.colabFuncaoId).funcaoOrgId)&&null==s.dataFim&&this.podemParticipar.push(s)}),this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico"))this.options=this.supervisores;else if(this.permission.isGranted("Business.Personal.Colaborador.Supervisor.Gestor")){var t=this.appSession.user.colaborador?.id;if(null!=t){var n=this.funcoesColaborador.filter(s=>s.colaboradorId==t&&null==s.dataFim),o=this.funcoesColaborador.filter(s=>null==s.dataFim&&null!=s.gestorId&&n.some(r=>r.id==s.gestorId)),i=n.concat(o);this.options=this.supervisores.filter(s=>i.some(r=>r.id==s.colabFuncaoId))}}else this.permission.isGranted("Business.Personal.Colaborador.Supervisor.Assistente")?(t=this.appSession.user.colaborador?.id,null!=t&&(n=this.funcoesColaborador.filter(u=>u.colaboradorId==t),this.options=this.supervisores.filter(u=>n.some(b=>b.id==u.colabFuncaoId)))):this.options=[]}ngOnInit(){this.loadingTiposServico=!0,this._tipoServicoService.getAll(void 0,void 0,void 0,void 0,void 0).subscribe(t=>{this._funcoesApropriadasSupervisor=[],this._funcoesApropriadasParticipantes=[],t.items.forEach(n=>{n.nome.startsWith(this.NOME_SERVICO_SUPERVISAO)?n.funcoesOrg.forEach(o=>{this._funcoesApropriadasSupervisor.includes(o.id)||this._funcoesApropriadasSupervisor.push(o.id)}):n.nome.startsWith(this.NOME_SERVICO_PARTICIPACAO)&&n.funcoesOrg.forEach(o=>{this._funcoesApropriadasParticipantes.includes(o.id)||this._funcoesApropriadasParticipantes.push(o.id)})}),this.loadingTiposServico=!1,this._setSupervisoresEParticipantes()}),null==this.staff&&(this.loadingStaff=!0,this._casoService.getAllAtuacoes(this.aluno.casoId,void 0,void 0,void 0,void 0).subscribe(t=>{this.staff=t,this.loadingStaff=!1,this._setSupervisoresEParticipantes()})),this.supervisao=new c.OK,this.supervisao.casoId=this.aluno.casoId,this.supervisao.participacoes=[],this.supervisao.inicio=V(),this.supervisao.fim=V()}getFuncaoColaborador(t){return this.funcoesColaborador?.find(n=>n.id==t)}getColaborador(t){return this.colaboradores?.find(n=>n.id==t)}get data(){return this.supervisao?.inicio?.format("YYYY-MM-DD")}set data(t){let n=V(t),o=V(t);n=n.hour(this.supervisao?.inicio?.hour()??0),o=o.hour(this.supervisao?.fim?.hour()??0),n=n.minute(this.supervisao?.inicio?.minute()??0),o=o.minute(this.supervisao?.fim?.minute()??0),this.supervisao.inicio=n,this.supervisao.fim=o}get horarioInicio(){return this.supervisao?.inicio?.format("HH:mm")}set horarioInicio(t){let n=Number(t.substring(0,2)),o=Number(t.substring(3,5));this.supervisao.inicio=this.supervisao?.inicio?.hour(n),this.supervisao.inicio=this.supervisao?.inicio?.minute(o)}get horarioFim(){return this.supervisao?.fim?.format("HH:mm")}set horarioFim(t){let n=Number(t.substring(0,2)),o=Number(t.substring(3,5));this.supervisao.fim=this.supervisao?.fim?.hour(n),this.supervisao.fim=this.supervisao?.fim?.minute(o)}get supervisorId(){return this.supervisao?.atuacaoSupervisorId?.toString()??""}set supervisorId(t){this.supervisao.atuacaoSupervisorId=""!=t&&null!=t?Number(t):void 0}onParticipacaoChange(t,n){let o=this.podemParticipar[t];!this.supervisao.participacoes.some(i=>i.atuacaoParticipanteId==o.id)&&n?this.supervisao.participacoes.push(new c.dH({atuacaoParticipanteId:o.id,servicoPrestadoId:void 0})):this.supervisao.participacoes.some(i=>i.atuacaoParticipanteId==o.id)&&!n&&this.supervisao.participacoes.splice(this.supervisao.participacoes.findIndex(i=>i.atuacaoParticipanteId==o.id),1)}save(){this.saving=!0;let t={next:n=>{this.onSave.emit(n),this.bsModalRef.hide(),this.saving=!1},error:n=>{console.log(n),this.saving=!1},complete:()=>{}};this.supervisao.inicio=this.supervisao.inicio.utcOffset(0,!0),this.supervisao.fim=this.supervisao.fim.utcOffset(0,!0),this._casoService.registrarSupervisao(this.supervisao).subscribe(t)}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.iD),e.rXU(c.$B),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:61,vars:47,consts:[["registroSupervisaoModal","ngForm"],["supervisorModel","ngModel","supervisorEl",""],["dataModel","ngModel","dataEl",""],["horarioInicioModel","ngModel","horarioInicioEl",""],["horarioFimModel","ngModel","horarioFimEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","supervisor",1,"col-md-3","col-form-label"],[1,"col-md-9"],["name","supervisor","id","supervisor","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],["for","data",1,"col-md-3","col-form-label"],["type","date","name","data","id","data","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","horarioInicio",1,"col-md-3","col-form-label"],["type","time","name","horarioInicio","id","horarioInicio","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","horarioFim",1,"col-md-3","col-form-label"],["type","time","name","horarioFim","id","horarioFim","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row","m-0","justify-content-center"],[1,"table-responsive","col-md-8","mt-3"],[1,"table","table-bordered",3,"busy"],[1,"bg-light"],["colSpan","2",1,"text-center"],[2,"width","10%"],[4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"],[1,"text-center"],["type","checkbox",3,"change","id","name"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",5,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",6),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",7)(5,"div",8)(6,"label",9),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",10)(10,"select",11,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.supervisorId,r)||(o.supervisorId=r),e.Njj(r)}),e.nrm(13,"option",12),e.DNE(14,Vn,2,2,"option",13),e.k0s(),e.nrm(15,"abp-validation-summary",14),e.k0s()(),e.j41(16,"div",8)(17,"label",15),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.j41(20,"div",10)(21,"input",16,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.data,r)||(o.data=r),e.Njj(r)}),e.k0s(),e.nrm(24,"abp-validation-summary",14),e.k0s()(),e.j41(25,"div",8)(26,"label",17),e.EFF(27),e.nI1(28,"localize"),e.k0s(),e.j41(29,"div",10)(30,"input",18,3),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.horarioInicio,r)||(o.horarioInicio=r),e.Njj(r)}),e.k0s(),e.nrm(33,"abp-validation-summary",14),e.k0s()(),e.j41(34,"div",8)(35,"label",19),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"div",10)(39,"input",20,4),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.horarioFim,r)||(o.horarioFim=r),e.Njj(r)}),e.k0s(),e.nrm(42,"abp-validation-summary",14),e.k0s()(),e.j41(43,"div",21)(44,"div",22)(45,"table",23)(46,"thead",24)(47,"tr")(48,"th",25),e.EFF(49),e.nI1(50,"localize"),e.k0s()(),e.j41(51,"tr")(52,"th"),e.EFF(53),e.nI1(54,"localize"),e.k0s(),e.j41(55,"th",26),e.EFF(56),e.nI1(57,"localize"),e.k0s()()(),e.j41(58,"tbody"),e.DNE(59,Nn,5,3,"tr",27),e.k0s()()()()(),e.j41(60,"abp-modal-footer",28),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){let i,s;const r=e.sdS(1),u=e.sdS(11),b=e.sdS(12),g=e.sdS(22),C=e.sdS(23),E=e.sdS(31),P=e.sdS(32),$=e.sdS(40),G=e.sdS(41);e.R7$(2),e.Y8G("title",e.bMT(3,29,"RegistroSupervisao")),e.R7$(5),e.SpI(" ",e.bMT(8,31,"Supervisor")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.supervisorId),e.R7$(4),e.Y8G("ngForOf",null!==(i=o.options)&&void 0!==i?i:e.lJ4(45,De)),e.R7$(),e.Y8G("control",u)("controlEl",b),e.R7$(3),e.SpI(" ",e.bMT(19,33,"Data")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.data),e.R7$(3),e.Y8G("control",g)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(28,35,"Hor\xe1rio In\xedcio")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.horarioInicio),e.R7$(3),e.Y8G("control",E)("controlEl",P),e.R7$(3),e.SpI(" ",e.bMT(37,37,"Hor\xe1rio Fim")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.horarioFim),e.R7$(3),e.Y8G("control",$)("controlEl",G),e.R7$(3),e.Y8G("busy",o.loading),e.R7$(4),e.JRh(e.bMT(50,39,"Participa\xe7\xf5es")),e.R7$(4),e.JRh(e.bMT(54,41,"Nome")),e.R7$(3),e.JRh(e.bMT(57,43,"Participou?")),e.R7$(3),e.Y8G("ngForOf",null!==(s=o.podemParticipar)&&void 0!==s?s:e.lJ4(46,De)),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!r.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.xH,l.y7,l.me,l.wz,l.BC,l.cb,l.YS,l.vS,l.cV,S.e,F.x,k.z,M,m.S],encapsulation:2})}return a})();const Yn=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function Un(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",13)(1,"a",14),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.registrarSupervisao())}),e.nrm(2,"i",15),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"RegistrarSupervisao")," "))}function zn(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s()()),2&a){let t,n;const o=d.$implicit,i=e.XpG();e.R7$(2),e.JRh(null==(t=i.getColaborador(null==(t=i.getColabFuncao(null==(t=i.getAtuacao(null==o?null:o.atuacaoSupervisorId))?null:t.colabFuncaoId))?null:t.colaboradorId))?null:t.nome),e.R7$(2),e.Lme("",null!==(n=null==o||null==o.inicio?null:o.inicio.format("DD/MM/yyyy HH:mm"))&&void 0!==n?n:"-","~",null!==(n=null==o||null==o.fim?null:o.fim.format("HH:mm"))&&void 0!==n?n:"-",""),e.R7$(2),e.JRh(i.getParticipacoesString(o))}}let ye=(()=>{class a extends A{constructor(t,n,o,i,s){super(t),this._alunoService=n,this._casoService=o,this._modalService=i,this.bsModalRef=s,this.registroCallback=new e.bkB}get aluno(){return this._aluno}set aluno(t){this._aluno=t,this.refresh()}ngOnInit(){}_zeroList(t){this.supervisoes=[],this.showPaging({items:[],totalCount:0},t)}list(t,n,o){null!=this.aluno?.casoId?(this.isTableLoading=!0,this._casoService.getAllRegistrosSupervisao(this.aluno.casoId,void 0,void 0,void 0,void 0).pipe((0,y.j)(()=>{o()})).subscribe({next:i=>{this.supervisoes=i,this.showPaging({items:i,totalCount:i.length},n),this.isTableLoading=!1},error:()=>{this._zeroList(n),this.isTableLoading=!1}})):(o(),this._zeroList(n))}delete(t){}getAtuacao(t){return this.staff?.find(n=>n.id==t)}getColabFuncao(t){return this.funcoesColaborador?.find(n=>n.id==t)}getColaborador(t){return this.colaboradores?.find(n=>n.id==t)}getColaboradorByCFId(t){return this.getColaborador(this.getColabFuncao(t).id)}getColaboradorByAtuacaoId(t){return this.getColaboradorByCFId(this.getAtuacao(t).colabFuncaoId)}getNomeSupervisor(t){return this.getColaboradorByAtuacaoId(t)?.nome??""}getParticipacoesString(t){let n=[];if(t?.participacoes?.forEach(i=>n.push(this.getColaborador(this.getColabFuncao(this.getAtuacao(i.atuacaoParticipanteId)?.colabFuncaoId)?.colaboradorId)?.nome)),0==n.length)return"";if(1==n.length)return n[0];let o=" e "+n.splice(n.length-1,1)[0];for(o=n.splice(n.length-1,1)[0]+o;n.length>0;)o=n.splice(n.length-1,1)[0]+", "+o;return o}registrarSupervisao(){let t;t=this._modalService.show(Bn,{class:"modal-lg",initialState:{aluno:this.aluno,colaboradores:this.colaboradores,funcoesColaborador:this.funcoesColaborador,staff:this.staff}}),t.content.onSave.subscribe(n=>{null!=n&&(this.supervisoes.push(n),this.showPaging({items:this.supervisoes,totalCount:this.supervisoes.length},this.pageNumber),this.registroCallback.emit())})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.iD),e.rXU(f.I8),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["supervisoes-caso"]],inputs:{aluno:"aluno",colaboradores:"colaboradores",funcoesColaborador:"funcoesColaborador",staff:"staff"},outputs:{registroCallback:"registroCallback"},features:[e.Vt3],decls:26,vars:23,consts:[["class","row m-0 mb-1 justify-content-end text-center",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","20%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"row","m-0","mb-1","justify-content-end","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"]],template:function(n,o){1&n&&(e.DNE(0,Un,5,3,"div",0),e.j41(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"th",4),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"th"),e.EFF(12),e.nI1(13,"localize"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,zn,7,4,"tr",5),e.nI1(16,"paginate"),e.k0s()()(),e.j41(17,"div",6),e.nrm(18,"div",7),e.j41(19,"div",8)(20,"p",9),e.EFF(21),e.nI1(22,"localize"),e.k0s()(),e.j41(23,"div",10)(24,"div",11)(25,"abp-pagination-controls",12),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&n&&(e.Y8G("ngIf",o.permission.isGranted("Business.Personal.Colaborador.Supervisor")),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(7,7,"Supervisor")),e.R7$(3),e.JRh(e.bMT(10,9,"Data & Hora")),e.R7$(3),e.JRh(e.bMT(13,11,"Participantes")),e.R7$(3),e.Y8G("ngForOf",e.i5U(16,13,o.supervisoes,e.sMw(19,Yn,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(6),e.SpI(" ",e.i5U(22,16,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();function Xn(a,d){if(1&a&&(e.j41(0,"option",9),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.JRh(t.nome)}}let qn=(()=>{class a extends _.q{constructor(t,n,o,i,s){super(t),this._protocoloAvaliacaoService=n,this._alunoService=o,this._casoService=i,this.bsModalRef=s,this.saving=!1,this.protocolosAvaliacao=[],this.options=[],this.curAplicacoes=[],this.onSave=new e.bkB}ngOnInit(){this.saving=!0,this.protocolosAvaliacao=[],this._protocoloAvaliacaoService.getAll(void 0,void 0,void 0,void 0,void 0).subscribe(t=>{this.protocolosAvaliacao=t.items,this.options=this.protocolosAvaliacao.filter(n=>this.curAplicacoes.every(o=>o.protocoloAvaliacaoId!=n.id||null!=o.dataArquivamento)),this.saving=!1})}get protocoloAvaliacaoSelected(){if(null!=this.protocoloAvaliacaoIdx)return this.protocolosAvaliacao[this.protocoloAvaliacaoIdx]}save(){this.saving=!0;let t=new c.ZN({casoId:this.aluno.casoId,protocoloAvaliacaoId:this.protocoloAvaliacaoSelected.id});this._casoService.createAplicacaoProtocoloAvaliacao(t).subscribe(n=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit({apli:n,prot:this.protocolosAvaliacao.find(o=>o.id==n.protocoloAvaliacaoId)}),this.saving=!1})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(c.pg),e.rXU(c.iD),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],inputs:{aluno:"aluno"},outputs:{onSave:"onSave"},features:[e.Vt3],decls:11,vars:8,consts:[["selectProtocoloAvaliacaoModal","ngForm"],["protocoloAvaliacaoModel","ngModel","protocoloAvaliacaoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"col-md-6"],["name","protocolo-avaliacao","id","protocolo-avaliacao","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"select",6,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.protocoloAvaliacaoIdx,r)||(o.protocoloAvaliacaoIdx=r),e.Njj(r)}),e.DNE(9,Xn,2,2,"option",7),e.k0s()()(),e.j41(10,"abp-modal-footer",8),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,6,"SelectProtocoloAvaliacao")),e.R7$(4),e.Y8G("disabled",o.saving),e.R50("ngModel",o.protocoloAvaliacaoIdx),e.R7$(3),e.Y8G("ngForOf",o.options),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.xH,l.y7,l.wz,l.BC,l.cb,l.YS,l.vS,l.cV,F.x,k.z,m.S],encapsulation:2})}return a})();const On=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function Hn(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",15)(1,"button",16),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addProtocoloAvaliacao())}),e.nrm(2,"i",17),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("disabled",t.isTableLoading),e.R7$(2),e.SpI(" ",e.bMT(4,2,"AddProtocoloAvaliacao")," ")}}function Jn(a,d){if(1&a){const t=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.delete(o))}),e.nrm(1,"i",24),e.EFF(2),e.nI1(3,"localize"),e.k0s()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Archive")," "))}function xn(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"button",18),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.detailsAplicacaoProtocoloAvaliacao(o))}),e.nrm(9,"i",19),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"button",20),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.detailsProtocoloAvaliacao(o.protocoloAvaliacaoId))}),e.nrm(13,"i",21),e.EFF(14),e.nI1(15,"localize"),e.k0s(),e.DNE(16,Jn,4,3,"button",22),e.k0s()()}if(2&a){let t,n;const o=d.$implicit,i=e.XpG();e.R7$(2),e.JRh(i.getNomeProtocoloAvaliacao(o.protocoloAvaliacaoId)),e.R7$(2),e.JRh(null!==(t=null==o.dataInicio?null:o.dataInicio.format("DD/MM/yyyy"))&&void 0!==t?t:"-"),e.R7$(2),e.JRh(null!==(n=null==o.dataArquivamento?null:o.dataArquivamento.format("DD/MM/yyyy"))&&void 0!==n?n:"-"),e.R7$(4),e.SpI(" ",e.bMT(11,6,"Details")," "),e.R7$(4),e.SpI(" ",e.bMT(15,8,"ViewProtocoloAvaliacao")," "),e.R7$(2),e.Y8G("ngIf",i.permission.isGranted("Business.Personal.Colaborador.Supervisor")&&null==o.dataArquivamento)}}let Ae=(()=>{class a extends A{set aluno(t){this._aluno=t,this.refresh()}get aluno(){return this._aluno}constructor(t,n,o,i,s,r,u,b,g){super(t),this._alunoService=n,this._casoService=o,this._colaboradorService=i,this._protocoloAvaliacaoService=s,this._modalService=r,this._changeDetector=u,this._router=b,this._route=g,this.alunoChange=new e.bkB}ngOnInit(){}detailsProtocoloAvaliacao(t){this._router.navigate(["app","protocolos-avaliacao","details",t])}list(t,n,o){if(this.protocolosAvaliacao=[],this.aplicacoes=[],null==this._aluno||null==this._aluno?.casoId)return o(),void this.showPaging({items:[],totalCount:0},n);this._protocoloAvaliacaoService.getAll(void 0,this._aluno.casoId,void 0,void 0,void 0).subscribe(i=>{this.protocolosAvaliacao=i.items,this._changeDetector.detectChanges()}),this._casoService.getAllAplicacoesProtocoloAvaliacao(this.aluno.casoId,void 0).pipe((0,y.j)(()=>{o()})).subscribe(i=>{this.aplicacoes=i,this.showPaging({items:i,totalCount:i.length},n)})}getNomeProtocoloAvaliacao(t){return this.protocolosAvaliacao?.find(n=>n.id==t)?.nome??""}delete(t){abp.message.confirm('Arquivar o protocolo avaliacao "'+this.getNomeProtocoloAvaliacao(t.protocoloAvaliacaoId)+'" no caso do aluno '+this.aluno.nome+"?",void 0,n=>{if(console.log(n),n){let o=new c.GO({id:t.id});console.log(o),this._casoService.removeAplicacaoProtocoloAvaliacao(o).subscribe(i=>{console.log(i,this.aplicacoes),this.aplicacoes[this.aplicacoes.findIndex(s=>s.id==i.id)]=i,console.log(this.aplicacoes)})}})}addProtocoloAvaliacao(){if(!this.permission.isGranted("Business.Personal.Colaborador.Supervisor"))return;let t;t=this._modalService.show(qn,{class:"modal-lg",initialState:{aluno:this.aluno,curAplicacoes:this.aplicacoes}}),t.content.onSave.subscribe(n=>{this.aplicacoes.push(n.apli),this.protocolosAvaliacao.every(o=>o.id!=n.prot.id)&&this.protocolosAvaliacao.push(n.prot),this.showPaging({items:this.aplicacoes,totalCount:this.aplicacoes.length},this.pageNumber)})}detailsAplicacaoProtocoloAvaliacao(t){this._router.navigate(["app","alunos","details",this.aluno.id,"protocolo-avaliacao",t.id])}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.iD),e.rXU(c.i9),e.rXU(c.WD),e.rXU(f.I8),e.rXU(e.gRc),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["protocolos-avaliacao-caso"]],inputs:{aluno:"aluno"},outputs:{alunoChange:"alunoChange"},features:[e.Vt3],decls:31,vars:26,consts:[["class","row m-0 mb-1 justify-content-end text-center",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"row","m-0","mb-1","justify-content-end","text-center"],[1,"btn","btn-primary",3,"click","disabled"],[1,"fa","fa-plus-square"],["type","button",1,"btn","btn-sm","bg-primary",3,"click"],[1,"fas","fa-eye"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-link"],["type","button","class","btn btn-sm bg-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-danger",3,"click"],[1,"fas","fa-x"]],template:function(n,o){1&n&&(e.DNE(0,Hn,5,4,"div",0),e.j41(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"th"),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"th"),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"th",4),e.EFF(15),e.nI1(16,"localize"),e.k0s()()(),e.j41(17,"tbody"),e.DNE(18,xn,17,10,"tr",5),e.nI1(19,"paginate"),e.k0s()()(),e.j41(20,"div",6)(21,"div",7)(22,"button",8),e.bIt("click",function(){return o.refresh()}),e.nrm(23,"i",9),e.k0s()(),e.j41(24,"div",10)(25,"p",11),e.EFF(26),e.nI1(27,"localize"),e.k0s()(),e.j41(28,"div",12)(29,"div",13)(30,"abp-pagination-controls",14),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&n&&(e.Y8G("ngIf",o.permission.isGranted("Business.Personal.Colaborador.Supervisor")),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(7,8,"Nome")),e.R7$(3),e.JRh(e.bMT(10,10,"Data de In\xedcio")),e.R7$(3),e.JRh(e.bMT(13,12,"Data de Arquivamento")),e.R7$(3),e.JRh(e.bMT(16,14,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(19,16,o.aplicacoes,e.sMw(22,On,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(8),e.SpI(" ",e.i5U(27,19,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();function Ln(a,d){if(1&a&&(e.j41(0,"option",19),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.nome)}}function Zn(a,d){if(1&a&&(e.j41(0,"option",19),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.nome)}}function Wn(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",7)(1,"label",20),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",21)(5,"input",22,3),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.provedor.campoInfo,o)||(i.provedor.campoInfo=o),e.Njj(o)}),e.k0s(),e.nrm(8,"abp-validation-summary",13),e.k0s()()}if(2&a){const t=e.sdS(6),n=e.sdS(7),o=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,5,"Informa\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",o.saving),e.R50("ngModel",o.provedor.campoInfo),e.R7$(3),e.Y8G("control",t)("controlEl",n)}}let Qn=(()=>{class a extends _.q{constructor(t,n,o,i,s){super(t),this._provedorSaudeService=n,this._tipoProvedorSaudeService=o,this._alunoService=i,this.bsModalRef=s,this.saving=!1,this.provedor=new c.ZL,this.tipos=[],this.subtipos=[],this.extraInfo=!1,this.onSave=new e.bkB}ngOnInit(){this.saving=!0,this.tipos=[],this._tipoProvedorSaudeService.getAll(void 0,void 0,void 0).subscribe(t=>{this.tipos=t.items,console.log(this.tipos),this.saving=!1})}get tipoProvedorId(){return this._tipoProvedorId?.toString()??""}set tipoProvedorId(t){this._tipoProvedorId=""!=t?Number(t):void 0,this.subtipoProvedorId="";let n=this.tipos.find(o=>o.id==this._tipoProvedorId);this.subtipos=n?.subtipos??[]}get subtipoProvedorId(){return this.provedor?.subtipoId?.toString()??""}set subtipoProvedorId(t){this.provedor.subtipoId=""!=t?Number(t):void 0;let n=this.subtipos.find(o=>o.id==this.provedor.subtipoId);this.extraInfo=null!=n&&n.usaCampoDadosAdicionais,this.provedor.campoInfo=this.extraInfo?"":void 0}save(){this.saving=!0,this.provedor.alunoId=this.aluno.id,this._provedorSaudeService.create(this.provedor).subscribe(t=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(t),this.saving=!1})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.nw),e.rXU(c.hw),e.rXU(c.pg),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],inputs:{aluno:"aluno"},outputs:{onSave:"onSave"},features:[e.Vt3],decls:31,vars:23,consts:[["selectTipoProvedorSaudeModal","ngForm"],["tipoModel","ngModel","tipoEl",""],["subtipoModel","ngModel","subtipoEl",""],["infoModel","ngModel","infoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","tipo",1,"col-md-3","col-form-label"],[1,"col-md-6"],["name","tipo","id","tipo","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],[1,"form-group","row","required",3,"hidden"],["for","subtipo",1,"col-md-3","col-form-label"],["name","subtipo","id","subtipo","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["class","form-group row required",4,"ngIf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"],["for","info",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","info","id","info","required","","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",4,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",5),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",6)(5,"div",7)(6,"label",8),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",9)(10,"select",10,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.tipoProvedorId,r)||(o.tipoProvedorId=r),e.Njj(r)}),e.j41(13,"option",11),e.EFF(14,"Selecione o tipo de provedor..."),e.k0s(),e.DNE(15,Ln,2,2,"option",12),e.k0s(),e.nrm(16,"abp-validation-summary",13),e.k0s()(),e.j41(17,"div",14)(18,"label",15),e.EFF(19),e.nI1(20,"localize"),e.k0s(),e.j41(21,"div",9)(22,"select",16,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.subtipoProvedorId,r)||(o.subtipoProvedorId=r),e.Njj(r)}),e.j41(25,"option",11),e.EFF(26,"Selecione o subtipo de provedor..."),e.k0s(),e.DNE(27,Zn,2,2,"option",12),e.k0s(),e.nrm(28,"abp-validation-summary",13),e.k0s()(),e.DNE(29,Wn,9,7,"div",17),e.k0s(),e.j41(30,"abp-modal-footer",18),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1),s=e.sdS(11),r=e.sdS(12),u=e.sdS(23),b=e.sdS(24);e.R7$(2),e.Y8G("title",e.bMT(3,17,"SelectTipoProvedorSaude")),e.R7$(5),e.SpI(" ",e.bMT(8,19,"Tipo de Provedor de Sa\xfade")," "),e.R7$(3),e.Y8G("disabled",o.saving),e.R50("ngModel",o.tipoProvedorId),e.R7$(5),e.Y8G("ngForOf",o.tipos),e.R7$(),e.Y8G("control",s)("controlEl",r),e.R7$(),e.Y8G("hidden",""==o.tipoProvedorId),e.R7$(2),e.SpI(" ",e.bMT(20,21,"Subtipo de Provedor de Sa\xfade")," "),e.R7$(3),e.Y8G("disabled",o.saving||""==o.tipoProvedorId),e.R50("ngModel",o.subtipoProvedorId),e.R7$(5),e.Y8G("ngForOf",o.subtipos),e.R7$(),e.Y8G("control",u)("controlEl",b),e.R7$(),e.Y8G("ngIf",o.extraInfo),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[p.Sq,p.bT,l.qT,l.xH,l.y7,l.me,l.wz,l.BC,l.cb,l.YS,l.tU,l.vS,l.cV,S.e,F.x,k.z,m.S],encapsulation:2})}return a})();const Kn=()=>[],ei=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function oi(a,d){if(1&a){const t=e.RV6();e.j41(0,"button",16),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.delete(o))}),e.nrm(1,"i",17),e.EFF(2),e.nI1(3,"localize"),e.k0s()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Delete")," "))}function ti(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.DNE(8,oi,4,3,"button",15),e.k0s()()),2&a){let t,n,o;const i=d.$implicit,s=e.XpG();e.R7$(2),e.JRh(null!==(t=null==(t=s.getTipo(null==(t=s.getSubtipo(i.subtipoId))?null:t.tipoId))?null:t.nome)&&void 0!==t?t:"-"),e.R7$(2),e.JRh(null!==(n=null==(n=s.getSubtipo(i.subtipoId))?null:n.nome)&&void 0!==n?n:"-"),e.R7$(2),e.JRh(null!==(o=null==i?null:i.campoInfo)&&void 0!==o?o:"-"),e.R7$(2),e.Y8G("ngIf",s.permission.isGranted("Business.Admin.People"))}}function ni(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",18)(1,"a",19),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addProvedor())}),e.nrm(2,"i",20),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"AddProvedor")," "))}let Pe=(()=>{class a extends A{set aluno(t){this._aluno=t,this.refresh()}get aluno(){return this._aluno}constructor(t,n,o,i,s,r,u){super(t),this._alunoService=n,this._provedorSaudeService=o,this._tipoProvedorSaudeService=i,this._modalService=s,this._router=r,this._route=u,this.alunoChange=new e.bkB}ngOnInit(){this._tipoProvedorSaudeService.getAll(void 0,void 0,void 0).subscribe(t=>this.tipos=t.items),this.refresh()}list(t,n,o){this.isTableLoading=!0;var i={next:s=>{this.provedores=s.items,this.showPaging(s,n),this.isTableLoading=!1},error:()=>{this.showPaging({items:[],totalCount:0},n),this.isTableLoading=!1}};if(null==this.aluno?.id)return i.error(),void o();this._provedorSaudeService.getAll(this.aluno.id,void 0,void 0).pipe((0,y.j)(()=>{o()})).subscribe(i)}getSubtipo(t){return this.tipos?.flatMap(n=>n.subtipos)?.find(n=>n.id==t)}getTipo(t){return this.tipos?.find(n=>n.id==t)}delete(t){let n=this.getSubtipo(t.subtipoId),o=this.getTipo(n.tipoId);abp.message.confirm('Remover o provedor de sa\xfade "'+o.nome+" ("+n.nome+')" do aluno '+this.aluno.nome+"?",void 0,i=>{i&&this._provedorSaudeService.delete(t.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}addProvedor(){let t;t=this._modalService.show(Qn,{class:"modal-lg",initialState:{aluno:this.aluno}}),t.content.onSave.subscribe(n=>{this.aluno=n,this.alunoChange.emit(n)})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.nw),e.rXU(c.hw),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["provedores-saude-caso"]],inputs:{aluno:"aluno"},outputs:{alunoChange:"alunoChange"},features:[e.Vt3],decls:29,vars:27,consts:[[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","30%"],[2,"width","25%"],[2,"width","15%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],["class","row justify-content-center text-center",4,"ngIf"],["type","button","class","btn btn-sm bg-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-danger",3,"click"],[1,"fas","fa-x"],[1,"row","justify-content-center","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"]],template:function(n,o){if(1&n&&(e.j41(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th",3),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"th",4),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"th",3),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"th",5),e.EFF(14),e.nI1(15,"localize"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,ti,9,4,"tr",6),e.nI1(18,"paginate"),e.k0s()()(),e.j41(19,"div",7),e.nrm(20,"div",8),e.j41(21,"div",9)(22,"p",10),e.EFF(23),e.nI1(24,"localize"),e.k0s()(),e.j41(25,"div",11)(26,"div",12)(27,"abp-pagination-controls",13),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()(),e.DNE(28,ni,5,3,"div",14)),2&n){let i;e.R7$(),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(6,8,"Tipo")),e.R7$(3),e.JRh(e.bMT(9,10,"Subtipo")),e.R7$(3),e.JRh(e.bMT(12,12,"Info")),e.R7$(3),e.JRh(e.bMT(15,14,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(18,16,null!==(i=o.provedores)&&void 0!==i?i:e.lJ4(22,Kn),e.sMw(23,ei,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(6),e.SpI(" ",e.i5U(24,19,"TotalRecordsCount",o.totalItems)," "),e.R7$(5),e.Y8G("ngIf",o.permission.isGranted("Business.Admin.People"))}},dependencies:[p.Sq,p.bT,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();const ii=()=>[];function ai(a,d){if(1&a&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.JRh(t.nome)}}function si(a,d){if(1&a&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.JRh(t.nome)}}let ri=(()=>{class a extends _.q{constructor(t,n,o,i,s){super(t),this._protocoloIntervencaoService=n,this._alunoService=o,this._casoService=i,this.bsModalRef=s,this.loading=!1,this.saving=!1,this.protocolosIntervencao=[],this.onSave=new e.bkB}ngOnInit(){this.loading=!0,this.protocolosIntervencao=[],this._protocoloIntervencaoService.getAll(void 0,void 0).subscribe(t=>{this.protocolosIntervencao=t.items,this.loading=!1})}get protocoloIntervencaoIdx(){return this._protocoloIntervencaoIdx?.toString()??""}set protocoloIntervencaoIdx(t){let n=this._protocoloIntervencaoIdx;this._protocoloIntervencaoIdx=""!=t?Number(t):void 0,n!=this._protocoloIntervencaoIdx&&(this._versaoIdx=void 0,this.updateVersoes())}get protocoloIntervencaoSelected(){if(null!=this._protocoloIntervencaoIdx)return this.protocolosIntervencao[this._protocoloIntervencaoIdx]}updateVersoes(){null!=this._protocoloIntervencaoIdx?(this.loading=!0,this.versoes=[],this._protocoloIntervencaoService.getAllVersoes(this.protocoloIntervencaoSelected.id,void 0,void 0,void 0).subscribe(t=>{this.versoes=t.items,this.loading=!1})):this.versoes=void 0}get versaoIdx(){return this._versaoIdx?.toString()??""}set versaoIdx(t){this._versaoIdx=""!=t?Number(t):void 0,this.updateVersoes()}get versaoSelected(){if(null!=this._versaoIdx)return this.versoes[this._versaoIdx]}save(){this.saving=!0;let t=new c.QF({casoId:this.aluno.casoId,protocoloIntervencaoId:this.versaoSelected.id});this._casoService.createAplicacaoProtocoloIntervencao(t).subscribe(n=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(n),this.saving=!1})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(c.pg),e.rXU(c.iD),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],inputs:{aluno:"aluno"},outputs:{onSave:"onSave"},features:[e.Vt3],decls:24,vars:13,consts:[["selectProtocoloIntervencaoModal","ngForm"],["protocoloIntervencaoModel","ngModel","protocoloIntervencaoEl",""],["versaoModel","ngModel","versaoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row"],["for","protocoloIntervencao",1,"col-md-3","col-form-label"],[1,"col-md-6"],["name","protocoloIntervencao","id","protocoloIntervencao","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","row",3,"hidden"],["for","versao",1,"col-md-3","col-form-label"],["name","versao","id","versao","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",4),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",5)(5,"div",6)(6,"label",7),e.EFF(7," Protocolo de Interven\xe7\xe3o "),e.k0s(),e.j41(8,"div",8)(9,"select",9,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.protocoloIntervencaoIdx,r)||(o.protocoloIntervencaoIdx=r),e.Njj(r)}),e.nrm(12,"option",10),e.DNE(13,ai,2,2,"option",11),e.k0s()()(),e.j41(14,"div",12)(15,"label",13),e.EFF(16," Vers\xe3o "),e.k0s(),e.j41(17,"div",8)(18,"select",14,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.versaoIdx,r)||(o.versaoIdx=r),e.Njj(r)}),e.nrm(21,"option",10),e.DNE(22,si,2,2,"option",11),e.k0s()()()(),e.j41(23,"abp-modal-footer",15),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){let i;const s=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,10,"SelectProtocoloIntervencao")),e.R7$(7),e.Y8G("disabled",o.saving||o.loading),e.R50("ngModel",o.protocoloIntervencaoIdx),e.R7$(4),e.Y8G("ngForOf",o.protocolosIntervencao),e.R7$(),e.Y8G("hidden",null==o.versoes),e.R7$(4),e.Y8G("disabled",o.saving||o.loading),e.R50("ngModel",o.versaoIdx),e.R7$(4),e.Y8G("ngForOf",null!==(i=o.versoes)&&void 0!==i?i:e.lJ4(12,ii)),e.R7$(),e.Y8G("cancelDisabled",o.saving||o.loading)("saveDisabled",!s.form.valid||o.saving||o.loading)}},dependencies:[p.Sq,l.qT,l.xH,l.y7,l.wz,l.BC,l.cb,l.YS,l.vS,l.cV,F.x,k.z,m.S],encapsulation:2})}return a})();const li=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function di(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",15)(1,"a",16),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addProtocoloIntervencao())}),e.nrm(2,"i",17),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"AddProtocoloIntervencao")," "))}function ci(a,d){if(1&a){const t=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.delete(o))}),e.nrm(1,"i",24),e.EFF(2),e.nI1(3,"localize"),e.k0s()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Archive")," "))}function ui(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"button",18),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.detailsAplicacaoProtocoloIntervencao(o.id))}),e.nrm(11,"i",19),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"button",20),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.detailsProtocoloIntervencao(o.modeloId))}),e.nrm(15,"i",21),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.DNE(18,ci,4,3,"button",22),e.k0s()()}if(2&a){let t,n;const o=d.$implicit,i=e.XpG();e.R7$(2),e.JRh(i.getNomeProtocoloIntervencao(o.modeloId)),e.R7$(2),e.JRh(i.getNomeVersaoProtocoloIntervencao(o.modeloId)),e.R7$(2),e.JRh(null!==(t=null==o.dataInicio?null:o.dataInicio.format("DD/MM/yyyy"))&&void 0!==t?t:"-"),e.R7$(2),e.JRh(null!==(n=null==o.dataArquivamento?null:o.dataArquivamento.format("DD/MM/yyyy"))&&void 0!==n?n:"-"),e.R7$(4),e.SpI(" ",e.bMT(13,7,"Details")," "),e.R7$(4),e.SpI(" ",e.bMT(17,9,"ViewProtocoloIntervencao")," "),e.R7$(2),e.Y8G("ngIf",i.permission.isGranted("Business.Personal.Colaborador.Supervisor")&&null==o.dataArquivamento)}}let we=(()=>{class a extends A{set aluno(t){this._aluno=t,this.refresh()}get aluno(){return this._aluno}constructor(t,n,o,i,s,r,u,b){super(t),this._alunoService=n,this._casoService=o,this._colaboradorService=i,this._protocoloIntervencaoService=s,this._modalService=r,this._router=u,this._route=b,this.alunoChange=new e.bkB}ngOnInit(){}detailsProtocoloIntervencao(t){this._router.navigate(["app","protocolos-intervencao","versoes","details",t])}list(t,n,o){if(this.protocolosIntervencao=[],this.aplicacoes=[],null==this._aluno||null==this._aluno?.casoId)return o(),void this.showPaging({items:[],totalCount:0},n);this._protocoloIntervencaoService.getAllVersoes(void 0,this._aluno.casoId,void 0,void 0).subscribe(i=>{this.protocolosIntervencao=i.items}),this._casoService.getAllAplicacoesProtocoloIntervencao(this.aluno.casoId,void 0).pipe((0,y.j)(()=>{o()})).subscribe(i=>{this.aplicacoes=i,this.showPaging({items:i,totalCount:i.length},n)})}getNomeProtocoloIntervencao(t){return this.protocolosIntervencao?.find(n=>n.id==t)?.protocoloIntervencaoNome??t.toString()}getNomeVersaoProtocoloIntervencao(t){return this.protocolosIntervencao?.find(n=>n.id==t)?.nome??t.toString()}delete(t){abp.message.confirm('Arquivar o protocolo "'+this.getNomeProtocoloIntervencao(t.modeloId)+"("+this.getNomeVersaoProtocoloIntervencao(t.modeloId)+')" no caso do aluno '+this.aluno.nome+"?",void 0,n=>{if(n){let o=new c.GO({id:t.id});this._casoService.removeAplicacaoProtocoloIntervencao(o).subscribe(i=>{this.aplicacoes[this.aplicacoes.findIndex(s=>s.id==i.id)]=i})}})}addProtocoloIntervencao(){let t;t=this._modalService.show(ri,{class:"modal-lg",initialState:{aluno:this.aluno}}),t.content.onSave.subscribe(n=>{this.refresh()})}detailsAplicacaoProtocoloIntervencao(t){this._router.navigate(["app","alunos","details",this.aluno.id,"protocolo-intervencao",t])}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.iD),e.rXU(c.i9),e.rXU(c.J3),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["protocolos-intervencao-caso"]],inputs:{aluno:"aluno"},outputs:{alunoChange:"alunoChange"},features:[e.Vt3],decls:34,vars:29,consts:[["class","row m-0 mb-1 justify-content-end text-center",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"row","m-0","mb-1","justify-content-end","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],["type","button",1,"btn","btn-sm","bg-primary",3,"click"],[1,"fas","fa-eye"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-link"],["type","button","class","btn btn-sm bg-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-danger",3,"click"],[1,"fas","fa-x"]],template:function(n,o){1&n&&(e.DNE(0,di,5,3,"div",0),e.j41(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"th"),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"th"),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"th"),e.EFF(15),e.nI1(16,"localize"),e.k0s(),e.j41(17,"th",4),e.EFF(18),e.nI1(19,"localize"),e.k0s()()(),e.j41(20,"tbody"),e.DNE(21,ui,19,11,"tr",5),e.nI1(22,"paginate"),e.k0s()()(),e.j41(23,"div",6)(24,"div",7)(25,"button",8),e.bIt("click",function(){return o.refresh()}),e.nrm(26,"i",9),e.k0s()(),e.j41(27,"div",10)(28,"p",11),e.EFF(29),e.nI1(30,"localize"),e.k0s()(),e.j41(31,"div",12)(32,"div",13)(33,"abp-pagination-controls",14),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&n&&(e.Y8G("ngIf",o.permission.isGranted("Business.Personal.Colaborador.Supervisor")),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(7,9,"Protocolo de Interven\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(10,11,"Vers\xe3o")),e.R7$(3),e.JRh(e.bMT(13,13,"Data de In\xedcio")),e.R7$(3),e.JRh(e.bMT(16,15,"Data de Arquivamento")),e.R7$(3),e.JRh(e.bMT(19,17,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(22,19,o.aplicacoes,e.sMw(25,li,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(8),e.SpI(" ",e.i5U(30,22,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();const pi=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function mi(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"button",22),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.select(o))}),e.nrm(9,"i",23),e.EFF(10),e.nI1(11,"localize"),e.k0s()()()}if(2&a){let t,n;const o=d.$implicit,i=e.XpG();e.R7$(2),e.JRh(i.getNomeColaborador(o.colaboradorId)),e.R7$(2),e.JRh(null!==(t=null==(t=i.getColaborador(o.colaboradorId))?null:t.genero_Nome)&&void 0!==t?t:"-"),e.R7$(2),e.JRh(null!==(n=null==(n=i.getColaborador(o.colaboradorId))||null==n.dataNascimento?null:n.dataNascimento.format("DD/MM/YYYY"))&&void 0!==n?n:"-"),e.R7$(4),e.SpI(" ",e.bMT(11,4,i.buttonString(o))," ")}}let hi=(()=>{class a extends A{get funcaoOrg(){return this.funcoesOrg.find(t=>t.id==this.funcId)}constructor(t,n,o,i,s,r){super(t),this.bsModalRef=n,this._alunoService=o,this._colaboradorService=i,this._casoService=s,this._funcaoOrgService=r,this.funcId=0,this.saving=!1,this.colaboradores=[],this.funcoesColaborador=[],this.options=[],this.staff=[],this.currentStaff=[],this.currentFuncoesColaborador=[],this.onSave=new e.bkB}ngOnInit(){this.currentStaff=this.staff?.filter(t=>null==t.dataFim)??[],null==this.funcoesOrg?this._funcaoOrgService.getAll(void 0,void 0,void 0).subscribe(t=>{this.funcoesOrg=t.items,this.refresh()}):this.refresh()}delete(t){}list(t,n,o){this.colaboradorSelected=void 0,this.isTableLoading=!0;var i=void 0,s=this.funcaoOrg;!this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico")&&!this.permission.isGranted("Business.Admin.People.Assignment")&&(i=this.appSession?.user?.colaborador?.id,null==i&&(this.options=[],this.showPaging({items:this.options,totalCount:this.options.length},n))),this._colaboradorService.getAll(void 0,i,[this.funcId],!0,void 0,void 0,void 0,void 0).subscribe(r=>{this.colaboradores=r.items}),this._colaboradorService.getAllColabFuncoes(void 0,void 0,i,[this.funcId],!0,void 0,void 0,void 0,void 0).pipe((0,y.j)(()=>{o()})).subscribe(r=>{this.funcoesColaborador=r.items,this.options=this.funcoesColaborador.filter(u=>this.currentStaff.every(b=>b.colabFuncaoId!=u.id)),null!=s.funcaoGestoraDiretaId&&(this.options=this.options.filter(u=>this.currentStaff.some(b=>b.colabFuncaoId==u.gestorId))),this.showPaging({items:this.options,totalCount:this.options.length},n)})}getColaborador(t){return this.colaboradores?.find(n=>n.id==t)}getNomeColaborador(t){return this.getColaborador(t)?.nome}selectionToString(){if(null!=this.colaboradorSelected){let t=this.getNomeColaborador(this.colaboradorSelected.colaboradorId)?.split(" ")??[];return 0==t.length?"":t[0]+" "+t.reverse()[0]}return"Nenhum"}select(t){this.colaboradorSelected=t}save(){this.saving=!0;let t=new c.Mb({casoId:this.aluno.casoId,colabFuncaoId:this.colaboradorSelected.id});this._casoService.createAtuacao(t).subscribe(n=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit({atuacao:n,cf:this.colaboradorSelected,colaborador:this.colaboradores.find(o=>o.id==this.colaboradorSelected.colaboradorId)}),this.saving=!1})}buttonString(t){return null==this.colaboradorSelected||t.id!=this.colaboradorSelected.id?"Select":"Deselect"}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(f.Y$),e.rXU(c.pg),e.rXU(c.i9),e.rXU(c.iD),e.rXU(c.AM))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:44,vars:37,consts:[["createAtuacaoModal","ngForm"],["colaboradorModel","ngModel","colaboradorEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","colaborador",1,"col-md-6","col-form-label",2,"font-weight","normal"],["type","hidden","name","colaborador","id","colaborador","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-6"],[1,"m-0","py-2"],[3,"control","controlEl"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[3,"onCancelClick","cancelDisabled","saveDisabled"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"label",6),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"input",7,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.colaboradorSelected,r)||(o.colaboradorSelected=r),e.Njj(r)}),e.k0s(),e.j41(12,"div",8)(13,"label",9),e.EFF(14),e.k0s(),e.nrm(15,"abp-validation-summary",10),e.k0s()(),e.j41(16,"div",11)(17,"table",12)(18,"thead",13)(19,"tr")(20,"th"),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"th"),e.EFF(24),e.nI1(25,"localize"),e.k0s(),e.j41(26,"th"),e.EFF(27),e.nI1(28,"localize"),e.k0s(),e.j41(29,"th"),e.EFF(30),e.nI1(31,"localize"),e.k0s()()(),e.j41(32,"tbody"),e.DNE(33,mi,12,6,"tr",14),e.nI1(34,"paginate"),e.k0s()()(),e.j41(35,"div",15)(36,"div",16)(37,"p",17),e.EFF(38),e.nI1(39,"localize"),e.k0s()(),e.j41(40,"div",18)(41,"div",19)(42,"abp-pagination-controls",20),e.bIt("pageChange",function(r){return e.eBV(i),e.Njj(o.getDataPage(r))}),e.k0s()()()()(),e.j41(43,"abp-modal-footer",21),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1),s=e.sdS(10),r=e.sdS(11);e.R7$(2),e.Y8G("title",e.bMT(3,15,"Add "+o.funcaoOrg.nome)),e.R7$(5),e.SpI(" ",e.bMT(8,17,"Sele\xe7\xe3o atual"),": "),e.R7$(2),e.R50("ngModel",o.colaboradorSelected),e.R7$(5),e.JRh(o.selectionToString()),e.R7$(),e.Y8G("control",s)("controlEl",r),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(22,19,"Nome")),e.R7$(3),e.JRh(e.bMT(25,21,"G\xeanero")),e.R7$(3),e.JRh(e.bMT(28,23,"Data de Nascimento")),e.R7$(3),e.JRh(e.bMT(31,25,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(34,27,o.options,e.sMw(33,pi,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(5),e.SpI(" ",e.i5U(39,30,"TotalRecordsCount",o.totalItems)," "),e.R7$(5),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.me,l.BC,l.cb,l.YS,l.vS,l.cV,D,S.e,F.x,k.z,M,m.S,T.kf],encapsulation:2})}return a})();const fi=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function bi(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",19)(1,"button",20),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.add(o))}),e.nrm(2,"i",21),e.k0s()()}}function _i(a,d){if(1&a){const t=e.RV6();e.j41(0,"button",25),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG(2);return e.Njj(i.deleteColaborador(o))}),e.nrm(1,"i",26),e.k0s()}if(2&a){const t=e.XpG().$implicit;e.Y8G("hidden",null!=t.dataFim)}}function gi(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"button",22),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(2);return e.Njj(i.detailsColaborador(o))}),e.nrm(9,"i",23),e.k0s(),e.DNE(10,_i,2,1,"button",24),e.k0s()()}if(2&a){let t,n,o;const i=d.$implicit,s=e.XpG().$implicit,r=e.XpG();e.R7$(2),e.JRh(null==(t=r.getColaborador(null==(t=r.getFuncaoColaborador(i.colabFuncaoId))?null:t.colaboradorId))?null:t.nome),e.R7$(2),e.JRh(null!==(n=null==i.dataInicio?null:i.dataInicio.format("DD/MM/YYYY"))&&void 0!==n?n:"-"),e.R7$(2),e.JRh(null!==(o=null==i.dataFim?null:i.dataFim.format("DD/MM/YYYY"))&&void 0!==o?o:"-"),e.R7$(4),e.Y8G("ngIf",r.hasRmvPermission(s,i))}}function vi(a,d){1&a&&e.nrm(0,"hr",27)}function Ci(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"label",4),e.EFF(4),e.nI1(5,"localize"),e.k0s(),e.DNE(6,bi,3,0,"div",5),e.k0s(),e.j41(7,"div",6)(8,"table",7)(9,"thead",8)(10,"tr")(11,"th"),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"th",9),e.EFF(15),e.nI1(16,"localize"),e.k0s(),e.j41(17,"th",9),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.j41(20,"th",9),e.EFF(21),e.nI1(22,"localize"),e.k0s()()(),e.j41(23,"tbody"),e.DNE(24,gi,11,4,"tr",10),e.nI1(25,"paginate"),e.k0s()()(),e.j41(26,"div",11)(27,"div",12)(28,"button",13),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.switchActiveOnly(o))}),e.EFF(29),e.nI1(30,"localize"),e.k0s()(),e.j41(31,"div",14)(32,"p",15),e.EFF(33),e.nI1(34,"localize"),e.k0s()(),e.j41(35,"div",12)(36,"div",16)(37,"abp-pagination-controls",17),e.bIt("pageChange",function(o){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.getDataPage(i,o))}),e.k0s()()()(),e.DNE(38,vi,1,0,"hr",18),e.k0s()()}if(2&a){const t=d.$implicit,n=d.index,o=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,11,o.tableNames[t])," "),e.R7$(2),e.Y8G("ngIf",o.hasAddPermission(t)),e.R7$(2),e.Y8G("busy",o.isTableLoading[t]),e.R7$(4),e.JRh(e.bMT(13,13,"Colaborador")),e.R7$(3),e.JRh(e.bMT(16,15,"DataInicio")),e.R7$(3),e.JRh(e.bMT(19,17,"DataFim")),e.R7$(3),e.JRh(e.bMT(22,19,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(25,21,o.items[t],e.sMw(29,fi,o.pageSize,o.pageNumber[t],o.totalItems[t]))),e.R7$(5),e.SpI(" ",o.showActiveOnly[t]?"MostrarHistorico":e.bMT(30,24,"OcultarHistorico")," "),e.R7$(4),e.SpI(" ",e.i5U(34,26,"TotalRecordsCount",o.totalItems[t])," "),e.R7$(5),e.Y8G("ngIf",n!=o.tables.length-1)}}let $e=(()=>{class a extends _.q{get aluno(){return this._aluno}set aluno(t){this._aluno=t}constructor(t,n,o,i,s,r,u,b){super(t),this._alunoService=n,this._casoService=o,this._colaboradorService=i,this._funcaoOrgService=s,this._modalService=r,this._router=u,this._route=b,this.pageSize=10,this.tables=[],this.tableNames=new Map,this.isTableLoading=new Map,this.pageNumber=new Map,this.totalPages=new Map,this.totalItems=new Map,this.showActiveOnly=new Map,this.items=new Map,this.alunoChange=new e.bkB,this.loadingFuncoes=!1,this.loadingStaff=!1}ngOnInit(){this.loadingFuncoes=!0,this._funcaoOrgService.getAll(void 0,void 0,void 0).subscribe(t=>{this.tables=[],this.funcoesOrg=t.items.map(n=>n.nome).sort().map(n=>t.items.find(o=>o.nome==n)).reverse(),this.funcoesOrg.forEach(n=>{"Caso a Caso"==n.acessoCasoNome&&(this.tables.push(n.id),this.tableNames[n.id]=n.nome,this.isTableLoading[n.id]=!1,this.showActiveOnly[n.id]=!0,this.items[n.id]=[],this.pageNumber[n.id]=1,this.totalItems[n.id]=0,this.totalPages[n.id]=1)}),this.loadingFuncoes=!1})}set colaboradores(t){this._colaboradores=t,this.reset()}get colaboradores(){return this._colaboradores}get funcoesColaborador(){return this._funcoesColaborador}set funcoesColaborador(t){this._funcoesColaborador=t,this.reset()}get staff(){return this._staff}set staff(t){this._staff=t,this.reset()}getFuncaoColaborador(t){return this._funcoesColaborador?.find(n=>n.id==t)}getColaborador(t){return this.colaboradores?.find(n=>n.id==t)}reset(){this.tables.forEach(t=>{this.isTableLoading[t]=!0,this.items[t]=[]}),this.staff?.forEach(t=>{let n=this.funcoesColaborador?.find(o=>o.id==t.colabFuncaoId)?.funcaoOrgId;this.tables.includes(n)&&(!this.showActiveOnly[n]||null==t.dataFim)&&this.items[n].push(t)}),this.tables.forEach(t=>{this.pageNumber[t]=1,this.totalItems[t]=this.items[t].length,this.totalPages[t]=(this.items[t].length-this.items[t].length%this.pageSize)/this.pageSize+1,this.isTableLoading[t]=!1})}detailsColaborador(t){var n=this.funcoesColaborador.find(o=>o.id==t.colabFuncaoId);this._router.navigate(["app","colaboradores","details",n.colaboradorId])}getDataPage(t,n){this.isTableLoading[t]=!0,this.totalItems[t]=this.items[t].length,this.totalPages[t]=(this.totalItems[t]-this.totalItems[t]%this.pageSize)/this.pageSize+1,this.pageNumber[t]=n<this.totalPages[t]?n:1,this.isTableLoading[t]=!1}getFuncao(t){return this.funcoesOrg.find(n=>n.id==t)}hasAddPermission(t){let n=this.getFuncao(t);return!(!this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico")&&!this.permission.isGranted("Business.Admin.People.Assignment"))||null!=n.funcaoGestoraDiretaId&&this.permission.isGranted("Business.Personal.Colaborador.Supervisor.Gestor")}hasRmvPermission(t,n){if(this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico")||this.permission.isGranted("Business.Admin.People.Assignment"))return!0;let o=this.getFuncaoColaborador(n.colabFuncaoId);if(null!=this.getFuncao(o.funcaoOrgId).funcaoGestoraDiretaId&&this.permission.isGranted("Business.Personal.Colaborador.Supervisor.Gestor")){let s=this.getFuncaoColaborador(o.gestorId);return this.appSession?.user?.colaborador?.id==s.colaboradorId}}add(t){let n;n=this._modalService.show(hi,{class:"modal-lg",initialState:{aluno:this.aluno,funcoesOrg:this.funcoesOrg,currentFuncoesColaborador:this.funcoesColaborador,staff:this.staff,funcId:t}}),n.content.onSave.subscribe(o=>{this.staff.push(o.atuacao),this.funcoesColaborador.every(i=>i.id!=o.cf.id)&&this.funcoesColaborador.push(o.cf),this.colaboradores.every(i=>i.id!=o.colaborador.id)&&this.colaboradores.push(o.colaborador),this.reset()})}deleteColaborador(t){if(null!=t.dataFim)return;let n=new c.GO({id:t.id});this._casoService.removeAtuacao(n).subscribe(o=>{this.notify.info(this.l("SavedSuccessfully")),this.staff[this.staff.findIndex(i=>i.id==t.id)]=o,this.reset()})}switchActiveOnly(t){this.showActiveOnly[t]=!this.showActiveOnly[t],this.reset()}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.iD),e.rXU(c.i9),e.rXU(c.AM),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["staff-caso"]],inputs:{aluno:"aluno",colaboradores:"colaboradores",funcoesColaborador:"funcoesColaborador",staff:"staff"},outputs:{alunoChange:"alunoChange"},features:[e.Vt3],decls:1,vars:1,consts:[["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col","pl-4","pr-3","m-0"],[1,"row","mx-0","align-content-center","justify-content-center"],[1,"col","m-0","p-0","align-content-center"],["class","col-0 m-0 p-0",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","20%"],[4,"ngFor","ngForOf"],[1,"row","m-0","mb-2","px-2","py-0","text-center"],[1,"col"],["type","button",1,"btn","bg-secondary",3,"click"],[1,"col","text-center"],[1,"mb-0","my-2"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],["class","mt-4 mb-2",4,"ngIf"],[1,"col-0","m-0","p-0"],["type","button",1,"btn","bg-primary","m-1",3,"click"],[1,"fas","fa-plus"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-link"],["type","button","class","btn btn-sm bg-danger",3,"hidden","click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-danger",3,"click","hidden"],[1,"fas","fa-x"],[1,"mt-4","mb-2"]],template:function(n,o){1&n&&e.DNE(0,Ci,39,33,"div",0),2&n&&e.Y8G("ngForOf",o.tables)},dependencies:[p.Sq,p.bT,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();const Ge=()=>[""];function Ii(a,d){if(1&a&&(e.j41(0,"tab",12),e.nI1(1,"localize"),e.nrm(2,"pessoa-account-details",17),e.k0s()),2&a){const t=e.XpG();e.Y8G("heading",e.bMT(1,3,"Conta")),e.R7$(2),e.Y8G("pessoa",t.pessoa)("createUserCallable",t.createUserCallable)}}let Fi=(()=>{class a extends Q{initEmptyPessoa(){return new c.lG}constructor(t,n,o,i,s,r,u,b,g){super(t,r,u,b,g),this._alunoService=n,this._responsavelService=o,this._casoService=i,this._colaboradorService=s,this._paisService=r,this._modalService=u,this._router=b,this._route=g}getPessoa(){const n=Number(this._route.snapshot.paramMap.get("alunoId"));return this._alunoService.get(n)}getTipoPessoa(){return"Aluno"}proccessDto(t){super.proccessDto(t),null!=this.pessoa?.casoId&&(this._casoService.getAllAtuacoes(this.pessoa.casoId,void 0,void 0,void 0,void 0).subscribe(n=>{this.staff=n}),this._colaboradorService.getAllColabFuncoes(void 0,void 0,void 0,void 0,void 0,this.pessoa.casoId,void 0,void 0,void 0).subscribe(n=>{this.funcoesColaborador=n.items}),this._colaboradorService.getAll(void 0,void 0,void 0,void 0,this.pessoa.casoId,void 0,void 0,void 0).subscribe(n=>{this.colaboradores=n.items}))}createUser(t){return this._alunoService.createUserParaPessoa(t)}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.o5),e.rXU(c.iD),e.rXU(c.i9),e.rXU(c.B5),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:40,vars:50,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","mb-2","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[3,"pessoaChange","onClickEdit","pessoa","cidade","uf","pais"],[3,"alunoChange","aluno"],[3,"aluno","staff","funcoesColaborador","colaboradores"],["class","p-3","style","\n                    border: 1px solid #dee2e6; \n                    border-top: 0px; \n                    border-bottom-left-radius: .25rem;\n                    border-bottom-right-radius: .25rem; \n                    background-color: white;",3,"heading",4,"ngIf"],[3,"pessoa","createUserCallable"]],template:function(n,o){if(1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes do Aluno "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"info-pessoal-details",13),e.mxI("pessoaChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.bIt("onClickEdit",function(){return o.editInfoPessoal()}),e.k0s()(),e.j41(18,"tab",12),e.nI1(19,"localize"),e.j41(20,"responsaveis-aluno",14),e.mxI("alunoChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.k0s()(),e.j41(21,"tab",12),e.nI1(22,"localize"),e.j41(23,"provedores-saude-caso",14),e.mxI("alunoChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.k0s()(),e.j41(24,"tab",12),e.nI1(25,"localize"),e.nrm(26,"staff-caso",15),e.k0s(),e.j41(27,"tab",12),e.nI1(28,"localize"),e.nrm(29,"supervisoes-caso",15),e.k0s(),e.j41(30,"tab",12),e.nI1(31,"localize"),e.nrm(32,"atendimentos-caso",15),e.k0s(),e.j41(33,"tab",12),e.nI1(34,"localize"),e.j41(35,"protocolos-avaliacao-caso",14),e.mxI("alunoChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.k0s()(),e.j41(36,"tab",12),e.nI1(37,"localize"),e.j41(38,"protocolos-intervencao-caso",14),e.mxI("alunoChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.k0s()(),e.DNE(39,Ii,3,5,"tab",16),e.k0s()()()()),2&n){let i;e.Y8G("@routerTransition",void 0),e.R7$(11),e.Lme(" ",(null!==(i=null==o.pessoa||null==o.pessoa.nome?null:o.pessoa.nome.split(" "))&&void 0!==i?i:e.lJ4(48,Ge))[0]," ",(null!==(i=null==o.pessoa||null==o.pessoa.nome||null==(i=o.pessoa.nome.split(" "))?null:i.reverse())&&void 0!==i?i:e.lJ4(49,Ge))[0]," "),e.R7$(4),e.Y8G("heading",e.bMT(16,32,"PersonalInfo")),e.R7$(2),e.R50("pessoa",o.pessoa),e.Y8G("cidade",o.cidade)("uf",o.uf)("pais",o.pais),e.R7$(),e.Y8G("heading",e.bMT(19,34,"Responsaveis")),e.R7$(2),e.R50("aluno",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(22,36,"ProvedoresSaude")),e.R7$(2),e.R50("aluno",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(25,38,"Staff")),e.R7$(2),e.Y8G("aluno",o.pessoa)("staff",o.staff)("funcoesColaborador",o.funcoesColaborador)("colaboradores",o.colaboradores),e.R7$(),e.Y8G("heading",e.bMT(28,40,"Supervisoes")),e.R7$(2),e.Y8G("aluno",o.pessoa)("staff",o.staff)("funcoesColaborador",o.funcoesColaborador)("colaboradores",o.colaboradores),e.R7$(),e.Y8G("heading",e.bMT(31,42,"Atendimentos")),e.R7$(2),e.Y8G("aluno",o.pessoa)("staff",o.staff)("funcoesColaborador",o.funcoesColaborador)("colaboradores",o.colaboradores),e.R7$(),e.Y8G("heading",e.bMT(34,44,"ProtocolosAvaliacao")),e.R7$(2),e.R50("aluno",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(37,46,"ProtocolosIntervencao")),e.R7$(2),e.R50("aluno",o.pessoa),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Admin.People"))}},dependencies:[p.bT,I.V6,I.fw,H,ie,Ee,Te,ye,Ae,Pe,we,$e,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();const ki=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function ji(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function Ri(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"button",38),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.detailsResponsavel(o))}),e.nrm(11,"i",39),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){let t,n,o;const i=d.$implicit;e.R7$(2),e.JRh(i.nome),e.R7$(2),e.JRh(null!==(t=i.genero_Nome)&&void 0!==t?t:"-"),e.R7$(2),e.JRh(null!==(n=i.cpf)&&void 0!==n?n:"-"),e.R7$(2),e.JRh(null!==(o=null==i.dataNascimento?null:i.dataNascimento.format("DD/MM/yyyy"))&&void 0!==o?o:"-"),e.R7$(4),e.SpI(" ",e.bMT(13,5,"Details")," ")}}let Si=(()=>{class a extends A{constructor(t,n,o,i,s){super(t),this._responsaveisService=n,this._modalService=o,this._router=i,this._route=s,this.responsaveis=[],this.keyword="",this.advancedFiltersVisible=!1}createResponsavel(){let t;t=this._modalService.show(Me,{class:"modal-lg"}),t.content.onSave.subscribe(()=>{this.refresh()})}detailsResponsavel(t){this._router.navigate(["details",t.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.isActive=void 0,this.getDataPage(1)}list(t,n,o){t.keyword=this.keyword,this._responsaveisService.getAll(t.keyword,t.skipCount,t.maxResultCount).pipe((0,y.j)(()=>{o()})).subscribe(i=>{this.responsaveis=i.items,this.showPaging(i,n)})}delete(t){abp.message.confirm("O seguinte endere\xe7o ser\xe1 exclu\xeddo do banco",void 0,n=>{n&&this._responsaveisService.delete(t.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.o5),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:65,vars:44,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"]],template:function(n,o){1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createResponsavel()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,ji,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th"),e.EFF(45),e.nI1(46,"localize"),e.k0s(),e.j41(47,"th",24),e.EFF(48),e.nI1(49,"localize"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,Ri,14,7,"tr",25),e.nI1(52,"paginate"),e.k0s()()()(),e.j41(53,"div",26)(54,"div",2)(55,"div",27)(56,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(57,"i",29),e.k0s()(),e.j41(58,"div",30)(59,"p",31),e.EFF(60),e.nI1(61,"localize"),e.k0s()(),e.j41(62,"div",32)(63,"div",33)(64,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&n&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,18,"Responsaveis")),e.R7$(5),e.SpI(" ",e.bMT(12,20,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,22,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,24,"Nome")),e.R7$(3),e.JRh(e.bMT(40,26,"G\xeanero")),e.R7$(3),e.JRh(e.bMT(43,28,"CPF")),e.R7$(3),e.JRh(e.bMT(46,30,"Data de Nascimento")),e.R7$(3),e.JRh(e.bMT(49,32,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(52,34,o.responsaveis,e.sMw(40,ki,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(61,37,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();function Mi(a,d){if(1&a&&(e.j41(0,"option",12),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.Lme("",t.nome," - ",t.cpf,"")}}let Ve=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._alunoService=n,this.bsModalRef=o,this.loading=!1,this.onSubmit=new e.bkB}ngOnInit(){this.loading=!0,this._alunoService.getAll(void 0,void 0,void 0).subscribe(t=>{this.alunos=t.items,this.loading=!1})}get selected(){return this._selected?.toString()??""}set selected(t){this._selected=null==t||""==t?void 0:Number(t)}submit(){this.onSubmit.emit(this.alunos[this._selected]),this.bsModalRef.hide()}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:14,vars:8,consts:[["selectAlunoModal","ngForm"],["selectedModel","ngModel","selectedEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","text-center"],[1,"col-md-9"],["required","","id","selected","name","selected",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],[3,"onCancelClick","saveDisabled"],[3,"value"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.submit())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"div",6)(7,"select",7,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.selected,r)||(o.selected=r),e.Njj(r)}),e.nrm(10,"option",8),e.DNE(11,Mi,2,3,"option",9),e.k0s(),e.nrm(12,"abp-validation-summary",10),e.k0s()()(),e.j41(13,"abp-modal-footer",11),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1),s=e.sdS(8),r=e.sdS(9);e.R7$(2),e.Y8G("title",e.bMT(3,6,"SelectNewAluno")),e.R7$(5),e.R50("ngModel",o.selected),e.R7$(4),e.Y8G("ngForOf",o.alunos),e.R7$(),e.Y8G("control",s)("controlEl",r),e.R7$(),e.Y8G("saveDisabled",!i.form.valid||o.loading)}},dependencies:[p.Sq,l.qT,l.xH,l.y7,l.wz,l.BC,l.cb,l.YS,l.vS,l.cV,S.e,F.x,k.z,m.S],encapsulation:2})}return a})();const Ei=()=>[];function Ti(a,d){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"div",5)(2,"label",6),e.EFF(3),e.k0s(),e.j41(4,"div",7)(5,"a",2),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.detailsDependente(o))}),e.nrm(6,"i",8),e.k0s()()(),e.bVm()}if(2&a){const t=d.$implicit,n=e.XpG();e.R7$(3),e.SpI(" ",n.getDependenteNome(t)," ")}}let Ne=(()=>{class a extends _.q{set responsavel(t){this._responsavel=t,this.refresh()}get responsavel(){return this._responsavel}constructor(t,n,o,i,s,r,u){super(t),this._responsavelService=n,this._alunoService=o,this._modalService=i,this._changeDetector=s,this._router=r,this._route=u,this.responsavelChange=new e.bkB}ngOnInit(){this.refresh()}refresh(){this.dependentes=[],this.responsavel?.dependentes?.forEach(t=>{this._alunoService.get(t.id).subscribe(n=>{this.dependentes.push(n)})})}getDependenteNome(t){return this.dependentes?.find(n=>n.id==t.id)?.nome??""}detailsDependente(t){this._router.navigate(this.appSession.user.aluno?.id==t.id?["app","personal"]:["app","alunos","details",t.id])}cadastrarDependente(){this._modalService.show(ne,{class:"modal-lg",initialState:{temResponsavelPredefinido:!0,responsavel:this.responsavel}}).content.onSave.subscribe(n=>{null!=n&&(this.responsavel.dependentes.push(new c.GO({id:n.id})),this.dependentes.push(n))})}addDependente(){this._modalService.show(Ve,{class:"modal-lg"}).content.onSubmit.subscribe(n=>{this.responsavel.dependentes.push(new c.GO({id:n.id})),this._responsavelService.update(this.responsavel).subscribe(o=>{this.responsavel=o,this.responsavelChange.emit(o),this.dependentes.push(n)})})}podeAddDependentes(){return this.permission.isGranted("Business.Admin.People")}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.o5),e.rXU(c.pg),e.rXU(f.I8),e.rXU(e.gRc),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["dependentes-details"]],inputs:{responsavel:"responsavel"},outputs:{responsavelChange:"responsavelChange"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:12,vars:9,consts:[[1,"row","mb-2",3,"hidden"],[1,"col","text-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-0"],[1,"col-2"],[1,"fa","fa-link"]],template:function(n,o){if(1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"a",2),e.bIt("click",function(){return o.cadastrarDependente()}),e.nrm(3,"i",3),e.EFF(4),e.nI1(5,"localize"),e.k0s()(),e.j41(6,"div",1)(7,"a",2),e.bIt("click",function(){return o.addDependente()}),e.nrm(8,"i",3),e.EFF(9),e.nI1(10,"localize"),e.k0s()()(),e.DNE(11,Ti,7,1,"ng-container",4)),2&n){let i;e.Y8G("hidden",!o.podeAddDependentes()),e.R7$(4),e.SpI(" ",e.bMT(5,4,"CadastrarDependente")," "),e.R7$(5),e.SpI(" ",e.bMT(10,6,"AddDependente")," "),e.R7$(2),e.Y8G("ngForOf",null!==(i=null==o.responsavel?null:o.responsavel.dependentes)&&void 0!==i?i:e.lJ4(8,Ei))}},dependencies:[p.Sq,m.S],encapsulation:2})}return a})();const Be=()=>[""];function Di(a,d){if(1&a&&(e.j41(0,"tab",12),e.nI1(1,"localize"),e.nrm(2,"pessoa-account-details",16),e.k0s()),2&a){const t=e.XpG();e.Y8G("heading",e.bMT(1,3,"Conta")),e.R7$(2),e.Y8G("pessoa",t.pessoa)("createUserCallable",t.createUserCallable)}}let yi=(()=>{class a extends Q{initEmptyPessoa(){return new c.I4}constructor(t,n,o,i,s,r,u){super(t,i,s,r,u),this._responsavelService=n,this._alunoService=o,this._paisService=i,this._modalService=s,this._router=r,this._route=u}getPessoa(){const n=Number(this._route.snapshot.paramMap.get("responsavelId"));return this._responsavelService.get(n)}getTipoPessoa(){return"Responsavel"}proccessDto(t){super.proccessDto(t);let n=[];this.pessoa.dependentes.forEach(o=>{this._alunoService.get(o.id).subscribe(i=>{n.push(i)})}),this.dependentes=n}getDependenteNome(t){return this.dependentes?.find(n=>n.id==t.id)?.nome??""}detailsDependente(t){console.log(this.appSession.user),this._router.navigate(this.appSession.user.aluno?.id==t.id?["app","personal"]:["app","alunos","details",t.id])}cadastrarDependente(){this._modalService.show(ne,{class:"modal-lg",initialState:{temResponsavelPredefinido:!0,responsavel:this.pessoa}}).content.onSave.subscribe(this.ngOnInit.bind(this))}addDependente(){this._modalService.show(Ve,{class:"modal-lg"}).content.onSubmit.subscribe(n=>{this.pessoa.dependentes.push(new c.GO({id:n.id})),this._responsavelService.update(this.pessoa).subscribe(o=>{this.pessoa=o,this.dependentes.push(n)})})}createUser(t){return this._responsavelService.createUserParaPessoa(t)}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.o5),e.rXU(c.pg),e.rXU(c.B5),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:22,vars:17,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[3,"pessoaChange","onClickEdit","pessoa","cidade","uf","pais"],[3,"responsavelChange","responsavel"],["class","p-3","style","\n                    border: 1px solid #dee2e6; \n                    border-top: 0px; \n                    border-bottom-left-radius: .25rem;\n                    border-bottom-right-radius: .25rem; \n                    background-color: white;",3,"heading",4,"ngIf"],[3,"pessoa","createUserCallable"]],template:function(n,o){if(1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes do Responsavel "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"info-pessoal-details",13),e.mxI("pessoaChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.bIt("onClickEdit",function(){return o.editInfoPessoal()}),e.k0s()(),e.j41(18,"tab",12),e.nI1(19,"localize"),e.j41(20,"dependentes-details",14),e.mxI("responsavelChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.k0s()(),e.DNE(21,Di,3,5,"tab",15),e.k0s()()()()),2&n){let i;e.Y8G("@routerTransition",void 0),e.R7$(11),e.Lme(" ",(null!==(i=null==o.pessoa||null==o.pessoa.nome?null:o.pessoa.nome.split(" "))&&void 0!==i?i:e.lJ4(15,Be))[0]," ",(null!==(i=null==o.pessoa||null==o.pessoa.nome||null==(i=o.pessoa.nome.split(" "))?null:i.reverse())&&void 0!==i?i:e.lJ4(16,Be))[0]," "),e.R7$(4),e.Y8G("heading",e.bMT(16,11,"PersonalInfo")),e.R7$(2),e.R50("pessoa",o.pessoa),e.Y8G("cidade",o.cidade)("uf",o.uf)("pais",o.pais),e.R7$(),e.Y8G("heading",e.bMT(19,13,"AlunosDependentes")),e.R7$(2),e.R50("responsavel",o.pessoa),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Admin.People"))}},dependencies:[p.bT,I.V6,I.fw,H,ie,Ne,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})(),Ai=(()=>{class a extends _.q{constructor(t,n,o){super(t),this.userServiceProxy=n,this.router=o,this.saving=!1,this.changePasswordDto=new c.$h,this.newPasswordValidationErrors=[{name:"pattern",localizationKey:"PasswordsMustBeAtLeast8CharactersContainLowercaseUppercaseNumber"}],this.confirmNewPasswordValidationErrors=[{name:"validateEqual",localizationKey:"PasswordsDoNotMatch"}]}changePassword(){this.saving=!0,this.userServiceProxy.changePassword(this.changePasswordDto).pipe((0,y.j)(()=>{this.saving=!1})).subscribe(t=>{t&&(abp.message.success("Password changed successfully","Success"),this.router.navigate(["/"]))})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.LC),e.rXU(h.Ix))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:46,vars:27,consts:[["changePasswordForm","ngForm"],["currentPasswordModel","ngModel","currentPasswordEl",""],["newPasswordModel","ngModel","newPasswordEl",""],["confirmNewPasswordModel","ngModel","confirmNewPasswordEl",""],[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"content","px-2"],[1,"card"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[1,"card-body"],[1,"modal-body"],[1,"form-group","row","required"],["for","currentPassword",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","password","name","currentPassword","id","currentPassword","required","","minlength","2","maxlength","32",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","newPassword",1,"col-md-3","col-form-label"],["type","password","name","newPassword","id","newPassword","required","","minlength","2","maxlength","32","validateEqual","confirmNewPassword","reverse","true","pattern","(?=^.{8,}$)(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s)[0-9a-zA-Z!@#$%^&*()]*$",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl","customValidationErrors"],["for","confirmNewPassword",1,"col-md-3","col-form-label"],["type","password","name","confirmNewPassword","id","confirmNewPassword","required","","minlength","2","maxlength","32","validateEqual","newPassword","reverse","false","ngModel","",1,"form-control"],[1,"card-footer","justify-content-between"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"div")(1,"section",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()()(),e.j41(8,"section",8)(9,"div",5)(10,"div",9)(11,"form",10,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.changePassword())}),e.j41(13,"div",11)(14,"div",12)(15,"div",13)(16,"label",14),e.EFF(17),e.nI1(18,"localize"),e.k0s(),e.j41(19,"div",15)(20,"input",16,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.changePasswordDto.currentPassword,r)||(o.changePasswordDto.currentPassword=r),e.Njj(r)}),e.k0s(),e.nrm(23,"abp-validation-summary",17),e.k0s()(),e.j41(24,"div",13)(25,"label",18),e.EFF(26),e.nI1(27,"localize"),e.k0s(),e.j41(28,"div",15)(29,"input",19,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.changePasswordDto.newPassword,r)||(o.changePasswordDto.newPassword=r),e.Njj(r)}),e.k0s(),e.nrm(32,"abp-validation-summary",20),e.k0s()(),e.j41(33,"div",13)(34,"label",21),e.EFF(35),e.nI1(36,"localize"),e.k0s(),e.j41(37,"div",15),e.nrm(38,"input",22,3)(41,"abp-validation-summary",20),e.k0s()()()(),e.j41(42,"div",23)(43,"button",24),e.EFF(44),e.nI1(45,"localize"),e.k0s()()()()()()()}if(2&n){const i=e.sdS(12),s=e.sdS(21),r=e.sdS(22),u=e.sdS(30),b=e.sdS(31),g=e.sdS(39),C=e.sdS(40);e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,17,"UpdatePassword")),e.R7$(11),e.SpI(" ",e.bMT(18,19,"CurrentPassword")," "),e.R7$(3),e.R50("ngModel",o.changePasswordDto.currentPassword),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(27,21,"NewPassword")," "),e.R7$(3),e.R50("ngModel",o.changePasswordDto.newPassword),e.R7$(3),e.Y8G("control",u)("controlEl",b)("customValidationErrors",o.newPasswordValidationErrors),e.R7$(3),e.SpI(" ",e.bMT(36,23,"ConfirmNewPassword")," "),e.R7$(6),e.Y8G("control",g)("controlEl",C)("customValidationErrors",o.confirmNewPasswordValidationErrors),e.R7$(2),e.Y8G("disabled",!i.form.valid||o.saving),e.R7$(),e.SpI(" ",e.bMT(45,25,"Save")," ")}},dependencies:[l.qT,l.me,l.BC,l.cb,l.YS,l.xh,l.tU,l.R_,l.vS,l.cV,S.e,Ce,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();function Pi(a,d){if(1&a&&(e.j41(0,"option",9),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.JRh(t)}}let wi=(()=>{class a extends _.q{constructor(t,n){super(t),this.bsModalRef=n,this.saving=!1,this.title="",this.options=[],this.onSubmit=new e.bkB}ngOnInit(){}get idxSelected(){return this._idxSelected?.toString()??""}set idxSelected(t){this._idxSelected=""==t||null==t?void 0:Number(t)}save(){this.saving=!0,this.onSubmit.emit(this._idxSelected),this.bsModalRef.hide(),this.saving=!1}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:11,vars:8,consts:[["singleSelectorModal","ngForm"],["selectionModel","ngModel","selectionEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"col"],["name","selection","id","selection","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"select",6,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.idxSelected,r)||(o.idxSelected=r),e.Njj(r)}),e.DNE(9,Pi,2,2,"option",7),e.k0s()()(),e.j41(10,"abp-modal-footer",8),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,6,o.title)),e.R7$(4),e.Y8G("disabled",o.saving),e.R50("ngModel",o.idxSelected),e.R7$(3),e.Y8G("ngForOf",o.options),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.xH,l.y7,l.wz,l.BC,l.cb,l.YS,l.vS,l.cV,F.x,k.z,m.S],encapsulation:2})}return a})();const $i=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function Gi(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s()()),2&a){let t,n;const o=d.$implicit,i=e.XpG();e.R7$(2),e.JRh(null==(t=i.getFuncao(null==o?null:o.funcaoOrgId))?null:t.nome),e.R7$(2),e.JRh(i.getGestorString(o)),e.R7$(2),e.JRh(o.dataInicio.format("DD/MM/yyyy")),e.R7$(2),e.JRh(null!==(n=null==o.dataFim?null:o.dataFim.format("DD/MM/yyyy"))&&void 0!==n?n:"-")}}let Vi=(()=>{class a extends A{constructor(){super(...arguments),this.funcoesHistoricas=[]}set historicoFuncoes(t){this._historicoFuncoes=t,this.refresh()}get historicoFuncoes(){return this._historicoFuncoes}getFuncao(t){return this.funcoes?.find(n=>n.id==t)}getGestorString(t){if(null==t)return"...";var n=this.getFuncao(t.funcaoOrgId);if(null==n)return"...";if(null==n.funcaoGestoraDiretaId)return"N/A";if(null==t.gestorId)return"N\xe3o atribu\xeddo";var o=this.gerentesCF?.find(s=>s.id==t?.gestorId),i=this.gerentes?.find(s=>s.id==o?.colaboradorId);return null==i?"...":i.nome}ngOnInit(){super.ngOnInit(),this.refresh()}list(t,n,o){this.funcoesHistoricas=[],this.historicoFuncoes.forEach(i=>{null!=i.dataFim&&this.funcoesHistoricas.push(i)}),this.showPaging({items:this.funcoesHistoricas,totalCount:this.funcoesHistoricas.length},n),o()}delete(){}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(a)))(o||a)}})();static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["historico-funcoes-table"]],inputs:{historicoFuncoes:"historicoFuncoes",funcoes:"funcoes",gerentesCF:"gerentesCF",gerentes:"gerentes"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:27,vars:25,consts:[[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","25%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th"),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"th",3),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"th",3),e.EFF(14),e.nI1(15,"localize"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,Gi,9,4,"tr",4),e.nI1(18,"paginate"),e.k0s()()(),e.j41(19,"div",5)(20,"div",6)(21,"p",7),e.EFF(22),e.nI1(23,"localize"),e.k0s()(),e.j41(24,"div",8)(25,"div",9)(26,"abp-pagination-controls",10),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&n&&(e.R7$(),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(6,7,"Fun\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(9,9,"Gestor")),e.R7$(3),e.JRh(e.bMT(12,11,"Data In\xedcio")),e.R7$(3),e.JRh(e.bMT(15,13,"Data Fim")),e.R7$(3),e.Y8G("ngForOf",e.i5U(18,15,o.funcoesHistoricas,e.sMw(21,$i,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(5),e.SpI(" ",e.i5U(23,18,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,D,M,m.S,T.kf],encapsulation:2})}return a})();const Ni=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function Bi(a,d){if(1&a){const t=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.delete(o))}),e.nrm(1,"i",13),e.EFF(2),e.nI1(3,"localize"),e.k0s()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Remover Fun\xe7\xe3o")," "))}function Yi(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.DNE(8,Bi,4,3,"button",11),e.k0s()()),2&a){let t;const n=d.$implicit,o=e.XpG();e.R7$(2),e.JRh(null==(t=o.getFuncao(n.funcaoOrgId))?null:t.nome),e.R7$(2),e.JRh(o.getGestorString(n)),e.R7$(2),e.JRh(null==n||null==n.dataInicio?null:n.dataInicio.format("DD/MM/yyyy")),e.R7$(2),e.Y8G("ngIf",o.permission.isGranted("Business.Admin.People"))}}let Ui=(()=>{class a extends A{constructor(){super(...arguments),this.funcoesAtuais=[],this.rmvFuncao=new e.bkB}set historicoFuncoes(t){this._historicoFuncoes=t,this.refresh()}get historicoFuncoes(){return this._historicoFuncoes}ngOnInit(){super.ngOnInit(),this.refresh()}list(t,n,o){this.funcoesAtuais=[],this.historicoFuncoes.forEach(i=>{null==i.dataFim&&this.funcoesAtuais.push(i)}),this.showPaging({items:this.funcoesAtuais,totalCount:this.funcoesAtuais.length},n),o()}getFuncao(t){return this.funcoes?.find(n=>n.id==t)}getGestorString(t){var n=this.getFuncao(t.funcaoOrgId);if(null==n?.funcaoGestoraDiretaId)return"N/A";if(null==t?.gestorId)return"N\xe3o atribu\xeddo";var o=this.gerentesCF?.find(s=>s?.id==t?.gestorId),i=this.gerentes?.find(s=>s?.id==o?.colaboradorId);return null==i?"...":i.nome}delete(t){this.rmvFuncao.emit(t)}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(a)))(o||a)}})();static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["funcoes-atuais-table"]],inputs:{historicoFuncoes:"historicoFuncoes",funcoes:"funcoes",gerentesCF:"gerentesCF",gerentes:"gerentes"},outputs:{rmvFuncao:"rmvFuncao"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:25,vars:22,consts:[[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","25%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],["type","button","class","btn btn-sm bg-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-danger",3,"click"],[1,"fas","fa-x"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th"),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.nrm(13,"th",3),e.k0s()(),e.j41(14,"tbody"),e.DNE(15,Yi,9,4,"tr",4),e.nI1(16,"paginate"),e.k0s()()(),e.j41(17,"div",5)(18,"div",6)(19,"p",7),e.EFF(20),e.nI1(21,"localize"),e.k0s()(),e.j41(22,"div",8)(23,"div",9)(24,"abp-pagination-controls",10),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&n&&(e.R7$(),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(6,6,"Fun\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(9,8,"Gestor")),e.R7$(3),e.JRh(e.bMT(12,10,"In\xedcio")),e.R7$(4),e.Y8G("ngForOf",e.i5U(16,12,o.funcoesAtuais,e.sMw(18,Ni,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(5),e.SpI(" ",e.i5U(21,15,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,D,M,m.S,T.kf],encapsulation:2})}return a})();function zi(a,d){if(1&a){const t=e.RV6();e.j41(0,"button",9),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addFuncaoPopup())}),e.nrm(1,"i",10),e.EFF(2),e.nI1(3,"localize"),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("disabled",t.loading),e.R7$(2),e.SpI(" ",e.bMT(3,2,"Add Fun\xe7\xe3o")," ")}}let Ye=(()=>{class a extends _.q{constructor(t,n,o,i,s,r,u){super(t),this._colaboradorService=n,this._funcaoOrgService=o,this._changeDetector=i,this._modalService=s,this._router=r,this._route=u,this.loadingFuncoes=!1,this.loadingHistorico=!1,this.funcoesChange=new e.bkB,this.historicoFuncoes=[],this.historicoFuncoesChange=new e.bkB,this.gerentesChange=new e.bkB,this.gerentesCFChange=new e.bkB,this.busy=!1}get loading(){return this.loadingFuncoes||this.loadingHistorico}get colaboradorId(){return this._colaboradorId}set colaboradorId(t){this._colaboradorId=t,this.refresh()}ngOnInit(){this.loadingFuncoes=!0,this.funcoes=[],this._funcaoOrgService.getAll(void 0,void 0,void 0).subscribe(t=>{this.funcoes=t.items,this.funcoesChange.emit(this.funcoes),this.loadingFuncoes=!1}),this.refresh()}refresh(){this.loadingHistorico=!0,this.historicoFuncoes=[],this._colaboradorService.getAllColabFuncoes(this.colaboradorId,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0).subscribe(t=>{this.historicoFuncoes=t.items,this.historicoFuncoesChange.emit(this.historicoFuncoes),this.gerentes=[],this.gerentesChange.emit(this.gerentes),this.gerentesCF=[],this.gerentesCFChange.emit(this.gerentesCF),this.historicoFuncoes.forEach(n=>{null!=n.gestorId&&this._colaboradorService.getColabFuncao(n.gestorId).subscribe(o=>{this.gerentesCF.push(o),this._colaboradorService.get(o.colaboradorId).subscribe(i=>{this.gerentes.push(i)})})}),this.loadingHistorico=!1})}getTipoPessoa(){return"Colaborador"}getCFs(t){return null==t?this.historicoFuncoes:this.historicoFuncoes.filter(n=>n.funcaoOrgId==t.id)}getCFsAtivos(t){return this.getCFs(t).filter(n=>null==n.dataFim)}hasFuncao(t){return this.getCFsAtivos(t).length>0}rmvFuncao(t){if(this.busy)return;let n;if(this.busy=!0,t instanceof c.HI)n=t?.id;else{let o=this.getCFsAtivos(t);if(0==o.length)return null;n=o[0].id}this._colaboradorService.deleteColabFuncao(new c.GO({id:n})).subscribe(o=>{this.refresh(),this.notify.info(this.l("SavedSuccessfully")),this.busy=!1})}addFuncao(t){if(this.busy)return;this.busy=!0;let n=new c.R3({colaboradorId:this.colaboradorId,funcaoOrgId:t.id,gestorId:void 0});this._colaboradorService.createColabFuncao(n).subscribe(o=>{this.refresh(),this.notify.info(this.l("SavedSuccessfully")),this.busy=!1})}addFuncaoPopup(){let o,t=[],n=[];this.funcoes.forEach(i=>{this.hasFuncao(i)||(t.push(i),n.push(i.nome))}),o=this._modalService.show(wi,{class:"modal-lg",initialState:{title:"SelectFuncao",options:n}}),o.content.onSubmit.subscribe(i=>{this.addFuncao(t[i])})}podeAddFuncao(){return this.permission.isGranted("Business.Admin.People")}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.i9),e.rXU(c.AM),e.rXU(e.gRc),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["funcoes-colaborador-details"]],inputs:{colaboradorId:"colaboradorId",funcoes:"funcoes",historicoFuncoes:"historicoFuncoes",gerentes:"gerentes",gerentesCF:"gerentesCF"},outputs:{funcoesChange:"funcoesChange",historicoFuncoesChange:"historicoFuncoesChange",gerentesChange:"gerentesChange",gerentesCFChange:"gerentesCFChange"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:16,vars:15,consts:[[1,"container-fluid","col","p-0","m-0"],[1,"row","m-0","pt-1","justify-content-between"],[1,"col-0"],["type","button","class","col-0 btn btn-sm bg-primary",3,"disabled","click",4,"ngIf"],[1,"row","m-0","pb-1"],[1,"col"],[3,"rmvFuncao","funcoes","historicoFuncoes","gerentes","gerentesCF"],[1,"row","m-0","pt-1"],[3,"funcoes","historicoFuncoes","gerentes","gerentesCF"],["type","button",1,"col-0","btn","btn-sm","bg-primary",3,"click","disabled"],[1,"fas","fa-plus-square"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"label",2),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.DNE(5,zi,4,4,"button",3),e.k0s(),e.j41(6,"div",4)(7,"div",5)(8,"funcoes-atuais-table",6),e.bIt("rmvFuncao",function(s){return o.rmvFuncao(s)}),e.k0s()()(),e.j41(9,"div",7)(10,"label"),e.EFF(11),e.nI1(12,"localize"),e.k0s()(),e.j41(13,"div",4)(14,"div",5),e.nrm(15,"historico-funcoes-table",8),e.k0s()()()),2&n&&(e.R7$(3),e.JRh(e.bMT(4,11,"Fun\xe7\xf5es Atuais")),e.R7$(2),e.Y8G("ngIf",o.podeAddFuncao()),e.R7$(3),e.Y8G("funcoes",o.funcoes)("historicoFuncoes",o.historicoFuncoes)("gerentes",o.gerentes)("gerentesCF",o.gerentesCF),e.R7$(3),e.JRh(e.bMT(12,13,"Hist\xf3rico de Fun\xe7\xf5es")),e.R7$(4),e.Y8G("funcoes",o.funcoes)("historicoFuncoes",o.historicoFuncoes)("gerentes",o.gerentes)("gerentesCF",o.gerentesCF))},dependencies:[p.bT,Vi,Ui,m.S],encapsulation:2})}return a})();const Ue=()=>[];function Xi(a,d){if(1&a&&(e.j41(0,"option",25),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.nome)}}function qi(a,d){if(1&a&&(e.j41(0,"option",25),e.EFF(1),e.k0s()),2&a){const t=d.$implicit,n=e.XpG();e.Y8G("value",t.id),e.R7$(),e.Lme("",n.getNomeColaborador(t.colaboradorId)," - ",t.funcaoOrg.nome,"")}}let ze=(()=>{class a extends _.q{constructor(t,n,o,i,s,r){super(t),this._servicoPrestadoService=n,this._tipoServicoPrestadoService=o,this._colaboradorService=i,this._funcaoService=s,this.bsModalRef=r,this.horasTrabalho=0,this.onSave=new e.bkB,this.saving=!1}get colabFuncaoOrgId(){return this.servico?.colabFuncaoOrgId?.toString()??""}set colabFuncaoOrgId(t){let n=Number(t);this.servico.colabFuncaoOrgId=n}get tipoServicoId(){return this.servico?.tipoServicoId?.toString()??""}set tipoServicoId(t){let n=Number(t);this.servico.tipoServicoId=n}get dataInicio(){return this.servico?.inicio?.format("YYYY-MM-DD")}set dataInicio(t){let n=V(t);n=n.hour(this.servico?.inicio?.hour()??0),n=n.minute(this.servico?.inicio?.minute()??0),this.servico.inicio=n}get horarioInicio(){return this.servico?.inicio?.format("HH:mm")}set horarioInicio(t){let n=Number(t.substring(0,2)),o=Number(t.substring(3,5));this.servico.inicio=this.servico?.inicio?.hour(n),this.servico.inicio=this.servico?.inicio?.minute(o)}get loading(){return this.loadingFuncoes||this.loadingColaboradores||this.loadingFuncoesColaborador||this.loadingTiposServico}ngOnInit(){if(this.servico=new c.Ho,this.servico.inicio=V(),this.servico.fim=V(),null==this.funcoes&&(this.loadingFuncoes=!0,this._funcaoService.getAll(void 0,void 0,void 0).subscribe(t=>{this.funcoes=t.items,this.loadingFuncoes=!1})),null==this.colaboradores&&(this.loadingColaboradores=!0,this._colaboradorService.getAll(void 0,void 0,void 0,!0,void 0,void 0,void 0,void 0).subscribe(t=>{this.colaboradores=t.items,this.loadingColaboradores=!1})),null==this.funcoesColaborador&&(this.loadingFuncoesColaborador=!0,this._colaboradorService.getAllColabFuncoes(void 0,void 0,void 0,void 0,!0,void 0,void 0,void 0,void 0).subscribe(t=>{this.funcoesColaborador=t.items,this.loadingFuncoesColaborador=!1})),null==this.tiposServico)this.loadingTiposServico=!0,this._tipoServicoPrestadoService.getAll(void 0,void 0,void 0,void 0,void 0).subscribe(t=>{this.tiposServico=[],t.items.forEach(n=>{n.registravelAvulso&&this.tiposServico.push(n)}),this.loadingTiposServico=!1});else{let t=[];this.tiposServico.forEach(n=>{n.registravelAvulso&&t.push(n)}),this.tiposServico=t}}getNomeColaborador(t){return this.colaboradores.find(n=>n.id==t).nome}getNomeFuncao(t){return this.funcoes.find(n=>n.id==t).nome}save(){let t=this.tiposServico.find(o=>o.id==this.servico.tipoServicoId),n=this.funcoesColaborador.find(o=>o.id==this.servico.colabFuncaoOrgId);t.funcoesOrg.some(o=>o.id==n.funcaoOrgId)?(this.servico.fim=this.servico.inicio.add(this.horasTrabalho,"hours"),this.saving=!0,this._servicoPrestadoService.create(this.servico).subscribe(o=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(o)})):this.notify.info(this.l('O tipo de servi\xe7o "'+t.nome+'" n\xe3o pode ser realizado pela fun\xe7\xe3o "'+this.getNomeFuncao(n.funcaoOrgId)+'".'))}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.Fr),e.rXU(c.$B),e.rXU(c.i9),e.rXU(c.AM),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:55,vars:41,consts:[["createServicoPrestadoModal","ngForm"],["tipoServicoModel","ngModel","tipoServicoEl",""],["colaboradorModel","ngModel","colaboradorEl",""],["dataModel","ngModel","dataEl",""],["horarioInicioModel","ngModel","horarioInicioEl",""],["horasTrabalhoModel","ngModel","horasTrabalhoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","tipoServico",1,"col-md-3","col-form-label"],[1,"col-md-9"],["required","","id","tipoServico","name","tipoServico",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],["for","colaborador",1,"col-md-3","col-form-label"],["required","","id","colaborador","name","colaborador",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","data",1,"col-md-3","col-form-label"],["type","date","name","data","id","data","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","horarioInicio",1,"col-md-3","col-form-label"],["type","time","name","horarioInicio","id","horarioInicio","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","horasTrabalho",1,"col-md-3","col-form-label"],["type","number","name","horasTrabalho","id","horasTrabalho","required","","min","0",1,"form-control",3,"ngModelChange","ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",6,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",7),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",8)(5,"div",9)(6,"label",10),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",11)(10,"select",12,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.tipoServicoId,r)||(o.tipoServicoId=r),e.Njj(r)}),e.nrm(13,"option",13),e.DNE(14,Xi,2,2,"option",14),e.k0s(),e.nrm(15,"abp-validation-summary",15),e.k0s()(),e.j41(16,"div",9)(17,"label",16),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.j41(20,"div",11)(21,"select",17,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.colabFuncaoOrgId,r)||(o.colabFuncaoOrgId=r),e.Njj(r)}),e.nrm(24,"option",13),e.DNE(25,qi,2,3,"option",14),e.k0s(),e.nrm(26,"abp-validation-summary",15),e.k0s()(),e.j41(27,"div",9)(28,"label",18),e.EFF(29),e.nI1(30,"localize"),e.k0s(),e.j41(31,"div",11)(32,"input",19,3),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.dataInicio,r)||(o.dataInicio=r),e.Njj(r)}),e.k0s(),e.nrm(35,"abp-validation-summary",15),e.k0s()(),e.j41(36,"div",9)(37,"label",20),e.EFF(38),e.nI1(39,"localize"),e.k0s(),e.j41(40,"div",11)(41,"input",21,4),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.horarioInicio,r)||(o.horarioInicio=r),e.Njj(r)}),e.k0s(),e.nrm(44,"abp-validation-summary",15),e.k0s()(),e.j41(45,"div",9)(46,"label",22),e.EFF(47),e.nI1(48,"localize"),e.k0s(),e.j41(49,"div",11)(50,"input",23,5),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.horasTrabalho,r)||(o.horasTrabalho=r),e.Njj(r)}),e.k0s(),e.nrm(53,"abp-validation-summary",15),e.k0s()()(),e.j41(54,"abp-modal-footer",24),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){let i,s;const r=e.sdS(1),u=e.sdS(11),b=e.sdS(12),g=e.sdS(22),C=e.sdS(23),E=e.sdS(33),P=e.sdS(34),$=e.sdS(42),G=e.sdS(43),N=e.sdS(51),Y=e.sdS(52);e.R7$(2),e.Y8G("title",e.bMT(3,27,"CreateNewServicoPrestado")),e.R7$(5),e.SpI(" ",e.bMT(8,29,"Tipo de Servi\xe7o")," "),e.R7$(3),e.Y8G("disabled",o.loadingTiposServico),e.R50("ngModel",o.tipoServicoId),e.R7$(4),e.Y8G("ngForOf",null!==(i=o.tiposServico)&&void 0!==i?i:e.lJ4(39,Ue)),e.R7$(),e.Y8G("control",u)("controlEl",b),e.R7$(3),e.SpI(" ",e.bMT(19,31,"Colaborador")," "),e.R7$(3),e.Y8G("disabled",o.loadingColaboradores||o.loadingFuncoesColaborador),e.R50("ngModel",o.colabFuncaoOrgId),e.R7$(4),e.Y8G("ngForOf",null!==(s=o.funcoesColaborador)&&void 0!==s?s:e.lJ4(40,Ue)),e.R7$(),e.Y8G("control",g)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(30,33,"Data In\xedcio")," "),e.R7$(3),e.R50("ngModel",o.dataInicio),e.R7$(3),e.Y8G("control",E)("controlEl",P),e.R7$(3),e.SpI(" ",e.bMT(39,35,"Hor\xe1rio In\xedcio")," "),e.R7$(3),e.R50("ngModel",o.horarioInicio),e.R7$(3),e.Y8G("control",$)("controlEl",G),e.R7$(3),e.SpI(" ",e.bMT(48,37,"Horas-Trabalho")," "),e.R7$(3),e.R50("ngModel",o.horasTrabalho),e.R7$(3),e.Y8G("control",N)("controlEl",Y),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!r.form.valid||o.saving||o.loading)}},dependencies:[p.Sq,l.qT,l.xH,l.y7,l.me,l.Q0,l.wz,l.BC,l.cb,l.YS,l.VZ,l.vS,l.cV,S.e,F.x,k.z,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();const Oi=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function Hi(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",6)(1,"div",12)(2,"a",13),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.createServicoPrestado())}),e.nrm(3,"i",14),e.EFF(4),e.nI1(5,"localize"),e.k0s()()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,1,"Create")," "))}function Ji(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s()()),2&a){let t,n;const o=d.$implicit,i=e.XpG();e.R7$(2),e.JRh(i.getNomeFuncao(o.colabFuncaoOrgId)),e.R7$(2),e.JRh(i.getNomeTipoServico(o.tipoServicoId)),e.R7$(2),e.JRh(i.getNomeAlunoCaso(o.casoId)),e.R7$(2),e.JRh(null!==(t=null==o||null==o.inicio?null:o.inicio.format("DD/MM/YYYY HH:mm"))&&void 0!==t?t:"-"),e.R7$(2),e.JRh(null!==(n=null==o||null==o.fim?null:o.fim.format("DD/MM/YYYY HH:mm"))&&void 0!==n?n:"-")}}let Xe=(()=>{class a extends A{constructor(t,n,o,i,s,r,u,b){super(t),this._servicoPrestadoService=n,this._tipoServicoPrestadoService=o,this._casoService=i,this._modalService=s,this._changeDectetor=r,this._router=u,this._route=b,this.servicos=[],this.keyword="",this.advancedFiltersVisible=!1,this.historicoFuncoes=[],this.casosChange=new e.bkB}get colaboradorId(){return this._colaboradorId}set colaboradorId(t){this._colaboradorId=t,this.refresh()}ngOnInit(){this.isTableLoading=!0,this._tipoServicoPrestadoService.getAll(void 0,void 0,void 0,void 0,void 0).subscribe(t=>{this.tiposServico=t.items,this.refresh()})}refresh(){this.isTableLoading=!0,this._casoService.getAllCasos(this.colaboradorId,void 0,void 0).subscribe(t=>{this.casos=t,this.casosChange.emit(t)}),super.refresh()}getNomeTipoServico(t){return this.tiposServico?.find(n=>n.id==t)?.nome??"-"}getNomeFuncao(t){var n=this.historicoFuncoes.find(o=>o.id==t);return this.funcoes?.find(o=>o.id==n?.funcaoOrgId)?.nome??"-"}getNomeAlunoCaso(t){return this.casos?.find(n=>n.id==t)?.aluno?.nome??"-"}createServicoPrestado(){let i,t=[],n=[],o=[];this.historicoFuncoes.forEach(s=>{null==s.dataFim&&(n.push(this.colaborador),o.push(s))}),this.tiposServico.forEach(s=>{s.registravelAvulso&&o.some(r=>s.funcoesOrg.some(u=>u.id==r.funcaoOrgId))&&t.push(s)}),i=this._modalService.show(ze,{class:"modal-lg",initialState:{tiposServico:t,colaboradores:n,funcoesColaborador:o}}),i.content.onSave.subscribe(()=>{this.refresh()})}list(t,n,o){if(null==this._colaboradorId)return this.servicos=[],this.showPaging({items:[],totalCount:0},0),void o();this._servicoPrestadoService.getAll(this._colaboradorId,void 0,void 0,void 0,void 0,void 0,t.skipCount,t.maxResultCount).pipe((0,y.j)(()=>{o()})).subscribe(i=>{this.servicos=i.items,this.showPaging(i,n)})}clearFilters(){this.keyword="",this.getDataPage(1)}delete(t){abp.message.confirm("O seguinte servi\xe7o ser\xe1 exclu\xeddo do banco",void 0,n=>{n&&this._servicoPrestadoService.delete(t.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}podeRegistrarServico(){return this.permission.isGranted("Business.Admin.People")||this.permission.isGranted("Business.Finance")||this.permission.isGranted("Business.Personal.Colaborador")&&this.appSession.user.colaborador?.id==this.colaboradorId}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.Fr),e.rXU(c.$B),e.rXU(c.iD),e.rXU(f.I8),e.rXU(e.gRc),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["servicos-prestados-colaborador"]],inputs:{colaboradorId:"colaboradorId",colaborador:"colaborador",funcoes:"funcoes",historicoFuncoes:"historicoFuncoes",casos:"casos"},outputs:{casosChange:"casosChange"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:32,vars:29,consts:[["class","row",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"col","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"]],template:function(n,o){1&n&&(e.DNE(0,Hi,6,3,"div",0),e.j41(1,"div",1)(2,"div",2)(3,"table",3)(4,"thead",4)(5,"tr")(6,"th"),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"localize"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"localize"),e.k0s()()(),e.j41(21,"tbody"),e.DNE(22,Ji,11,5,"tr",5),e.nI1(23,"paginate"),e.k0s()()()(),e.j41(24,"div",6)(25,"div",7)(26,"p",8),e.EFF(27),e.nI1(28,"localize"),e.k0s()(),e.j41(29,"div",9)(30,"div",10)(31,"abp-pagination-controls",11),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&n&&(e.Y8G("ngIf",o.podeRegistrarServico()),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(8,9,"Fun\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(11,11,"Tipo")),e.R7$(3),e.JRh(e.bMT(14,13,"Caso")),e.R7$(3),e.JRh(e.bMT(17,15,"In\xedcio")),e.R7$(3),e.JRh(e.bMT(20,17,"Fim")),e.R7$(3),e.Y8G("ngForOf",e.i5U(23,19,o.servicos,e.sMw(25,Oi,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(5),e.SpI(" ",e.i5U(28,22,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,D,M,m.S,T.kf],encapsulation:2})}return a})();const xi=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function Li(a,d){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"a",12),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.detailsCaso(o))}),e.nrm(2,"i",13),e.k0s()()}}function Zi(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.DNE(12,Li,3,0,"div",11),e.k0s()()),2&a){let t,n;const o=d.$implicit,i=e.XpG();e.R7$(2),e.JRh(i.getNomeAlunoCaso(o.casoId)),e.R7$(2),e.JRh(i.getNomeFuncao(o.colabFuncaoId)),e.R7$(2),e.JRh(i.getGestorString(o.colabFuncaoId)),e.R7$(2),e.JRh(null!==(t=null==o||null==o.dataInicio?null:o.dataInicio.format("DD/MM/YYYY HH:mm"))&&void 0!==t?t:"-"),e.R7$(2),e.JRh(null!==(n=null==o||null==o.dataFim?null:o.dataFim.format("DD/MM/YYYY HH:mm"))&&void 0!==n?n:"-"),e.R7$(2),e.Y8G("ngIf",null==(null==o?null:o.dataFim))}}let qe=(()=>{class a extends A{constructor(t,n,o,i,s,r){super(t),this._casoService=n,this._modalService=o,this._changeDectetor=i,this._router=s,this._route=r,this.atuacoes=[],this.keyword="",this.advancedFiltersVisible=!1,this.historicoFuncoes=[]}get colaboradorId(){return this._colaboradorId}set colaboradorId(t){this._colaboradorId=t,this.refresh()}ngOnInit(){this.isTableLoading=!0,this.refresh()}getFuncao(t){return this.funcoes.find(n=>n.id==t)}getNomeFuncao(t){let n=this.historicoFuncoes?.find(o=>o.id==t);return this.getFuncao(n.funcaoOrgId)?.nome??"-"}getNomeAlunoCaso(t){return this.casos?.find(n=>n.id==t)?.aluno?.nome??"-"}getGestorString(t){let n=this.historicoFuncoes?.find(r=>r.id==t);if(null==this.getFuncao(n.funcaoOrgId).funcaoGestoraDiretaId)return"N/A";if(null==n.gestorId)return"N\xe3o atribu\xeddo";var i=this.gerentesCF?.find(r=>r.id==n?.gestorId),s=this.gerentes?.find(r=>r.id==i?.colaboradorId);return null==s?"...":s.nome}createAtuacao(){}list(t,n,o){if(null==this._colaboradorId)return this.atuacoes=[],this.showPaging({items:[],totalCount:0},0),void o();this._casoService.getAllAtuacoes(void 0,void 0,this._colaboradorId,void 0,void 0).pipe((0,y.j)(()=>{o()})).subscribe(i=>{this.atuacoes=i,this.showPaging({items:i,totalCount:i.length},n)})}clearFilters(){this.keyword="",this.getDataPage(1)}delete(t){}detailsCaso(t){this._router.navigate(["app","alunos","details",this.casos?.find(n=>n.id==t.casoId)?.aluno?.id])}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.iD),e.rXU(f.I8),e.rXU(e.gRc),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["casos-colaborador"]],inputs:{colaboradorId:"colaboradorId",funcoes:"funcoes",historicoFuncoes:"historicoFuncoes",casos:"casos",gerentesCF:"gerentesCF",gerentes:"gerentes"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:32,vars:28,consts:[[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[4,"ngIf"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-link"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"th"),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"th"),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"th"),e.EFF(15),e.nI1(16,"localize"),e.k0s(),e.j41(17,"th"),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.nrm(20,"th"),e.k0s()(),e.j41(21,"tbody"),e.DNE(22,Zi,13,6,"tr",4),e.nI1(23,"paginate"),e.k0s()()()(),e.j41(24,"div",5)(25,"div",6)(26,"p",7),e.EFF(27),e.nI1(28,"localize"),e.k0s()(),e.j41(29,"div",8)(30,"div",9)(31,"abp-pagination-controls",10),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&n&&(e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(7,8,"Aluno")),e.R7$(3),e.JRh(e.bMT(10,10,"Fun\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(13,12,"Gestor")),e.R7$(3),e.JRh(e.bMT(16,14,"In\xedcio")),e.R7$(3),e.JRh(e.bMT(19,16,"Fim")),e.R7$(4),e.Y8G("ngForOf",e.i5U(23,18,o.atuacoes,e.sMw(24,xi,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(5),e.SpI(" ",e.i5U(28,21,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,D,M,m.S,T.kf],encapsulation:2})}return a})();const Wi=()=>[];function Qi(a,d){if(1&a&&(e.j41(0,"option",17),e.EFF(1),e.k0s()),2&a){let t;const n=d.$implicit,o=e.XpG();e.Y8G("value",n.id),e.R7$(),e.Lme(" ",null==(t=o.getColaborador(n.colaboradorId))?null:t.nome," - ",null==(t=o.getFuncao(n.funcaoOrgId))?null:t.nome," ")}}function Ki(a,d){if(1&a&&(e.j41(0,"option",17),e.EFF(1),e.k0s()),2&a){let t;const n=d.$implicit,o=e.XpG();e.Y8G("value",n.id),e.R7$(),e.Lme(" ",null==(t=o.getColaborador(n.colaboradorId))?null:t.nome," - ",null==(t=o.getFuncao(n.funcaoOrgId))?null:t.nome," ")}}let ea=(()=>{class a extends _.q{get cfGestorId(){return this.gestao.gestorId?.toString()??""}set cfGestorId(t){this.gestao.gestorId=""!=t?Number(t):void 0,this.gestao.novoGerenciadoId=void 0,this.setTrueGeridoOptions()}setTrueGeridoOptions(){if(null!=this.gestao.gestorId){var t=this.getGestor(this.gestao.gestorId),o=this.getFuncao(t.funcaoOrgId).funcoesGeridasDiretamente.map(i=>i.id);this._trueGeridoOptions=this.geridoOptions.filter(i=>i.gestorId!=t.id&&o.includes(i.funcaoOrgId)),this._trueGeridoOptions=this._trueGeridoOptions.filter(i=>i.gestorId!=this.gestao.gestorId)}else this._trueGeridoOptions=void 0}get cfGeridoId(){return this.gestao.novoGerenciadoId?.toString()??""}set cfGeridoId(t){this.gestao.novoGerenciadoId=""!=t?Number(t):void 0}constructor(t,n,o){super(n),this._colaboradorService=t,this.bsModalRef=o,this.saving=!1,this.gestao=new c.tb,this.onSave=new e.bkB}get trueGeridoOptions(){return this._trueGeridoOptions}ngOnInit(){if(null==this.geridoOptions){let t=[];this.gestorOptions.forEach(n=>this.getFuncao(n.funcaoOrgId).funcoesGeridasDiretamente.forEach(o=>t.push(o.id))),t=t.filter((n,o)=>!t.slice(0,o).includes(n)),this._colaboradorService.getAll(void 0,void 0,t,void 0,void 0,void 0,void 0,void 0).subscribe(n=>this.colaboradores=this.colaboradores.concat(n.items)),this._colaboradorService.getAllColabFuncoes(void 0,void 0,void 0,t,!0,void 0,void 0,void 0,void 0).subscribe(n=>this.geridoOptions=n.items)}}getFuncao(t){return this.funcoes.find(n=>n.id==t)}getGestor(t){return this.gestorOptions?.find(n=>n.id==t)}getGerido(t){return this.geridoOptions?.find(n=>n.id==t)}getColaborador(t){return this.colaboradores?.find(n=>n.id==t)}save(){this.saving=!0,this._colaboradorService.createGestaoColabFuncao(this.gestao).subscribe({next:t=>{this.notify.info(this.l("SavedSuccessfully")),this.onSave.emit(t),this.saving=!1,this.bsModalRef.hide()},error(t){console.log(t),this.saving=!1}})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(c.i9),e.rXU(e.zZn),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:28,vars:21,consts:[["createGestaoModal","ngForm"],["cfGestorModel","ngModel","cfGestorEl",""],["cfGeridoModel","ngModel","cfGeridoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","cfGestor",1,"col-md-3","col-form-label"],[1,"col-md-9"],["required","","id","cfGestor","name","cfGestor",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],[1,"form-group","row","required",3,"hidden"],["for","cfGerido",1,"col-md-3","col-form-label"],["required","","id","cfGerido","name","cfGerido",1,"form-control",3,"ngModelChange","ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",4),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",5)(5,"div",6)(6,"label",7),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",8)(10,"select",9,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.cfGestorId,r)||(o.cfGestorId=r),e.Njj(r)}),e.nrm(13,"option",10),e.DNE(14,Qi,2,3,"option",11),e.k0s(),e.nrm(15,"abp-validation-summary",12),e.k0s()(),e.j41(16,"div",13)(17,"label",14),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.j41(20,"div",8)(21,"select",15,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.cfGeridoId,r)||(o.cfGeridoId=r),e.Njj(r)}),e.nrm(24,"option",10),e.DNE(25,Ki,2,3,"option",11),e.k0s(),e.nrm(26,"abp-validation-summary",12),e.k0s()()(),e.j41(27,"abp-modal-footer",16),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){let i;const s=e.sdS(1),r=e.sdS(11),u=e.sdS(12),b=e.sdS(22),g=e.sdS(23);e.R7$(2),e.Y8G("title",e.bMT(3,14,"AddGerenciado")),e.R7$(5),e.SpI(" ",e.bMT(8,16,"Gestor")," "),e.R7$(3),e.R50("ngModel",o.cfGestorId),e.R7$(4),e.Y8G("ngForOf",o.gestorOptions),e.R7$(),e.Y8G("control",r)("controlEl",u),e.R7$(),e.Y8G("hidden",""==o.cfGestorId),e.R7$(2),e.SpI(" ",e.bMT(19,18,"Gerenciado")," "),e.R7$(3),e.R50("ngModel",o.cfGeridoId),e.R7$(4),e.Y8G("ngForOf",null!==(i=o.trueGeridoOptions)&&void 0!==i?i:e.lJ4(20,Wi)),e.R7$(),e.Y8G("control",b)("controlEl",g),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!s.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.xH,l.y7,l.wz,l.BC,l.cb,l.YS,l.vS,l.cV,S.e,F.x,k.z,m.S],encapsulation:2})}return a})();const oa=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function ta(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",13)(1,"button",14),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addGerenciadoPopup())}),e.nrm(2,"i",15),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("disabled",t.isTableLoading),e.R7$(2),e.SpI(" ",e.bMT(4,2,"Add Gerenciado")," ")}}function na(a,d){if(1&a){const t=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.delete(o))}),e.nrm(1,"i",18),e.EFF(2),e.nI1(3,"localize"),e.k0s()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Remover Gerenciado")," "))}function ia(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.DNE(10,na,4,3,"button",16),e.k0s()()),2&a){let t,n,o;const i=d.$implicit,s=e.XpG();e.R7$(2),e.JRh(null==(t=s.getColaborador(i.colaboradorId))?null:t.nome),e.R7$(2),e.JRh(null==(n=s.getFuncao(i.funcaoOrgId))?null:n.nome),e.R7$(2),e.JRh(null==i?null:i.dataInicio.format("DD/MM/yyyy")),e.R7$(2),e.JRh(null!==(o=null==i||null==i.dataFim?null:i.dataFim.format("DD/MM/yyyy"))&&void 0!==o?o:"-"),e.R7$(2),e.Y8G("ngIf",null==(null==i?null:i.dataFim)&&s.permission.isGranted("Business.Admin.People"))}}let Oe=(()=>{class a extends A{constructor(t,n,o,i,s,r){super(t),this._colaboradorService=n,this._modalService=o,this._changeDectetor=i,this._router=s,this._route=r,this.keyword="",this.advancedFiltersVisible=!1,this.historicoFuncoes=[],this.gerenciados=[],this.gerenciadosChange=new e.bkB,this.gerenciadosFuncoes=[],this.gerenciadosFuncoesChange=new e.bkB}ngOnInit(){this.isTableLoading=!0;var n=this._route.snapshot.paramMap.get("colaboradorId");this.id=null==n||""==n?this.appSession.user.colaborador?.id:Number(n),this.refresh()}getFuncao(t){return this.funcoes?.find(n=>n.id==t)}getNomeFuncao(t){let n=this.gerenciadosFuncoes?.find(o=>o.id==t);return this.getFuncao(n.funcaoOrgId)?.nome??"-"}getColaborador(t){return this.gerenciados?.find(n=>n.id==t)}list(t,n,o){this._colaboradorService.getAll(void 0,this.id,void 0,void 0,void 0,void 0,void 0,void 0).subscribe(i=>{this.gerenciados=i.items,this.gerenciadosChange.emit(this.gerenciados)}),this._colaboradorService.getAllColabFuncoes(void 0,void 0,this.id,void 0,void 0,void 0,void 0,t.skipCount,t.maxResultCount).pipe((0,y.j)(()=>{o()})).subscribe(i=>{this.gerenciadosFuncoes=i.items,this.gerenciadosFuncoesChange.emit(this.gerenciadosFuncoes),this.showPaging(i,n)})}clearFilters(){this.keyword="",this.getDataPage(1)}delete(t){abp.message.confirm("O colaborador"+this.getColaborador(t?.colaboradorId)?.nome+" ser\xe1 removido dos gerenciados",void 0,n=>{n&&this._colaboradorService.removeGestaoColabFuncao(new c.GO({id:t.id})).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}cfGerencia(t){return(this.getFuncao(t.funcaoOrgId)?.funcoesGeridasDiretamente?.length??0)>0}podeGerenciar(){return this.historicoFuncoes.some(this.cfGerencia.bind(this))}addGerenciadoPopup(){let n,t=this.historicoFuncoes.filter(this.cfGerencia.bind(this));n=this._modalService.show(ea,{class:"modal-lg",initialState:{funcoes:this.funcoes,colaboradores:[this.colaborador],gestorOptions:t}}),n.content.onSave.subscribe(()=>{this.refresh()})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.i9),e.rXU(f.I8),e.rXU(e.gRc),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["gerenciados-colaborador"]],inputs:{colaborador:"colaborador",funcoes:"funcoes",historicoFuncoes:"historicoFuncoes",gerenciados:"gerenciados",gerenciadosFuncoes:"gerenciadosFuncoes"},outputs:{gerenciadosChange:"gerenciadosChange",gerenciadosFuncoesChange:"gerenciadosFuncoesChange"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:30,vars:26,consts:[[1,"card-body"],["class","row m-0 pt-1 justify-content-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","25%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"row","m-0","pt-1","justify-content-end"],["type","button",1,"col-0","btn","btn-sm","bg-primary",3,"click","disabled"],[1,"fas","fa-plus-square"],["type","button","class","btn btn-sm bg-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","bg-danger",3,"click"],[1,"fas","fa-x"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.DNE(1,ta,5,4,"div",1),e.j41(2,"div",2)(3,"table",3)(4,"thead",4)(5,"tr")(6,"th"),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"localize"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.nrm(18,"th",5),e.k0s()(),e.j41(19,"tbody"),e.DNE(20,ia,11,5,"tr",6),e.nI1(21,"paginate"),e.k0s()()(),e.j41(22,"div",7)(23,"div",8)(24,"p",9),e.EFF(25),e.nI1(26,"localize"),e.k0s()(),e.j41(27,"div",10)(28,"div",11)(29,"abp-pagination-controls",12),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()),2&n&&(e.R7$(),e.Y8G("ngIf",o.podeGerenciar()&&o.permission.isGranted("Business.Admin.People")),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(8,8,"Nome")),e.R7$(3),e.JRh(e.bMT(11,10,"Fun\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(14,12,"In\xedcio")),e.R7$(3),e.JRh(e.bMT(17,14,"Fim")),e.R7$(4),e.Y8G("ngForOf",e.i5U(21,16,o.gerenciadosFuncoes,e.sMw(22,oa,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(5),e.SpI(" ",e.i5U(26,19,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,D,M,m.S,T.kf],encapsulation:2})}return a})();const He=()=>[""];function aa(a,d){if(1&a&&(e.j41(0,"tab",12),e.nI1(1,"localize"),e.nrm(2,"casos-colaborador",16),e.k0s()),2&a){const t=e.XpG();e.Y8G("heading",e.bMT(1,7,"Casos")),e.R7$(2),e.Y8G("colaboradorId",t.id)("funcoes",t.funcoes)("historicoFuncoes",t.historicoFuncoes)("casos",t.casos)("gerentes",t.gerentes)("gerentesCF",t.gerentesCF)}}function sa(a,d){if(1&a){const t=e.RV6();e.j41(0,"tab",12),e.nI1(1,"localize"),e.j41(2,"gerenciados-colaborador",17),e.mxI("gerenciadosChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.gerenciados,o)||(i.gerenciados=o),e.Njj(o)})("gerenciadosFuncoesChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.gerenciadosFuncoes,o)||(i.gerenciadosFuncoes=o),e.Njj(o)}),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("heading",e.bMT(1,6,"Gerenciados")),e.R7$(2),e.Y8G("colaborador",t.pessoa)("funcoes",t.funcoes)("historicoFuncoes",t.historicoFuncoes),e.R50("gerenciados",t.gerenciados)("gerenciadosFuncoes",t.gerenciadosFuncoes)}}function ra(a,d){if(1&a){const t=e.RV6();e.j41(0,"tab",12),e.nI1(1,"localize"),e.j41(2,"servicos-prestados-colaborador",18),e.mxI("funcoesChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.funcoes,o)||(i.funcoes=o),e.Njj(o)})("casosChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.casos,o)||(i.casos=o),e.Njj(o)}),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("heading",e.bMT(1,6,"ServicosPrestados")),e.R7$(2),e.Y8G("colaboradorId",t.id)("colaborador",t.pessoa),e.R50("funcoes",t.funcoes),e.Y8G("historicoFuncoes",t.historicoFuncoes),e.R50("casos",t.casos)}}function la(a,d){if(1&a&&(e.j41(0,"tab",12),e.nI1(1,"localize"),e.nrm(2,"pessoa-account-details",19),e.k0s()),2&a){const t=e.XpG();e.Y8G("heading",e.bMT(1,3,"Conta")),e.R7$(2),e.Y8G("pessoa",t.pessoa)("createUserCallable",t.createUserCallable)}}let da=(()=>{class a extends Q{initEmptyPessoa(){return new c.Gc}constructor(t,n,o,i,s,r,u){super(t,o,i,r,u),this._colaboradorService=n,this._paisService=o,this._modalService=i,this._changeDetector=s,this._router=r,this._route=u,this.refreshHistorico=new e.bkB,this.busy=!1}getPessoa(){return this.id=Number(this._route.snapshot.paramMap.get("colaboradorId")),this._colaboradorService.get(this.id)}getTipoPessoa(){return"Colaborador"}getFuncaoOrg(t){return this.funcoes?.find(n=>n.id==t)}cfGerencia(t){return(this.getFuncaoOrg(t.funcaoOrgId)?.funcoesGeridasDiretamente?.length??0)>0}showAbaCasos(){return!!this.permission.isGranted("Business.Admin.People")&&this.historicoFuncoes?.some(t=>"Caso a Caso"==this.getFuncaoOrg(t.funcaoOrgId)?.acessoCasoNome)}showAbaGerenciados(){return this.historicoFuncoes?.some(this.cfGerencia.bind(this))}createUser(t){return this._colaboradorService.createUserParaPessoa(t)}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.i9),e.rXU(c.B5),e.rXU(f.I8),e.rXU(e.gRc),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:26,vars:27,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","p-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","15px"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[3,"pessoaChange","onClickEdit","pessoa","cidade","uf","pais"],[3,"funcoesChange","historicoFuncoesChange","gerentesChange","gerentesCFChange","colaboradorId","funcoes","historicoFuncoes","gerentes","gerentesCF"],["class","p-3","style","\n                    border: 1px solid #dee2e6; \n                    border-top: 0px; \n                    border-bottom-left-radius: .25rem;\n                    border-bottom-right-radius: .25rem; \n                    background-color: white;",3,"heading",4,"ngIf"],[3,"colaboradorId","funcoes","historicoFuncoes","casos","gerentes","gerentesCF"],[3,"gerenciadosChange","gerenciadosFuncoesChange","colaborador","funcoes","historicoFuncoes","gerenciados","gerenciadosFuncoes"],[3,"funcoesChange","casosChange","colaboradorId","colaborador","funcoes","historicoFuncoes","casos"],[3,"pessoa","createUserCallable"]],template:function(n,o){if(1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"h1",8),e.EFF(12),e.k0s()()()(),e.j41(13,"section",9)(14,"div",10)(15,"tabset",11)(16,"tab",12),e.nI1(17,"localize"),e.j41(18,"info-pessoal-details",13),e.mxI("pessoaChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.bIt("onClickEdit",function(){return o.editInfoPessoal()}),e.k0s()(),e.j41(19,"tab",12),e.nI1(20,"localize"),e.j41(21,"funcoes-colaborador-details",14),e.mxI("funcoesChange",function(s){return e.DH7(o.funcoes,s)||(o.funcoes=s),s})("historicoFuncoesChange",function(s){return e.DH7(o.historicoFuncoes,s)||(o.historicoFuncoes=s),s})("gerentesChange",function(s){return e.DH7(o.gerentes,s)||(o.gerentes=s),s})("gerentesCFChange",function(s){return e.DH7(o.gerentesCF,s)||(o.gerentesCF=s),s}),e.k0s()(),e.DNE(22,aa,3,9,"tab",15)(23,sa,3,8,"tab",15)(24,ra,3,8,"tab",15)(25,la,3,5,"tab",15),e.k0s()()()()),2&n){let i;e.Y8G("@routerTransition",void 0),e.R7$(9),e.SpI(" ",e.bMT(10,19,"Detalhes do Colaborador")," "),e.R7$(3),e.Lme(" ",(null!==(i=null==o.pessoa||null==o.pessoa.nome?null:o.pessoa.nome.split(" "))&&void 0!==i?i:e.lJ4(25,He))[0]," ",(null!==(i=null==o.pessoa||null==o.pessoa.nome||null==(i=o.pessoa.nome.split(" "))?null:i.reverse())&&void 0!==i?i:e.lJ4(26,He))[0]," "),e.R7$(4),e.Y8G("heading",e.bMT(17,21,"PersonalInfo")),e.R7$(2),e.R50("pessoa",o.pessoa),e.Y8G("cidade",o.cidade)("uf",o.uf)("pais",o.pais),e.R7$(),e.Y8G("heading",e.bMT(20,23,"Funcoes")),e.R7$(2),e.Y8G("colaboradorId",o.id),e.R50("funcoes",o.funcoes)("historicoFuncoes",o.historicoFuncoes)("gerentes",o.gerentes)("gerentesCF",o.gerentesCF),e.R7$(),e.Y8G("ngIf",o.showAbaCasos()),e.R7$(),e.Y8G("ngIf",o.showAbaGerenciados()),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Admin.People")||o.permission.isGranted("Business.Finance")),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Admin.People"))}},dependencies:[p.bT,I.V6,I.fw,H,ie,Ye,Xe,qe,Oe,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();function ca(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",11)(1,"label"),e.EFF(2),e.k0s(),e.j41(3,"div")(4,"input",12),e.bIt("change",function(o){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.funcaoChange(i.id,o.target.checked))}),e.k0s()()()}if(2&a){const t=d.$implicit,n=e.XpG();e.R7$(2),e.JRh(t.nome),e.R7$(2),e.Y8G("name",t.nome.toLowerCase())("checked",n.pessoa.funcoes.includes(t.id))}}let ua=(()=>{class a extends te{constructor(t,n,o,i){super(t,i),this._colaboradorService=n,this._funcaoOrgService=o,this.bsModalRef=i}ngOnInit(){super.ngOnInit(),this.funcoes=[],this._funcaoOrgService.getAll(void 0,void 0,void 0).subscribe(t=>{this.funcoes=t.items})}initEmptyPessoaDto(){this.pessoa=new c.sB,super.initEmptyPessoaDto(),this.pessoa.funcoes=[]}create(){return this._colaboradorService.create(this.pessoa)}funcaoChange(t,n){n&&!this.pessoa.funcoes.includes(t)?this.pessoa.funcoes.push(t):!n&&this.pessoa.funcoes.includes(t)&&this.pessoa.funcoes.splice(this.pessoa.funcoes.indexOf(t),1)}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.i9),e.rXU(c.AM),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:20,vars:21,consts:[["createColaboradorModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],["ngModelGroup","infoPessoal",3,"pessoa"],["ngModelGroup","infoContato",3,"pessoa"],["ngModelGroup","endereco",3,"pessoa"],[1,"col","p-1","pb-4"],["class","row",4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[1,"row"],["type","checkbox",3,"change","name","checked"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"tabset")(6,"tab",4),e.nI1(7,"localize"),e.nrm(8,"info-pessoal-form",5),e.k0s(),e.j41(9,"tab",4),e.nI1(10,"localize"),e.nrm(11,"info-contato-form",6),e.k0s(),e.j41(12,"tab",4),e.nI1(13,"localize"),e.nrm(14,"endereco-residencia-form",7),e.k0s(),e.j41(15,"tab",4),e.nI1(16,"localize"),e.j41(17,"div",8),e.DNE(18,ca,5,3,"div",9),e.k0s()()()(),e.j41(19,"abp-modal-footer",10),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,11,"CreateNewColaborador")),e.R7$(4),e.Y8G("heading",e.bMT(7,13,"InfoPessoal")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(10,15,"InfoContato")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(13,17,"Endere\xe7oResidencia")),e.R7$(2),e.Y8G("pessoa",o.pessoa),e.R7$(),e.Y8G("heading",e.bMT(16,19,"Funcoes")),e.R7$(3),e.Y8G("ngForOf",o.funcoes),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.cb,l.Y4,l.cV,I.V6,I.fw,F.x,k.z,O,X,q,m.S],encapsulation:2})}return a})();const pa=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function ma(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function ha(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"button",38),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.detailsColaborador(o))}),e.nrm(11,"i",39),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){let t,n,o;const i=d.$implicit;e.R7$(2),e.JRh(i.nome),e.R7$(2),e.JRh(null!==(t=i.genero_Nome)&&void 0!==t?t:"-"),e.R7$(2),e.JRh(null!==(n=i.cpf)&&void 0!==n?n:"-"),e.R7$(2),e.JRh(null!==(o=null==i.dataNascimento?null:i.dataNascimento.format("DD/MM/yyyy"))&&void 0!==o?o:"-"),e.R7$(4),e.SpI(" ",e.bMT(13,5,"Details")," ")}}let fa=(()=>{class a extends A{constructor(t,n,o,i,s){super(t),this._colaboradoresService=n,this._modalService=o,this._router=i,this._route=s,this.colaboradores=[],this.keyword="",this.advancedFiltersVisible=!1}createColaborador(){let t;t=this._modalService.show(ua,{class:"modal-lg"}),t.content.onSave.subscribe(()=>{this.refresh()})}detailsColaborador(t){this._router.navigate(["details",t.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.isActive=void 0,this.getDataPage(1)}list(t,n,o){t.keyword=this.keyword,this._colaboradoresService.getAll(void 0,void 0,void 0,void 0,void 0,t.keyword,t.skipCount,t.maxResultCount).pipe((0,y.j)(()=>{o()})).subscribe(i=>{this.colaboradores=i.items,this.showPaging(i,n)})}delete(t){abp.message.confirm("O seguinte endere\xe7o ser\xe1 exclu\xeddo do banco",void 0,n=>{n&&this._colaboradoresService.delete(t.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.i9),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:65,vars:44,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"]],template:function(n,o){1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createColaborador()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,ma,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th"),e.EFF(45),e.nI1(46,"localize"),e.k0s(),e.j41(47,"th",24),e.EFF(48),e.nI1(49,"localize"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,ha,14,7,"tr",25),e.nI1(52,"paginate"),e.k0s()()()(),e.j41(53,"div",26)(54,"div",2)(55,"div",27)(56,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(57,"i",29),e.k0s()(),e.j41(58,"div",30)(59,"p",31),e.EFF(60),e.nI1(61,"localize"),e.k0s()(),e.j41(62,"div",32)(63,"div",33)(64,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&n&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,18,"Colaboradores")),e.R7$(5),e.SpI(" ",e.bMT(12,20,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,22,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,24,"Nome")),e.R7$(3),e.JRh(e.bMT(40,26,"G\xeanero")),e.R7$(3),e.JRh(e.bMT(43,28,"CPF")),e.R7$(3),e.JRh(e.bMT(46,30,"Data de Nascimento")),e.R7$(3),e.JRh(e.bMT(49,32,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(52,34,o.colaboradores,e.sMw(40,pa,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(61,37,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();function ba(a,d){if(1&a&&(e.j41(0,"option",21),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.nome)}}let se=(()=>{class a extends _.q{set habilidade(t){this._habilidade=t,null!=this._habilidade&&null==this._habilidade.confirmacaoExplicitaRequeridaId&&(this._habilidade.confirmacaoExplicitaRequeridaId=this.tiposConfirmacao[0].id)}get habilidade(){return this._habilidade}constructor(t){super(t),this.disabled=!1,this.tiposConfirmacao=[]}ngOnInit(){this._habilidade instanceof c.ft&&(this._habilidade.confirmacaoExplicitaRequeridaId=this.tiposConfirmacao[0].id)}get isNova(){return this.habilidade instanceof c.ft||this.habilidade instanceof c.ft}get isCodificada(){return!this.habilidade.isPersonalizada}get codigo(){return this.habilidade?.codigo}set codigo(t){this.habilidade.codigo=t}get tipoConfirmacao(){return this.habilidade?.confirmacaoExplicitaRequeridaId?.toString()??this.tiposConfirmacao[0].id.toString()}set tipoConfirmacao(t){this.habilidade.confirmacaoExplicitaRequeridaId=Number(t)}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["habilidade-form"]],inputs:{disabled:"disabled",habilidade:"habilidade",tiposConfirmacao:"tiposConfirmacao"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:41,vars:31,consts:[["codigoModel","ngModel","codigoEl",""],["nomeModel","ngModel","nomeEl",""],["tipoConfModel","ngModel","tipoConfEl",""],["descModel","ngModel","descEl",""],[1,"form-group","row","required","mx-0"],["for","codigo",1,"col-md-2","col-form-label","mx-0","px-0"],[1,"col","mx-0","px-0"],["type","text","name","codigo","id","codigo","required","","maxlength","20",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],["for","nome",1,"col-md-2","col-form-label","mx-0","px-0"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"form-group","row","required","mx-0","px-0"],["for","tipoConf",1,"col-md-3","col-form-label","mx-0","px-0"],["name","tipoConf","id","tipoConf","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"row","m-0"],[1,"form-group","col","mx-0","px-0"],["for","desc",1,"row-0","form-label","mx-0","px-0"],[1,"row","mx-0","px-0"],["type","text","name","desc","id","desc","maxlength","1000",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"div",4)(1,"label",5),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",6)(5,"input",7,0),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.codigo,r)||(o.codigo=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",8),e.k0s()(),e.j41(9,"div",4)(10,"label",9),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",6)(14,"input",10,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.habilidade.nome,r)||(o.habilidade.nome=r),e.Njj(r)}),e.k0s(),e.nrm(17,"abp-validation-summary",8),e.k0s()(),e.j41(18,"div",11)(19,"label",12),e.EFF(20),e.nI1(21,"localize"),e.k0s(),e.j41(22,"div",6)(23,"select",13,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.tipoConfirmacao,r)||(o.tipoConfirmacao=r),e.Njj(r)}),e.j41(26,"option",14),e.EFF(27),e.k0s(),e.DNE(28,ba,2,2,"option",15),e.k0s(),e.nrm(29,"abp-validation-summary",8),e.k0s()(),e.j41(30,"div",16)(31,"div",17)(32,"label",18),e.EFF(33),e.nI1(34,"localize"),e.k0s(),e.j41(35,"div",19)(36,"textarea",20,3),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.habilidade.desc,r)||(o.habilidade.desc=r),e.Njj(r)}),e.EFF(39,"            "),e.k0s(),e.nrm(40,"abp-validation-summary",8),e.k0s()()()}if(2&n){const i=e.sdS(6),s=e.sdS(7),r=e.sdS(15),u=e.sdS(16),b=e.sdS(24),g=e.sdS(25),C=e.sdS(37),E=e.sdS(38);e.R7$(2),e.SpI(" ",e.bMT(3,23,"Codigo")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.codigo),e.R7$(3),e.Y8G("control",i)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,25,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.habilidade.nome),e.R7$(3),e.Y8G("control",r)("controlEl",u),e.R7$(3),e.SpI(" ",e.bMT(21,27,"TipoConfirmacao")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.tipoConfirmacao),e.R7$(3),e.Y8G("value",o.tiposConfirmacao[0].id),e.R7$(),e.JRh(o.tiposConfirmacao[0].nome),e.R7$(),e.Y8G("ngForOf",o.tiposConfirmacao.slice(1)),e.R7$(),e.Y8G("control",b)("controlEl",g),e.R7$(4),e.SpI(" ",e.bMT(34,29,"Descricao")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.habilidade.desc),e.R7$(4),e.Y8G("control",C)("controlEl",E)}},dependencies:[p.Sq,l.xH,l.y7,l.me,l.wz,l.BC,l.YS,l.tU,l.vS,S.e,m.S],encapsulation:2})}return a})();function _a(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",20)(1,"div",21)(2,"div",22)(3,"a",23),e.bIt("click",function(){const o=e.eBV(t).index,i=e.XpG();return e.Njj(i.removeHabilidade(o))}),e.nrm(4,"i",24),e.k0s()(),e.nrm(5,"habilidade-form",25),e.k0s()()}if(2&a){const t=d.$implicit,n=d.index,o=e.XpG();e.R7$(2),e.Y8G("hidden",!o.isNovo||o.disabled),e.R7$(3),e.Y8G("habilidade",t)("tiposConfirmacao",o.tiposConfirmacao)("disabled",!o.isNovo||o.disabled)("ngModelGroup","habilidade"+n+"Form")}}let re=(()=>{class a extends _.q{constructor(t){super(t),this.disabled=!1,this.tiposConfirmacao=[]}get isNovo(){return this.dominio instanceof c.vv}createHabilidade(){this.dominio instanceof c.vv&&this.dominio.habilidades.push(new c.ft)}removeHabilidade(t){this.dominio instanceof c.vv&&this.dominio.habilidades.splice(t,1)}get habilidades(){if(this.dominio instanceof c.vv)return this.dominio.habilidades;if(this.dominio instanceof c.PJ){let t=this.dominio.id;return this.allHabilidades.filter(n=>n.dominioId==t)}}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["dominio-form"]],inputs:{disabled:"disabled",dominio:"dominio",allHabilidades:"allHabilidades",tiposConfirmacao:"tiposConfirmacao"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:39,vars:29,consts:[["codigoModel","ngModel","codigoEl",""],["nomeModel","ngModel","nomeEl",""],["descModel","ngModel","descEl",""],[1,"form-group","row","required","mx-0"],["for","codigo",1,"col-md-2","col-form-label","mx-0","px-0"],[1,"col","mx-0","px-0"],["type","text","name","codigo","id","codigo","required","","maxlength","20",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],["for","nome",1,"col-md-2","col-form-label","mx-0","px-0"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row","m-0"],[1,"form-group","col","mx-0","px-0"],["for","desc",1,"row-0","form-label","mx-0","px-0"],[1,"row","mx-0","px-0"],["type","text","name","desc","id","desc","maxlength","1000",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"pl-5","pr-0","mx-0"],["class","mx-0",4,"ngFor","ngForOf"],[1,"row","align-content-center","justify-content-center","mx-0",3,"hidden"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"mx-0"],[1,"mb-2","p-2","row",2,"border","1px solid lightgray"],[1,"col-0","align-content-start","justify-content-center","px-0","mx-0",3,"hidden"],["href","javascript:;",1,"btn","bg-danger",3,"click"],[1,"fa","fa-trash"],[1,"col",3,"habilidade","tiposConfirmacao","disabled","ngModelGroup"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"div",3)(1,"label",4),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",5)(5,"input",6,0),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.dominio.codigo,r)||(o.dominio.codigo=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",7),e.k0s()(),e.j41(9,"div",3)(10,"label",8),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",5)(14,"input",9,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.dominio.nome,r)||(o.dominio.nome=r),e.Njj(r)}),e.k0s(),e.nrm(17,"abp-validation-summary",7),e.k0s()(),e.j41(18,"div",10)(19,"div",11)(20,"label",12),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"div",13)(24,"textarea",14,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.dominio.desc,r)||(o.dominio.desc=r),e.Njj(r)}),e.EFF(27,"            "),e.k0s(),e.nrm(28,"abp-validation-summary",7),e.k0s()()(),e.j41(29,"label",13),e.EFF(30),e.nI1(31,"localize"),e.k0s(),e.j41(32,"div",15),e.DNE(33,_a,6,5,"div",16),e.j41(34,"div",17)(35,"a",18),e.bIt("click",function(){return e.eBV(i),e.Njj(o.createHabilidade())}),e.nrm(36,"i",19),e.EFF(37),e.nI1(38,"localize"),e.k0s()()()}if(2&n){const i=e.sdS(6),s=e.sdS(7),r=e.sdS(15),u=e.sdS(16),b=e.sdS(25),g=e.sdS(26);e.R7$(2),e.SpI(" ",e.bMT(3,19,"Codigo")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.dominio.codigo),e.R7$(3),e.Y8G("control",i)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,21,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.dominio.nome),e.R7$(3),e.Y8G("control",r)("controlEl",u),e.R7$(4),e.SpI(" ",e.bMT(22,23,"Descricao")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.dominio.desc),e.R7$(4),e.Y8G("control",b)("controlEl",g),e.R7$(2),e.SpI(" ",e.bMT(31,25,"Habilidades"),"\n"),e.R7$(3),e.Y8G("ngForOf",o.habilidades),e.R7$(),e.Y8G("hidden",!o.isNovo||o.disabled),e.R7$(3),e.SpI(" ",e.bMT(38,27,"CreateNewHabilidade")," ")}},dependencies:[p.Sq,l.me,l.BC,l.cb,l.YS,l.tU,l.vS,l.Y4,S.e,se,m.S],encapsulation:2})}return a})();function ga(a,d){1&a&&(e.j41(0,"label",13),e.EFF(1),e.nI1(2,"localize"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Dom\xednios"),"\n"))}function va(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",31)(1,"a",32),e.bIt("click",function(){e.eBV(t);const o=e.XpG().index,i=e.XpG(2);return e.Njj(i.removeDominio(o))}),e.nrm(2,"i",33),e.k0s()()}}function Ca(a,d){if(1&a&&(e.j41(0,"div",27)(1,"div",28),e.DNE(2,va,3,0,"div",29),e.nrm(3,"dominio-form",30),e.k0s()()),2&a){const t=d.$implicit,n=d.index,o=e.XpG(2);e.R7$(2),e.Y8G("ngIf",o.isNovo&&!o.disabled),e.R7$(),e.Y8G("disabled",!o.isNovo||o.disabled)("dominio",t)("allHabilidades",o.allHabilidades)("tiposConfirmacao",o.tiposConfirmacao)("ngModelGroup","dominio"+n+"Form")}}function Ia(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",34)(1,"a",35),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.createDominio())}),e.nrm(2,"i",36),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"CreateNewDominio")," "))}function Fa(a,d){if(1&a&&(e.j41(0,"div",24),e.DNE(1,Ca,4,6,"div",25)(2,Ia,5,3,"div",26),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.dominios),e.R7$(),e.Y8G("ngIf",t.isNovo&&!t.disabled)}}let le=(()=>{class a extends _.q{constructor(t){super(t),this.disabled=!1,this.tiposConfirmacao=[]}ngOnInit(){null!=this.nivel.mesIniFaixaEtaria&&(this._faixaIniAnos=Math.floor(this.nivel.mesIniFaixaEtaria/12),this._faixaIniMeses=this.nivel.mesIniFaixaEtaria%12),null!=this.nivel.mesFimFaixaEtaria&&(this._faixaFimAnos=Math.floor(this.nivel.mesFimFaixaEtaria/12),this._faixaFimMeses=this.nivel.mesFimFaixaEtaria%12)}get isNovo(){return this.nivel instanceof c.cl}createDominio(){this.nivel instanceof c.cl&&this.nivel.dominios.push(new c.vv)}removeDominio(t){this.nivel instanceof c.cl&&this.nivel.dominios.splice(t,1)}get dominios(){if(this.nivel instanceof c.cl)return this.nivel.dominios;if(this.nivel instanceof c.I$){let t=this.nivel.id;return this.allDominios?.filter(n=>n.nivelId==t)??[]}}_updateFaixaIni(){null!=this._faixaIniAnos||null!=this._faixaIniMeses?this.nivel.mesIniFaixaEtaria=12*(this._faixaIniAnos??0)+(this._faixaIniMeses??0):this.nivel.mesFimFaixaEtaria=void 0}_updateFaixaFim(){this.nivel.mesFimFaixaEtaria=null!=this._faixaFimAnos||null!=this._faixaFimMeses?12*(this._faixaFimAnos??0)+(this._faixaFimMeses??0):void 0}get faixaIniAnos(){return this._faixaIniAnos?.toString()??""}set faixaIniAnos(t){this._faixaIniAnos=""==(t??"")?void 0:Number(t),this._updateFaixaIni()}get faixaIniMeses(){return this._faixaIniMeses?.toString()??""}set faixaIniMeses(t){this._faixaIniMeses=""==(t??"")?void 0:Number(t),this._updateFaixaIni()}get faixaFimAnos(){return this._faixaFimAnos?.toString()??""}set faixaFimAnos(t){this._faixaFimAnos=""==(t??"")?void 0:Number(t),this._updateFaixaFim()}get faixaFimMeses(){return this._faixaFimMeses?.toString()??""}set faixaFimMeses(t){this._faixaFimMeses=""==(t??"")?void 0:Number(t),this._updateFaixaFim()}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["nivel-form"]],inputs:{disabled:"disabled",nivel:"nivel",allDominios:"allDominios",allHabilidades:"allHabilidades",tiposConfirmacao:"tiposConfirmacao"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:53,vars:27,consts:[["nomeModel","ngModel","nomeEl",""],["faixaIniAnosModel","ngModel","faixaIniAnosEl",""],["faixaIniMesesModel","ngModel","faixaIniMesesEl",""],["faixaFimAnosModel","ngModel","faixaFimAnosEl",""],["faixaFimMesesModel","ngModel","faixaFimMesesEl",""],["descModel","ngModel","descEl",""],[1,"form-group","row","required","mx-0"],["for","nome",1,"col-md-2","col-form-label","mx-0","px-0"],[1,"col","mx-0","px-0"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],[1,"row","m-0"],["for","faixa",1,"col-md-2","col-form-label","mx-0","px-0"],[1,"row","mx-0","px-0"],[1,"col-0","px-2","py-1"],["type","number","name","faixaIniAnos","id","faixaIniAnos","min","0",1,"form-control","col-md-2",3,"ngModelChange","disabled","ngModel"],["type","number","name","faixaIniMeses","id","faixaIniMeses","min","0",1,"form-control","col-md-2",3,"ngModelChange","disabled","ngModel"],["type","number","name","faixaFimAnos","id","faixaFimAnos","min","0",1,"form-control","col-md-2",3,"ngModelChange","disabled","ngModel"],["type","number","name","faixaFimMeses","id","faixaFimMeses","min","0",1,"form-control","col-md-2",3,"ngModelChange","disabled","ngModel"],[1,"form-group","col","mx-0","px-0"],["for","desc",1,"row-0","form-label","mx-0","px-0"],["type","text","name","desc","id","desc","maxlength","1000",1,"form-control",3,"ngModelChange","disabled","ngModel"],["class","row mx-0 px-0",4,"ngIf"],["class","pl-5 pr-0 mx-0",4,"ngIf"],[1,"pl-5","pr-0","mx-0"],["class","mx-0",4,"ngFor","ngForOf"],["class","row align-content-center justify-content-center mx-0",4,"ngIf"],[1,"mx-0"],[1,"mb-2","p-2","row",2,"border","1px solid lightgray"],["class","col-0 align-content-start justify-content-center px-0 mx-0",4,"ngIf"],[1,"col",3,"disabled","dominio","allHabilidades","tiposConfirmacao","ngModelGroup"],[1,"col-0","align-content-start","justify-content-center","px-0","mx-0"],["href","javascript:;",1,"btn","bg-danger",3,"click"],[1,"fa","fa-trash"],[1,"row","align-content-center","justify-content-center","mx-0"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"div",6)(1,"label",7),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",8)(5,"input",9,0),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.nivel.nome,r)||(o.nivel.nome=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",10),e.k0s()(),e.j41(9,"div",11)(10,"label",12),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",8)(14,"div",13)(15,"div",14),e.EFF(16,"A partir de"),e.k0s(),e.j41(17,"input",15,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.faixaIniAnos,r)||(o.faixaIniAnos=r),e.Njj(r)}),e.k0s(),e.j41(20,"div",14),e.EFF(21,"anos e"),e.k0s(),e.j41(22,"input",16,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.faixaIniMeses,r)||(o.faixaIniMeses=r),e.Njj(r)}),e.k0s(),e.j41(25,"div",14),e.EFF(26,"meses."),e.k0s()(),e.j41(27,"div",13)(28,"div",14),e.EFF(29,"At\xe9"),e.k0s(),e.j41(30,"input",17,3),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.faixaFimAnos,r)||(o.faixaFimAnos=r),e.Njj(r)}),e.k0s(),e.j41(33,"div",14),e.EFF(34,"anos e"),e.k0s(),e.j41(35,"input",18,4),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.faixaFimMeses,r)||(o.faixaFimMeses=r),e.Njj(r)}),e.k0s(),e.j41(38,"div",14),e.EFF(39,"meses."),e.k0s()()()(),e.j41(40,"div",11)(41,"div",19)(42,"label",20),e.EFF(43),e.nI1(44,"localize"),e.k0s(),e.j41(45,"div",13)(46,"textarea",21,5),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.nivel.desc,r)||(o.nivel.desc=r),e.Njj(r)}),e.EFF(49,"            "),e.k0s(),e.nrm(50,"abp-validation-summary",10),e.k0s()()(),e.DNE(51,ga,3,3,"label",22)(52,Fa,3,2,"div",23)}if(2&n){const i=e.sdS(6),s=e.sdS(7),r=e.sdS(47),u=e.sdS(48);e.R7$(2),e.SpI(" ",e.bMT(3,21,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.nivel.nome),e.R7$(3),e.Y8G("control",i)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,23,"FaixaEtaria")," "),e.R7$(6),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.faixaIniAnos),e.R7$(5),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.faixaIniMeses),e.R7$(8),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.faixaFimAnos),e.R7$(5),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.faixaFimMeses),e.R7$(8),e.SpI(" ",e.bMT(44,25,"Descricao")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.nivel.desc),e.R7$(4),e.Y8G("control",r)("controlEl",u),e.R7$(),e.Y8G("ngIf",o.isNovo),e.R7$(),e.Y8G("ngIf",o.isNovo)}},dependencies:[p.Sq,p.bT,l.me,l.Q0,l.BC,l.cb,l.YS,l.tU,l.VZ,l.vS,l.Y4,S.e,re,m.S],encapsulation:2})}return a})(),ka=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._protocoloAvaliacaoService=n,this.bsModalRef=o,this.tiposConfirmacao=[],this.onSave=new e.bkB,this.nivel=new c.cl}ngOnInit(){}add(){this.saving=!0,this.nivel.protocoloAvaliacaoId=this.protocoloAvaliacao.id,this._protocoloAvaliacaoService.createNivel(this.nivel).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.saving=!1,this.onSave.emit()})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["addNivelModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","nivelForm",3,"nivel","tiposConfirmacao"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.add())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"nivel-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"AddNewNivel")),e.R7$(3),e.Y8G("nivel",o.nivel)("tiposConfirmacao",o.tiposConfirmacao),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,F.x,k.z,le,m.S],encapsulation:2})}return a})(),ja=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._protocoloAvaliacaoService=n,this.bsModalRef=o,this.tiposConfirmacao=[],this.onSave=new e.bkB}ngOnInit(){}add(){this.saving=!0;let t=new c.t2(this.nivel);this._protocoloAvaliacaoService.updateNivel(t).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.saving=!1,this.onSave.emit()})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["updateNivelModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","nivelForm",3,"tiposConfirmacao","nivel"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.add())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"nivel-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"UpdateNivel")),e.R7$(3),e.Y8G("tiposConfirmacao",o.tiposConfirmacao)("nivel",o.nivel),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,F.x,k.z,le,m.S],encapsulation:2})}return a})(),Ra=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._protocoloAvaliacaoService=n,this.bsModalRef=o,this.tiposConfirmacao=[],this.onSave=new e.bkB,this.dominio=new c.vv}ngOnInit(){}add(){this.saving=!0,this.dominio.nivelId=this.nivel.id,this._protocoloAvaliacaoService.createDominio(this.dominio).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.saving=!1,this.onSave.emit()})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["addDominioModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","dominioForm",3,"dominio","tiposConfirmacao"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.add())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"dominio-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"AddNewDominio")),e.R7$(3),e.Y8G("dominio",o.dominio)("tiposConfirmacao",o.tiposConfirmacao),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,F.x,k.z,re,m.S],encapsulation:2})}return a})(),Sa=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._protocoloAvaliacaoService=n,this.bsModalRef=o,this.tiposConfirmacao=[],this.onSave=new e.bkB}ngOnInit(){}add(){this.saving=!0;let t=new c.Wm(this.dominio);this._protocoloAvaliacaoService.updateDominio(t).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.saving=!1,this.onSave.emit()})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["updateDominioModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","dominioForm",3,"tiposConfirmacao","dominio"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.add())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"dominio-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"UpdateDominio")),e.R7$(3),e.Y8G("tiposConfirmacao",o.tiposConfirmacao)("dominio",o.dominio),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,F.x,k.z,re,m.S],encapsulation:2})}return a})(),Ma=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._protocoloAvaliacaoService=n,this.bsModalRef=o,this.tiposConfirmacao=[],this.onSave=new e.bkB}ngOnInit(){this.habilidade=new c.ft,this.habilidade.isPersonalizada=!1}get codificada(){return!this.habilidade.isPersonalizada}set codificada(t){this.habilidade.isPersonalizada=!t}add(){this.saving=!0,this.habilidade.dominioId=this.dominio.id,this._protocoloAvaliacaoService.createHabilidade(this.habilidade).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.saving=!1,this.onSave.emit()})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["addHabilidadeModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","habilidadeForm",3,"habilidade","tiposConfirmacao"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.add())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"habilidade-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"AddNewHabilidade")),e.R7$(3),e.Y8G("habilidade",o.habilidade)("tiposConfirmacao",o.tiposConfirmacao),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,F.x,k.z,se,m.S],encapsulation:2})}return a})(),Ea=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._protocoloAvaliacaoService=n,this.bsModalRef=o,this.tiposConfirmacao=[],this.onSave=new e.bkB}ngOnInit(){}add(){this.saving=!0;let t=new c.WJ(this.habilidade);this._protocoloAvaliacaoService.updateHabilidade(t).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.saving=!1,this.onSave.emit()})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["updateHabilidadeModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","habilidadeForm",3,"tiposConfirmacao","habilidade"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.add())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"habilidade-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"UpdateHabilidade")),e.R7$(3),e.Y8G("tiposConfirmacao",o.tiposConfirmacao)("habilidade",o.habilidade),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,F.x,k.z,se,m.S],encapsulation:2})}return a})();function Ta(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",3)(1,"button",8),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteHabilidade())}),e.nrm(2,"i",9),e.k0s()()}}function Da(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",3)(1,"button",4),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.updateHabilidade())}),e.nrm(2,"i",10),e.k0s()()}}let ya=(()=>{class a extends _.q{get isCodificada(){return this.habilidade instanceof c.Bg}get codigo(){return this.habilidade instanceof c.Bg?this.habilidade.codigo:""}set codigo(t){this.habilidade instanceof c.Bg&&(this.habilidade.codigo=t)}constructor(t,n,o,i,s){super(t),this._protocoloAvaliacaoService=n,this._modalService=o,this._router=i,this._route=s,this.deetsHidden=!0,this.onDelete=new e.bkB,this.onUpdate=new e.bkB}ngOnInit(){}updateHabilidade(){let t;t=this._modalService.show(Ea,{class:"modal-lg",initialState:{protocoloAvaliacao:this.protocoloAvaliacao,dominio:this.dominio,habilidade:this.habilidade,tiposConfirmacao:this.tiposConfirmacao}}),t.content.onSave.subscribe(()=>{this.onUpdate.emit()})}deleteHabilidade(){abp.message.confirm("A seguinte habilidade ser\xe1 exclu\xedda do banco: "+this.habilidade.nome,void 0,t=>{t&&this._protocoloAvaliacaoService.deleteHabilidade(this.habilidade.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.onDelete.emit()})})}getNomeConfirmacao(){return this.tiposConfirmacao?.find(t=>t.id==this.habilidade.confirmacaoExplicitaRequeridaId)?.nome}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["habilidade-details"]],inputs:{protocoloAvaliacao:"protocoloAvaliacao",dominio:"dominio",habilidade:"habilidade",tiposConfirmacao:"tiposConfirmacao"},outputs:{onDelete:"onDelete",onUpdate:"onUpdate"},features:[e.Vt3],decls:15,vars:9,consts:[[1,"row","m-0","p-0"],[1,"col","p-1","m-0","align-self-end","justify-self-end"],["class","col-0 p-1 align-self-end justify-self-end",4,"ngIf"],[1,"col-0","p-1","align-self-end","justify-self-end"],["type","button",1,"btn-sm","bg-secondary",3,"click"],[1,"fa","fa-angle-right",3,"hidden"],[1,"fa","fa-angle-down",3,"hidden"],[1,"m-0","p-0","pl-4",2,"font-size","10pt",3,"hidden"],["type","button",1,"btn-sm","bg-danger",3,"click"],[1,"fa","fa-trash"],[1,"fa","fa-pencil-alt"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"label",0),e.EFF(3),e.k0s()(),e.DNE(4,Ta,3,0,"div",2)(5,Da,3,0,"div",2),e.j41(6,"div",3)(7,"button",4),e.bIt("click",function(){return o.deetsHidden=!o.deetsHidden}),e.nrm(8,"i",5)(9,"i",6),e.k0s()()(),e.j41(10,"div",7)(11,"span"),e.EFF(12),e.k0s(),e.j41(13,"p"),e.EFF(14),e.k0s()()),2&n&&(e.R7$(3),e.Lme("",""!=o.codigo?o.codigo+" -":""," ",o.habilidade.nome,""),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(3),e.Y8G("hidden",!o.deetsHidden),e.R7$(),e.Y8G("hidden",o.deetsHidden),e.R7$(),e.Y8G("hidden",o.deetsHidden),e.R7$(2),e.SpI("Tipo de confirma\xe7\xe3o: ",o.getNomeConfirmacao(),""),e.R7$(2),e.JRh(o.habilidade.desc))},dependencies:[p.bT],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();function Aa(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",3)(1,"button",13),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteDominio())}),e.nrm(2,"i",14),e.k0s()()}}function Pa(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",3)(1,"button",4),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.updateDominio())}),e.nrm(2,"i",15),e.k0s()()}}function wa(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",16)(1,"a",17),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addHabilidade(!0))}),e.nrm(2,"i",18),e.k0s()()}}function $a(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",19)(1,"div",20)(2,"habilidade-details",21),e.bIt("onUpdate",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onUpdate.emit())})("onDelete",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onUpdate.emit())}),e.k0s()()()}if(2&a){const t=d.$implicit,n=e.XpG();e.R7$(2),e.Y8G("tiposConfirmacao",n.tiposConfirmacao)("protocoloAvaliacao",n.protocoloAvaliacao)("dominio",n.dominio)("habilidade",t)}}function Ga(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",16)(1,"a",17),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addHabilidade(!1))}),e.nrm(2,"i",18),e.k0s()()}}function Va(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",19)(1,"div",20)(2,"habilidade-details",22),e.bIt("onUpdate",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onUpdate.emit())})("onDelete",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onUpdate.emit())}),e.k0s()()()}if(2&a){const t=d.$implicit,n=e.XpG();e.R7$(2),e.Y8G("protocoloAvaliacao",n.protocoloAvaliacao)("dominio",n.dominio)("habilidade",t)}}let Na=(()=>{class a extends _.q{constructor(t,n,o,i,s){super(t),this._protocoloAvaliacaoService=n,this._modalService=o,this._router=i,this._route=s,this.deetsHidden=!0,this.onDelete=new e.bkB,this.onUpdate=new e.bkB}_splitHabilidades(){this.habilidadesCodificadas=this.habilidades.filter(t=>!t.isPersonalizada),this.habilidadesPersonalizadas=this.habilidades.filter(t=>t.isPersonalizada)}ngOnInit(){null!=this.habilidades?(this.habilidades=this.habilidades.filter(t=>t.dominioId==this.dominio.id),this._splitHabilidades()):this._protocoloAvaliacaoService.getAllHabilidades(void 0,void 0,void 0,this.dominio.id,void 0,void 0,void 0,void 0,void 0,void 0).subscribe(t=>{this.habilidades=t.items,this._splitHabilidades()})}updateDominio(){let t;t=this._modalService.show(Sa,{class:"modal-lg",initialState:{nivel:this.nivel,dominio:this.dominio,tiposConfirmacao:this.tiposConfirmacao}}),t.content.onSave.subscribe(()=>{this.onUpdate.emit()})}deleteDominio(){abp.message.confirm("O seguinte dominio ser\xe1 exclu\xeddo do banco: "+this.dominio.nome,void 0,t=>{t&&this._protocoloAvaliacaoService.deleteDominio(this.dominio.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.onDelete.emit()})})}addHabilidade(t){let n;n=this._modalService.show(Ma,{class:"modal-lg",initialState:{protocoloAvaliacao:this.protocoloAvaliacao,dominio:this.dominio,codificada:t,tiposConfirmacao:this.tiposConfirmacao}}),n.content.onSave.subscribe(()=>{this.onUpdate.emit()})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["dominio-details"]],inputs:{protocoloAvaliacao:"protocoloAvaliacao",nivel:"nivel",dominio:"dominio",habilidades:"habilidades",tiposConfirmacao:"tiposConfirmacao"},outputs:{onDelete:"onDelete",onUpdate:"onUpdate"},features:[e.Vt3],decls:22,vars:11,consts:[[1,"row","m-0","p-0"],[1,"col","p-1","m-0","align-self-end","justify-self-end"],["class","col-0 p-1 align-self-end justify-self-end",4,"ngIf"],[1,"col-0","p-1","align-self-end","justify-self-end"],["type","button",1,"btn-sm","bg-secondary",3,"click"],[1,"fa","fa-angle-right",3,"hidden"],[1,"fa","fa-angle-down",3,"hidden"],[1,"m-0","p-0","pl-4",3,"hidden"],[1,"row","p-0","m-0",2,"font-size","10pt"],[1,"row","mx-0","my-1","p-0"],[1,"col","p-0","m-0","align-self-center","justify-self-center"],["class","col-0 p-0 m-0 align-self-end justify-self-end",4,"ngIf"],["class","pl-2",4,"ngFor","ngForOf"],["type","button",1,"btn-sm","bg-danger",3,"click"],[1,"fa","fa-trash"],[1,"fa","fa-pencil-alt"],[1,"col-0","p-0","m-0","align-self-end","justify-self-end"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"pl-2"],[1,"mb-2","p-2",2,"border","1px solid lightgray"],[3,"onUpdate","onDelete","tiposConfirmacao","protocoloAvaliacao","dominio","habilidade"],[3,"onUpdate","onDelete","protocoloAvaliacao","dominio","habilidade"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"label",1),e.EFF(2),e.k0s(),e.DNE(3,Aa,3,0,"div",2)(4,Pa,3,0,"div",2),e.j41(5,"div",3)(6,"button",4),e.bIt("click",function(){return o.deetsHidden=!o.deetsHidden}),e.nrm(7,"i",5)(8,"i",6),e.k0s()()(),e.j41(9,"div",7)(10,"span",8),e.EFF(11),e.k0s(),e.j41(12,"div",9)(13,"label",10),e.EFF(14,"Habilidades"),e.k0s(),e.DNE(15,wa,3,0,"div",11),e.k0s(),e.DNE(16,$a,3,4,"div",12),e.j41(17,"div",9)(18,"label",10),e.EFF(19,"Habilidades Personalizadas"),e.k0s(),e.DNE(20,Ga,3,0,"div",11),e.k0s(),e.DNE(21,Va,3,3,"div",12),e.k0s()),2&n&&(e.R7$(2),e.SpI(" ",o.dominio.nome," "),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(3),e.Y8G("hidden",!o.deetsHidden),e.R7$(),e.Y8G("hidden",o.deetsHidden),e.R7$(),e.Y8G("hidden",o.deetsHidden),e.R7$(2),e.JRh(o.dominio.desc),e.R7$(4),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(),e.Y8G("ngForOf",o.habilidadesCodificadas),e.R7$(4),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(),e.Y8G("ngForOf",o.habilidadesPersonalizadas))},dependencies:[p.Sq,p.bT,ya],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();function Ba(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",3)(1,"button",13),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteNivel())}),e.nrm(2,"i",14),e.k0s()()}}function Ya(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",3)(1,"button",4),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.updateNivel())}),e.nrm(2,"i",15),e.k0s()()}}function Ua(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",16)(1,"a",17),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addDominio())}),e.nrm(2,"i",18),e.k0s()()}}function za(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",19)(1,"div",20)(2,"dominio-details",21),e.bIt("onUpdate",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onUpdate.emit())})("onDelete",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onUpdate.emit())}),e.k0s()()()}if(2&a){const t=d.$implicit,n=e.XpG();e.R7$(2),e.Y8G("tiposConfirmacao",n.tiposConfirmacao)("protocoloAvaliacao",n.protocoloAvaliacao)("nivel",n.nivel)("dominio",t)}}let Xa=(()=>{class a extends _.q{get dominios(){return this._dominios}set dominios(t){this._dominios=t?.filter(n=>n.nivelId==this.nivel?.id)??[]}get habilidades(){return this._habilidades}set habilidades(t){this._habilidades=t?.filter(n=>this.dominios?.some(o=>o.id==n.dominioId)??!1)??[]}constructor(t,n,o,i,s){super(t),this._protocoloAvaliacaoService=n,this._modalService=o,this._router=i,this._route=s,this.deetsHidden=!0,this.onDelete=new e.bkB,this.onUpdate=new e.bkB}ngOnInit(){null==this.dominios&&this._protocoloAvaliacaoService.getAllDominios(void 0,void 0,this.nivel.id,void 0,void 0,void 0,void 0).subscribe(t=>{this._dominios=t.items}),null==this.habilidades&&this._protocoloAvaliacaoService.getAllHabilidades(void 0,void 0,void 0,void 0,this.nivel.id,void 0,void 0,void 0,void 0,void 0).subscribe(t=>{this._habilidades=t.items})}updateNivel(){let t;t=this._modalService.show(ja,{class:"modal-lg",initialState:{protocoloAvaliacao:this.protocoloAvaliacao,nivel:this.nivel,tiposConfirmacao:this.tiposConfirmacao}}),t.content.onSave.subscribe(()=>{this.onUpdate.emit()})}deleteNivel(){abp.message.confirm("O seguinte nivel ser\xe1 exclu\xeddo do banco: "+this.nivel.nome,void 0,t=>{t&&this._protocoloAvaliacaoService.deleteNivel(this.nivel.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.onDelete.emit()})})}addDominio(){let t;t=this._modalService.show(Ra,{class:"modal-lg",initialState:{nivel:this.nivel,tiposConfirmacao:this.tiposConfirmacao}}),t.content.onSave.subscribe(()=>{this.onUpdate.emit()})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["nivel-details"]],inputs:{protocoloAvaliacao:"protocoloAvaliacao",nivel:"nivel",dominios:"dominios",habilidades:"habilidades",tiposConfirmacao:"tiposConfirmacao"},outputs:{onDelete:"onDelete",onUpdate:"onUpdate"},features:[e.Vt3],decls:18,vars:12,consts:[[1,"row","m-0","p-0"],[1,"col","p-1","m-0","align-self-end","justify-self-end"],["class","col-0 p-1 align-self-end justify-self-end",4,"ngIf"],[1,"col-0","p-1","align-self-end","justify-self-end"],["type","button",1,"btn-sm","bg-secondary",3,"click"],[1,"fa","fa-angle-right",3,"hidden"],[1,"fa","fa-angle-down",3,"hidden"],[1,"m-0","p-0","pl-4",3,"hidden"],[1,"row","p-0","m-0",2,"font-size","10pt"],[1,"row","mx-0","my-1","p-0"],[1,"col","p-0","m-0","align-self-center","justify-self-center"],["class","col-0 p-0 m-0 align-self-end justify-self-end",4,"ngIf"],["class","pl-2",4,"ngFor","ngForOf"],["type","button",1,"btn-sm","bg-danger",3,"click"],[1,"fa","fa-trash"],[1,"fa","fa-pencil-alt"],[1,"col-0","p-0","m-0","align-self-end","justify-self-end"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"pl-2"],[1,"mb-2","p-2",2,"border","1px solid lightgray"],[3,"onUpdate","onDelete","tiposConfirmacao","protocoloAvaliacao","nivel","dominio"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"label",1),e.EFF(2),e.k0s(),e.DNE(3,Ba,3,0,"div",2)(4,Ya,3,0,"div",2),e.j41(5,"div",3)(6,"button",4),e.bIt("click",function(){return o.deetsHidden=!o.deetsHidden}),e.nrm(7,"i",5)(8,"i",6),e.k0s()()(),e.j41(9,"div",7)(10,"span",8),e.EFF(11),e.k0s(),e.j41(12,"div",9)(13,"label",10),e.EFF(14),e.nI1(15,"localize"),e.k0s(),e.DNE(16,Ua,3,0,"div",11),e.k0s(),e.DNE(17,za,3,4,"div",12),e.k0s()),2&n&&(e.R7$(2),e.SpI(" ",o.nivel.nome," "),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(3),e.Y8G("hidden",!o.deetsHidden),e.R7$(),e.Y8G("hidden",o.deetsHidden),e.R7$(),e.Y8G("hidden",o.deetsHidden),e.R7$(2),e.JRh(o.nivel.desc),e.R7$(3),e.JRh(e.bMT(15,10,"Dominios")),e.R7$(2),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(),e.Y8G("ngForOf",o.dominios))},dependencies:[p.Sq,p.bT,Na,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();function qa(a,d){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"div",1)(2,"label",2),e.EFF(3),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.detailsAluno(o.caso.aluno))}),e.nrm(6,"i",5),e.k0s()()(),e.bVm()}if(2&a){const t=d.$implicit;e.R7$(3),e.SpI(" ",t.caso.aluno.nome," ")}}let Oa=(()=>{class a extends _.q{constructor(t,n,o,i,s,r,u){super(t),this._protocoloAvaliacaoService=n,this._casoService=o,this._alunoService=i,this._modalService=s,this._router=r,this._route=u}ngOnInit(){this.refresh()}refresh(){this.aplicacoes=[],null!=this.protocoloAvaliacao&&this._casoService.getAllAplicacoesProtocoloAvaliacao(void 0,this.protocoloAvaliacao.id).subscribe(t=>this.aplicacoes=t)}detailsAluno(t){this._router.navigate(["../../../alunos/details",t.id],{relativeTo:this._route})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(c.iD),e.rXU(c.pg),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["casos-protocolo-avaliacao"]],inputs:{protocoloAvaliacao:"protocoloAvaliacao"},features:[e.Vt3],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"row"],[1,"col-0"],[1,"col-2"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-link"]],template:function(n,o){1&n&&e.DNE(0,qa,7,1,"ng-container",0),2&n&&e.Y8G("ngForOf",o.aplicacoes)},dependencies:[p.Sq],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();const Ha=()=>[];function Ja(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",21)(1,"button",22),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.toRefBibDetails())}),e.nrm(2,"i",23),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("disabled",null==(null==t.protocoloAvaliacao?null:t.protocoloAvaliacao.refBibliograficaId))}}function xa(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",24)(1,"nivel-details",25),e.bIt("onUpdate",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.ngOnInit())})("onDelete",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.ngOnInit())}),e.k0s()()}if(2&a){const t=d.$implicit,n=e.XpG();e.R7$(),e.Y8G("tiposConfirmacao",n.tiposConfirmacao)("protocoloAvaliacao",n.protocoloAvaliacao)("nivel",t)("dominios",n.dominios)("habilidades",n.habilidades)}}function La(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",26)(1,"a",27),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addNivel())}),e.nrm(2,"i",28),e.EFF(3),e.nI1(4,"localize"),e.k0s()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"AddNewNivel")," "))}function Za(a,d){if(1&a&&(e.j41(0,"tab",12),e.nI1(1,"localize"),e.nrm(2,"casos-protocolo-avaliacao",29),e.k0s()),2&a){const t=e.XpG();e.Y8G("heading",e.bMT(1,2,"Casos")),e.R7$(2),e.Y8G("protocoloAvaliacao",t.protocoloAvaliacao)}}let Wa=(()=>{class a extends _.q{constructor(t,n,o,i,s,r,u,b){super(t),this._protocoloAvaliacaoService=n,this._refBibliograficaService=o,this._alunoService=i,this._changeDetector=s,this._modalService=r,this._router=u,this._route=b,this.tiposConfirmacao=[],this._protocoloAvaliacaoService.getAllTiposConfirmacaoHabilidade().subscribe(g=>{this.tiposConfirmacao=g.sort((C,E)=>{let P=(C?.nome??"").toLowerCase().startsWith("obs");return P==(E?.nome??"").toLowerCase().startsWith("obs")?0:P?-1:1})})}ngOnInit(){const n=Number(this._route.snapshot.paramMap.get("protocoloAvaliacaoId"));this._protocoloAvaliacaoService.get(n).subscribe(o=>{this.protocoloAvaliacao=o,null!=o?.refBibliograficaId&&this._refBibliograficaService.get(o.refBibliograficaId).subscribe(i=>{this.refBibliografica=i})}),this._protocoloAvaliacaoService.getAllNiveis(void 0,n,void 0,void 0,void 0,void 0).subscribe(o=>{this.niveis=o.items}),this._protocoloAvaliacaoService.getAllDominios(void 0,n,void 0,void 0,void 0,void 0,void 0).subscribe(o=>{this.dominios=o.items}),this._protocoloAvaliacaoService.getAllHabilidades(void 0,void 0,void 0,void 0,void 0,n,void 0,void 0,void 0,void 0).subscribe(o=>{this.habilidades=o.items})}addNivel(){let t;t=this._modalService.show(ka,{class:"modal-lg",initialState:{protocoloAvaliacao:this.protocoloAvaliacao,tiposConfirmacao:this.tiposConfirmacao}}),t.content.onSave.subscribe(()=>{this.ngOnInit()})}goBack(){this._router.navigate(["app","protocolos-avaliacao"])}toRefBibDetails(){null!=this.protocoloAvaliacao?.refBibliograficaId&&this._router.navigate(["app","ref-bibliograficas","details",this.protocoloAvaliacao.refBibliograficaId])}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(c.xR),e.rXU(c.pg),e.rXU(e.gRc),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:32,vars:21,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","m-0","p-0"],[1,"row","m-0","mt-4","p-0"],[1,"col-0","m-0","p-0","align-content-center"],[1,"col-0","m-0","p-0","align-content-center","mx-2"],["class","col-0 m-0 p-0",4,"ngIf"],["class","mb-2 p-1","style","border: 1px solid lightgray;",4,"ngFor","ngForOf"],["class","row m-0 align-content-center justify-content-center",4,"ngIf"],["class","p-3","style","\n                    border: 1px solid #dee2e6; \n                    border-top: 0px; \n                    border-bottom-left-radius: .25rem;\n                    border-bottom-right-radius: .25rem; \n                    background-color: white;",3,"heading",4,"ngIf"],[1,"col-0","m-0","p-0"],["type","button",1,"btn","bg-blue",3,"click","disabled"],[1,"fa","fa-link"],[1,"mb-2","p-1",2,"border","1px solid lightgray"],[1,"m-0",3,"onUpdate","onDelete","tiposConfirmacao","protocoloAvaliacao","nivel","dominios","habilidades"],[1,"row","m-0","align-content-center","justify-content-center"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[3,"protocoloAvaliacao"]],template:function(n,o){if(1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"h1",8),e.EFF(12),e.k0s()()()(),e.j41(13,"section",9)(14,"div",10)(15,"tabset",11)(16,"tab",12),e.nI1(17,"localize"),e.j41(18,"p",13),e.EFF(19),e.k0s(),e.j41(20,"div",14)(21,"div",15),e.EFF(22),e.nI1(23,"localize"),e.k0s(),e.j41(24,"div",16),e.EFF(25),e.k0s(),e.DNE(26,Ja,3,1,"div",17),e.k0s()(),e.j41(27,"tab",12),e.nI1(28,"localize"),e.DNE(29,xa,2,5,"div",18)(30,La,5,3,"div",19),e.k0s(),e.DNE(31,Za,3,4,"tab",20),e.k0s()()()()),2&n){let i,s;e.Y8G("@routerTransition",void 0),e.R7$(9),e.SpI(" ",e.bMT(10,12,"Detalhes do Protocolo de Avalia\xe7\xe3o")," "),e.R7$(3),e.SpI(" ",null==o.protocoloAvaliacao?null:o.protocoloAvaliacao.nome," "),e.R7$(4),e.Y8G("heading",e.bMT(17,14,"Descricao")),e.R7$(3),e.SpI(" ",null==o.protocoloAvaliacao?null:o.protocoloAvaliacao.desc," "),e.R7$(3),e.SpI("",e.bMT(23,16,"Refer\xeancia Bibliogr\xe1fica"),":"),e.R7$(3),e.JRh(null!==(i=null==o.refBibliografica?null:o.refBibliografica.nome)&&void 0!==i?i:"N/A"),e.R7$(),e.Y8G("ngIf",null!=(null==o.protocoloAvaliacao?null:o.protocoloAvaliacao.refBibliograficaId)),e.R7$(),e.Y8G("heading",e.bMT(28,18,"Niveis")),e.R7$(2),e.Y8G("ngForOf",null!==(s=o.niveis)&&void 0!==s?s:e.lJ4(20,Ha)),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Technical")),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Admin.People"))}},dependencies:[p.Sq,p.bT,I.V6,I.fw,Xa,Oa,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})(),Qa=(()=>{class a extends _.q{constructor(t){super(t),this.disabled=!1}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["info-protocolo-avaliacao-form"]],inputs:{disabled:"disabled",protocoloAvaliacao:"protocoloAvaliacao"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:20,vars:14,consts:[["nomeModel","ngModel","nomeEl",""],["descModel","ngModel","descEl",""],[1,"form-group","row","required","mx-0"],["for","nome",1,"col-md-2","col-form-label","mx-0"],[1,"col","mx-0"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],[1,"row","m-0"],[1,"form-group","col","mx-0"],["for","desc",1,"row-0","form-label","mx-0"],[1,"row","mx-0"],["type","text","name","desc","id","desc","maxlength","1000",1,"form-control",3,"ngModelChange","disabled","ngModel"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"div",2)(1,"label",3),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",4)(5,"input",5,0),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.protocoloAvaliacao.nome,r)||(o.protocoloAvaliacao.nome=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",6),e.k0s()(),e.j41(9,"div",7)(10,"div",8)(11,"label",9),e.EFF(12),e.nI1(13,"localize"),e.k0s(),e.j41(14,"div",10)(15,"textarea",11,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.protocoloAvaliacao.desc,r)||(o.protocoloAvaliacao.desc=r),e.Njj(r)}),e.EFF(18,"            "),e.k0s(),e.nrm(19,"abp-validation-summary",6),e.k0s()()()}if(2&n){const i=e.sdS(6),s=e.sdS(7),r=e.sdS(16),u=e.sdS(17);e.R7$(2),e.SpI(" ",e.bMT(3,10,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.protocoloAvaliacao.nome),e.R7$(3),e.Y8G("control",i)("controlEl",s),e.R7$(4),e.SpI(" ",e.bMT(13,12,"Descricao")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.protocoloAvaliacao.desc),e.R7$(4),e.Y8G("control",r)("controlEl",u)}},dependencies:[l.me,l.BC,l.YS,l.tU,l.vS,S.e,m.S],encapsulation:2})}return a})();function Ka(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"a",14),e.bIt("click",function(){const o=e.eBV(t).index,i=e.XpG();return e.Njj(i.removeNivel(o))}),e.nrm(4,"i",15),e.k0s()(),e.nrm(5,"nivel-form",16),e.k0s()()}if(2&a){const t=d.$implicit,n=d.index,o=e.XpG();e.R7$(5),e.Y8G("nivel",t)("tiposConfirmacao",o.tiposConfirmacao)("ngModelGroup","nivel"+n+"Form")}}let es=(()=>{class a extends _.q{get tipoConfDefault(){return this.tiposConfirmacao?.find(t=>t.nome.toLowerCase().startsWith("obs"))?.id}constructor(t,n,o){super(t),this._protocoloAvaliacaoService=n,this.bsModalRef=o,this.tiposConfirmacao=[],this.onSave=new e.bkB,this.protocoloAvaliacao=new c._m,this._protocoloAvaliacaoService.getAllTiposConfirmacaoHabilidade().subscribe(i=>{this.tiposConfirmacao=i.sort((s,r)=>{let u=s.nome.toLowerCase().startsWith("obs");return u==r.nome.toLowerCase().startsWith("obs")?0:u?-1:1})})}ngOnInit(){}create(){this.saving=!0,console.log(this.protocoloAvaliacao),this._protocoloAvaliacaoService.create(this.protocoloAvaliacao).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.saving=!1,this.onSave.emit()})}createNivel(){this.protocoloAvaliacao.niveis.push(new c.cl)}removeNivel(t){this.protocoloAvaliacao.niveis.splice(t,1)}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:18,vars:16,consts:[["createProtocoloAvaliacaoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"pt-3","px-2",3,"heading"],["ngModelGroup","infoProtocoloAvaliacao",3,"protocoloAvaliacao"],["class","mx-0",4,"ngFor","ngForOf"],[1,"row","align-content-center","justify-content-center","mx-0"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[1,"mx-0"],[1,"mb-2","p-2","row",2,"border","1px solid lightgray"],[1,"col-0","align-content-start","justify-content-center","px-0","mx-0"],["href","javascript:;",1,"btn","bg-danger",3,"click"],[1,"fa","fa-trash"],[1,"col",3,"nivel","tiposConfirmacao","ngModelGroup"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.create())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3)(5,"tabset")(6,"tab",4),e.nI1(7,"localize"),e.nrm(8,"info-protocolo-avaliacao-form",5),e.k0s(),e.j41(9,"tab",4),e.nI1(10,"localize"),e.DNE(11,Ka,6,3,"div",6),e.j41(12,"div",7)(13,"a",8),e.bIt("click",function(){return e.eBV(i),e.Njj(o.createNivel())}),e.nrm(14,"i",9),e.EFF(15),e.nI1(16,"localize"),e.k0s()()()()(),e.j41(17,"abp-modal-footer",10),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,8,"CreateNewProtocoloAvaliacao")),e.R7$(4),e.Y8G("heading",e.bMT(7,10,"InfoProtocoloAvaliacao")),e.R7$(2),e.Y8G("protocoloAvaliacao",o.protocoloAvaliacao),e.R7$(),e.Y8G("heading",e.bMT(10,12,"Niveis")),e.R7$(2),e.Y8G("ngForOf",o.protocoloAvaliacao.niveis),e.R7$(4),e.SpI(" ",e.bMT(16,14,"CreateNewNivel")," "),e.R7$(2),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.cb,l.Y4,l.cV,I.V6,I.fw,F.x,k.z,Qa,le,m.S],encapsulation:2})}return a})();const os=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function ts(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function ns(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"button",38),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.detailsProtocoloAvaliacao(o))}),e.nrm(7,"i",39),e.EFF(8),e.nI1(9,"localize"),e.k0s()()()}if(2&a){const t=d.$implicit;e.R7$(2),e.JRh(t.nome),e.R7$(2),e.JRh(t.desc),e.R7$(4),e.SpI(" ",e.bMT(9,3,"Details")," ")}}let is=(()=>{class a extends A{constructor(t,n,o,i,s){super(t),this._protocoloAvaliacaoService=n,this._modalService=o,this._router=i,this._route=s,this.protocolosAvaliacao=[],this.keyword="",this.advancedFiltersVisible=!1}createProtocoloAvaliacao(){let t;t=this._modalService.show(es,{class:"modal-lg"}),t.content.onSave.subscribe(()=>{this.refresh()})}detailsProtocoloAvaliacao(t){this._router.navigate(["details",t.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.isActive=void 0,this.getDataPage(1)}list(t,n,o){t.keyword=this.keyword,this._protocoloAvaliacaoService.getAll(t.keyword,void 0,void 0,t.skipCount,t.maxResultCount).pipe((0,y.j)(()=>{o()})).subscribe(i=>{this.protocolosAvaliacao=i.items,this.showPaging(i,n)})}delete(t){abp.message.confirm("O seguinte protocolo de avalia\xe7\xe3o ser\xe1 exclu\xeddo do banco",void 0,n=>{n&&this._protocoloAvaliacaoService.delete(t.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.WD),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:59,vars:38,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"]],template:function(n,o){1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createProtocoloAvaliacao()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,ts,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th",24),e.EFF(42),e.nI1(43,"localize"),e.k0s()()(),e.j41(44,"tbody"),e.DNE(45,ns,10,5,"tr",25),e.nI1(46,"paginate"),e.k0s()()()(),e.j41(47,"div",26)(48,"div",2)(49,"div",27)(50,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(51,"i",29),e.k0s()(),e.j41(52,"div",30)(53,"p",31),e.EFF(54),e.nI1(55,"localize"),e.k0s()(),e.j41(56,"div",32)(57,"div",33)(58,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&n&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,16,"ProtocolosAvaliacao")),e.R7$(5),e.SpI(" ",e.bMT(12,18,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,20,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,22,"Nome")),e.R7$(3),e.JRh(e.bMT(40,24,"Descricao")),e.R7$(3),e.JRh(e.bMT(43,26,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(46,28,o.protocolosAvaliacao,e.sMw(34,os,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(55,31,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();const Je=()=>[""],as=()=>[];function ss(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",38)(1,"button",39),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG(3);return e.Njj(i.setHabilidadeAdquirida(o.aquisicao,!0))}),e.EFF(2),e.nI1(3,"localize"),e.k0s()()}if(2&a){const t=e.XpG().$implicit,n=e.XpG(3);e.Y8G("hidden",null!=(null==t||null==t.aquisicao?null:t.aquisicao.dataAdquirida)),e.R7$(),e.Y8G("disabled",n.saving),e.R7$(),e.SpI(" ",e.bMT(3,3,"Marcar adquirida")," ")}}function rs(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",38)(1,"button",39),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG(3);return e.Njj(i.setHabilidadeAdquirida(o.aquisicao,!1))}),e.EFF(2),e.nI1(3,"localize"),e.k0s()()}if(2&a){const t=e.XpG().$implicit,n=e.XpG(3);e.Y8G("hidden",null==(null==t||null==t.aquisicao?null:t.aquisicao.dataAdquirida)),e.R7$(),e.Y8G("disabled",n.saving),e.R7$(),e.SpI(" ",e.bMT(3,3,"Desmarcar adquirida")," ")}}function ls(a,d){if(1&a){const t=e.RV6();e.j41(0,"input",40),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG().$implicit;return e.DH7(i.aquisicao.notaConfirmacao,o)||(i.aquisicao.notaConfirmacao=o),e.Njj(o)}),e.k0s()}if(2&a){const t=e.XpG().$implicit,n=e.XpG(3);e.Y8G("name",(null==t?null:t.habilidade.nome)+"NotaAquisicao")("name",(null==t?null:t.habilidade.nome)+"NotaAquisicao")("id",(null==t?null:t.habilidade.nome)+"NotaAquisicao")("hidden",null==t.aquisicao.dataAdquirida)("disabled",null==t.aquisicao.dataAdquirida||n.saving),e.R50("ngModel",t.aquisicao.notaConfirmacao)}}function ds(a,d){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&a){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",null==t||null==t.aquisicao?null:t.aquisicao.notaConfirmacao," ")}}function cs(a,d){if(1&a){const t=e.RV6();e.j41(0,"textarea",41),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG().$implicit;return e.DH7(i.aquisicao.observacao,o)||(i.aquisicao.observacao=o),e.Njj(o)}),e.EFF(1,"                                                    "),e.k0s()}if(2&a){const t=e.XpG().$implicit,n=e.XpG(3);e.Y8G("disabled",n.saving)("name",(null==t||null==t.habilidade?null:t.habilidade.nome)+"Obs")("id",(null==t||null==t.habilidade?null:t.habilidade.nome)+"Obs"),e.R50("ngModel",t.aquisicao.observacao)}}function us(a,d){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&a){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",null==t||null==t.aquisicao?null:t.aquisicao.observacao," ")}}function ps(a,d){if(1&a&&(e.j41(0,"div",24)(1,"div",25)(2,"label",26),e.EFF(3),e.k0s(),e.j41(4,"div",27)(5,"span",28),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.DNE(8,ss,4,5,"div",29),e.j41(9,"span",28),e.EFF(10),e.k0s(),e.DNE(11,rs,4,5,"div",29),e.k0s(),e.j41(12,"div",30)(13,"label",31),e.EFF(14),e.nI1(15,"localize"),e.k0s(),e.j41(16,"div",32),e.DNE(17,ls,1,6,"input",33)(18,ds,2,1,"span",34),e.k0s()(),e.j41(19,"div",35)(20,"label",31),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"div",36),e.DNE(24,cs,2,4,"textarea",37)(25,us,2,1,"span",34),e.k0s()()()()),2&a){let t;const n=d.$implicit,o=e.XpG(3);e.R7$(3),e.Lme(" ",null==n||null==n.habilidade?null:n.habilidade.codigo," - ",null==n||null==n.habilidade?null:n.habilidade.nome," "),e.R7$(2),e.Y8G("hidden",null!=(null==n||null==n.aquisicao?null:n.aquisicao.dataAdquirida)),e.R7$(),e.SpI(" ",e.bMT(7,18,"Habilidade n\xe3o adquirida")," "),e.R7$(2),e.Y8G("ngIf",o.permission.isGranted("Business.Personal.Colaborador.Supervisor")),e.R7$(),e.Y8G("hidden",null==(null==n||null==n.aquisicao?null:n.aquisicao.dataAdquirida)),e.R7$(),e.Lme(" Habilidade adquirida (",null!==(t=null==n||null==n.aquisicao?null:n.aquisicao.confirmacaoDireta)&&void 0!==t&&t?"Registro Direto":"Registro Indireto"," no dia ",null==n||null==n.aquisicao||null==n.aquisicao.dataAdquirida?null:n.aquisicao.dataAdquirida.format("DD/MM/yyyy"),") "),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Personal.Colaborador.Supervisor")),e.R7$(),e.Y8G("hidden",null==n.aquisicao.dataAdquirida),e.R7$(),e.Y8G("for",(null==n?null:n.habilidade.nome)+"NotaAquisicao"),e.R7$(),e.SpI(" ",e.bMT(15,20,"Nota Aquisi\xe7\xe3o")," "),e.R7$(3),e.Y8G("ngIf",o.permission.isGranted("Business.Personal.Colaborador.Supervisor")),e.R7$(),e.Y8G("ngIf",!o.permission.isGranted("Business.Personal.Colaborador.Supervisor")),e.R7$(2),e.Y8G("for",(null==n||null==n.habilidade?null:n.habilidade.nome)+"Obs"),e.R7$(),e.SpI(" ",e.bMT(22,22,"Observacao")," "),e.R7$(3),e.Y8G("ngIf",o.permission.isGranted("Business.Personal.Colaborador.Supervisor")),e.R7$(),e.Y8G("ngIf",!o.permission.isGranted("Business.Personal.Colaborador.Supervisor"))}}function ms(a,d){if(1&a&&(e.j41(0,"div",20)(1,"div",21)(2,"label",22),e.EFF(3),e.k0s(),e.DNE(4,ps,26,24,"div",23),e.k0s()()),2&a){let t;const n=d.$implicit;e.R7$(3),e.Lme(" ",null==n||null==n.dominio?null:n.dominio.codigo," - ",null==n||null==n.dominio?null:n.dominio.nome," "),e.R7$(),e.Y8G("ngForOf",null!==(t=null==n?null:n.pares)&&void 0!==t?t:e.lJ4(3,as))}}function hs(a,d){if(1&a&&(e.j41(0,"div",20)(1,"div",21)(2,"label",22),e.EFF(3),e.k0s(),e.DNE(4,ms,5,4,"div",18),e.k0s()()),2&a){const t=d.$implicit;e.R7$(3),e.SpI(" ",null==t||null==t.nivel?null:t.nivel.nome," "),e.R7$(),e.Y8G("ngForOf",t.dominioPares)}}function fs(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",42)(1,"div",43)(2,"button",44),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.cancel())}),e.EFF(3),e.nI1(4,"localize"),e.k0s()(),e.j41(5,"div",43)(6,"button",39),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.save())}),e.EFF(7),e.nI1(8,"localize"),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.Y8G("disabled",t.saving||!t.hasChanged()),e.R7$(),e.SpI(" ",e.bMT(4,4,"Cancelar")," "),e.R7$(3),e.Y8G("disabled",t.saving||!t.hasChanged()),e.R7$(),e.SpI(" ",e.bMT(8,6,"Salvar")," ")}}let bs=(()=>{class a extends _.q{constructor(t,n,o,i,s,r,u,b){super(t),this._modalService=n,this._alunoService=o,this._casoService=i,this._protocoloAvaliacaoService=s,this._changeDetector=r,this._router=u,this._route=b,this.saving=!1}goBack(){this.permission.isGranted("Business.Personal.Cliente.Aluno")&&this.appSession.user.aluno?.id==this.alunoId?this._router.navigate(["app","personal"]):this._router.navigate(["../.."],{relativeTo:this._route})}setHabilidadeAdquirida(t,n){n?(t.dataAdquirida=V(V.now()),t.confirmacaoDireta=!0,t.notaConfirmacao=""):(t.dataAdquirida=void 0,t.notaConfirmacao=void 0,t.confirmacaoDireta=void 0),this._changeDetector.detectChanges()}ngOnInit(){const t=this._route.snapshot.paramMap;this.alunoId=Number(t.get("alunoId")),this.apliId=Number(t.get("apliId")),this.load()}refresh(){this._setApli(this.original)}_setApli(t){this.original=t,this.aplicacao=new c.XU(this.original),this.aplicacao.habilidades=[],this.original.habilidades.forEach(n=>this.aplicacao.habilidades.push(new c.aA(n)))}load(){this.alunoLoading=!0,this._alunoService.get(this.alunoId).subscribe(t=>{this.aluno=t,this.alunoLoading=!1,this._changeDetector.detectChanges()}),this.aplicacaoLoading=!0,this._casoService.getAplicacaoProtocoloAvaliacao(this.apliId).subscribe(t=>{this._setApli(t),this.aplicacaoLoading=!1,this.setNivelPares()}),this.protocoloAvaliacaoLoading=!0,this.niveisLoading=!0,this.dominiosLoading=!0,this.habilidadesLoading=!0,this._protocoloAvaliacaoService.getByAplicacao(this.apliId).subscribe(t=>{this.protocoloAvaliacao=t,this._protocoloAvaliacaoService.getAllNiveis(void 0,t.id,void 0,void 0,void 0,void 0).subscribe(n=>{this.niveis=n.items,this.niveisLoading=!1,this.setNivelPares()}),this._protocoloAvaliacaoService.getAllDominios(void 0,t.id,void 0,void 0,void 0,void 0,void 0).subscribe(n=>{this.dominios=n.items,this.dominiosLoading=!1,this.setNivelPares()}),this._protocoloAvaliacaoService.getAllHabilidades(void 0,void 0,void 0,void 0,void 0,t.id,void 0,void 0,void 0,void 0).subscribe(n=>{this.habilidades=n.items,this.habilidadesLoading=!1,this.setNivelPares()}),this.protocoloAvaliacaoLoading=!1,this.setNivelPares()})}setNivelPares(){if(!(this.aplicacaoLoading||this.protocoloAvaliacaoLoading||this.dominiosLoading||this.habilidadesLoading)){this.nivelPares=[],this.niveis.forEach(n=>{this.nivelPares.push({nivel:n,dominioPares:[]})});let t=[];this.dominios.forEach(n=>{let o={dominio:n,pares:[]};t.push(o),this.nivelPares.find(i=>i.nivel.id==n.nivelId).dominioPares.push(o)}),this.habilidades.forEach(n=>{t.find(i=>i.dominio.id==n.dominioId).pares.push({habilidade:n,aquisicao:this.aplicacao.habilidades.find(i=>i.habilidadeId==n.id)})})}this._changeDetector.detectChanges()}hasChanged(){return JSON.stringify(this.original)!==JSON.stringify(this.aplicacao)}save(){this.saving=!0,this.aplicacaoLoading=!0;let t=new c.I8(this.aplicacao);this._casoService.updateAplicacaoProtocoloAvaliacao(t).subscribe(n=>{this.notify.info(this.l("SavedSuccessfully")),this._setApli(n),this.aplicacaoLoading=!1,this.saving=!1})}cancel(){console.log(this.hasChanged()),this.refresh()}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(f.I8),e.rXU(c.pg),e.rXU(c.iD),e.rXU(c.WD),e.rXU(e.gRc),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:40,vars:23,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","p-0","m-0"],[1,"col","m-0","p-0"],[1,"col","p-0","m-0"],[1,"row","p-0","m-0","mt-2"],[1,"pr-2"],["class","row m-0 mb-2 p-0",4,"ngFor","ngForOf"],["class","row m-0 p-0",4,"ngIf"],[1,"row","m-0","mb-2","p-0"],[1,"col","m-0"],[1,"row","m-0","text-left"],["class","row mx-0 mt-0 mb-2 p-0",4,"ngFor","ngForOf"],[1,"row","mx-0","mt-0","mb-2","p-0"],[1,"col","m-0","ml-4","p-2",2,"border","1px solid lightgray"],[1,"row","m-0","p-0","text-left"],[1,"row","m-0","ml-4","p-0"],[1,"col","m-0","p-0",3,"hidden"],["class","col-3 m-0 p-0 text-center",3,"hidden",4,"ngIf"],[1,"form-group","row","m-0","ml-4","p-0",3,"hidden"],[1,"col-3","form-label","mx-0","p-0",3,"for"],[1,"col-5","m-0","p-0"],["class","form-control","type","text","maxlength","100",3,"name","id","hidden","disabled","ngModel","ngModelChange",4,"ngIf"],[4,"ngIf"],[1,"form-group","row","m-0","ml-4","p-0"],[1,"col","mx-0","p-0"],["type","text","class","form-control","maxlength","500",3,"disabled","name","id","ngModel","ngModelChange",4,"ngIf"],[1,"col-3","m-0","p-0","text-center",3,"hidden"],["type","button",1,"btn","btn-sm","bg-primary",3,"click","disabled"],["type","text","maxlength","100",1,"form-control",3,"ngModelChange","name","id","hidden","disabled","ngModel"],["type","text","maxlength","500",1,"form-control",3,"ngModelChange","disabled","name","id","ngModel"],[1,"row","m-0","p-0"],[1,"col","m-0","p-0","text-center"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click","disabled"]],template:function(n,o){if(1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"h1",8),e.EFF(12),e.k0s()()()(),e.j41(13,"section",9)(14,"div",10)(15,"tabset",11)(16,"tab",12),e.nI1(17,"localize"),e.j41(18,"div",13)(19,"div",14)(20,"div",13)(21,"label",15),e.EFF(22," Data in\xedcio: "),e.k0s(),e.j41(23,"span",15),e.EFF(24),e.k0s()()(),e.j41(25,"div",14)(26,"div",13)(27,"label",15),e.EFF(28," Data arquivamento: "),e.k0s(),e.j41(29,"span",15),e.EFF(30),e.k0s()()()(),e.j41(31,"p",16)(32,"b",17),e.EFF(33),e.nI1(34,"localize"),e.k0s(),e.EFF(35),e.k0s()(),e.j41(36,"tab",12),e.nI1(37,"localize"),e.DNE(38,hs,5,2,"div",18)(39,fs,9,8,"div",19),e.k0s()()()()()),2&n){let i,s;e.Y8G("@routerTransition",void 0),e.R7$(9),e.SpI(" ",e.bMT(10,13,"Detalhes da Aplica\xe7\xe3o de Protocolo de Avalia\xe7\xe3o")," "),e.R7$(3),e.E5c(" ",null==o.protocoloAvaliacao?null:o.protocoloAvaliacao.nome," para ",(null!==(i=null==o.aluno||null==o.aluno.nome?null:o.aluno.nome.split(" "))&&void 0!==i?i:e.lJ4(21,Je))[0]," ",(null!==(i=null==o.aluno||null==o.aluno.nome||null==(i=o.aluno.nome.split(" "))?null:i.reverse())&&void 0!==i?i:e.lJ4(22,Je))[0]," "),e.R7$(4),e.Y8G("heading",e.bMT(17,15,"InfoAplicacao")),e.R7$(8),e.SpI(" ",null==o.aplicacao||null==o.aplicacao.dataInicio?null:o.aplicacao.dataInicio.format("DD/MM/yyyy")," "),e.R7$(6),e.SpI(" ",null!==(s=null==o.aplicacao?null:o.aplicacao.dataArquivamento)&&void 0!==s?s:"-"," "),e.R7$(3),e.SpI("",e.bMT(34,17,"Descri\xe7\xe3o do Protocolo Avaliacao"),":"),e.R7$(2),e.SpI(" ",null==o.protocoloAvaliacao?null:o.protocoloAvaliacao.desc,""),e.R7$(),e.Y8G("heading",e.bMT(37,19,"Habilidades")),e.R7$(2),e.Y8G("ngForOf",o.nivelPares),e.R7$(),e.Y8G("ngIf",o.permission.isGranted("Business.Personal.Colaborador.Supervisor"))}},dependencies:[p.Sq,p.bT,l.me,l.BC,l.tU,l.vS,I.V6,I.fw,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})(),xe=(()=>{class a extends B{constructor(t){super(t)}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ref-bibliografica-form"]],inputs:{refBibliografica:"refBibliografica"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:28,vars:21,consts:[["nomeModel","ngModel","nomeEl",""],["refStringModel","ngModel","refStringEl",""],["linkModel","ngModel","linkEl",""],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","200",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","refString",1,"col-md-3","col-form-label"],["type","text","name","refString","id","refString","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","link",1,"col-md-3","col-form-label"],["type","text","name","link","id","link","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"div",3)(1,"label",4),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",5)(5,"input",6,0),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.refBibliografica.nome,r)||(o.refBibliografica.nome=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",7),e.k0s()(),e.j41(9,"div",8)(10,"label",9),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",5)(14,"textarea",10,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.refBibliografica.refString,r)||(o.refBibliografica.refString=r),e.Njj(r)}),e.EFF(17,"        "),e.k0s(),e.nrm(18,"abp-validation-summary",7),e.k0s()(),e.j41(19,"div",8)(20,"label",11),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"div",5)(24,"input",12,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.refBibliografica.link,r)||(o.refBibliografica.link=r),e.Njj(r)}),e.k0s(),e.nrm(27,"abp-validation-summary",7),e.k0s()()}if(2&n){const i=e.sdS(6),s=e.sdS(7),r=e.sdS(15),u=e.sdS(16),b=e.sdS(25),g=e.sdS(26);e.R7$(2),e.SpI(" ",e.bMT(3,15,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.refBibliografica.nome),e.R7$(3),e.Y8G("control",i)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,17,"Texto de Refer\xeancia")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.refBibliografica.refString),e.R7$(4),e.Y8G("control",r)("controlEl",u),e.R7$(3),e.SpI(" ",e.bMT(22,19,"Link")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.refBibliografica.link),e.R7$(3),e.Y8G("control",b)("controlEl",g)}},dependencies:[l.me,l.BC,l.YS,l.tU,l.vS,S.e,m.S],encapsulation:2})}return a})(),_s=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._refbibliograficaService=n,this.bsModalRef=o,this.saving=!1,this.refBibliografica=new c.hN,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,this._refbibliograficaService.create(this.refBibliografica).subscribe(t=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(t)})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.xR),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["createRefBibliograficaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","refBibliografica",3,"refBibliografica"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"ref-bibliografica-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"CreateNewRefBibliografica")),e.R7$(3),e.Y8G("refBibliografica",o.refBibliografica),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,F.x,k.z,xe,m.S],encapsulation:2})}return a})();const gs=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function vs(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function Cs(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"button",38),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.detailsRefBibliografica(o))}),e.nrm(9,"i",39),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"button",40),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.delete(o))}),e.nrm(13,"i",41),e.EFF(14),e.nI1(15,"localize"),e.k0s()()()}if(2&a){let t,n;const o=d.$implicit;e.R7$(2),e.JRh(o.nome),e.R7$(2),e.JRh(null!==(t=null==o?null:o.refString)&&void 0!==t?t:"-"),e.R7$(2),e.JRh(null!==(n=null==o?null:o.link)&&void 0!==n?n:"-"),e.R7$(4),e.SpI(" ",e.bMT(11,5,"Edit")," "),e.R7$(4),e.SpI(" ",e.bMT(15,7,"Delete")," ")}}let Is=(()=>{class a extends A{constructor(t,n,o,i,s){super(t),this._refbibliograficaService=n,this._modalService=o,this._router=i,this._route=s,this.refBibliograficas=[],this.keyword="",this.advancedFiltersVisible=!1}createRefBibliografica(){let t;t=this._modalService.show(_s,{class:"modal-lg"}),t.content.onSave.subscribe(n=>{this.refresh(),this._router.navigate(["details",n.id],{relativeTo:this._route})})}detailsRefBibliografica(t){this._router.navigate(["details",t.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.getDataPage(1)}list(t,n,o){t.keyword=this.keyword,this._refbibliograficaService.getAll(t.keyword,t.skipCount,t.maxResultCount).pipe((0,y.j)(()=>{o()})).subscribe(i=>{this.refBibliograficas=i.items,this.showPaging(i,n)})}delete(t){abp.message.confirm("O seguinte refbibliografica ser\xe1 exclu\xeddo do banco",void 0,n=>{n&&this._refbibliograficaService.delete(t.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.xR),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:62,vars:41,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createRefBibliografica()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,vs,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th",24),e.EFF(45),e.nI1(46,"localize"),e.k0s()()(),e.j41(47,"tbody"),e.DNE(48,Cs,16,9,"tr",25),e.nI1(49,"paginate"),e.k0s()()()(),e.j41(50,"div",26)(51,"div",2)(52,"div",27)(53,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(54,"i",29),e.k0s()(),e.j41(55,"div",30)(56,"p",31),e.EFF(57),e.nI1(58,"localize"),e.k0s()(),e.j41(59,"div",32)(60,"div",33)(61,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&n&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,17,"Refer\xeancias Bibliogr\xe1ficas")),e.R7$(5),e.SpI(" ",e.bMT(12,19,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,21,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,23,"Nome")),e.R7$(3),e.JRh(e.bMT(40,25,"Refer\xeancia")),e.R7$(3),e.JRh(e.bMT(43,27,"Link")),e.R7$(3),e.JRh(e.bMT(46,29,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(49,31,o.refBibliograficas,e.sMw(37,gs,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(58,34,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();const Fs=()=>[];function ks(a,d){if(1&a&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.nome)}}let Le=(()=>{class a extends B{get refBibId(){return this.tecnica?.refBibliograficaId??-1}set refBibId(t){-1==t&&(t=void 0),this.tecnica.refBibliograficaId=t}constructor(t,n,o){super(t),this.refBibService=n,this.changeDetectorRef=o,this.hasPresetRefBib=!1}ngOnInit(){this.hasPresetRefBib||this.refBibService.getAll(void 0,void 0,void 0).subscribe(t=>{this.refBibliograficas=t.items,this.changeDetectorRef.detectChanges()})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.xR),e.rXU(e.gRc))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["tecnica-form"]],inputs:{hasPresetRefBib:"hasPresetRefBib",tecnica:"tecnica"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:31,vars:24,consts:[["nomeModel","ngModel","nomeEl",""],["descModel","ngModel","descEl",""],["refBibModel","ngModel","refBibEl",""],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","100",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","desc",1,"col-md-3","col-form-label"],["type","text","name","desc","id","desc","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"form-group","row",3,"hidden"],["for","refBib",1,"col-md-3","col-form-label"],["id","refBib","name","refBib",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value","-1"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"div",3)(1,"label",4),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",5)(5,"input",6,0),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.tecnica.nome,r)||(o.tecnica.nome=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",7),e.k0s()(),e.j41(9,"div",8)(10,"label",9),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",5)(14,"textarea",10,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.tecnica.desc,r)||(o.tecnica.desc=r),e.Njj(r)}),e.EFF(17,"        "),e.k0s(),e.nrm(18,"abp-validation-summary",7),e.k0s()(),e.j41(19,"div",11)(20,"label",12),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"div",5)(24,"select",13,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.refBibId,r)||(o.refBibId=r),e.Njj(r)}),e.j41(27,"option",14),e.EFF(28,"Nenhuma"),e.k0s(),e.DNE(29,ks,2,2,"option",15),e.k0s(),e.nrm(30,"abp-validation-summary",7),e.k0s()()}if(2&n){let i;const s=e.sdS(6),r=e.sdS(7),u=e.sdS(15),b=e.sdS(16),g=e.sdS(25),C=e.sdS(26);e.R7$(2),e.SpI(" ",e.bMT(3,17,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.tecnica.nome),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(12,19,"Descri\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.tecnica.desc),e.R7$(4),e.Y8G("control",u)("controlEl",b),e.R7$(),e.Y8G("hidden",o.hasPresetRefBib),e.R7$(2),e.SpI(" ",e.bMT(22,21,"Refer\xeancia Bibliogr\xe1fica")," "),e.R7$(3),e.Y8G("disabled",o.disabled||o.hasPresetRefBib),e.R50("ngModel",o.refBibId),e.R7$(5),e.Y8G("ngForOf",null!==(i=o.refBibliograficas)&&void 0!==i?i:e.lJ4(23,Fs)),e.R7$(),e.Y8G("control",g)("controlEl",C)}},dependencies:[p.Sq,l.xH,l.y7,l.me,l.wz,l.BC,l.YS,l.tU,l.vS,S.e,m.S],encapsulation:2})}return a})(),Ze=(()=>{class a extends _.q{get hasPresetRefBib(){return null!=this.presetRefBib}constructor(t,n,o){super(t),this._tecnicaService=n,this.bsModalRef=o,this.saving=!1,this.tecnica=new c.Z1,this.onSave=new e.bkB}ngOnInit(){this.hasPresetRefBib&&(this.tecnica.refBibliograficaId=this.presetRefBib)}save(){this.saving=!0,this._tecnicaService.create(this.tecnica).subscribe(()=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.$Q),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["createTecnicaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","tecnica",3,"tecnica","hasPresetRefBib"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"tecnica-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"CreateNewTecnica")),e.R7$(3),e.Y8G("tecnica",o.tecnica)("hasPresetRefBib",o.hasPresetRefBib),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,F.x,k.z,Le,m.S],encapsulation:2})}return a})();const js=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function Rs(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function Ss(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"button",38),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.detailsTecnica(o))}),e.nrm(7,"i",14),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"button",39),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.delete(o))}),e.nrm(11,"i",40),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){let t;const n=d.$implicit,o=e.XpG();e.R7$(2),e.JRh(n.nome),e.R7$(2),e.JRh(null!==(t=null==(t=o.getRefBib(n.refBibliograficaId))?null:t.nome)&&void 0!==t?t:"-"),e.R7$(4),e.SpI(" ",e.bMT(9,4,"Details")," "),e.R7$(4),e.SpI(" ",e.bMT(13,6,"Delete")," ")}}let Ms=(()=>{class a extends A{constructor(t,n,o,i,s,r,u){super(t),this._tecnicaService=n,this._refBibService=o,this._modalService=i,this._changeDetector=s,this._router=r,this._route=u,this.tecnicas=[],this.referencias=[],this.keyword="",this.advancedFiltersVisible=!1}ngOnInit(){this._refBibService.getAll(void 0,void 0,void 0).subscribe(t=>{this.referencias=t.items,this._changeDetector.detectChanges()}),this.refresh()}getRefBib(t){return this.referencias?.find(n=>n.id==t)}createTecnica(){let t;t=this._modalService.show(Ze,{class:"modal-lg"}),t.content.onSave.subscribe(()=>{this.refresh()})}detailsTecnica(t){this._router.navigate(["details",t.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.getDataPage(1)}list(t,n,o){t.keyword=this.keyword,this._tecnicaService.getAll(t.keyword,t.refBibId,t.skipCount,t.maxResultCount).pipe((0,y.j)(()=>{o()})).subscribe(i=>{this.tecnicas=i.items,this.showPaging(i,n)})}delete(t){abp.message.confirm("O seguinte tecnica ser\xe1 exclu\xeddo do banco",void 0,n=>{n&&this._tecnicaService.delete(t.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.$Q),e.rXU(c.xR),e.rXU(f.I8),e.rXU(e.gRc),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:59,vars:38,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createTecnica()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,Rs,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th",24),e.EFF(42),e.nI1(43,"localize"),e.k0s()()(),e.j41(44,"tbody"),e.DNE(45,Ss,14,8,"tr",25),e.nI1(46,"paginate"),e.k0s()()()(),e.j41(47,"div",26)(48,"div",2)(49,"div",27)(50,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(51,"i",29),e.k0s()(),e.j41(52,"div",30)(53,"p",31),e.EFF(54),e.nI1(55,"localize"),e.k0s()(),e.j41(56,"div",32)(57,"div",33)(58,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&n&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,16,"T\xe9cnicas")),e.R7$(5),e.SpI(" ",e.bMT(12,18,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,20,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,22,"Nome")),e.R7$(3),e.JRh(e.bMT(40,24,"Refer\xeancia")),e.R7$(3),e.JRh(e.bMT(43,26,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(46,28,o.tecnicas,e.sMw(34,js,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(55,31,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})(),Es=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._refbibliograficaService=n,this.bsModalRef=o,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,this._refbibliograficaService.update(this.refBibliografica).subscribe(()=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.xR),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["editRefBibliograficaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","refBibliografica",3,"refBibliografica"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"ref-bibliografica-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"EditNewRefBibliografica")),e.R7$(3),e.Y8G("refBibliografica",o.refBibliografica),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,F.x,k.z,xe,m.S],encapsulation:2})}return a})(),Ts=(()=>{class a extends _.q{constructor(t,n,o,i){super(t),this._router=n,this._route=o,this.bsModalRef=i}ngOnInit(){}moreInfo(){this._router.navigate(["app","tecnicas","details",this.tecnica.id]),this.bsModalRef.hide()}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(h.Ix),e.rXU(h.nX),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:17,vars:5,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","m-0","p-2","text-center","justify-content-center"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-plus-square"],[1,"modal-footer","justify-content-end",3,"click"],["type","button",1,"btn","btn-primary"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"h4",1),e.EFF(2),e.k0s(),e.j41(3,"button",2),e.bIt("click",function(){return o.bsModalRef.hide()}),e.j41(4,"span",3),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",4)(7,"p"),e.EFF(8),e.k0s(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return o.moreInfo()}),e.nrm(11,"i",7),e.EFF(12),e.nI1(13,"localize"),e.k0s()()(),e.j41(14,"div",8),e.bIt("click",function(){return o.bsModalRef.hide()}),e.j41(15,"button",9),e.EFF(16," OK "),e.k0s()()),2&n&&(e.R7$(2),e.JRh(o.tecnica.nome),e.R7$(6),e.SpI(" ",o.tecnica.desc," "),e.R7$(4),e.SpI(" ",e.bMT(13,3,"MoreInfo")," "))},dependencies:[m.S],encapsulation:2})}return a})();const Ds=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function ys(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"button",1),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.detailsTecnica(o))}),e.nrm(5,"i",14),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}if(2&a){const t=d.$implicit;e.R7$(2),e.JRh(t.nome),e.R7$(4),e.SpI(" ",e.bMT(7,2,"Details")," ")}}let As=(()=>{class a extends A{set refBibId(t){this._refBibId=t,this.refresh()}get refBibId(){return this._refBibId}constructor(t,n,o,i,s){super(t),this._tecnicaService=n,this._modalService=o,this._router=i,this._route=s,this.onSave=new e.bkB}detailsTecnica(t){let n;n=this._modalService.show(Ts,{class:"modal-lg",initialState:{tecnica:t}})}clearFilters(){this.getDataPage(1)}list(t,n,o){if(null==this.refBibId)return this.showPaging({items:[],totalCount:0},n),void o();this._tecnicaService.getAll(void 0,this.refBibId,t.skipCount,t.maxResultCount).subscribe(i=>{this.tecnicas=i.items,this.showPaging(i,n),o(),this.isTableLoading=!1})}createTecnica(){let t;t=this._modalService.show(Ze,{class:"modal-lg",initialState:{presetRefBib:this._refBibId}}),t.content.onSave.subscribe(()=>{this.refresh(),this.onSave.emit()})}delete(t){abp.message.confirm("O seguinte tecnica ser\xe1 exclu\xeddo do banco",void 0,n=>{n&&this._tecnicaService.delete(t.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.$Q),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["tecnicas-ref-bib"]],inputs:{refBibId:"refBibId"},outputs:{onSave:"onSave"},features:[e.Vt3],decls:24,vars:19,consts:[[1,"row","m-0","p-2","text-center","justify-content-center"],["type","button",1,"btn","btn-sm","bg-primary",3,"click"],[1,"fas","fa-plus-square"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","15%"],[4,"ngFor","ngForOf"],[1,"row","justify-content-end"],[1,"col-sm-4","col","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-6"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"fas","fa-search"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"button",1),e.bIt("click",function(){return o.createTecnica()}),e.nrm(2,"i",2),e.EFF(3),e.nI1(4,"localize"),e.k0s()(),e.j41(5,"div",3)(6,"table",4)(7,"thead",5)(8,"tr")(9,"th"),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.nrm(12,"th",6),e.k0s()(),e.j41(13,"tbody"),e.DNE(14,ys,8,4,"tr",7),e.nI1(15,"paginate"),e.k0s()()(),e.j41(16,"div",8)(17,"div",9)(18,"p",10),e.EFF(19),e.nI1(20,"localize"),e.k0s()(),e.j41(21,"div",11)(22,"div",12)(23,"abp-pagination-controls",13),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,5,"AddTecnica")," "),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(11,7,"Nome")),e.R7$(4),e.Y8G("ngForOf",e.i5U(15,9,o.tecnicas,e.sMw(15,Ds,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(5),e.SpI(" ",e.i5U(20,12,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})(),Ps=(()=>{class a extends _.q{constructor(t,n,o,i,s){super(t),this._refbibliograficaService=n,this._modalService=o,this._router=i,this._route=s}ngOnInit(){this.id=Number(this._route.snapshot.paramMap.get("refBibId")),this.refresh()}refresh(){this._refbibliograficaService.get(this.id).subscribe(t=>{this.refBibliografica=t})}goBack(){this._router.navigate(["../.."],{relativeTo:this._route})}editInfo(){let t;t=this._modalService.show(Es,{class:"modal-lg",initialState:{refBibliografica:this.refBibliografica}}),t.content.onSave.subscribe(()=>{this.refresh()})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.xR),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:35,vars:14,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","m-0","p-0"],[1,"col-2"],[1,"col"],[1,"row","m-0","p-2","text-center","justify-content-center"],["type","button",1,"btn","btn-sm","bg-primary",3,"click"],[1,"fas","fa-alt-pencil"],[3,"onSave","refBibId"]],template:function(n,o){if(1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes da Refer\xeancia Bibliogr\xe1fica "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"div",13)(18,"label",14),e.EFF(19,"Link:"),e.k0s(),e.j41(20,"span",15),e.EFF(21),e.k0s()(),e.j41(22,"div",13)(23,"label",14),e.EFF(24,"Texto de Refer\xeancia:"),e.k0s(),e.j41(25,"p",15),e.EFF(26),e.k0s()(),e.j41(27,"div",16)(28,"button",17),e.bIt("click",function(){return o.editInfo()}),e.nrm(29,"i",18),e.EFF(30),e.nI1(31,"localize"),e.k0s()()(),e.j41(32,"tab",12),e.nI1(33,"localize"),e.j41(34,"tecnicas-ref-bib",19),e.bIt("onSave",function(){return o.refresh()}),e.k0s()()()()()()),2&n){let i;e.Y8G("@routerTransition",void 0),e.R7$(11),e.SpI(" ",null==o.refBibliografica?null:o.refBibliografica.nome," "),e.R7$(4),e.Y8G("heading",e.bMT(16,8,"Informa\xe7\xe3o Geral")),e.R7$(6),e.JRh(null!==(i=null==o.refBibliografica?null:o.refBibliografica.link)&&void 0!==i?i:"-"),e.R7$(5),e.JRh(null==o.refBibliografica?null:o.refBibliografica.refString),e.R7$(4),e.SpI(" ",e.bMT(31,10,"Edit")," "),e.R7$(2),e.Y8G("heading",e.bMT(33,12,"T\xe9cnicas")),e.R7$(2),e.Y8G("refBibId",o.id)}},dependencies:[I.V6,I.fw,As,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})(),ws=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._tecnicaService=n,this.bsModalRef=o,this.saving=!1,this.tecnica=new c.uJ,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,console.log(this.tecnica),this._tecnicaService.update(this.tecnica).subscribe(()=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.$Q),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["editTecnicaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","tecnica",3,"tecnica"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"tecnica-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"EditNewTecnica")),e.R7$(3),e.Y8G("tecnica",o.tecnica),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,F.x,k.z,Le,m.S],encapsulation:2})}return a})(),$s=(()=>{class a extends _.q{constructor(t,n,o,i,s,r){super(t),this._tecnicaService=n,this._refBibService=o,this._modalService=i,this._router=s,this._route=r}ngOnInit(){this.id=Number(this._route.snapshot.paramMap.get("tecnicaId")),this.refresh()}refresh(){this._tecnicaService.get(this.id).subscribe(t=>{this.tecnica=t,null!=this.tecnica.refBibliograficaId&&this._refBibService.get(this.tecnica.refBibliograficaId).subscribe(n=>{this.refBibliografica=n})})}goBack(){this._router.navigate(["../.."],{relativeTo:this._route})}editInfo(){let t,n=new c.uJ(this.tecnica);n.refBibliograficaId=this.tecnica.refBibliograficaId,t=this._modalService.show(ws,{class:"modal-lg",initialState:{tecnica:n}}),t.content.onSave.subscribe(()=>{this.refresh()})}toRefBibDetails(){null!=this.tecnica.refBibliograficaId&&this._router.navigate(["app","ref-bibliograficas","details",this.tecnica.refBibliograficaId])}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.$Q),e.rXU(c.xR),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:32,vars:12,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","m-0","p-0"],[1,"row","m-0","mt-4","p-0"],[1,"col-0","m-0","p-0","align-content-center"],[1,"col-0","m-0","p-0","align-content-center","mx-2"],[1,"col-0","m-0","p-0",3,"hidden"],["type","button",1,"btn","bg-blue",3,"click","disabled"],[1,"fa","fa-link"],[1,"row","m-0","px-2","text-center","justify-content-end"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-alt-pencil"]],template:function(n,o){if(1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes da T\xe9cnica "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"div",13),e.EFF(18),e.k0s(),e.j41(19,"div",14)(20,"div",15),e.EFF(21,"Refer\xeancia Bibliogr\xe1fica:"),e.k0s(),e.j41(22,"div",16),e.EFF(23),e.k0s(),e.j41(24,"div",17)(25,"button",18),e.bIt("click",function(){return o.toRefBibDetails()}),e.nrm(26,"i",19),e.k0s()()(),e.j41(27,"div",20)(28,"button",21),e.bIt("click",function(){return o.editInfo()}),e.nrm(29,"i",22),e.EFF(30),e.nI1(31,"localize"),e.k0s()()()()()()()),2&n){let i;e.Y8G("@routerTransition",void 0),e.R7$(11),e.SpI(" ",null==o.tecnica?null:o.tecnica.nome," "),e.R7$(4),e.Y8G("heading",e.bMT(16,8,"Informa\xe7\xe3o Geral")),e.R7$(3),e.SpI(" ",null==o.tecnica?null:o.tecnica.desc," "),e.R7$(5),e.JRh(null!=(null==o.tecnica?null:o.tecnica.refBibliograficaId)?null!==(i=null==o.refBibliografica?null:o.refBibliografica.nome)&&void 0!==i?i:"...":"N/A"),e.R7$(),e.Y8G("hidden",null==(null==o.tecnica?null:o.tecnica.refBibliograficaId)),e.R7$(),e.Y8G("disabled",null==(null==o.tecnica?null:o.tecnica.refBibliograficaId)),e.R7$(5),e.SpI(" ",e.bMT(31,10,"Edit")," ")}},dependencies:[I.V6,I.fw,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})(),de=(()=>{class a extends B{constructor(t){super(t)}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["formato-ensino-form"]],inputs:{formatoEnsino:"formatoEnsino"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:19,vars:14,consts:[["nomeModel","ngModel","nomeEl",""],["descModel","ngModel","descEl",""],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","desc",1,"col-md-3","col-form-label"],["type","text","name","desc","id","desc","maxlength","2500",1,"form-control",3,"ngModelChange","disabled","ngModel"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"div",2)(1,"label",3),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",4)(5,"input",5,0),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.formatoEnsino.nome,r)||(o.formatoEnsino.nome=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",6),e.k0s()(),e.j41(9,"div",7)(10,"label",8),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",4)(14,"textarea",9,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.formatoEnsino.desc,r)||(o.formatoEnsino.desc=r),e.Njj(r)}),e.EFF(17,"        "),e.k0s(),e.nrm(18,"abp-validation-summary",6),e.k0s()()}if(2&n){const i=e.sdS(6),s=e.sdS(7),r=e.sdS(15),u=e.sdS(16);e.R7$(2),e.SpI(" ",e.bMT(3,10,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.formatoEnsino.nome),e.R7$(3),e.Y8G("control",i)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,12,"Descri\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.formatoEnsino.desc),e.R7$(4),e.Y8G("control",r)("controlEl",u)}},dependencies:[l.me,l.BC,l.YS,l.tU,l.vS,S.e,m.S],encapsulation:2})}return a})(),Gs=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._formatoEnsinoService=n,this.bsModalRef=o,this.saving=!1,this.formatoEnsino=new c.Av,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,this._formatoEnsinoService.create(this.formatoEnsino).subscribe(t=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(t)})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.ql),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["createFormatoEnsinoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","formatoEnsino",3,"formatoEnsino"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"formato-ensino-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"CreateNewFormatoEnsino")),e.R7$(3),e.Y8G("formatoEnsino",o.formatoEnsino),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,F.x,k.z,de,m.S],encapsulation:2})}return a})();const Vs=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function Ns(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function Bs(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"button",38),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.detailsFormatoEnsino(o))}),e.nrm(7,"i",14),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"button",39),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.delete(o))}),e.nrm(11,"i",40),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){const t=d.$implicit,n=e.XpG();e.R7$(2),e.JRh(t.nome),e.R7$(2),e.JRh(t.desc.length>n.maxDescLength?t.desc.slice(0,n.maxDescLength)+"...":t.desc),e.R7$(4),e.SpI(" ",e.bMT(9,4,"Details")," "),e.R7$(4),e.SpI(" ",e.bMT(13,6,"Delete")," ")}}let Ys=(()=>{class a extends A{constructor(t,n,o,i,s){super(t),this._formatoEnsinoService=n,this._modalService=o,this._router=i,this._route=s,this.formatosEnsino=[],this.maxDescLength=250,this.keyword="",this.advancedFiltersVisible=!1}createFormatoEnsino(){let t;t=this._modalService.show(Gs,{class:"modal-lg"}),t.content.onSave.subscribe(n=>{this.refresh(),this._router.navigate(["details",n.id],{relativeTo:this._route})})}detailsFormatoEnsino(t){this._router.navigate(["details",t.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.getDataPage(1)}list(t,n,o){t.keyword=this.keyword,this._formatoEnsinoService.getAll(t.skipCount,t.maxResultCount).pipe((0,y.j)(()=>{o()})).subscribe(i=>{this.formatosEnsino=i.items,this.showPaging(i,n)})}delete(t){abp.message.confirm("O seguinte formatoensino ser\xe1 exclu\xeddo do banco",void 0,n=>{n&&this._formatoEnsinoService.delete(t.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.ql),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:59,vars:38,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createFormatoEnsino()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,Ns,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th",24),e.EFF(42),e.nI1(43,"localize"),e.k0s()()(),e.j41(44,"tbody"),e.DNE(45,Bs,14,8,"tr",25),e.nI1(46,"paginate"),e.k0s()()()(),e.j41(47,"div",26)(48,"div",2)(49,"div",27)(50,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(51,"i",29),e.k0s()(),e.j41(52,"div",30)(53,"p",31),e.EFF(54),e.nI1(55,"localize"),e.k0s()(),e.j41(56,"div",32)(57,"div",33)(58,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&n&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,16,"Formatos de Ensino")),e.R7$(5),e.SpI(" ",e.bMT(12,18,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,20,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,22,"Nome")),e.R7$(3),e.JRh(e.bMT(40,24,"Descri\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(43,26,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(46,28,o.formatosEnsino,e.sMw(34,Vs,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(55,31,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})(),Us=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._formatoensinoService=n,this.bsModalRef=o,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,this._formatoensinoService.update(this.formatoEnsino).subscribe(()=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit()})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.ql),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["editFormatoEnsinoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","formatoEnsino",3,"formatoEnsino"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"formato-ensino-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"EditNewFormatoEnsino")),e.R7$(3),e.Y8G("formatoEnsino",o.formatoEnsino),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,F.x,k.z,de,m.S],encapsulation:2})}return a})(),zs=(()=>{class a extends _.q{constructor(t,n,o,i,s){super(t),this._formatoEnsinoService=n,this._modalService=o,this._router=i,this._route=s}ngOnInit(){this.id=Number(this._route.snapshot.paramMap.get("formatoEnsinoId")),this.refresh()}refresh(){this._formatoEnsinoService.get(this.id).subscribe(t=>{this.formatoEnsino=t})}goBack(){this._router.navigate(["../.."],{relativeTo:this._route})}editInfo(){let t,n=new c.Av(this.formatoEnsino);t=this._modalService.show(Us,{class:"modal-lg",initialState:{formatoEnsino:n}}),t.content.onSave.subscribe(()=>{this.refresh()})}toRefBibDetails(){}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.ql),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:24,vars:9,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","m-0","p-0"],[1,"row","m-0","px-2","text-center","justify-content-end"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-alt-pencil"]],template:function(n,o){1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes do Formato de Ensino "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"div",13),e.EFF(18),e.k0s(),e.j41(19,"div",14)(20,"button",15),e.bIt("click",function(){return o.editInfo()}),e.nrm(21,"i",16),e.EFF(22),e.nI1(23,"localize"),e.k0s()()()()()()()),2&n&&(e.Y8G("@routerTransition",void 0),e.R7$(11),e.SpI(" ",null==o.formatoEnsino?null:o.formatoEnsino.nome," "),e.R7$(4),e.Y8G("heading",e.bMT(16,5,"Informa\xe7\xe3o Geral")),e.R7$(3),e.SpI(" ",null==o.formatoEnsino?null:o.formatoEnsino.desc," "),e.R7$(4),e.SpI(" ",e.bMT(23,7,"Edit")," "))},dependencies:[I.V6,I.fw,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();const Xs=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function qs(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function Os(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"button",38),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.detailsHierarquiaAjuda(o))}),e.nrm(9,"i",14),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"button",39),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.delete(o))}),e.nrm(13,"i",40),e.EFF(14),e.nI1(15,"localize"),e.k0s()()()}if(2&a){let t;const n=d.$implicit;e.R7$(2),e.JRh(n.nome),e.R7$(2),e.JRh(null!==(t=n.desc)&&void 0!==t?t:"-"),e.R7$(2),e.JRh(n.tiposAjuda.length),e.R7$(4),e.SpI(" ",e.bMT(11,5,"Details")," "),e.R7$(4),e.SpI(" ",e.bMT(15,7,"Delete")," ")}}let Hs=(()=>{class a extends A{constructor(t,n,o,i,s){super(t),this._hierarquiaAjudaService=n,this._modalService=o,this._router=i,this._route=s,this.hierarquiasAjuda=[],this.maxDescLength=250,this.keyword="",this.advancedFiltersVisible=!1}createHierarquiaAjuda(){this._router.navigate(["create"],{relativeTo:this._route})}detailsHierarquiaAjuda(t){this._router.navigate(["details",t.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.getDataPage(1)}list(t,n,o){t.keyword=this.keyword,this._hierarquiaAjudaService.getAll(t.skipCount,t.maxResultCount).pipe((0,y.j)(()=>{o()})).subscribe(i=>{this.hierarquiasAjuda=i.items,this.showPaging(i,n)})}delete(t){abp.message.confirm("O seguinte hierarquiaajuda ser\xe1 exclu\xeddo do banco",void 0,n=>{n&&this._hierarquiaAjudaService.delete(t.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.Qk),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:62,vars:41,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createHierarquiaAjuda()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,qs,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th",24),e.EFF(45),e.nI1(46,"localize"),e.k0s()()(),e.j41(47,"tbody"),e.DNE(48,Os,16,9,"tr",25),e.nI1(49,"paginate"),e.k0s()()()(),e.j41(50,"div",26)(51,"div",2)(52,"div",27)(53,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(54,"i",29),e.k0s()(),e.j41(55,"div",30)(56,"p",31),e.EFF(57),e.nI1(58,"localize"),e.k0s()(),e.j41(59,"div",32)(60,"div",33)(61,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&n&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,17,"Hierarquias de Ajuda")),e.R7$(5),e.SpI(" ",e.bMT(12,19,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,21,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,23,"Nome")),e.R7$(3),e.JRh(e.bMT(40,25,"Descri\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(43,27,"No. Tipos Ajuda")),e.R7$(3),e.JRh(e.bMT(46,29,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(49,31,o.hierarquiasAjuda,e.sMw(37,Xs,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(58,34,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();function Js(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",16)(1,"label",17),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",18)(5,"div",3)(6,"label",17),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",5)(10,"input",19,0),e.mxI("ngModelChange",function(o){const i=e.eBV(t).$implicit;return e.DH7(i.nome,o)||(i.nome=o),e.Njj(o)}),e.k0s(),e.nrm(13,"abp-validation-summary",7),e.k0s()(),e.j41(14,"div",8)(15,"label",17),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.j41(18,"div",5)(19,"input",20,2),e.mxI("ngModelChange",function(o){const i=e.eBV(t).$implicit;return e.DH7(i.sigla,o)||(i.sigla=o),e.Njj(o)}),e.k0s(),e.nrm(22,"abp-validation-summary",7),e.k0s()(),e.j41(23,"div",21)(24,"label",17),e.EFF(25),e.nI1(26,"localize"),e.k0s(),e.j41(27,"div",5)(28,"textarea",22,1),e.mxI("ngModelChange",function(o){const i=e.eBV(t).$implicit;return e.DH7(i.desc,o)||(i.desc=o),e.Njj(o)}),e.EFF(31,"                "),e.k0s(),e.nrm(32,"abp-validation-summary",7),e.k0s()()(),e.j41(33,"div",23)(34,"button",24),e.bIt("click",function(){const o=e.eBV(t).index,i=e.XpG();return e.Njj(i.rmvTipoAjuda(o))}),e.nrm(35,"i",25),e.k0s()()()}if(2&a){const t=d.$implicit,n=d.index,o=e.sdS(11),i=e.sdS(12),s=e.sdS(20),r=e.sdS(21),u=e.sdS(29),b=e.sdS(30),g=e.XpG();e.R7$(),e.Y8G("for","tipo"+n),e.R7$(),e.SpI(" ",e.bMT(3,27,"Tipo de Ajuda "+(n+1))," "),e.R7$(4),e.Y8G("for","nome"+n),e.R7$(),e.SpI(" ",e.bMT(8,29,"Nome")," "),e.R7$(3),e.Y8G("name","nome"+n)("id","nome"+n),e.R50("ngModel",t.nome),e.Y8G("disabled",g.disabled),e.R7$(3),e.Y8G("control",o)("controlEl",i),e.R7$(2),e.Y8G("for","sigla"+n),e.R7$(),e.SpI(" ",e.bMT(17,31,"Sigla")," "),e.R7$(3),e.Y8G("name","sigla"+n)("id","sigla"+n),e.R50("ngModel",t.sigla),e.Y8G("disabled",g.disabled),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(2),e.Y8G("for","desc"+n),e.R7$(),e.SpI(" ",e.bMT(26,33,"Descri\xe7\xe3o")," "),e.R7$(3),e.Y8G("name","desc"+n)("id","desc"+n),e.R50("ngModel",t.desc),e.Y8G("disabled",g.disabled),e.R7$(4),e.Y8G("control",u)("controlEl",b),e.R7$(2),e.Y8G("disabled",g.disabled)}}let We=(()=>{class a extends B{constructor(t){super(t)}ngOnInit(){}addTipoAjuda(){this.hierarquiaAjuda.tiposAjuda.push(new c.RM)}rmvTipoAjuda(t){this.hierarquiaAjuda.tiposAjuda.splice(t,1)}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["hierarquia-ajuda-form"]],inputs:{hierarquiaAjuda:"hierarquiaAjuda"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:28,vars:19,consts:[["nomeModel","ngModel","nomeEl",""],["descModel","ngModel","descEl",""],["siglaModel","ngModel","siglaEl",""],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","ngModel","disabled"],[3,"control","controlEl"],[1,"form-group","row"],["for","desc",1,"col-md-3","col-form-label"],["type","text","name","desc","id","desc","maxlength","500",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"row","m-0","p-0"],["class","form-group row m-0 ml-2 mb-2 px-2 py-3","style","border: 1px solid lightgray; border-radius: 10px;",4,"ngFor","ngForOf"],[1,"row","m-0","p-0","justify-content-center"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"fa","fa-plus-square"],[1,"form-group","row","m-0","ml-2","mb-2","px-2","py-3",2,"border","1px solid lightgray","border-radius","10px"],[1,"col-md-3","col-form-label",3,"for"],[1,"col-md-8"],["type","text","required","","maxlength","100",1,"form-control",3,"ngModelChange","name","id","ngModel","disabled"],["type","text","maxlength","100",1,"form-control",3,"ngModelChange","name","id","ngModel","disabled"],[1,"form-group","row","mb-0"],["type","text","maxlength","500",1,"form-control",3,"ngModelChange","name","id","ngModel","disabled"],[1,"col-md-1"],["type","button",1,"btn","btn-danger",3,"click","disabled"],[1,"fa","fa-x"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"div",3)(1,"label",4),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",5)(5,"input",6,0),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.hierarquiaAjuda.nome,r)||(o.hierarquiaAjuda.nome=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",7),e.k0s()(),e.j41(9,"div",8)(10,"label",9),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",5)(14,"textarea",10,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.hierarquiaAjuda.desc,r)||(o.hierarquiaAjuda.desc=r),e.Njj(r)}),e.EFF(17,"        "),e.k0s(),e.nrm(18,"abp-validation-summary",7),e.k0s()(),e.j41(19,"div",11)(20,"label"),e.EFF(21,"Tipos de Ajuda"),e.k0s()(),e.DNE(22,Js,36,35,"div",12),e.j41(23,"div",13)(24,"button",14),e.bIt("click",function(){return e.eBV(i),e.Njj(o.addTipoAjuda())}),e.nrm(25,"i",15),e.EFF(26),e.nI1(27,"localize"),e.k0s()()}if(2&n){const i=e.sdS(6),s=e.sdS(7),r=e.sdS(15),u=e.sdS(16);e.R7$(2),e.SpI(" ",e.bMT(3,13,"Nome")," "),e.R7$(3),e.R50("ngModel",o.hierarquiaAjuda.nome),e.Y8G("disabled",o.disabled),e.R7$(3),e.Y8G("control",i)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,15,"Descri\xe7\xe3o")," "),e.R7$(3),e.R50("ngModel",o.hierarquiaAjuda.desc),e.Y8G("disabled",o.disabled),e.R7$(4),e.Y8G("control",r)("controlEl",u),e.R7$(4),e.Y8G("ngForOf",o.hierarquiaAjuda.tiposAjuda),e.R7$(2),e.Y8G("disabled",o.disabled),e.R7$(2),e.SpI(" ",e.bMT(27,17,"Add Tipo de Ajuda")," ")}},dependencies:[p.Sq,l.me,l.BC,l.YS,l.tU,l.vS,S.e,m.S],encapsulation:2})}return a})(),xs=(()=>{class a extends _.q{constructor(t,n,o,i,s){super(t),this._hierarquiaAjudaService=n,this._modalService=o,this._router=i,this._route=s,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){this.hierarquiaAjuda=new c.sl,this.hierarquiaAjuda.tiposAjuda=[]}save(){this.saving=!0,this._hierarquiaAjudaService.create(this.hierarquiaAjuda).subscribe(t=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.onSave.emit(t),this._router.navigate(["..","details",t.id],{relativeTo:this._route})})}goBack(){this._router.navigate([".."],{relativeTo:this._route})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.Qk),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:21,vars:8,consts:[["createHierarquiAjudaPage","ngForm"],[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click","disabled"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[2,"height","100%","width","100%","border","0px solid black"],[1,"card",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white"],[1,"card-body"],["ngModelGroup","hierarquiaAjuda",3,"disabled","hierarquiaAjuda"],[1,"row","m-0","mt-4","p-0","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),e.bIt("click",function(){return e.eBV(i),e.Njj(o.goBack())}),e.nrm(6,"i",6),e.k0s()()(),e.j41(7,"div",7)(8,"h1",8),e.EFF(9," Criar Nova Hierarquia de Ajuda "),e.k0s()()()(),e.j41(10,"section",9)(11,"form",10,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(13,"div",11)(14,"div",12)(15,"div",13),e.nrm(16,"hierarquia-ajuda-form",14),e.j41(17,"div",15)(18,"button",16),e.EFF(19),e.nI1(20,"localize"),e.k0s()()()()()()()()}if(2&n){const i=e.sdS(12);e.Y8G("@routerTransition",void 0),e.R7$(5),e.Y8G("disabled",o.saving),e.R7$(11),e.Y8G("disabled",o.saving)("hierarquiaAjuda",o.hierarquiaAjuda),e.R7$(2),e.Y8G("disabled",o.saving||!i.form.valid||0==o.hierarquiaAjuda.tiposAjuda.length),e.R7$(),e.SpI(" ",e.bMT(20,6,"Save")," ")}},dependencies:[l.qT,l.cb,l.Y4,l.cV,We,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();const Ls=()=>[];function Zs(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s()()),2&a){const t=d.$implicit;e.R7$(2),e.Lme("",null==t?null:t.nome," ",null!=(null==t?null:t.sigla)?"("+t.sigla+")":"",""),e.R7$(2),e.JRh(null==t?null:t.desc)}}let Ws=(()=>{class a extends _.q{constructor(t,n,o,i,s){super(t),this._hierarquiaAjudaService=n,this._modalService=o,this._router=i,this._route=s,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){this.id=Number(this._route.snapshot.paramMap.get("hierarquiaAjudaId")),this.refresh()}refresh(){this._hierarquiaAjudaService.get(this.id).subscribe(t=>{this.hierarquiaAjuda=t})}save(){}goBack(){this._router.navigate(["../.."],{relativeTo:this._route})}addTipoAjuda(){this.hierarquiaAjuda.tiposAjuda.push(new c.RM)}rmvTipoAjuda(t){this.hierarquiaAjuda.tiposAjuda.splice(t,1)}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.Qk),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:35,vars:14,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","m-0","p-0"],[1,"row","m-0","p-0","mt-4"],[2,"font-size","100%"],[1,"row","mt-0","mb-4","mx-4","p-0"],[1,"table","table-bordered","m-0","p-0"],[1,"bg-light"],[4,"ngFor","ngForOf"]],template:function(n,o){if(1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes da Hierarquia de Ajuda "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"div",13),e.EFF(18),e.k0s(),e.j41(19,"div",14)(20,"h1",15)(21,"b"),e.EFF(22,"Tipos de Ajuda"),e.k0s()()(),e.j41(23,"div",16)(24,"table",17)(25,"thead",18)(26,"tr")(27,"th"),e.EFF(28),e.nI1(29,"localize"),e.k0s(),e.j41(30,"th"),e.EFF(31),e.nI1(32,"localize"),e.k0s()()(),e.j41(33,"tbody"),e.DNE(34,Zs,5,3,"tr",19),e.k0s()()()()()()()()),2&n){let i;e.Y8G("@routerTransition",void 0),e.R7$(11),e.SpI(" ",null==o.hierarquiaAjuda?null:o.hierarquiaAjuda.nome," "),e.R7$(4),e.Y8G("heading",e.bMT(16,7,"Informa\xe7\xe3o Geral")),e.R7$(3),e.SpI(" ",null==o.hierarquiaAjuda?null:o.hierarquiaAjuda.desc," "),e.R7$(10),e.JRh(e.bMT(29,9,"Nome")),e.R7$(3),e.JRh(e.bMT(32,11,"Descri\xe7\xe3o")),e.R7$(3),e.Y8G("ngForOf",null!==(i=null==o.hierarquiaAjuda?null:o.hierarquiaAjuda.tiposAjuda)&&void 0!==i?i:e.lJ4(13,Ls))}},dependencies:[p.Sq,I.V6,I.fw,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();const Qs=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function Ks(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function er(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"button",38),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.detailsProtocoloIntervencao(o))}),e.nrm(7,"i",14),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"button",39),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.delete(o))}),e.nrm(11,"i",40),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){const t=d.$implicit;e.R7$(2),e.JRh(null==t?null:t.nome),e.R7$(2),e.JRh(null==t||null==t.versoes?null:t.versoes.length),e.R7$(4),e.SpI(" ",e.bMT(9,4,"Details")," "),e.R7$(4),e.SpI(" ",e.bMT(13,6,"Delete")," ")}}let or=(()=>{class a extends A{constructor(t,n,o,i,s){super(t),this._protocoloIntervencaoService=n,this._modalService=o,this._router=i,this._route=s,this.protocolosIntervencao=[],this.maxDescLength=250,this.keyword="",this.advancedFiltersVisible=!1}createProtocoloIntervencao(){this._router.navigate(["create"],{relativeTo:this._route})}detailsProtocoloIntervencao(t){this._router.navigate(["details",t.id],{relativeTo:this._route})}clearFilters(){this.keyword="",this.getDataPage(1)}list(t,n,o){t.keyword=this.keyword,this._protocoloIntervencaoService.getAll(t.skipCount,t.maxResultCount).pipe((0,y.j)(()=>{o()})).subscribe(i=>{this.protocolosIntervencao=i.items,this.showPaging(i,n)})}delete(t){abp.message.confirm("O seguinte protocolo de interven\xe7\xe3o ser\xe1 exclu\xeddo do banco",void 0,n=>{n&&this._protocoloIntervencaoService.delete(t.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:59,vars:38,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","310px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createProtocoloIntervencao()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,Ks,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th",24),e.EFF(42),e.nI1(43,"localize"),e.k0s()()(),e.j41(44,"tbody"),e.DNE(45,er,14,8,"tr",25),e.nI1(46,"paginate"),e.k0s()()()(),e.j41(47,"div",26)(48,"div",2)(49,"div",27)(50,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(51,"i",29),e.k0s()(),e.j41(52,"div",30)(53,"p",31),e.EFF(54),e.nI1(55,"localize"),e.k0s()(),e.j41(56,"div",32)(57,"div",33)(58,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&n&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,16,"Protocolos de Interven\xe7\xe3o")),e.R7$(5),e.SpI(" ",e.bMT(12,18,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,20,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,22,"Nome")),e.R7$(3),e.JRh(e.bMT(40,24,"No. de Vers\xf5es")),e.R7$(3),e.JRh(e.bMT(43,26,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(46,28,o.protocolosIntervencao,e.sMw(34,Qs,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(55,31,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();function tr(a,d){if(1&a&&(e.j41(0,"option",9),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.JRh(t.nome)}}let nr=(()=>{class a extends _.q{constructor(t,n){super(t),this.bsModalRef=n,this.saving=!1,this.tecnicas=[],this.onSubmit=new e.bkB}ngOnInit(){}get tecnicaSelected(){if(null!=this.tecnicaIdx)return this.tecnicas[Number(this.tecnicaIdx)]}save(){this.saving=!0,this.onSubmit.emit(this.tecnicaSelected),this.bsModalRef.hide(),this.saving=!1}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],inputs:{tecnicas:"tecnicas"},outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:11,vars:8,consts:[["selectTecnicaModal","ngForm"],["tecnicaModel","ngModel","tecnicaEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"col-md-6"],["name","tecnica","id","tecnica","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"select",6,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.tecnicaIdx,r)||(o.tecnicaIdx=r),e.Njj(r)}),e.DNE(9,tr,2,2,"option",7),e.k0s()()(),e.j41(10,"abp-modal-footer",8),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,6,"SelectTecnica")),e.R7$(4),e.Y8G("disabled",o.saving),e.R50("ngModel",o.tecnicaIdx),e.R7$(3),e.Y8G("ngForOf",o.tecnicas),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.xH,l.y7,l.wz,l.BC,l.cb,l.YS,l.vS,l.cV,F.x,k.z,m.S],encapsulation:2})}return a})();function ir(a,d){if(1&a&&(e.j41(0,"option",9),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.JRh(null==t?null:t.nome)}}let ar=(()=>{class a extends _.q{constructor(t,n){super(t),this.bsModalRef=n,this.saving=!1,this.habilidades=[],this.onSubmit=new e.bkB}ngOnInit(){}get habilidadeSelected(){if(null!=this.habilidadeIdx)return this.habilidades[Number(this.habilidadeIdx)]}save(){this.saving=!0,this.onSubmit.emit(this.habilidadeSelected),this.bsModalRef.hide(),this.saving=!1}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],inputs:{habilidades:"habilidades"},outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:11,vars:8,consts:[["selectHabilidadeModal","ngForm"],["habilidadeModel","ngModel","habilidadeEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"col-md-6"],["name","habilidade","id","habilidade","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"select",6,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.habilidadeIdx,r)||(o.habilidadeIdx=r),e.Njj(r)}),e.DNE(9,ir,2,2,"option",7),e.k0s()()(),e.j41(10,"abp-modal-footer",8),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,6,"SelectHabilidade")),e.R7$(4),e.Y8G("disabled",o.saving),e.R50("ngModel",o.habilidadeIdx),e.R7$(3),e.Y8G("ngForOf",o.habilidades),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.xH,l.y7,l.wz,l.BC,l.cb,l.YS,l.vS,l.cV,F.x,k.z,m.S],encapsulation:2})}return a})(),sr=(()=>{class a extends _.q{constructor(t,n){super(t),this.bsModalRef=n,this.saving=!1,this.reforcador="",this.onSubmit=new e.bkB}ngOnInit(){}save(){this.saving=!0,this.onSubmit.emit(this.reforcador),this.bsModalRef.hide(),this.saving=!1}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:14,vars:10,consts:[["createReforcadorModal","ngForm"],["nomeReforcadorModel","ngModel","nomeReforcadorEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","nomeReforcador",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nomeReforcador","id","nomeReforcador","maxlength","200","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"label",6),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",7)(10,"input",8,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.reforcador,r)||(o.reforcador=r),e.Njj(r)}),e.k0s()()()(),e.j41(13,"abp-modal-footer",9),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,6,"CreateReforcador")),e.R7$(5),e.SpI(" ",e.bMT(8,8,"Nome do Refor\xe7ador")," "),e.R7$(3),e.Y8G("disabled",o.saving),e.R50("ngModel",o.reforcador),e.R7$(3),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.me,l.BC,l.cb,l.YS,l.tU,l.vS,l.cV,F.x,k.z,m.S],encapsulation:2})}return a})();function rr(a,d){if(1&a&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.nome," ")}}function lr(a,d){if(1&a&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.nome," ")}}function dr(a,d){if(1&a&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.nome," ")}}let cr=(()=>{class a extends _.q{set passo(t){this._passo=t}get passo(){return this._passo}constructor(t,n,o){super(t),this._changeDetector=n,this.bsModalRef=o,this.saving=!1,this._passo=new c.h2,this.onSubmit=new e.bkB}ngOnInit(){this.passo=new c.h2}save(){this.saving=!0,this.onSubmit.emit(this.passo),this.bsModalRef.hide(),this.saving=!1}set objetivosAlvoId(t){this._objetivosAlvoId=t,this.objetivosAlvo=[],this._objetivosAlvoId.forEach(n=>{this.objetivosAlvo.push(this.habilidades.find(o=>o.id==n))}),this._changeDetector.detectChanges()}get objetivosAlvoId(){return this._objetivosAlvoId}get marcoHabilidadeLinhaDeBaseId(){return this.passo.marcoHabilidadeLinhaDeBaseId?.toString()??""}set marcoHabilidadeLinhaDeBaseId(t){this.passo.marcoHabilidadeLinhaDeBaseId=""!=t?Number(t):void 0}get marcoHabilidadeIntroducaoId(){return this.passo.marcoHabilidadeIntroducaoId?.toString()??""}set marcoHabilidadeIntroducaoId(t){this.passo.marcoHabilidadeIntroducaoId=""!=t?Number(t):void 0}get marcoHabilidadeCriterioAlcancadoId(){return this.passo.marcoHabilidadeCriterioAlcancadoId?.toString()??""}set marcoHabilidadeCriterioAlcancadoId(t){this.passo.marcoHabilidadeCriterioAlcancadoId=""!=t?Number(t):void 0}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(e.gRc),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],inputs:{habilidades:"habilidades",objetivosAlvoId:"objetivosAlvoId"},outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:48,vars:32,consts:[["createPassoProtIntervencaoModal","ngForm"],["descModel","ngModel","descEl",""],["marcoHabilidadeLinhaDeBaseModel","ngModel","marcoHabilidadeLinhaDeBaseEl",""],["marcoHabilidadeIntroducaoModel","ngModel","marcoHabilidadeIntroducaoEl",""],["marcoHabilidadeCriterioAlcancadoModel","ngModel","marcoHabilidadeCriterioAlcancadoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","passo",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","desc","id","desc","required","","maxlength","500",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","marcoHabilidadeLinhaDeBase",1,"col-md-3","col-form-label"],["name","marcoHabilidadeLinhaDeBase","id","marcoHabilidadeLinhaDeBase",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","marcoHabilidadeIntroducao",1,"col-md-3","col-form-label"],["name","marcoHabilidadeIntroducao","id","marcoHabilidadeIntroducao",1,"form-control",3,"ngModelChange","ngModel"],["for","marcoHabilidadeCriterioAlcancado",1,"col-md-3","col-form-label"],["name","marcoHabilidadeCriterioAlcancado","id","marcoHabilidadeCriterioAlcancado",1,"form-control",3,"ngModelChange","ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",5,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",6),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",7)(5,"div",8)(6,"label",9),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",10)(10,"input",11,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.passo.desc,r)||(o.passo.desc=r),e.Njj(r)}),e.k0s(),e.nrm(13,"abp-validation-summary",12),e.k0s()(),e.j41(14,"div",13)(15,"label",14),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.j41(18,"div",10)(19,"select",15,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.marcoHabilidadeLinhaDeBaseId,r)||(o.marcoHabilidadeLinhaDeBaseId=r),e.Njj(r)}),e.nrm(22,"option",16),e.DNE(23,rr,2,2,"option",17),e.k0s(),e.nrm(24,"abp-validation-summary",12),e.k0s()(),e.j41(25,"div",13)(26,"label",18),e.EFF(27),e.nI1(28,"localize"),e.k0s(),e.j41(29,"div",10)(30,"select",19,3),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.marcoHabilidadeIntroducaoId,r)||(o.marcoHabilidadeIntroducaoId=r),e.Njj(r)}),e.nrm(33,"option",16),e.DNE(34,lr,2,2,"option",17),e.k0s(),e.nrm(35,"abp-validation-summary",12),e.k0s()(),e.j41(36,"div",13)(37,"label",20),e.EFF(38),e.nI1(39,"localize"),e.k0s(),e.j41(40,"div",10)(41,"select",21,4),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.marcoHabilidadeCriterioAlcancadoId,r)||(o.marcoHabilidadeCriterioAlcancadoId=r),e.Njj(r)}),e.nrm(44,"option",16),e.DNE(45,dr,2,2,"option",17),e.k0s(),e.nrm(46,"abp-validation-summary",12),e.k0s()()(),e.j41(47,"abp-modal-footer",22),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1),s=e.sdS(11),r=e.sdS(12),u=e.sdS(20),b=e.sdS(21),g=e.sdS(31),C=e.sdS(32),E=e.sdS(42),P=e.sdS(43);e.R7$(2),e.Y8G("title",e.bMT(3,22,"CreatePassoProtIntervencao")),e.R7$(5),e.SpI(" ",e.bMT(8,24,"Descri\xe7\xe3o Curta")," "),e.R7$(3),e.R50("ngModel",o.passo.desc),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(17,26,"Marco de Linha de Base")," "),e.R7$(3),e.R50("ngModel",o.marcoHabilidadeLinhaDeBaseId),e.R7$(4),e.Y8G("ngForOf",o.objetivosAlvo),e.R7$(),e.Y8G("control",u)("controlEl",b),e.R7$(3),e.SpI(" ",e.bMT(28,28,"Marco de Introdu\xe7\xe3o")," "),e.R7$(3),e.R50("ngModel",o.marcoHabilidadeIntroducaoId),e.R7$(4),e.Y8G("ngForOf",o.objetivosAlvo),e.R7$(),e.Y8G("control",g)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(39,30,"Marco de Crit\xe9rio Alcan\xe7ado")," "),e.R7$(3),e.R50("ngModel",o.marcoHabilidadeCriterioAlcancadoId),e.R7$(4),e.Y8G("ngForOf",o.objetivosAlvo),e.R7$(),e.Y8G("control",E)("controlEl",P),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.xH,l.y7,l.me,l.wz,l.BC,l.cb,l.YS,l.tU,l.vS,l.cV,S.e,F.x,k.z,m.S],encapsulation:2})}return a})();function ur(a,d){if(1&a&&(e.j41(0,"option",12),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.JRh(t.nome)}}function pr(a,d){if(1&a&&e.nrm(0,"formato-ensino-form",13),2&a){const t=e.XpG();e.Y8G("formatoEnsino",t.novoFormatoEnsino)}}let mr=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._formatoEnsinoService=n,this.bsModalRef=o,this.saving=!1,this.formatosEnsino=[],this.onSubmit=new e.bkB}ngOnInit(){this.novoFormatoEnsino=new c.Av,this.saved=!1}get formatoEnsinoIdx(){return this._formatoEnsinoIdx?.toString()??""}set formatoEnsinoIdx(t){this._formatoEnsinoIdx=""!=t?Number(t):void 0}get formatoEnsinoSelected(){if(null!=this._formatoEnsinoIdx&&-1!=this._formatoEnsinoIdx)return this.formatosEnsino[this._formatoEnsinoIdx]}save(){this.saving||this.saved||(this.saving=!0,-1==this._formatoEnsinoIdx?this._formatoEnsinoService.create(this.novoFormatoEnsino).subscribe(t=>{this.onSubmit.emit(t),this.bsModalRef.hide(),this.saved=!0,this.saving=!1}):(this.onSubmit.emit(this.formatoEnsinoSelected),this.bsModalRef.hide(),this.saved=!0,this.saving=!1))}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.ql),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],inputs:{formatosEnsino:"formatosEnsino"},outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:16,vars:12,consts:[["selectFormatoEnsinoModal","ngForm"],["formatoEnsinoModel","ngModel","formatoEnsinoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"col-md-6"],["name","formatoEnsino","id","formatoEnsino","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],["value","-1"],[3,"value",4,"ngFor","ngForOf"],["ngModelGroup","novoFormatoEnsino",3,"formatoEnsino",4,"ngIf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"],["ngModelGroup","novoFormatoEnsino",3,"formatoEnsino"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"select",6,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.formatoEnsinoIdx,r)||(o.formatoEnsinoIdx=r),e.Njj(r)}),e.nrm(9,"option",7),e.j41(10,"option",8),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.DNE(13,ur,2,2,"option",9),e.k0s()(),e.DNE(14,pr,1,1,"formato-ensino-form",10),e.k0s(),e.j41(15,"abp-modal-footer",11),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,8,"SelectFormatoEnsino")),e.R7$(4),e.Y8G("disabled",o.saving),e.R50("ngModel",o.formatoEnsinoIdx),e.R7$(5),e.SpI("[",e.bMT(12,10,"Criar Novo Formato de Ensino"),"]"),e.R7$(2),e.Y8G("ngForOf",o.formatosEnsino),e.R7$(),e.Y8G("ngIf","-1"==o.formatoEnsinoIdx),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[p.Sq,p.bT,l.qT,l.xH,l.y7,l.wz,l.BC,l.cb,l.YS,l.vS,l.Y4,l.cV,F.x,k.z,de,m.S],encapsulation:2})}return a})(),hr=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._hierarquiaAjudaService=n,this.bsModalRef=o,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){this.hierarquiaAjuda=new c.GY,this.hierarquiaAjuda.tiposAjuda=[]}save(){this.saving=!0,this._hierarquiaAjudaService.create(this.hierarquiaAjuda).subscribe(t=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(t)})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.Qk),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:7,consts:[["createHierarquiaAjudaModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","hierarquiaAjuda",3,"disabled","hierarquiaAjuda"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"hierarquia-ajuda-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"CreateNewHierarquiaAjuda")),e.R7$(3),e.Y8G("disabled",o.saving)("hierarquiaAjuda",o.hierarquiaAjuda),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving||0==o.hierarquiaAjuda.tiposAjuda.length)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,F.x,k.z,We,m.S],encapsulation:2})}return a})();const fr=()=>[2,3,4,5,6,7],br=()=>[];function _r(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",70)(1,"div",71),e.EFF(2),e.k0s(),e.j41(3,"div",72)(4,"button",73),e.bIt("click",function(){const o=e.eBV(t).index,i=e.XpG();return e.Njj(i.rmvAlvo(o))}),e.nrm(5,"i",74),e.k0s()()()}if(2&a){const t=d.$implicit,n=e.XpG();e.R7$(2),e.SpI(" ",n.getHabilidadeString(t.id)," "),e.R7$(2),e.Y8G("disabled",n.habilidadesLoading||n.saving||n.disabled)}}function gr(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",75)(1,"div",76),e.EFF(2),e.k0s(),e.j41(3,"div",77)(4,"button",73),e.bIt("click",function(){const o=e.eBV(t).index,i=e.XpG();return e.Njj(i.rmvReforcador(o))}),e.nrm(5,"i",74),e.k0s()()()}if(2&a){const t=d.$implicit,n=e.XpG();e.R7$(2),e.SpI(" ",t," "),e.R7$(2),e.Y8G("disabled",n.saving||n.disabled)}}function vr(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",70)(1,"div",71),e.EFF(2),e.k0s(),e.j41(3,"div",72)(4,"button",73),e.bIt("click",function(){const o=e.eBV(t).index,i=e.XpG();return e.Njj(i.rmvFormatoEnsino(o))}),e.nrm(5,"i",74),e.k0s()()()}if(2&a){const t=d.$implicit,n=e.XpG();e.R7$(2),e.SpI(" ",n.getFormatoEnsinoNome(t.id)," "),e.R7$(2),e.Y8G("disabled",n.formatosEnsinoLoading||n.saving||n.disabled)}}function Cr(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",37)(1,"label",38),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"input",78,13),e.mxI("ngModelChange",function(o){const i=e.eBV(t).$implicit,s=e.XpG();return e.DH7(s.versao["tentativas_Dia"+i],o)||(s.versao["tentativas_Dia"+i]=o),e.Njj(o)}),e.k0s(),e.nrm(7,"abp-validation-summary",18),e.k0s()}if(2&a){const t=d.$implicit,n=e.sdS(5),o=e.sdS(6),i=e.XpG();e.R7$(2),e.Lme("",e.bMT(3,8,"Dia")," ",t,""),e.R7$(2),e.Y8G("name","tentativas"+t)("id","tentativas"+t),e.R50("ngModel",i.versao["tentativas_Dia"+t]),e.Y8G("disabled",i.saving||i.disabled),e.R7$(3),e.Y8G("control",n)("controlEl",o)}}function Ir(a,d){if(1&a&&(e.j41(0,"option",79),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.nome," ")}}function Fr(a,d){if(1&a&&(e.j41(0,"option",79),e.EFF(1),e.k0s()),2&a){const t=d.$implicit,n=e.XpG();e.Y8G("value",t.id),e.R7$(),e.JRh(n.getHabilidadeNome(t.id))}}function kr(a,d){if(1&a&&(e.j41(0,"option",79),e.EFF(1),e.k0s()),2&a){const t=d.$implicit,n=e.XpG();e.Y8G("value",t.id),e.R7$(),e.JRh(n.getHabilidadeNome(t.id))}}function jr(a,d){if(1&a&&(e.j41(0,"option",79),e.EFF(1),e.k0s()),2&a){const t=d.$implicit,n=e.XpG();e.Y8G("value",null==t?null:t.id),e.R7$(),e.JRh(n.getHabilidadeNome(t.id))}}function Rr(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",80)(1,"div",48)(2,"label",46),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"div",81),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"div",81),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"div",81),e.EFF(12),e.nI1(13,"localize"),e.k0s()(),e.j41(14,"button",82),e.bIt("click",function(){const o=e.eBV(t).index,i=e.XpG();return e.Njj(i.rmvPasso(o))}),e.nrm(15,"i",74),e.k0s()()}if(2&a){let t,n,o;const i=d.$implicit,s=d.index,r=e.XpG();e.R7$(3),e.Lme("",e.bMT(4,9,"Passo "+(s+1)),": ",null==i?null:i.desc,""),e.R7$(3),e.Lme("",e.bMT(7,11,"Marco de Linha de Base"),": ",null!==(t=r.getHabilidadeNome(null==i?null:i.marcoHabilidadeLinhaDeBaseId))&&void 0!==t?t:"Nenhum",""),e.R7$(3),e.Lme("",e.bMT(10,13,"Marco de Introdu\xe7\xe3o"),": ",null!==(n=r.getHabilidadeNome(null==i?null:i.marcoHabilidadeIntroducaoId))&&void 0!==n?n:"Nenhum",""),e.R7$(3),e.Lme("",e.bMT(13,15,"Marco de Crit\xe9rio Alcan\xe7ado"),": ",null!==(o=r.getHabilidadeNome(null==i?null:i.marcoHabilidadeCriterioAlcancadoId))&&void 0!==o?o:"Nenhum",""),e.R7$(2),e.Y8G("disabled",r.saving||r.disabled)}}function Sr(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",83)(1,"div",84),e.EFF(2),e.k0s(),e.j41(3,"div",85)(4,"button",73),e.bIt("click",function(){const o=e.eBV(t).index,i=e.XpG();return e.Njj(i.rmvTecnica(o))}),e.nrm(5,"i",74),e.k0s()()()}if(2&a){const t=d.$implicit,n=e.XpG();e.R7$(2),e.SpI(" ",n.getTecnicaNome(t.id)," "),e.R7$(2),e.Y8G("disabled",n.tecnicasLoading||n.saving||n.disabled)}}let ce=(()=>{class a extends B{get versao(){return this._versao}set versao(t){this._versao=t,this._versao instanceof c.uf&&this._versao?.passosProtIntervencao?.sort((n,o)=>n.ordenador-o.ordenador)}updateLoading(){this.loadingChange.emit(this.habilidadesLoading||this.dominiosLoading||this.niveisLoading||this.protocolosAvaliacaoLoading||this.formatosEnsinoLoading||this.hierarquiasAjudaLoading||this.tecnicasLoading)}constructor(t,n,o,i,s,r,u,b,g,C){super(t),this._protocoloIntervencaoService=n,this._formatoEnsinoService=o,this._hierarquiaAjudaService=i,this._protocoloAvaliacaoService=s,this._tecnicaService=r,this._changeDetector=u,this._modalService=b,this._router=g,this._route=C,this.versaoChange=new e.bkB,this.loadingChange=new e.bkB,this.disabled=!1,this.saving=!1}ngOnInit(){this.protocolosAvaliacaoLoading=!0,this.updateLoading(),this._protocoloAvaliacaoService.getAll(void 0,void 0,void 0,void 0,void 0).subscribe(t=>{this.protocolosAvaliacao=t.items,this.protocolosAvaliacaoMap=new Map,this.protocolosAvaliacao.forEach(n=>this.protocolosAvaliacaoMap.set(n.id,n)),this.protocolosAvaliacaoLoading=!1,this.updateLoading()}),this.niveisLoading=!0,this.updateLoading(),this._protocoloAvaliacaoService.getAllNiveis(void 0,void 0,void 0,void 0,void 0,void 0).subscribe(t=>{this.niveis=t.items,this.niveisMap=new Map,this.niveis.forEach(n=>this.niveisMap.set(n.id,n)),this.niveisLoading=!1,this.updateLoading()}),this.dominiosLoading=!0,this.updateLoading(),this._protocoloAvaliacaoService.getAllDominios(void 0,void 0,void 0,void 0,void 0,void 0,void 0).subscribe(t=>{this.dominios=t.items,this.dominiosMap=new Map,this.dominios.forEach(n=>this.dominiosMap.set(n.id,n)),this.dominiosLoading=!1,this.updateLoading()}),this.habilidadesLoading=!0,this.updateLoading(),this._protocoloAvaliacaoService.getAllHabilidades(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0).subscribe(t=>{this.habilidades=t.items,this.habilidadesMap=new Map,this.habilidades.forEach(n=>this.habilidadesMap.set(n.id,n)),this.habilidadesLoading=!1,this.updateLoading()}),this.formatosEnsinoLoading=!0,this.updateLoading(),this._formatoEnsinoService.getAll(void 0,void 0).subscribe(t=>{this.formatosEnsino=t.items,this.formatosEnsinoMap=new Map,this.formatosEnsino.forEach(n=>this.formatosEnsinoMap.set(n.id,n)),this.formatosEnsinoLoading=!1,this.updateLoading()}),this.hierarquiasAjudaLoading=!0,this.updateLoading(),this._hierarquiaAjudaService.getAll(void 0,void 0).subscribe(t=>{this.hierarquiasAjuda=t.items,this.hierarquiasAjudaLoading=!1,this.updateLoading()}),this.tecnicasLoading=!0,this.updateLoading(),this._tecnicaService.getAll(void 0,void 0,void 0,void 0).subscribe(t=>{this.tecnicas=t.items,this.tecnicasMap=new Map,this.tecnicas.forEach(n=>this.tecnicasMap.set(n.id,n)),this.tecnicasLoading=!1,this.updateLoading()})}getHabilidadeNome(t){return null==t?void 0:this.habilidadesMap?.get(Number(t))?.nome??""}getHabilidadeString(t){if(null==t)return;let n=this.habilidadesMap?.get(Number(t));if(null==n)return;let o="";if(null!=n.codigo&&(o+="["+n.codigo+"] "),o+=n.nome,null!=n?.dominioId){let i=this.dominiosMap.get(n.dominioId),s=this.niveisMap.get(i.nivelId),r=this.protocolosAvaliacaoMap.get(s?.protocoloAvaliacaoId);o+=" (",o+=r?.nome+": ",o+=s?.nome+": ",o+=i?.nome,o+=")"}return o}addAlvo(){let n,t=[];this.habilidades.forEach(o=>{this.versao.objetivosAlvo.some(i=>i.id==o.id)||t.push(o)}),n=this._modalService.show(ar,{class:"modal-lg",initialState:{habilidades:t}}),n.content.onSubmit.subscribe((o=>{this.versao.objetivosAlvo.push(new c.GO(o)),this._changeDetector.detectChanges()}).bind(this))}rmvAlvo(t){this.versao.objetivosAlvo.splice(t,1),this._changeDetector.detectChanges()}getFormatoEnsinoNome(t){return this.formatosEnsinoMap?.get(t)?.nome??""}addFormatoEnsino(){let n,t=[];this.formatosEnsino.forEach(o=>{this.versao.formatosEnsino.some(i=>i.id==o.id)||t.push(o)}),n=this._modalService.show(mr,{class:"modal-lg",initialState:{formatosEnsino:t}}),n.content.onSubmit.subscribe(o=>{this.formatosEnsino.every(i=>i.id!=o.id)&&(this.formatosEnsino.push(o),this.formatosEnsinoMap.set(o.id,o)),this.versao.formatosEnsino.push(new c.z2({id:o.id})),this._changeDetector.detectChanges()})}rmvFormatoEnsino(t){this.versao.formatosEnsino.splice(t,1),this._changeDetector.detectChanges()}getTecnicaNome(t){return this.tecnicasMap?.get(t)?.nome??""}addTecnica(){let n,t=[];this.tecnicas.forEach(o=>{this.versao.tecnicasUtilizadas.some(i=>i.id==o.id)||t.push(o)}),n=this._modalService.show(nr,{class:"modal-lg",initialState:{tecnicas:t}}),n.content.onSubmit.subscribe(o=>{this.versao.tecnicasUtilizadas.push(new c.z2({id:o.id})),this._changeDetector.detectChanges()})}rmvTecnica(t){this.versao.tecnicasUtilizadas.splice(t,1),this._changeDetector.detectChanges()}addReforcador(){let t;t=this._modalService.show(sr,{class:"modal-lg"}),t.content.onSubmit.subscribe(n=>{null==this.versao.reforcadores&&(this.versao.reforcadores=[]),this.versao.reforcadores.push(new c.pS({nome:n,index:this.versao.reforcadores.length})),this._changeDetector.detectChanges()})}rmvReforcador(t){this.versao.reforcadores.splice(t,1),this.versao.reforcadores=this.versao.reforcadores.sort(n=>n.index),this.versao.reforcadores.forEach((n,o)=>n.index=o),this._changeDetector.detectChanges()}get reforcadores(){return this.versao?.reforcadores?.sort(t=>t.index)?.map(t=>t.nome)??[]}get passos(){return this.versao instanceof c.Zz||this.versao instanceof c.uf?this.versao.passosProtIntervencao:[]}addPasso(){let t;t=this._modalService.show(cr,{class:"modal-lg",initialState:{habilidades:this.habilidades,objetivosAlvoId:this.versao.objetivosAlvo.map(n=>n.id)}}),t.content.onSubmit.subscribe(n=>{this.versao instanceof c.Zz?this.versao.passosProtIntervencao.push(n):this.versao instanceof c.uf&&this.versao.passosProtIntervencao.push(new c.c0(n)),this._changeDetector.detectChanges()})}rmvPasso(t){(this.versao instanceof c.Zz||this.versao instanceof c.uf)&&this.versao.passosProtIntervencao.splice(t,1),this._changeDetector.detectChanges()}novaHierarquiaAjuda(){let t;t=this._modalService.show(hr,{class:"modal-lg"}),t.content.onSave.subscribe(n=>{this.hierarquiasAjuda.push(n),this.versao.hierarquiaAjudaId=n.id})}get hierarquiaAjudaId(){return this.versao.hierarquiaAjudaId?.toString()??""}set hierarquiaAjudaId(t){this.versao.hierarquiaAjudaId=""!=t?Number(t):void 0}get marcoHabilidadeManutencaoId(){return this.versao.marcoHabilidadeManutencaoId?.toString()??""}set marcoHabilidadeManutencaoId(t){this.versao.marcoHabilidadeManutencaoId=""!=t?Number(t):void 0}get marcoHabilidadeAmbienteNaturalId(){return this.versao.marcoHabilidadeAmbienteNaturalId?.toString()??""}set marcoHabilidadeAmbienteNaturalId(t){this.versao.marcoHabilidadeAmbienteNaturalId=""!=t?Number(t):void 0}get marcoHabilidadeArquivamentoId(){return this.versao.marcoHabilidadeArquivamentoId?.toString()??""}set marcoHabilidadeArquivamentoId(t){this.versao.marcoHabilidadeArquivamentoId=""!=t?Number(t):void 0}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(c.ql),e.rXU(c.Qk),e.rXU(c.WD),e.rXU(c.$Q),e.rXU(e.gRc),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["versao-form"]],inputs:{versao:"versao",disabled:"disabled"},outputs:{versaoChange:"versaoChange",loadingChange:"loadingChange"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:200,vars:149,consts:[["nomeVersaoModel","ngModel","nomeVersaoEl",""],["descModel","ngModel","descEl",""],["sdModel","ngModel","sdEl",""],["respostaModel","ngModel","respostaEl",""],["criterioEvolucaoModel","ngModel","criterioEvolucaoEl",""],["tentativas1Model","ngModel","tentativas1El",""],["hierarquiaAjudaModel","ngModel","hierarquiaAjudaEl",""],["criterioManutencaoModel","ngModel","criterioManutencaoEl",""],["marcoManutencaoModel","ngModel","marcoManutencaoEl",""],["criterioAmbienteNaturalModel","ngModel","criterioAmbienteNaturalEl",""],["marcoAmbienteNaturalModel","ngModel","marcoAmbienteNaturalEl",""],["criterioArquivamentoModel","ngModel","criterioArquivamentoEl",""],["marcoArquivamentoModel","ngModel","marcoArquivamentoEl",""],["tentativasModel","ngModel","tentativasEl",""],[1,"form-group","row","required"],["for","nomeVersao",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nomeVersao","id","nomeVersao","required","","maxlength","250",1,"form-control",3,"ngModelChange","ngModel","disabled"],[3,"control","controlEl"],["for","alvos",1,"col-md-3","col-form-label","align-content-center"],["class","row m-0 p-0 mb-2",4,"ngFor","ngForOf"],[1,"row","text-center","justify-content-center","align-content-center"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"fa","fa-plus"],["for","desc",1,"col-md-3","col-form-label"],["type","text","name","desc","id","desc","required","","maxlength","500",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","sd",1,"col-md-3","col-form-label"],["type","text","name","sd","id","sd","required","","maxlength","250",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","resposta",1,"col-md-3","col-form-label"],["type","text","name","resposta","id","resposta","required","","maxlength","250",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","reforcadores",1,"col-md-3","col-form-label","align-content-center"],["class","form-group row m-0 p-0 mb-2",4,"ngFor","ngForOf"],["for","criterioEvolucao",1,"col-md-3","col-form-label"],["type","text","name","criterioEvolucao","id","criterioEvolucao","required","","maxlength","500",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","formatos",1,"col-md-3","col-form-label","align-content-center"],["for","tentativasSemana",1,"col-md-3","col-form-label"],[1,"row","m-0","p-0"],[1,"col","m-0","p-0"],[2,"font-size","75%"],["type","number","name","tentativas1","id","tentativas1","min","1","defaultValue","1","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["class","col m-0 p-0",4,"ngFor","ngForOf"],["for","hierarquiaAjuda",1,"col-md-3","col-form-label"],[1,"col-md-6"],["name","hierarquiaAjuda","id","hierarquiaAjuda","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-3"],[1,"row","m-0"],[1,"fa","fa-plus","col-0","align-content-center","justify-content-center"],[1,"col"],[1,"row","m-2","p-0","text-center"],[1,"col","text-center"],["for","criterioManutencao",1,"col-md-3","col-form-label"],["type","text","name","criterioManutencao","id","criterioManutencao","required","","maxlength","500",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"form-group","row"],["for","marcoManutencao",1,"col-md-3","col-form-label"],["name","marcoManutencao","id","marcoManutencao",1,"form-control",3,"ngModelChange","ngModel","disabled"],["value",""],["for","criterioAmbienteNatural",1,"col-md-3","col-form-label"],["type","text","name","criterioAmbienteNatural","id","criterioAmbienteNatural","required","","maxlength","500",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","marcoAmbienteNatural",1,"col-md-3","col-form-label"],["name","marcoAmbienteNatural","id","marcoAmbienteNatural",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","criterioArquivamento",1,"col-md-3","col-form-label"],["type","text","name","criterioArquivamento","id","criterioArquivamento","maxlength","500","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","marcoArquivamento",1,"col-md-3","col-form-label"],["name","marcoArquivamento","id","marcoArquivamento",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"col","m-0","p-0","text-center"],["class","row m-2 mb-4 p-2","style","border: 1px solid lightgray; border-radius: 5px;",4,"ngFor","ngForOf"],[1,"row","m-2","p-0","text-center","justify-content-center","align-content-center"],["for","tecnicas",1,"row","m-2","p-0","text-center","justify-content-center","align-content-center"],["class","row m-0 p-0 mb-2 justify-content-center align-content-center",4,"ngFor","ngForOf"],[1,"row","m-0","p-0","mb-2"],[1,"col-0","mr-2","align-content-center"],[1,"col-0"],["type","button",1,"row-0","btn","btn-danger",3,"click","disabled"],[1,"fa","fa-x"],[1,"form-group","row","m-0","p-0","mb-2"],[1,"col-0","m-0","p-0","mr-2","align-content-center"],[1,"col-0","m-0","p-0","align-content-center"],["type","number","min","0","defaultValue","0",1,"form-control",3,"ngModelChange","name","id","ngModel","disabled"],[3,"value"],[1,"row","m-2","mb-4","p-2",2,"border","1px solid lightgray","border-radius","5px"],[1,"row","m-0","ml-2"],["type","button",1,"col-md-1","btn","btn-danger",3,"click","disabled"],[1,"row","m-0","p-0","mb-2","justify-content-center","align-content-center"],[1,"col-0","m-0","p-2"],[1,"col-0","m-0","p-0"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"div",14)(1,"label",15),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",16)(5,"input",17,0),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.versao.nome,r)||(o.versao.nome=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",18),e.k0s()(),e.j41(9,"div",14)(10,"label",19),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",16),e.DNE(14,_r,6,2,"div",20),e.j41(15,"div",21)(16,"button",22),e.bIt("click",function(){return e.eBV(i),e.Njj(o.addAlvo())}),e.nrm(17,"i",23),e.EFF(18),e.nI1(19,"localize"),e.k0s()()()(),e.j41(20,"div",14)(21,"label",24),e.EFF(22),e.nI1(23,"localize"),e.k0s(),e.j41(24,"div",16)(25,"textarea",25,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.versao.desc,r)||(o.versao.desc=r),e.Njj(r)}),e.EFF(28,"        "),e.k0s(),e.nrm(29,"abp-validation-summary",18),e.k0s()(),e.j41(30,"div",14)(31,"label",26),e.EFF(32),e.nI1(33,"localize"),e.k0s(),e.j41(34,"div",16)(35,"input",27,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.versao.sd_EstimuloDiscriminativo,r)||(o.versao.sd_EstimuloDiscriminativo=r),e.Njj(r)}),e.k0s(),e.nrm(38,"abp-validation-summary",18),e.k0s()(),e.j41(39,"div",14)(40,"label",28),e.EFF(41),e.nI1(42,"localize"),e.k0s(),e.j41(43,"div",16)(44,"input",29,3),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.versao.resposta,r)||(o.versao.resposta=r),e.Njj(r)}),e.k0s(),e.nrm(47,"abp-validation-summary",18),e.k0s()(),e.j41(48,"div",14)(49,"label",30),e.EFF(50),e.nI1(51,"localize"),e.k0s(),e.j41(52,"div",16),e.DNE(53,gr,6,2,"div",31),e.j41(54,"div",21)(55,"button",22),e.bIt("click",function(){return e.eBV(i),e.Njj(o.addReforcador())}),e.nrm(56,"i",23),e.EFF(57),e.nI1(58,"localize"),e.k0s()()()(),e.j41(59,"div",14)(60,"label",32),e.EFF(61),e.nI1(62,"localize"),e.k0s(),e.j41(63,"div",16)(64,"textarea",33,4),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.versao.criterioEvolucao,r)||(o.versao.criterioEvolucao=r),e.Njj(r)}),e.EFF(67,"        "),e.k0s(),e.nrm(68,"abp-validation-summary",18),e.k0s()(),e.j41(69,"div",14)(70,"label",34),e.EFF(71),e.nI1(72,"localize"),e.k0s(),e.j41(73,"div",16),e.DNE(74,vr,6,2,"div",20),e.j41(75,"div",21)(76,"button",22),e.bIt("click",function(){return e.eBV(i),e.Njj(o.addFormatoEnsino())}),e.nrm(77,"i",23),e.EFF(78),e.nI1(79,"localize"),e.k0s()()()(),e.j41(80,"div",14)(81,"label",35),e.EFF(82),e.nI1(83,"localize"),e.k0s(),e.j41(84,"div",16)(85,"div",36)(86,"div",37)(87,"label",38),e.EFF(88),e.nI1(89,"localize"),e.k0s(),e.j41(90,"input",39,5),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.versao.tentativas_Dia1,r)||(o.versao.tentativas_Dia1=r),e.Njj(r)}),e.k0s(),e.nrm(93,"abp-validation-summary",18),e.k0s(),e.DNE(94,Cr,8,10,"div",40),e.k0s()()(),e.j41(95,"div",14)(96,"label",41),e.EFF(97),e.nI1(98,"localize"),e.k0s(),e.j41(99,"div",42)(100,"select",43,6),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.hierarquiaAjudaId,r)||(o.hierarquiaAjudaId=r),e.Njj(r)}),e.DNE(103,Ir,2,2,"option",44),e.k0s(),e.nrm(104,"abp-validation-summary",18),e.k0s(),e.j41(105,"div",45)(106,"button",22),e.bIt("click",function(){return e.eBV(i),e.Njj(o.novaHierarquiaAjuda())}),e.j41(107,"div",46),e.nrm(108,"i",47),e.j41(109,"div",48),e.EFF(110),e.nI1(111,"localize"),e.k0s()()()()(),e.j41(112,"div",49)(113,"label",50),e.EFF(114),e.nI1(115,"localize"),e.k0s()(),e.j41(116,"div",14)(117,"label",51),e.EFF(118),e.nI1(119,"localize"),e.k0s(),e.j41(120,"div",16)(121,"textarea",52,7),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.versao.procedimentoEvanescimentoEnsino_CriterioManutencao,r)||(o.versao.procedimentoEvanescimentoEnsino_CriterioManutencao=r),e.Njj(r)}),e.EFF(124,"        "),e.k0s(),e.nrm(125,"abp-validation-summary",18),e.k0s()(),e.j41(126,"div",53)(127,"label",54),e.EFF(128),e.nI1(129,"localize"),e.k0s(),e.j41(130,"div",16)(131,"select",55,8),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.marcoHabilidadeManutencaoId,r)||(o.marcoHabilidadeManutencaoId=r),e.Njj(r)}),e.nrm(134,"option",56),e.DNE(135,Fr,2,2,"option",44),e.k0s(),e.nrm(136,"abp-validation-summary",18),e.k0s()(),e.j41(137,"div",14)(138,"label",57),e.EFF(139),e.nI1(140,"localize"),e.k0s(),e.j41(141,"div",16)(142,"textarea",58,9),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.versao.procedimentoEvanescimentoEnsino_CriterioAmbienteNatural,r)||(o.versao.procedimentoEvanescimentoEnsino_CriterioAmbienteNatural=r),e.Njj(r)}),e.EFF(145,"        "),e.k0s(),e.nrm(146,"abp-validation-summary",18),e.k0s()(),e.j41(147,"div",53)(148,"label",59),e.EFF(149),e.nI1(150,"localize"),e.k0s(),e.j41(151,"div",16)(152,"select",60,10),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.marcoHabilidadeAmbienteNaturalId,r)||(o.marcoHabilidadeAmbienteNaturalId=r),e.Njj(r)}),e.nrm(155,"option",56),e.DNE(156,kr,2,2,"option",44),e.k0s(),e.nrm(157,"abp-validation-summary",18),e.k0s()(),e.j41(158,"div",14)(159,"label",61),e.EFF(160),e.nI1(161,"localize"),e.k0s(),e.j41(162,"div",16)(163,"textarea",62,11),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.versao.procedimentoEvanescimentoEnsino_CriterioArquivamento,r)||(o.versao.procedimentoEvanescimentoEnsino_CriterioArquivamento=r),e.Njj(r)}),e.EFF(166,"        "),e.k0s(),e.nrm(167,"abp-validation-summary",18),e.k0s()(),e.j41(168,"div",53)(169,"label",63),e.EFF(170),e.nI1(171,"localize"),e.k0s(),e.j41(172,"div",16)(173,"select",64,12),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.marcoHabilidadeArquivamentoId,r)||(o.marcoHabilidadeArquivamentoId=r),e.Njj(r)}),e.nrm(176,"option",56),e.DNE(177,jr,2,2,"option",44),e.k0s(),e.nrm(178,"abp-validation-summary",18),e.k0s()(),e.j41(179,"div",49)(180,"label",65),e.EFF(181),e.nI1(182,"localize"),e.k0s()(),e.DNE(183,Rr,16,17,"div",66),e.j41(184,"div",67)(185,"button",22),e.bIt("click",function(){return e.eBV(i),e.Njj(o.addPasso())}),e.nrm(186,"i",23),e.EFF(187),e.nI1(188,"localize"),e.k0s()(),e.j41(189,"label",68),e.EFF(190),e.nI1(191,"localize"),e.k0s(),e.j41(192,"div",36)(193,"div",48),e.DNE(194,Sr,6,2,"div",69),e.j41(195,"div",21)(196,"button",22),e.bIt("click",function(){return e.eBV(i),e.Njj(o.addTecnica())}),e.nrm(197,"i",23),e.EFF(198),e.nI1(199,"localize"),e.k0s()()()()}if(2&n){let i;const s=e.sdS(6),r=e.sdS(7),u=e.sdS(26),b=e.sdS(27),g=e.sdS(36),C=e.sdS(37),E=e.sdS(45),P=e.sdS(46),$=e.sdS(65),G=e.sdS(66),N=e.sdS(91),Y=e.sdS(92),z=e.sdS(101),x=e.sdS(102),Kl=e.sdS(122),ed=e.sdS(123),od=e.sdS(132),td=e.sdS(133),nd=e.sdS(143),id=e.sdS(144),ad=e.sdS(153),sd=e.sdS(154),rd=e.sdS(164),ld=e.sdS(165),dd=e.sdS(174),cd=e.sdS(175);e.R7$(2),e.SpI(" ",e.bMT(3,95,"Nome da Vers\xe3o")," "),e.R7$(3),e.R50("ngModel",o.versao.nome),e.Y8G("disabled",o.saving||o.disabled),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(12,97,"Habilidades-Alvo")," "),e.R7$(3),e.Y8G("ngForOf",o.versao.objetivosAlvo),e.R7$(2),e.Y8G("disabled",o.habilidadesLoading||o.saving||o.disabled),e.R7$(2),e.SpI(" ",e.bMT(19,99,"Adicionar Alvo")," "),e.R7$(4),e.SpI(" ",e.bMT(23,101,"Descri\xe7\xe3o")," "),e.R7$(3),e.R50("ngModel",o.versao.desc),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("control",u)("controlEl",b),e.R7$(3),e.SpI(" ",e.bMT(33,103,"Est\xedmulo Discriminativo")," "),e.R7$(3),e.R50("ngModel",o.versao.sd_EstimuloDiscriminativo),e.Y8G("disabled",o.saving||o.disabled),e.R7$(3),e.Y8G("control",g)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(42,105,"Resposta")," "),e.R7$(3),e.R50("ngModel",o.versao.resposta),e.Y8G("disabled",o.saving||o.disabled),e.R7$(3),e.Y8G("control",E)("controlEl",P),e.R7$(3),e.SpI(" ",e.bMT(51,107,"Refor\xe7adores")," "),e.R7$(3),e.Y8G("ngForOf",o.reforcadores),e.R7$(2),e.Y8G("disabled",o.saving||o.disabled),e.R7$(2),e.SpI(" ",e.bMT(58,109,"Adicionar Refor\xe7ador")," "),e.R7$(4),e.SpI(" ",e.bMT(62,111,"Crit\xe9rio de Evolu\xe7\xe3o")," "),e.R7$(3),e.R50("ngModel",o.versao.criterioEvolucao),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("control",$)("controlEl",G),e.R7$(3),e.SpI(" ",e.bMT(72,113,"Formatos de Ensino")," "),e.R7$(3),e.Y8G("ngForOf",o.versao.formatosEnsino),e.R7$(2),e.Y8G("disabled",o.formatosEnsinoLoading||o.saving||o.disabled),e.R7$(2),e.SpI(" ",e.bMT(79,115,"Adicionar Formato de Ensino")," "),e.R7$(4),e.SpI(" ",e.bMT(83,117,"N\xfamero de Tentativas")," "),e.R7$(6),e.SpI("",e.bMT(89,119,"Dia")," 1"),e.R7$(2),e.R50("ngModel",o.versao.tentativas_Dia1),e.Y8G("disabled",o.saving||o.disabled),e.R7$(3),e.Y8G("control",N)("controlEl",Y),e.R7$(),e.Y8G("ngForOf",e.lJ4(147,fr)),e.R7$(3),e.SpI(" ",e.bMT(98,121,"Hierarquia de Ajuda")," "),e.R7$(3),e.Y8G("disabled",o.hierarquiasAjudaLoading),e.R50("ngModel",o.hierarquiaAjudaId),e.Y8G("disabled",o.saving||o.disabled),e.R7$(3),e.Y8G("ngForOf",o.hierarquiasAjuda),e.R7$(),e.Y8G("control",z)("controlEl",x),e.R7$(2),e.Y8G("disabled",o.hierarquiasAjudaLoading||o.saving||o.disabled),e.R7$(4),e.SpI(" ",e.bMT(111,123,"Cadastrar Nova")," "),e.R7$(4),e.JRh(e.bMT(115,125,"Procedimento de Evanescimento de Ensino")),e.R7$(4),e.SpI(" ",e.bMT(119,127,"Crit\xe9rio de Manuten\xe7\xe3o")," "),e.R7$(3),e.R50("ngModel",o.versao.procedimentoEvanescimentoEnsino_CriterioManutencao),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("control",Kl)("controlEl",ed),e.R7$(3),e.SpI(" ",e.bMT(129,129,"Marco de Manuten\xe7\xe3o")," "),e.R7$(3),e.R50("ngModel",o.marcoHabilidadeManutencaoId),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("ngForOf",o.versao.objetivosAlvo),e.R7$(),e.Y8G("control",od)("controlEl",td),e.R7$(3),e.SpI(" ",e.bMT(140,131,"Crit\xe9rio de Ambiente Natural")," "),e.R7$(3),e.R50("ngModel",o.versao.procedimentoEvanescimentoEnsino_CriterioAmbienteNatural),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("control",nd)("controlEl",id),e.R7$(3),e.SpI(" ",e.bMT(150,133,"Marco de Ambiente Natural")," "),e.R7$(3),e.R50("ngModel",o.marcoHabilidadeAmbienteNaturalId),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("ngForOf",o.versao.objetivosAlvo),e.R7$(),e.Y8G("control",ad)("controlEl",sd),e.R7$(3),e.SpI(" ",e.bMT(161,135,"Crit\xe9rio de Arquivamento")," "),e.R7$(3),e.R50("ngModel",o.versao.procedimentoEvanescimentoEnsino_CriterioArquivamento),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("control",rd)("controlEl",ld),e.R7$(3),e.SpI(" ",e.bMT(171,137,"Marco de Arquivamento")," "),e.R7$(3),e.R50("ngModel",o.marcoHabilidadeArquivamentoId),e.Y8G("disabled",o.saving||o.disabled),e.R7$(4),e.Y8G("ngForOf",o.versao.objetivosAlvo),e.R7$(),e.Y8G("control",dd)("controlEl",cd),e.R7$(3),e.SpI(" ",e.bMT(182,139,"Passos")," "),e.R7$(2),e.Y8G("ngForOf",null!==(i=o.passos)&&void 0!==i?i:e.lJ4(148,br)),e.R7$(2),e.Y8G("disabled",o.saving||o.disabled),e.R7$(2),e.SpI(" ",e.bMT(188,141,"Adicionar Passo")," "),e.R7$(3),e.SpI(" ",e.bMT(191,143,"T\xe9cnicas Utilizadas"),"\n"),e.R7$(4),e.Y8G("ngForOf",o.versao.tecnicasUtilizadas),e.R7$(2),e.Y8G("disabled",o.tecnicasLoading||o.saving||o.disabled),e.R7$(2),e.SpI(" ",e.bMT(199,145,"Adicionar T\xe9cnica")," ")}},dependencies:[p.Sq,l.xH,l.y7,l.me,l.Q0,l.wz,l.BC,l.YS,l.tU,l.VZ,l.vS,S.e,m.S],encapsulation:2})}return a})(),Mr=(()=>{class a extends _.q{constructor(t,n,o,i,s,r){super(t),this._protocoloIntervencaoService=n,this._changeDetector=o,this._modalService=i,this._router=s,this._route=r,this.loading=!1,this.saving=!1,this.protocoloIntervencao=new c.pn,this.onSave=new e.bkB}ngOnInit(){this.protocoloIntervencao=new c.pn,this.protocoloIntervencao.versaoPadrao=new c.Zz}save(){this.saving=!0,this._protocoloIntervencaoService.create(this.protocoloIntervencao).subscribe(t=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.onSave.emit(t),this._router.navigate(["..","details",t.id],{relativeTo:this._route})})}goBack(){this._router.navigate([".."],{relativeTo:this._route})}log(t){console.log(t)}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(e.gRc),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:35,vars:19,consts:[["createProtocoloIntervencaoPage","ngForm"],["nomeModel","ngModel","nomeEl",""],[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click","disabled"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[2,"height","100%","width","100%","border","0px solid black"],[1,"card",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white"],[1,"card-body"],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],[1,"row","m-2","p-0","text-center"],[1,"col","text-center"],["ngModelGroup","versaoInicial",3,"versaoChange","loadingChange","versao"],[1,"row","m-0","mt-4","p-0","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"div")(1,"section",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"button",6),e.bIt("click",function(){return e.eBV(i),e.Njj(o.goBack())}),e.nrm(6,"i",7),e.k0s()()(),e.j41(7,"div",8)(8,"h1",9),e.EFF(9),e.nI1(10,"localize"),e.k0s()()()(),e.j41(11,"section",10)(12,"form",11,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(14,"div",12)(15,"div",13)(16,"div",14)(17,"div",15)(18,"label",16),e.EFF(19),e.nI1(20,"localize"),e.k0s(),e.j41(21,"div",17)(22,"input",18,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.protocoloIntervencao.nome,r)||(o.protocoloIntervencao.nome=r),e.Njj(r)}),e.k0s(),e.nrm(25,"abp-validation-summary",19),e.k0s()(),e.j41(26,"div",20)(27,"label",21),e.EFF(28),e.nI1(29,"localize"),e.k0s()(),e.j41(30,"versao-form",22),e.mxI("versaoChange",function(r){return e.eBV(i),e.DH7(o.protocoloIntervencao.versaoPadrao,r)||(o.protocoloIntervencao.versaoPadrao=r),e.Njj(r)}),e.bIt("loadingChange",function(r){return e.eBV(i),e.Njj(o.loading=r)}),e.k0s(),e.j41(31,"div",23)(32,"button",24),e.EFF(33),e.nI1(34,"localize"),e.k0s()()()()()()()()}if(2&n){const i=e.sdS(13),s=e.sdS(23),r=e.sdS(24);e.Y8G("@routerTransition",void 0),e.R7$(5),e.Y8G("disabled",o.saving),e.R7$(4),e.SpI(" ",e.bMT(10,11,"Criar Novo Protocolo de Interven\xe7\xe3o")," "),e.R7$(10),e.SpI(" ",e.bMT(20,13,"Nome")," "),e.R7$(3),e.R50("ngModel",o.protocoloIntervencao.nome),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(29,15,"Vers\xe3o Inicial")," "),e.R7$(2),e.R50("versao",o.protocoloIntervencao.versaoPadrao),e.R7$(2),e.Y8G("disabled",o.saving||o.loading||!i.form.valid),e.R7$(),e.SpI(" ",e.bMT(34,17,"Save")," ")}},dependencies:[l.qT,l.me,l.BC,l.cb,l.YS,l.tU,l.vS,l.Y4,l.cV,S.e,ce,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();const Er=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function Tr(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"button",17),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.detailsVersaoProtIntervencao(o))}),e.nrm(9,"i",18),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"button",19),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.delete(o))}),e.nrm(13,"i",20),e.EFF(14),e.nI1(15,"localize"),e.k0s()()()}if(2&a){const t=d.$implicit,n=e.XpG();e.R7$(2),e.JRh(null==t?null:t.nome),e.R7$(2),e.JRh(null==t?null:t.desc),e.R7$(2),e.JRh(n.getProtocolosAvaliacaoString(t)),e.R7$(4),e.SpI(" ",e.bMT(11,5,"Details")," "),e.R7$(4),e.SpI(" ",e.bMT(15,7,"Delete")," ")}}let Dr=(()=>{class a extends A{constructor(t,n,o,i,s){super(t),this._protocoloIntervencaoService=n,this._modalService=o,this._router=i,this._route=s,this.versoes=[],this.maxDescLength=250,this.advancedFiltersVisible=!1}detailsVersaoProtIntervencao(t){console.log(t),this._router.navigate(["app","protocolos-intervencao","versoes","details",t.id])}clearFilters(){this.getDataPage(1)}list(t,n,o){t.protIntervencaoId=this.protIntervencaoId,this._protocoloIntervencaoService.getAllVersoes(t.protIntervencaoId,void 0,void 0,void 0).pipe((0,y.j)(()=>{o()})).subscribe(i=>{this.versoes=i.items,this.showPaging(i,n)})}delete(t){abp.message.confirm("O seguinte protocolo de interven\xe7\xe3o ser\xe1 exclu\xeddo do banco",void 0,n=>{n&&this._protocoloIntervencaoService.deleteVersao(t.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}getProtocolosAvaliacaoString(t){return"NotImplemented"}createVersao(){null!=this.protIntervencaoId&&this._router.navigate(["app","protocolos-intervencao","versoes","create",this.protIntervencaoId])}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["versoes-list"]],inputs:{protIntervencaoId:"protIntervencaoId"},features:[e.Vt3],decls:36,vars:28,consts:[[1,"row","m-0","mb-1"],[1,"justify-self-end","col","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],["type","button",1,"btn","btn-sm","bg-secondary","mx-1",3,"click"],[1,"fas","fa-search"],["type","button",1,"btn","btn-sm","bg-danger","mx-1",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"a",2),e.bIt("click",function(){return o.createVersao()}),e.nrm(3,"i",3),e.EFF(4),e.nI1(5,"localize"),e.k0s()()(),e.j41(6,"div",4)(7,"table",5)(8,"thead",6)(9,"tr")(10,"th"),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"localize"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"localize"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"localize"),e.k0s()()(),e.j41(22,"tbody"),e.DNE(23,Tr,16,9,"tr",7),e.nI1(24,"paginate"),e.k0s()()(),e.j41(25,"div",8)(26,"div",9)(27,"button",10),e.bIt("click",function(){return o.refresh()}),e.nrm(28,"i",11),e.k0s()(),e.j41(29,"div",12)(30,"p",13),e.EFF(31),e.nI1(32,"localize"),e.k0s()(),e.j41(33,"div",14)(34,"div",15)(35,"abp-pagination-controls",16),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&n&&(e.R7$(4),e.SpI(" ",e.bMT(5,8,"Create")," "),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(12,10,"Nome")),e.R7$(3),e.JRh(e.bMT(15,12,"Descri\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(18,14,"ProtocolosAvaliacao Relacionados")),e.R7$(3),e.JRh(e.bMT(21,16,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(24,18,o.versoes,e.sMw(24,Er,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(8),e.SpI(" ",e.i5U(32,21,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();const J=()=>[];function yr(a,d){if(1&a&&(e.j41(0,"div",20),e.EFF(1),e.k0s()),2&a){const t=d.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",n.getHabilidadeString(t.id)," ")}}function Ar(a,d){if(1&a&&(e.j41(0,"div",20),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.R7$(),e.SpI(" ",t.nome," ")}}function Pr(a,d){if(1&a){const t=e.RV6();e.j41(0,"div"),e.EFF(1),e.j41(2,"button",21),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.formatoEnsinoDetails(o))}),e.nrm(3,"i",13),e.k0s()()}if(2&a){const t=d.$implicit;e.R7$(),e.SpI(" ",null==t?null:t.nome," ")}}function wr(a,d){if(1&a&&(e.j41(0,"div",22)(1,"div",2)(2,"label",23),e.EFF(3),e.k0s(),e.j41(4,"div",24),e.EFF(5),e.k0s(),e.j41(6,"div",24),e.EFF(7),e.k0s(),e.j41(8,"div",24),e.EFF(9),e.k0s()()()),2&a){let t,n,o;const i=d.$implicit,s=d.index,r=e.XpG();e.R7$(3),e.Lme("Passo ",s+1,": ",i.desc,""),e.R7$(2),e.SpI("Marco de Linha de Base: ",null!==(t=r.getHabilidadeString(null==i?null:i.marcoHabilidadeLinhaDeBaseId))&&void 0!==t?t:"Nenhum",""),e.R7$(2),e.SpI("Marco de Introdu\xe7\xe3o: ",null!==(n=r.getHabilidadeString(null==i?null:i.marcoHabilidadeIntroducaoId))&&void 0!==n?n:"Nenhum",""),e.R7$(2),e.SpI("Marco de Crit\xe9rio Alcan\xe7ado: ",null!==(o=r.getHabilidadeString(null==i?null:i.marcoHabilidadeCriterioAlcancadoId))&&void 0!==o?o:"Nenhum","")}}function $r(a,d){if(1&a&&(e.j41(0,"div",25)(1,"div",2)(2,"div",0),e.EFF(3),e.k0s()()()),2&a){const t=d.$implicit,n=e.XpG();e.R7$(3),e.JRh(n.getNomeTecnica(null==t?null:t.id))}}let Qe=(()=>{class a extends _.q{set versao(t){this._versao=t,this.refresh()}get versao(){return this._versao}constructor(t,n,o,i,s,r,u){super(u),this._formatoEnsinoService=t,this._hierarquiaAjudaService=n,this._protocoloAvaliacaoService=o,this._tecnicaService=i,this._changeDetector=s,this._router=r,this.onClickEdit=new e.bkB}ngOnInit(){}getNomeTecnica(t){return this.tecnicas?.find(n=>n.id==t)?.nome}refresh(){null!=this.versao&&(this._hierarquiaAjudaService.get(this.versao.hierarquiaAjudaId).subscribe(t=>{this.hierarquiaAjuda=t,this._changeDetector.detectChanges()}),this.tecnicas=[],this.versao.tecnicasUtilizadas.forEach(t=>{this._tecnicaService.get(t.id).subscribe(n=>{this.tecnicas.push(n),this._changeDetector.detectChanges()})}),this.formatosEnsino=[],this.versao.formatosEnsino.forEach(t=>{this._formatoEnsinoService.get(t.id).subscribe(this.formatosEnsino.push)}),this.protocolosAvaliacaoRelacionados=[],this._protocoloAvaliacaoService.getAll(void 0,void 0,this.versao.objetivosAlvo.map(t=>t.id),void 0,void 0).subscribe(t=>{this.protocolosAvaliacaoRelacionados=t.items,this._changeDetector.detectChanges()}),this.niveis=[],this._protocoloAvaliacaoService.getAllNiveis(void 0,void 0,void 0,this.versao.objetivosAlvo.map(t=>t.id),void 0,void 0).subscribe(t=>{this.niveis=t.items,this._changeDetector.detectChanges()}),this.dominios=[],this._protocoloAvaliacaoService.getAllDominios(void 0,void 0,void 0,void 0,this.versao.objetivosAlvo.map(t=>t.id),void 0,void 0).subscribe(t=>{this.dominios=t.items,this._changeDetector.detectChanges()}),this.habilidades=[],this._protocoloAvaliacaoService.getAllHabilidades(void 0,void 0,void 0,void 0,void 0,void 0,void 0,this.versao.objetivosAlvo.map(t=>t.id),void 0,void 0).subscribe(t=>{this.habilidades=t.items,this._changeDetector.detectChanges()}))}getHabilidadeString(t){let n=this.habilidades?.find(i=>i.id==t),o="";if(null!=n?.dominioId){let i=this.dominios.find(s=>s.id==n?.dominioId);if(null!=i){let s=this.niveis?.find(u=>u.id==i?.nivelId),r=this.protocolosAvaliacaoRelacionados?.find(u=>u.id==s?.protocoloAvaliacaoId);o+=r?.nome??"",o+=" - "+(s?.nome??""),o+=" - "+i?.nome+" - "}}if(o+=n?.nome??"",""!=o)return o}hierarquiaAjudaDetails(){this._router.navigate(["app","hierarquias-ajuda","details",this.hierarquiaAjuda.id])}formatoEnsinoDetails(t){this._router.navigate(["app","formatos-ensino","details",t.id])}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(c.ql),e.rXU(c.Qk),e.rXU(c.WD),e.rXU(c.$Q),e.rXU(e.gRc),e.rXU(h.Ix),e.rXU(e.zZn))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["versao-details"]],inputs:{versao:"versao"},outputs:{onClickEdit:"onClickEdit"},features:[e.Vt3],decls:134,vars:33,consts:[[1,"row","m-0","p-0","pb-2"],[1,"col-md-3"],[1,"col","m-0","p-0"],["class","row m-0 p-0",4,"ngFor","ngForOf"],[1,"col","mr-1"],[4,"ngFor","ngForOf"],[1,"row","m-0","p-0",2,"border","1px solid lightgray","border-radius","5px"],[1,"col","m-0","p-0","px-1",2,"border-right","1px solid lightgray"],[1,"row","text-center","m-0","p-0",2,"justify-self","center"],[1,"row","text-center","m-0","p-0","pb-2",2,"justify-self","center"],[1,"col","m-0","p-0","px-1"],[1,"col-0","mr-1"],["type","button",1,"col-0","btn","btn-secondary",3,"click","disabled"],[1,"fas","fa-link"],[1,"row","m-0","p-0","text-center"],[1,"col","text-center"],["type","button",1,"col-0","btn","btn-secondary",3,"hidden"],[1,"col","m-0","p-0","text-center"],["class","row m-2 mb-4 p-2","style","border: 1px solid lightgray; border-radius: 5px;",4,"ngFor","ngForOf"],["class","row m-0 mb-1 p-0",4,"ngFor","ngForOf"],[1,"row","m-0","p-0"],["type","button",1,"col-0","btn","btn-secondary",3,"click"],[1,"row","m-2","mb-4","p-2",2,"border","1px solid lightgray","border-radius","5px"],[1,"row","m-0"],[1,"row","m-0","ml-2"],[1,"row","m-0","mb-1","p-0"]],template:function(n,o){if(1&n&&(e.j41(0,"div",0)(1,"label",1),e.EFF(2,"Nome:"),e.k0s(),e.j41(3,"span",2),e.EFF(4),e.k0s()(),e.j41(5,"div",0)(6,"label",1),e.EFF(7,"Habilidades-Alvo:"),e.k0s(),e.j41(8,"div",2),e.DNE(9,yr,2,1,"div",3),e.k0s()(),e.j41(10,"div",0)(11,"label",1),e.EFF(12,"Descri\xe7\xe3o:"),e.k0s(),e.j41(13,"span",2),e.EFF(14),e.k0s()(),e.j41(15,"div",0)(16,"label",1),e.EFF(17,"Est\xedmulo Discriminativo:"),e.k0s(),e.j41(18,"span",2),e.EFF(19),e.k0s()(),e.j41(20,"div",0)(21,"label",1),e.EFF(22,"Resposta:"),e.k0s(),e.j41(23,"span",2),e.EFF(24),e.k0s()(),e.j41(25,"div",0)(26,"label",1),e.EFF(27,"Refor\xe7adores:"),e.k0s(),e.j41(28,"div",2),e.DNE(29,Ar,2,1,"div",3),e.k0s()(),e.j41(30,"div",0)(31,"label",1),e.EFF(32,"Crit\xe9rio de Evolu\xe7\xe3o:"),e.k0s(),e.j41(33,"span",2),e.EFF(34),e.k0s()(),e.j41(35,"div",0)(36,"label",1),e.EFF(37,"Formatos de Ensino:"),e.k0s(),e.j41(38,"div",4),e.DNE(39,Pr,4,1,"div",5),e.k0s()(),e.j41(40,"div",0)(41,"label",1),e.EFF(42,"N\xfamero de Tentativas:"),e.k0s(),e.j41(43,"div",2)(44,"div",6)(45,"div",7)(46,"label",8),e.EFF(47,"Dia 1"),e.k0s(),e.j41(48,"div",9),e.EFF(49),e.k0s()(),e.j41(50,"div",7)(51,"label",8),e.EFF(52,"Dia 2"),e.k0s(),e.j41(53,"div",9),e.EFF(54),e.k0s()(),e.j41(55,"div",7)(56,"label",8),e.EFF(57,"Dia 3"),e.k0s(),e.j41(58,"div",9),e.EFF(59),e.k0s()(),e.j41(60,"div",7)(61,"label",8),e.EFF(62,"Dia 4"),e.k0s(),e.j41(63,"div",9),e.EFF(64),e.k0s()(),e.j41(65,"div",7)(66,"label",8),e.EFF(67,"Dia 5"),e.k0s(),e.j41(68,"div",9),e.EFF(69),e.k0s()(),e.j41(70,"div",7)(71,"label",8),e.EFF(72,"Dia 6"),e.k0s(),e.j41(73,"div",9),e.EFF(74),e.k0s()(),e.j41(75,"div",10)(76,"label",8),e.EFF(77,"Dia 7"),e.k0s(),e.j41(78,"div",9),e.EFF(79),e.k0s()()()()(),e.j41(80,"div",0)(81,"label",1),e.EFF(82,"Hierarquia de Ajuda:"),e.k0s(),e.j41(83,"span",11),e.EFF(84),e.k0s(),e.j41(85,"button",12),e.bIt("click",function(){return o.hierarquiaAjudaDetails()}),e.nrm(86,"i",13),e.k0s()(),e.j41(87,"div",14)(88,"label",15),e.EFF(89,"Procedimento de Evanescimento de Ensino"),e.k0s()(),e.j41(90,"div",0)(91,"label",1),e.EFF(92,"Crit\xe9rio de Manuten\xe7\xe3o:"),e.k0s(),e.j41(93,"span",2),e.EFF(94),e.k0s()(),e.j41(95,"div",0)(96,"label",1),e.EFF(97,"Marco de Manuten\xe7\xe3o:"),e.k0s(),e.j41(98,"span",11),e.EFF(99),e.k0s(),e.j41(100,"button",16),e.nrm(101,"i",13),e.k0s()(),e.j41(102,"div",0)(103,"label",1),e.EFF(104,"Crit\xe9rio de Ambiente Natural:"),e.k0s(),e.j41(105,"span",2),e.EFF(106),e.k0s()(),e.j41(107,"div",0)(108,"label",1),e.EFF(109,"Marco de Ambiente Natural:"),e.k0s(),e.j41(110,"span",11),e.EFF(111),e.k0s(),e.j41(112,"button",16),e.nrm(113,"i",13),e.k0s()(),e.j41(114,"div",0)(115,"label",1),e.EFF(116,"Crit\xe9rio de Arquivamento:"),e.k0s(),e.j41(117,"span",2),e.EFF(118),e.k0s()(),e.j41(119,"div",0)(120,"label",1),e.EFF(121,"Marco de Arquivamento:"),e.k0s(),e.j41(122,"span",11),e.EFF(123),e.k0s(),e.j41(124,"button",16),e.nrm(125,"i",13),e.k0s()(),e.j41(126,"div",14)(127,"label",17),e.EFF(128," Passos "),e.k0s()(),e.DNE(129,wr,10,5,"div",18),e.j41(130,"div",14)(131,"label",17),e.EFF(132," T\xe9cnicas "),e.k0s()(),e.DNE(133,$r,4,1,"div",19)),2&n){let i,s,r,u,b,g,C,E,P,$,G,N,Y,z,x;e.R7$(4),e.JRh(null==o.versao?null:o.versao.nome),e.R7$(5),e.Y8G("ngForOf",null!==(i=null==o.versao?null:o.versao.objetivosAlvo)&&void 0!==i?i:e.lJ4(28,J)),e.R7$(5),e.JRh(null==o.versao?null:o.versao.desc),e.R7$(5),e.JRh(null==o.versao?null:o.versao.sd_EstimuloDiscriminativo),e.R7$(5),e.JRh(null==o.versao?null:o.versao.resposta),e.R7$(5),e.Y8G("ngForOf",null!==(s=null==o.versao?null:o.versao.reforcadores)&&void 0!==s?s:e.lJ4(29,J)),e.R7$(5),e.JRh(null==o.versao?null:o.versao.criterioEvolucao),e.R7$(5),e.Y8G("ngForOf",null!==(r=o.formatosEnsino)&&void 0!==r?r:e.lJ4(30,J)),e.R7$(10),e.JRh(null!==(u=null==o.versao?null:o.versao.tentativas_Dia1)&&void 0!==u?u:0),e.R7$(5),e.JRh(null!==(b=null==o.versao?null:o.versao.tentativas_Dia2)&&void 0!==b?b:0),e.R7$(5),e.JRh(null!==(g=null==o.versao?null:o.versao.tentativas_Dia3)&&void 0!==g?g:0),e.R7$(5),e.JRh(null!==(C=null==o.versao?null:o.versao.tentativas_Dia4)&&void 0!==C?C:0),e.R7$(5),e.JRh(null!==(E=null==o.versao?null:o.versao.tentativas_Dia5)&&void 0!==E?E:0),e.R7$(5),e.JRh(null!==(P=null==o.versao?null:o.versao.tentativas_Dia6)&&void 0!==P?P:0),e.R7$(5),e.JRh(null!==($=null==o.versao?null:o.versao.tentativas_Dia7)&&void 0!==$?$:0),e.R7$(5),e.JRh(null==o.hierarquiaAjuda?null:o.hierarquiaAjuda.nome),e.R7$(),e.Y8G("disabled",null==o.hierarquiaAjuda),e.R7$(9),e.JRh(null==o.versao?null:o.versao.procedimentoEvanescimentoEnsino_CriterioManutencao),e.R7$(5),e.JRh(null!==(G=o.getHabilidadeString(null==o.versao?null:o.versao.marcoHabilidadeManutencaoId))&&void 0!==G?G:"Nenhum"),e.R7$(),e.Y8G("hidden",null==(null==o.versao?null:o.versao.marcoHabilidadeManutencaoId)),e.R7$(6),e.JRh(null==o.versao?null:o.versao.procedimentoEvanescimentoEnsino_CriterioAmbienteNatural),e.R7$(5),e.JRh(null!==(N=o.getHabilidadeString(null==o.versao?null:o.versao.marcoHabilidadeAmbienteNaturalId))&&void 0!==N?N:"Nenhum"),e.R7$(),e.Y8G("hidden",null==(null==o.versao?null:o.versao.marcoHabilidadeAmbienteNaturalId)),e.R7$(6),e.JRh(null==o.versao?null:o.versao.procedimentoEvanescimentoEnsino_CriterioArquivamento),e.R7$(5),e.JRh(null!==(Y=o.getHabilidadeString(null==o.versao?null:o.versao.marcoHabilidadeArquivamentoId))&&void 0!==Y?Y:"Nenhum"),e.R7$(),e.Y8G("hidden",null==(null==o.versao?null:o.versao.marcoHabilidadeArquivamentoId)),e.R7$(5),e.Y8G("ngForOf",null!==(z=null==o.versao?null:o.versao.passosProtIntervencao)&&void 0!==z?z:e.lJ4(31,J)),e.R7$(4),e.Y8G("ngForOf",null!==(x=null==o.versao?null:o.versao.tecnicasUtilizadas)&&void 0!==x?x:e.lJ4(32,J))}},dependencies:[p.Sq],encapsulation:2})}return a})();function Gr(a,d){1&a&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"localize"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"N\xe3o h\xe1 vers\xe3o padr\xe3o definida"),". "))}function Vr(a,d){if(1&a&&e.nrm(0,"versao-details",27),2&a){const t=e.XpG();e.Y8G("versao",t.versaoPadrao)}}function Nr(a,d){if(1&a&&(e.j41(0,"option",9),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",t.id),e.R7$(),e.Lme("",t.id," - ",t.nome,"")}}let Br=(()=>{class a extends _.q{constructor(t,n,o,i,s){super(t),this._protocoloIntervencaoService=n,this._modalService=o,this._router=i,this._route=s}ngOnInit(){this.id=Number(this._route.snapshot.paramMap.get("protocoloIntervencaoId")),this.refresh()}refresh(){this._protocoloIntervencaoService.get(this.id).subscribe(t=>{this.protocoloIntervencao=t,this._protocoloIntervencaoService.getVersao(t.versaoPadraoId).subscribe(n=>{this.versaoPadrao=n})})}goBack(){this._router.navigate(["app","protocolos-intervencao"])}delete(){abp.message.confirm("O seguinte protocolo de interven\xe7\xe3o ser\xe1 exclu\xeddo do banco",void 0,t=>{t&&this._protocoloIntervencaoService.delete(this.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.goBack()})})}editNome(){if(null==this.protocoloIntervencao)return;let t=new c.uS({id:this.protocoloIntervencao.id,nome:this.protocoloIntervencao.nome,versaoPadraoId:this.protocoloIntervencao.versaoPadraoId});this._modalService.show(Yr,{class:"modal-lg",initialState:{protIntervencao:t}}).content.onSave.subscribe(()=>{this.refresh()})}editVersaoPadrao(){if(null==this.protocoloIntervencao)return;let t=new c.uS({id:this.protocoloIntervencao.id,nome:this.protocoloIntervencao.nome,versaoPadraoId:this.protocoloIntervencao.versaoPadraoId});this._modalService.show(Ur,{class:"modal-lg",initialState:{protIntervencao:t}}).content.onSave.subscribe(()=>{this.refresh()})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:49,vars:31,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"height","75%","align-content","center"],[1,"col-0","m-0","p-0",2,"font-palette","dark"],[1,"col-0","m-0","p-0",2,"display","flex"],["type","button",1,"row-0","m-0","ml-4","py-1","px-2","btn","btn-secondary",2,"align-self","center",3,"click"],[1,"fas","fa-pencil-alt"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","m-0","p-0"],[1,"mr-1"],[1,"row","m-0","p-0","justify-content-end"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"row","justify-content-center"],["type","button",1,"btn","btn-secondary",3,"click"],[4,"ngIf"],[3,"versao",4,"ngIf"],[3,"protIntervencaoId"],[3,"versao"]],template:function(n,o){if(1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"div",8)(12,"h1",9),e.EFF(13),e.k0s(),e.j41(14,"div",10)(15,"button",11),e.bIt("click",function(){return o.editNome()}),e.nrm(16,"i",12),e.k0s()()()()()(),e.j41(17,"section",13)(18,"div",14)(19,"tabset",15)(20,"tab",16),e.nI1(21,"localize"),e.j41(22,"div",17)(23,"label",18),e.EFF(24),e.nI1(25,"localize"),e.k0s(),e.EFF(26),e.k0s(),e.j41(27,"div",17)(28,"label",18),e.EFF(29),e.nI1(30,"localize"),e.k0s(),e.EFF(31),e.k0s(),e.j41(32,"div",19)(33,"button",20),e.bIt("click",function(){return o.delete()}),e.nrm(34,"i",21),e.EFF(35),e.nI1(36,"localize"),e.k0s()()(),e.j41(37,"tab",16),e.nI1(38,"localize"),e.j41(39,"div",22)(40,"button",23),e.bIt("click",function(){return o.editVersaoPadrao()}),e.nrm(41,"i",12),e.EFF(42),e.nI1(43,"localize"),e.k0s()(),e.DNE(44,Gr,3,3,"p",24)(45,Vr,1,1,"versao-details",25),e.k0s(),e.j41(46,"tab",16),e.nI1(47,"localize"),e.nrm(48,"versoes-list",26),e.k0s()()()()()),2&n){let i,s;e.Y8G("@routerTransition",void 0),e.R7$(9),e.SpI(" ",e.bMT(10,15,"Detalhes do Protocolo de Interven\xe7\xe3o")," "),e.R7$(4),e.SpI(" ",null==o.protocoloIntervencao?null:o.protocoloIntervencao.nome," "),e.R7$(7),e.Y8G("heading",e.bMT(21,17,"Informa\xe7\xe3o Geral")),e.R7$(4),e.SpI("",e.bMT(25,19,"Vers\xe3o Padr\xe3o"),":"),e.R7$(2),e.SpI("",null!==(i=null==o.versaoPadrao?null:o.versaoPadrao.nome)&&void 0!==i?i:"-"," "),e.R7$(3),e.SpI("",e.bMT(30,21,"No. de Vers\xf5es"),":"),e.R7$(2),e.SpI("",null!==(s=null==o.protocoloIntervencao||null==o.protocoloIntervencao.versoes?null:o.protocoloIntervencao.versoes.length)&&void 0!==s?s:"-"," "),e.R7$(4),e.SpI(" ",e.bMT(36,23,"Excluir")," "),e.R7$(2),e.Y8G("heading",e.bMT(38,25,"Vers\xe3o Padr\xe3o")),e.R7$(5),e.SpI(" ",e.bMT(43,27,"Mudar Versao Padrao")," "),e.R7$(2),e.Y8G("ngIf",null==(null==o.protocoloIntervencao?null:o.protocoloIntervencao.versaoPadraoId)),e.R7$(),e.Y8G("ngIf",null!=o.versaoPadrao),e.R7$(),e.Y8G("heading",e.bMT(47,29,"Vers\xf5es")),e.R7$(2),e.Y8G("protIntervencaoId",o.id)}},dependencies:[p.bT,I.V6,I.fw,Dr,Qe,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})(),Yr=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._protocoloIntervencaoService=n,this.bsModalRef=o,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,this._protocoloIntervencaoService.update(this.protIntervencao).subscribe(t=>{this.onSave.emit(t),this.bsModalRef.hide(),this.saving=!1})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:15,vars:11,consts:[["editNomeProtocoloIntervencaoModal","ngForm"],["nomeModel","ngModel","nomeEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"label",6),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",7)(10,"input",8,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.protIntervencao.nome,r)||(o.protIntervencao.nome=r),e.Njj(r)}),e.k0s(),e.nrm(13,"abp-validation-summary",9),e.k0s()()(),e.j41(14,"abp-modal-footer",10),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1),s=e.sdS(11),r=e.sdS(12);e.R7$(2),e.Y8G("title",e.bMT(3,7,"EditNomeProtocoloIntervencao")),e.R7$(5),e.SpI(" ",e.bMT(8,9,"Nome")," "),e.R7$(3),e.R50("ngModel",o.protIntervencao.nome),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.me,l.BC,l.cb,l.YS,l.tU,l.vS,l.cV,S.e,F.x,k.z,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})(),Ur=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._protocoloIntervencaoService=n,this.bsModalRef=o,this.loading=!1,this.saving=!1,this.versoes=[],this.onSave=new e.bkB}ngOnInit(){this.loading=!0,this._protocoloIntervencaoService.getAllVersoes(this.protIntervencao.id,void 0,void 0,void 0).subscribe(t=>{this.versoes=t.items,this.loading=!1})}get versaoId(){return this.protIntervencao.versaoPadraoId.toString()}set versaoId(t){this.protIntervencao.versaoPadraoId=Number(t)}save(){this.saving=!0,this._protocoloIntervencaoService.update(this.protIntervencao).subscribe(t=>{this.onSave.emit(t),this.bsModalRef.hide(),this.saving=!1})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],inputs:{versoes:"versoes"},features:[e.Vt3],decls:11,vars:8,consts:[["selectVersaoPadraoModal","ngForm"],["versaoModel","ngModel","versaoEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"col-md-6"],["name","versao","id","versao","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"select",6,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.versaoId,r)||(o.versaoId=r),e.Njj(r)}),e.DNE(9,Nr,2,3,"option",7),e.k0s()()(),e.j41(10,"abp-modal-footer",8),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,6,"VersaoPadraoSelect")),e.R7$(4),e.Y8G("disabled",o.loading||o.saving),e.R50("ngModel",o.versaoId),e.R7$(3),e.Y8G("ngForOf",o.versoes),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[p.Sq,l.qT,l.xH,l.y7,l.wz,l.BC,l.cb,l.YS,l.vS,l.cV,F.x,k.z,m.S],encapsulation:2})}return a})();function zr(a,d){if(1&a&&e.nrm(0,"versao-details",17),2&a){const t=e.XpG();e.Y8G("versao",t.versao)}}let Xr=(()=>{class a extends _.q{constructor(t,n,o,i,s){super(t),this._protocoloIntervencaoService=n,this._modalService=o,this._router=i,this._route=s}ngOnInit(){this.id=Number(this._route.snapshot.paramMap.get("versaoProtIntervencaoId")),this.refresh()}edit(){this._router.navigate(["app","protocolos-intervencao","versoes","edit",this.id])}refresh(){this._protocoloIntervencaoService.getVersao(this.id).subscribe(t=>{this.versao=t})}goBack(){this._router.navigate(null!=this.versao?.protocoloIntervencaoId?["../../..","details",this.versao.protocoloIntervencaoId]:["../../.."],{relativeTo:this._route})}editInfo(){}toRefBibDetails(){}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:24,vars:14,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[3,"versao",4,"ngIf"],[1,"row","mx-0","mb-0","mt-5","justify-content-center"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],[1,"fas","fa-pencil-alt"],[3,"versao"]],template:function(n,o){1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"h1",8),e.EFF(12),e.k0s()()()(),e.j41(13,"section",9)(14,"div",10)(15,"tabset",11)(16,"tab",12),e.nI1(17,"localize"),e.DNE(18,zr,1,1,"versao-details",13),e.j41(19,"div",14)(20,"button",15),e.bIt("click",function(){return o.edit()}),e.nrm(21,"i",16),e.EFF(22),e.nI1(23,"localize"),e.k0s()()()()()()()),2&n&&(e.Y8G("@routerTransition",void 0),e.R7$(9),e.Lme(" ",e.bMT(10,8,"Detalhes de Vers\xe3o do Protocolo de Interven\xe7\xe3o")," ",null==o.versao?null:o.versao.protocoloIntervencaoNome," "),e.R7$(3),e.SpI(" ",null==o.versao?null:o.versao.nome," "),e.R7$(4),e.Y8G("heading",e.bMT(17,10,"Informa\xe7\xe3o Geral")),e.R7$(2),e.Y8G("ngIf",null!=o.versao),e.R7$(2),e.Y8G("disabled",null==o.versao),e.R7$(2),e.SpI(" ",e.bMT(23,12,"Edit")," "))},dependencies:[p.bT,I.V6,I.fw,Qe,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})(),qr=(()=>{class a extends _.q{constructor(t,n,o,i,s,r){super(t),this._protocoloIntervencaoService=n,this._changeDetector=o,this._modalService=i,this._router=s,this._route=r,this.loading=!1,this.saving=!1,this.versao=new c.Zz,this.onSave=new e.bkB}ngOnInit(){const t=this._route.snapshot.paramMap;this.loading=!0,this.versao=new c.Zz,this.versao.protocoloIntervencaoId=Number(t.get("protocoloIntervencaoId")),this._protocoloIntervencaoService.get(this.versao.protocoloIntervencaoId).subscribe(n=>{this.protocoloIntervencao=n,this._protocoloIntervencaoService.getVersao(n.versaoPadraoId).subscribe(o=>{this.versao=new c.Zz(o),this.loading=!1})})}save(){this.saving=!0,this._protocoloIntervencaoService.createVersao(this.versao).subscribe(t=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.onSave.emit(t),this._router.navigate(["app","protocolos-intervencao","versao","details",t.id])})}goBack(){this._router.navigate(["app","protocolos-intervencao","versao","details",this.versao.protocoloIntervencaoId])}log(t){console.log(t)}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(e.gRc),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:24,vars:9,consts:[["createVersaoProtIntervencaoPage","ngForm"],[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click","disabled"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"height","75%","align-content","center"],[1,"col-0","m-0","p-0",2,"font-palette","dark"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[2,"height","100%","width","100%","border","0px solid black"],[1,"card",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white"],[1,"card-body"],["ngModelGroup","versao",3,"versaoChange","loadingChange","disabled","versao"],[1,"row","m-0","mt-4","p-0","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),e.bIt("click",function(){return e.eBV(i),e.Njj(o.goBack())}),e.nrm(6,"i",6),e.k0s()()(),e.j41(7,"div",7)(8,"h1",8),e.EFF(9," Criar Nova Vers\xe3o do Protocolo de Interven\xe7\xe3o: "),e.k0s(),e.j41(10,"div",9)(11,"h1",10),e.EFF(12),e.k0s()()()()(),e.j41(13,"section",11)(14,"form",12,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(16,"div",13)(17,"div",14)(18,"div",15)(19,"versao-form",16),e.mxI("versaoChange",function(r){return e.eBV(i),e.DH7(o.versao,r)||(o.versao=r),e.Njj(r)}),e.bIt("loadingChange",function(r){return e.eBV(i),e.Njj(o.loading=r)}),e.k0s(),e.j41(20,"div",17)(21,"button",18),e.EFF(22),e.nI1(23,"localize"),e.k0s()()()()()()()()}if(2&n){let i;const s=e.sdS(15);e.Y8G("@routerTransition",void 0),e.R7$(5),e.Y8G("disabled",o.saving),e.R7$(7),e.SpI(" ",null==o.protocoloIntervencao?null:o.protocoloIntervencao.nome," "),e.R7$(7),e.Y8G("disabled",o.loading||o.saving),e.R50("versao",o.versao),e.R7$(2),e.Y8G("disabled",o.saving||o.loading||null===(i=null==o.versao||null==o.versao.passosProtIntervencao?null:o.versao.passosProtIntervencao.length)||void 0===i||i||!s.form.valid),e.R7$(),e.SpI(" ",e.bMT(23,7,"Save")," ")}},dependencies:[l.qT,l.cb,l.Y4,l.cV,ce,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})(),Or=(()=>{class a extends _.q{constructor(t,n,o,i,s,r){super(t),this._protocoloIntervencaoService=n,this._changeDetector=o,this._modalService=i,this._router=s,this._route=r,this.loading=!1,this.saving=!1,this.versao=new c.uf,this.onSave=new e.bkB}ngOnInit(){this.id=Number(this._route.snapshot.paramMap.get("versaoProtIntervencaoId")),this.refresh()}refresh(){this._protocoloIntervencaoService.getVersao(this.id).subscribe(t=>{this._protocoloIntervencaoService.get(t.protocoloIntervencaoId).subscribe(n=>{this.protocoloIntervencao=n}),this.versao=new c.uf(t),this.versao.passosProtIntervencao=[],this.initialPassos=[],t.passosProtIntervencao.forEach(n=>{let o=new c.c0(n);this.initialPassos.push(o),this.versao.passosProtIntervencao.push(new c.c0(o))})})}save(){this.saving=!0,this._protocoloIntervencaoService.updateVersao(this.versao).subscribe(t=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.onSave.emit(t),this._navToDetailsVersao()})}goBack(){this._navToDetailsVersao()}_navToDetailsVersao(){this._router.navigate(["app","protocolos-intervencao","versoes","details",this.id])}log(t){console.log(t)}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.J3),e.rXU(e.gRc),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:25,vars:11,consts:[["createVersaoProtIntervencaoPage","ngForm"],[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click","disabled"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row","m-0","p-0",2,"color","light-gray","font-size","75%","height","25%"],[1,"row","m-0","p-0",2,"height","75%","align-content","center"],[1,"col-0","m-0","p-0",2,"font-palette","dark"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[2,"height","100%","width","100%","border","0px solid black"],[1,"card",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white"],[1,"card-body"],["ngModelGroup","versao",3,"versaoChange","loadingChange","versao"],[1,"row","m-0","mt-4","p-0","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),e.bIt("click",function(){return e.eBV(i),e.Njj(o.goBack())}),e.nrm(6,"i",6),e.k0s()()(),e.j41(7,"div",7)(8,"h1",8),e.EFF(9),e.nI1(10,"localize"),e.k0s(),e.j41(11,"div",9)(12,"h1",10),e.EFF(13),e.k0s()()()()(),e.j41(14,"section",11)(15,"form",12,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(17,"div",13)(18,"div",14)(19,"div",15)(20,"versao-form",16),e.mxI("versaoChange",function(r){return e.eBV(i),e.DH7(o.versao,r)||(o.versao=r),e.Njj(r)}),e.bIt("loadingChange",function(r){return e.eBV(i),e.Njj(o.loading=r)}),e.k0s(),e.j41(21,"div",17)(22,"button",18),e.EFF(23),e.nI1(24,"localize"),e.k0s()()()()()()()()}if(2&n){let i;const s=e.sdS(16);e.Y8G("@routerTransition",void 0),e.R7$(5),e.Y8G("disabled",o.saving),e.R7$(4),e.SpI(" ",e.bMT(10,7,"Editar Vers\xe3o do Protocolo de Interven\xe7\xe3o"),": "),e.R7$(4),e.SpI(" ",null==o.protocoloIntervencao?null:o.protocoloIntervencao.nome," "),e.R7$(7),e.R50("versao",o.versao),e.R7$(2),e.Y8G("disabled",o.saving||o.loading||(null!==(i=null==o.versao||null==o.versao.passosProtIntervencao?null:o.versao.passosProtIntervencao.length)&&void 0!==i?i:0)<1||!s.form.valid),e.R7$(),e.SpI(" ",e.bMT(24,9,"Save")," ")}},dependencies:[l.qT,l.cb,l.Y4,l.cV,ce,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})(),Hr=(()=>{class a extends _.q{constructor(t,n){super(t),this.bsModalRef=n,this.saving=!1,this._data=V(),this.onSubmit=new e.bkB}ngOnInit(){}get etapaNome(){return 0==this.etapa?"In\xedcio":1==this.etapa?"Linha de Base":2==this.etapa?"Introdu\xe7\xe3o":"Crit\xe9rio Alcan\xe7ado"}get data(){return this._data.format("yyyy-MM-DD")}set data(t){this._data=V(t)}save(){this.saving=!0,this.onSubmit.emit(this._data),this.bsModalRef.hide(),this.saving=!1}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSubmit:"onSubmit"},features:[e.Vt3],decls:13,vars:9,consts:[["marcoIntervencaoModal","ngForm"],["dataModel","ngModel","dataEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"row","m-0"],[1,"row","m-0","align-content-center"],[1,"col-md-6"],["type","date","name","data","id","data","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",3),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",4)(5,"div",5),e.EFF(6),e.k0s(),e.j41(7,"div",6)(8,"div",7)(9,"input",8,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.data,r)||(o.data=r),e.Njj(r)}),e.k0s()()()(),e.j41(12,"abp-modal-footer",9),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,7,"MarcoIntervencao")),e.R7$(4),e.Lme(" Qual a data do marco de ",o.etapaNome," do passo ",o.passoNome,"? "),e.R7$(3),e.Y8G("disabled",o.saving),e.R50("ngModel",o.data),e.R7$(3),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.me,l.BC,l.cb,l.YS,l.vS,l.cV,F.x,k.z,m.S],encapsulation:2})}return a})();const ue=()=>[],Jr=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function xr(a,d){if(1&a&&(e.j41(0,"th"),e.EFF(1),e.nI1(2,"localize"),e.k0s()),2&a){const t=d.$implicit;e.R7$(),e.SpI(" ",e.bMT(2,1,t.nome)," ")}}function Lr(a,d){if(1&a&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&a){const t=d.$implicit,n=e.XpG().$implicit,o=e.XpG();e.R7$(),e.SpI(" ",o.getNoAjudas(n,t)," ")}}function Zr(a,d){if(1&a&&(e.j41(0,"tr")(1,"td",14),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.DNE(11,Lr,2,1,"td",6),e.j41(12,"td"),e.EFF(13),e.k0s()()),2&a){let t,n,o,i;const s=d.$implicit,r=e.XpG();e.R7$(2),e.JRh(r.getIdxPasso(s)+1),e.R7$(2),e.JRh(r.getNomeAT(s)),e.R7$(2),e.JRh(r.getDataHora(s)),e.R7$(2),e.JRh(null!==(t=null==s?null:s.tipo)&&void 0!==t?t:""),e.R7$(2),e.JRh(null!==(n=null==s?null:s.descricao)&&void 0!==n?n:""),e.R7$(),e.Y8G("ngForOf",null!==(o=null==r.modeloHierarquiaAjuda?null:r.modeloHierarquiaAjuda.tiposAjuda)&&void 0!==o?o:e.lJ4(7,ue)),e.R7$(2),e.JRh(null!==(i=null==s?null:s.observacao)&&void 0!==i?i:"")}}let Wr=(()=>{class a extends A{constructor(t,n,o,i,s,r,u,b,g,C){super(t),this._alunoService=n,this._casoService=o,this._colaboradorService=i,this._protocoloIntervencaoService=s,this._hierarquiaAjudaService=r,this._modalService=u,this._router=b,this._route=g,this._changeDetector=C}ngOnInit(){const t=this._route.snapshot.paramMap;this.alunoId=Number(t.get("alunoId")),this.apliId=Number(t.get("apliId")),this.refresh()}list(t,n,o){this._casoService.getAllUnidadesEnsino(void 0,void 0,this.apliId,void 0,void 0,void 0).pipe((0,y.j)(()=>o())).subscribe(i=>{this.unidades=i,this.showPaging({items:this.unidades,totalCount:this.unidades.length},n)})}delete(t){}getAtendimento(t){return this.atendimentos?.find(n=>n.id==t.registroAtendimentoId)}getIdxPasso(t){for(let n=0;n<(this.aplicacao?.passos?.length??0);n++)if(this.aplicacao?.passos[n]?.id==t?.passoId)return n;return-1}getAtuacao(t){return this.staff?.find(n=>n.id==t)}getColabFuncao(t){return this.funcoesColaborador?.find(n=>n.id==t)}getColaborador(t){return this.colaboradores?.find(n=>n.id==t)}getNomeAT(t){var n=this.getAtendimento(t)?.atuacaoTerapeutaId;return this.getColaborador(this.getColabFuncao(this.getAtuacao(n)?.colabFuncaoId)?.colaboradorId)?.nome??""}getDataHora(t){var n=this.getAtendimento(t);return(n?.inicio?.format("DD/MM/yyyy HH:mm")??"")+"~"+(n?.fim?.format("HH:mm")??"")}getNoAjudas(t,n){return t?.ajudas?.find(o=>o.key==n.id)?.value}podeRegistrarAtendimento(){return(this.permission.isGranted("Business.Personal.Colaborador.Supervisor")||this.permission.isGranted("Business.Personal.Colaborador.AT"))&&(this.permission.isGranted("Business.Admin.People")||this.staff.some(t=>this.getColabFuncao(t.colabFuncaoId).colaboradorId==this.appSession.user.colaborador.id&&null==t.dataFim))}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.iD),e.rXU(c.i9),e.rXU(c.J3),e.rXU(c.Qk),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX),e.rXU(e.gRc))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["unidades-protocolo-intervencao"]],inputs:{aluno:"aluno",aplicacao:"aplicacao",modelo:"modelo",atendimentos:"atendimentos",colaboradores:"colaboradores",funcoesColaborador:"funcoesColaborador",staff:"staff",modeloHierarquiaAjuda:"modeloHierarquiaAjuda"},features:[e.Vt3],decls:35,vars:34,consts:[[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","5%"],[2,"width","15%"],[2,"width","10%"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"text-center"]],template:function(n,o){if(1&n&&(e.j41(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th",3),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"th",4),e.EFF(8),e.nI1(9,"localize"),e.k0s(),e.j41(10,"th",5),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"th",5),e.EFF(14),e.nI1(15,"localize"),e.k0s(),e.j41(16,"th",5),e.EFF(17),e.nI1(18,"localize"),e.k0s(),e.DNE(19,xr,3,3,"th",6),e.j41(20,"th",5),e.EFF(21),e.nI1(22,"localize"),e.k0s()()(),e.j41(23,"tbody"),e.DNE(24,Zr,14,8,"tr",6),e.nI1(25,"paginate"),e.k0s()()(),e.j41(26,"div",7),e.nrm(27,"div",8),e.j41(28,"div",9)(29,"p",10),e.EFF(30),e.nI1(31,"localize"),e.k0s()(),e.j41(32,"div",11)(33,"div",12)(34,"abp-pagination-controls",13),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()),2&n){let i,s;e.R7$(),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(6,10,"Passo")),e.R7$(3),e.JRh(e.bMT(9,12,"AT")),e.R7$(3),e.JRh(e.bMT(12,14,"Data & Hora")),e.R7$(3),e.JRh(e.bMT(15,16,"Tipo")),e.R7$(3),e.JRh(e.bMT(18,18,"Descri\xe7\xe3o")),e.R7$(2),e.Y8G("ngForOf",null!==(i=null==o.modeloHierarquiaAjuda?null:o.modeloHierarquiaAjuda.tiposAjuda)&&void 0!==i?i:e.lJ4(28,ue)),e.R7$(2),e.JRh(e.bMT(22,20,"Observa\xe7\xe3o")),e.R7$(3),e.Y8G("ngForOf",e.i5U(25,22,null!==(s=o.unidades)&&void 0!==s?s:e.lJ4(29,ue),e.sMw(30,Jr,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(6),e.SpI(" ",e.i5U(31,25,"TotalRecordsCount",o.totalItems)," ")}},dependencies:[p.Sq,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();const Ke=()=>[""],Qr=()=>[],Kr=()=>[0,1,2,3];function el(a,d){if(1&a){const t=e.RV6();e.j41(0,"td",28),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG().$implicit,s=e.XpG();return e.Njj(s.onClickCell(i,o))}),e.EFF(1),e.k0s()}if(2&a){const t=d.$implicit,n=e.XpG().$implicit,o=e.XpG();e.Aen(o.canClickCell(n,t)?"background-color: skyblue;":"background-color: white;"),e.R7$(),e.SpI(" ",o.getPassoMarco(n,t)," ")}}function ol(a,d){if(1&a&&(e.j41(0,"tr")(1,"td",26),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.DNE(7,el,2,3,"td",27),e.k0s()),2&a){const t=d.$implicit,n=d.index,o=e.XpG();e.R7$(2),e.JRh(n+1),e.R7$(2),e.JRh(t.desc),e.R7$(2),e.JRh(o.getPassoSituacao(t.id)),e.R7$(),e.Y8G("ngForOf",e.lJ4(4,Kr))}}let tl=(()=>{class a extends _.q{get aluno(){return this._aluno}set aluno(t){this._aluno=t}constructor(t,n,o,i,s,r,u,b,g,C){super(t),this._modalService=n,this._alunoService=o,this._casoService=i,this._colaboradorService=s,this._protocoloIntervencaoService=r,this._hierarquiaAjudaService=u,this._changeDetector=b,this._router=g,this._route=C,this.saving=!1}goBack(){this.permission.isGranted("Business.Personal.Cliente.Aluno")&&this.appSession.user.aluno?.id==this.alunoId?this._router.navigate(["app","personal"]):this._router.navigate(["app","alunos","details",this.alunoId])}ngOnInit(){const t=this._route.snapshot.paramMap;this.alunoId=Number(t.get("alunoId")),this.apliId=Number(t.get("apliId")),this.refresh()}get loading(){return this.alunoLoading||this.apliLoading||this.procLoading}refresh(){this.alunoLoading=!0,this._alunoService.get(this.alunoId).subscribe(t=>{this.aluno=t,this._casoService.getAllAtuacoes(this.aluno.casoId,void 0,void 0,void 0,void 0).subscribe(n=>{this.staff=n}),this._colaboradorService.getAllColabFuncoes(void 0,void 0,void 0,void 0,void 0,this.aluno.casoId,void 0,void 0,void 0).subscribe(n=>{this.funcoesColaborador=n.items}),this._colaboradorService.getAll(void 0,void 0,void 0,void 0,this.aluno.casoId,void 0,void 0,void 0).subscribe(n=>{this.colaboradores=n.items}),this.alunoLoading=!1,this._changeDetector.detectChanges()}),this.apliLoading=!0,this.procLoading=!0,this._casoService.getAplicacaoProtocoloIntervencao(this.apliId).subscribe(t=>{this.aplicacao=t,this.apliLoading=!1,this._protocoloIntervencaoService.getVersao(this.aplicacao.modeloId).subscribe(n=>{n.passosProtIntervencao.sort((o,i)=>o.ordenador-i.ordenador),this.modelo=n,this._hierarquiaAjudaService.get(this.modelo.hierarquiaAjudaId).subscribe(o=>this.modeloHierarquiaAjuda=o),this.procLoading=!1,this._changeDetector.detectChanges()}),this._changeDetector.detectChanges()}),this._casoService.getAllRegistrosAtendimento(void 0,this.apliId,void 0,void 0,void 0).subscribe(t=>{this.atendimentos=t})}save(){this.saving=!0;let t=new c.hG(this.aplicacao);this._casoService.updateAplicacaoProtocoloIntervencao(t).subscribe(n=>{this.notify.info(this.l("SavedSuccessfully")),this.aplicacao=n,this.saving=!1})}cancel(){this.refresh()}getEtapaPassoByModeloId(t){let n=this.aplicacao.passos.find(o=>o.modeloPassoId==t);return this.getEtapaPasso(n)}getEtapaPasso(t){return null==t.dataInicio?0:null==t.dataLinhaDeBase&&null==t.dataIntroducao?1:null==t.dataIntroducao?2:null==t.dataCriterioAlcancado?3:4}getPassoNome(t){return this.modelo?.passosProtIntervencao?.find(n=>n.id==t)?.desc}getPassoSituacao(t){let n=this.aplicacao.passos.find(o=>o.modeloPassoId==t);return null==n.dataInicio?"N\xe3o iniciado":null==n.dataLinhaDeBase&&null==n.dataIntroducao?"Linha de base ou Introdu\xe7\xe3o":null==n.dataIntroducao?"Introdu\xe7\xe3o":null==n.dataCriterioAlcancado?"Manuten\xe7\xe3o":"Crit\xe9rio alcan\xe7ado"}getPassoMarco(t,n){let o=this.aplicacao.passos.find(i=>i.modeloPassoId==t.id);return 0==n?o?.dataInicio?.format("DD/MM/yyyy")??"":1==n?o?.dataLinhaDeBase?.format("DD/MM/yyyy")??"":2==n?o?.dataIntroducao?.format("DD/MM/yyyy")??"":3==n?o?.dataCriterioAlcancado?.format("DD/MM/yyyy")??"":""}canClickCell(t,n){if(!this.permission.isGranted("Business.Personal.Colaborador.Supervisor")&&!this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico"))return!1;let o=this.aplicacao.passos.find(s=>s.modeloPassoId==t.id),i=this.getEtapaPasso(o);return 0==n&&0==i||1==n&&1==i||2==n&&(1==i||2==i)||3==n&&3==i}onClickCell(t,n){if(!this.permission.isGranted("Business.Personal.Colaborador.Supervisor")&&!this.permission.isGranted("Business.Personal.Colaborador.DiretorTecnico"))return;let s,o=this.aplicacao.passos.find(r=>r.modeloPassoId==t.id),i=this.getEtapaPasso(o);0==n&&0!=i||1==n&&1!=i||2==n&&1!=i&&2!=i||3==n&&3!=i||(s=this._modalService.show(Hr,{class:"modal-lg",initialState:{etapa:n,passoNome:t.desc}}),s.content.onSubmit.subscribe(r=>{let u=new c.hG(this.aplicacao);u.passos=this.aplicacao.passos.map(g=>new c.FV(g));var b=u.passos.find(g=>g.id==o.id);0==n?b.dataInicio=r:1==n?b.dataLinhaDeBase=r:2==n?b.dataIntroducao=r:b.dataCriterioAlcancado=r,this._casoService.updateAplicacaoProtocoloIntervencao(u).subscribe(g=>{this.aplicacao=g,this._changeDetector.detectChanges()})}))}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(f.I8),e.rXU(c.pg),e.rXU(c.iD),e.rXU(c.i9),e.rXU(c.J3),e.rXU(c.Qk),e.rXU(e.gRc),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:64,vars:44,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[1,"row","p-0","m-0"],[1,"col-0","p-0","m-0","mr-2"],[1,"col-0","p-0","m-0"],[1,"col","m-0","p-0"],[1,"row","m-0","justify-content-center"],[1,"table-responsive","col-md-8","mt-3"],[1,"table","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","4%"],[2,"width","20%"],[2,"width","14%"],[4,"ngFor","ngForOf"],[3,"aluno","colaboradores","funcoesColaborador","staff","aplicacao","modelo","atendimentos","modeloHierarquiaAjuda"],[1,"text-center"],[3,"style","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(n,o){if(1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(6,"i",5),e.k0s()()(),e.j41(7,"div",6)(8,"h1",7),e.EFF(9," Detalhes da Aplica\xe7\xe3o de Protocolo de Avalia\xe7\xe3o "),e.k0s(),e.j41(10,"h1",8),e.EFF(11),e.k0s()()()(),e.j41(12,"section",9)(13,"div",10)(14,"tabset",11)(15,"tab",12),e.nI1(16,"localize"),e.j41(17,"div",13)(18,"label",14),e.EFF(19," Vers\xe3o: "),e.k0s(),e.j41(20,"span",15),e.EFF(21),e.k0s()(),e.j41(22,"div",13)(23,"div",16)(24,"div",13)(25,"label",14),e.EFF(26," Data in\xedcio: "),e.k0s(),e.j41(27,"span",15),e.EFF(28),e.k0s()()(),e.j41(29,"div",16)(30,"div",13)(31,"label",14),e.EFF(32," Data arquivamento: "),e.k0s(),e.j41(33,"span",15),e.EFF(34),e.k0s()()()(),e.j41(35,"div",17)(36,"div",18)(37,"table",19)(38,"thead",20)(39,"tr"),e.nrm(40,"th",21),e.j41(41,"th",22),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th",22),e.EFF(45),e.nI1(46,"localize"),e.k0s(),e.j41(47,"th",23),e.EFF(48),e.nI1(49,"localize"),e.k0s(),e.j41(50,"th",23),e.EFF(51),e.nI1(52,"localize"),e.k0s(),e.j41(53,"th",23),e.EFF(54),e.nI1(55,"localize"),e.k0s(),e.j41(56,"th",23),e.EFF(57),e.nI1(58,"localize"),e.k0s()()(),e.j41(59,"tbody"),e.DNE(60,ol,8,5,"tr",24),e.k0s()()()()(),e.j41(61,"tab",12),e.nI1(62,"localize"),e.nrm(63,"unidades-protocolo-intervencao",25),e.k0s()()()()()),2&n){let i,s,r;e.Y8G("@routerTransition",void 0),e.R7$(11),e.E5c(" ",null==o.modelo?null:o.modelo.protocoloIntervencaoNome," para ",(null!==(i=null==o.aluno||null==o.aluno.nome?null:o.aluno.nome.split(" "))&&void 0!==i?i:e.lJ4(41,Ke))[0]," ",(null!==(i=null==o.aluno||null==o.aluno.nome||null==(i=o.aluno.nome.split(" "))?null:i.reverse())&&void 0!==i?i:e.lJ4(42,Ke))[0]," "),e.R7$(4),e.Y8G("heading",e.bMT(16,25,"InfoAplicacao")),e.R7$(6),e.SpI(" ",null==o.modelo?null:o.modelo.nome," "),e.R7$(7),e.SpI(" ",null==o.aplicacao||null==o.aplicacao.dataInicio?null:o.aplicacao.dataInicio.format("DD/MM/yyyy")," "),e.R7$(6),e.SpI(" ",null!==(s=null==o.aplicacao?null:o.aplicacao.dataArquivamento)&&void 0!==s?s:"-"," "),e.R7$(3),e.Y8G("busy",o.loading),e.R7$(5),e.JRh(e.bMT(43,27,"Nome")),e.R7$(3),e.JRh(e.bMT(46,29,"Situa\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(49,31,"In\xedcio")),e.R7$(3),e.JRh(e.bMT(52,33,"Linha de Base")),e.R7$(3),e.JRh(e.bMT(55,35,"Introdu\xe7\xe3o")),e.R7$(3),e.JRh(e.bMT(58,37,"Crit\xe9rio Alcan\xe7ado")),e.R7$(3),e.Y8G("ngForOf",null!==(r=null==o.modelo?null:o.modelo.passosProtIntervencao)&&void 0!==r?r:e.lJ4(43,Qr)),e.R7$(),e.Y8G("heading",e.bMT(62,39,"UnidadesEnsino")),e.R7$(2),e.Y8G("aluno",o.aluno)("colaboradores",o.colaboradores)("funcoesColaborador",o.funcoesColaborador)("staff",o.staff)("aplicacao",o.aplicacao)("modelo",o.modelo)("atendimentos",o.atendimentos)("modeloHierarquiaAjuda",o.modeloHierarquiaAjuda)}},dependencies:[p.Sq,I.V6,I.fw,M,Wr,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();const nl=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function il(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",34)(1,"div",35)(2,"button",13),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",36),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function al(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.nrm(9,"td"),e.k0s()),2&a){let t,n;const o=d.$implicit,i=e.XpG();e.R7$(2),e.JRh(i.getTipoServicoNome(o.tipoServicoId)),e.R7$(2),e.JRh(i.getColaborador(i.getFuncaoColaborador(o.colabFuncaoOrgId).colaboradorId).nome),e.R7$(2),e.JRh(null!==(t=null==o||null==o.inicio?null:o.inicio.format("DD/MM/YYYY HH:mm"))&&void 0!==t?t:"-"),e.R7$(2),e.JRh(null!==(n=null==o||null==o.fim?null:o.fim.format("DD/MM/YYYY HH:mm"))&&void 0!==n?n:"-")}}let sl=(()=>{class a extends A{constructor(t,n,o,i,s,r,u,b){super(t),this._servicoPrestadoService=n,this._tipoServicoPrestadoService=o,this._colaboradorService=i,this._modalService=s,this._changeDectetor=r,this._router=u,this._route=b,this.servicos=[],this.keyword="",this.advancedFiltersVisible=!1}ngOnInit(){this.isTableLoading=!0,this._tipoServicoPrestadoService.getAll(void 0,void 0,void 0,void 0,void 0).subscribe(t=>{this.tiposServico=t.items,this.refresh()}),this._colaboradorService.getAll(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0).subscribe(t=>{this.colaboradores=t.items,this._changeDectetor.detectChanges()}),this._colaboradorService.getAllColabFuncoes(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0).subscribe(t=>{this.funcoesColaborador=t.items,this._changeDectetor.detectChanges()})}getFuncaoColaborador(t){return this.funcoesColaborador?.find(n=>n.id==t)}getColaborador(t){return this.colaboradores?.find(n=>n.id==t)}getTipoServicoNome(t){return this.tiposServico?.find(n=>n.id==t)?.nome??"-"}createServicoPrestado(){let t;t=this._modalService.show(ze,{class:"modal-lg",initialState:{tiposServico:this.tiposServico}}),t.content.onSave.subscribe(()=>{this.refresh()})}list(t,n,o){this._servicoPrestadoService.getAll(void 0,void 0,void 0,void 0,void 0,void 0,t.skipCount,t.maxResultCount).pipe((0,y.j)(()=>{o()})).subscribe(i=>{this.servicos=i.items,this.showPaging(i,n)})}clearFilters(){this.keyword="",this.getDataPage(1)}delete(t){abp.message.confirm("O seguinte tecnica ser\xe1 exclu\xeddo do banco",void 0,n=>{n&&this._servicoPrestadoService.delete(t.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.Fr),e.rXU(c.$B),e.rXU(c.i9),e.rXU(f.I8),e.rXU(e.gRc),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:65,vars:44,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"]],template:function(n,o){1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createServicoPrestado()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,il,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th"),e.EFF(45),e.nI1(46,"localize"),e.k0s(),e.j41(47,"th"),e.EFF(48),e.nI1(49,"localize"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,al,10,4,"tr",24),e.nI1(52,"paginate"),e.k0s()()()(),e.j41(53,"div",25)(54,"div",2)(55,"div",26)(56,"button",27),e.bIt("click",function(){return o.refresh()}),e.nrm(57,"i",28),e.k0s()(),e.j41(58,"div",29)(59,"p",30),e.EFF(60),e.nI1(61,"localize"),e.k0s()(),e.j41(62,"div",31)(63,"div",32)(64,"abp-pagination-controls",33),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&n&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,18,"Servi\xe7os Prestados")),e.R7$(5),e.SpI(" ",e.bMT(12,20,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,22,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,24,"Tipo")),e.R7$(3),e.JRh(e.bMT(40,26,"Colaborador")),e.R7$(3),e.JRh(e.bMT(43,28,"In\xedcio")),e.R7$(3),e.JRh(e.bMT(46,30,"Fim")),e.R7$(3),e.JRh(e.bMT(49,32,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(52,34,o.servicos,e.sMw(40,nl,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(61,37,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();const rl=()=>[];function ll(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",19)(1,"div",20),e.EFF(2),e.k0s(),e.j41(3,"div",24)(4,"button",27),e.bIt("click",function(){const o=e.eBV(t).index,i=e.XpG();return e.Njj(i.unselect(o))}),e.nrm(5,"i",28),e.k0s()()()}if(2&a){const t=d.$implicit,n=e.XpG();e.R7$(2),e.JRh(t.nome),e.R7$(2),e.Y8G("disabled",n.disabled)}}function dl(a,d){if(1&a&&(e.j41(0,"option",29),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.JRh(t.nome)}}let eo=(()=>{class a extends _.q{constructor(t,n,o,i){super(t),this._tipoServicoPrestadoService=n,this._funcaoOrgService=o,this.bsModalRef=i,this.disabled=!1,this.funcoesSelected=[],this.funcaoSelectIdx="",this.loadingFuncoes=!1}get loading(){return this.loadingFuncoes}ngOnInit(){null==this.tipoServico.funcoesOrg&&(this.tipoServico.funcoesOrg=[]),this.loadingFuncoes=!0,this._funcaoOrgService.getAll(void 0,void 0,void 0).subscribe(t=>{this.funcoes=t.items,this.funcoesSelected=[];let n=[];this.tipoServico.funcoesOrg.forEach(o=>{this.funcoesSelected.push(void 0)}),this.funcoes.forEach(o=>{let i=this.tipoServico.funcoesOrg.findIndex(s=>s.id==o.id);-1!=i?this.funcoesSelected[i]=o:n.push(o)}),this.funcoes=n,this.loadingFuncoes=!1})}select(){if(""!=this.funcaoSelectIdx){let t=this.funcaoSelectIdx;this.funcaoSelectIdx="";let n=this.funcoes.splice(Number(t),1)[0];this.funcoesSelected.push(n),this.tipoServico.funcoesOrg.push(new c.z2({id:n.id}))}}unselect(t){this.funcoes.push(this.funcoesSelected.splice(t,1)[0]),this.tipoServico.funcoesOrg.splice(t,1)}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.$B),e.rXU(c.AM),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["tipo-servico-prestado-form"]],inputs:{disabled:"disabled",tipoServico:"tipoServico"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:46,vars:30,consts:[["nomeModel","ngModel","nomeEl",""],["descModel","ngModel","descEl",""],["associadoACasoModel","ngModel","associadoACasoEl",""],["funcaoSelectModel","ngModel","funcaoSelectEl",""],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","250",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"control","controlEl"],[1,"form-group","row"],["for","desc",1,"col-md-3","col-form-label"],["type","text","name","desc","id","desc","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","associadoACaso",1,"col-md-4","col-form-label"],[1,"col-md-2"],["type","checkbox","name","associadoACaso","id","associadoACaso",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row"],[1,"col","text-center"],[1,"row",3,"hidden"],["class","row mx-5",4,"ngFor","ngForOf"],[1,"row","mx-5"],[1,"col"],["id","funcaoSelect","name","funcaoSelect",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-0"],["type","button",1,"row-0","btn","btn-primary",3,"click","disabled"],[1,"fa","fa-plus"],["type","button",1,"row-0","btn","btn-danger",3,"click","disabled"],[1,"fa","fa-x"],[3,"value"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"div",4)(1,"label",5),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",6)(5,"input",7,0),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.tipoServico.nome,r)||(o.tipoServico.nome=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",8),e.k0s()(),e.j41(9,"div",9)(10,"label",10),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",6)(14,"textarea",11,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.tipoServico.desc,r)||(o.tipoServico.desc=r),e.Njj(r)}),e.EFF(17,"        "),e.k0s(),e.nrm(18,"abp-validation-summary",8),e.k0s()(),e.j41(19,"div",9)(20,"label",12),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"div",13)(24,"input",14,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.tipoServico.associadoACaso,r)||(o.tipoServico.associadoACaso=r),e.Njj(r)}),e.k0s(),e.nrm(27,"abp-validation-summary",8),e.k0s()(),e.j41(28,"div",15)(29,"label",16),e.EFF(30,"Fun\xe7\xf5es Prestadoras"),e.k0s()(),e.j41(31,"div",17)(32,"div",16),e.EFF(33,"Nenhuma fun\xe7\xe3o selecionada"),e.k0s()(),e.DNE(34,ll,6,2,"div",18),e.j41(35,"div",19)(36,"div",20)(37,"select",21,3),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.funcaoSelectIdx,r)||(o.funcaoSelectIdx=r),e.Njj(r)}),e.nrm(40,"option",22),e.DNE(41,dl,2,2,"option",23),e.k0s(),e.nrm(42,"abp-validation-summary",8),e.k0s(),e.j41(43,"div",24)(44,"button",25),e.bIt("click",function(){return e.eBV(i),e.Njj(o.select())}),e.nrm(45,"i",26),e.k0s()()()}if(2&n){let i;const s=e.sdS(6),r=e.sdS(7),u=e.sdS(15),b=e.sdS(16),g=e.sdS(25),C=e.sdS(26),E=e.sdS(38),P=e.sdS(39);e.R7$(2),e.SpI(" ",e.bMT(3,23,"Nome")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.tipoServico.nome),e.R7$(3),e.Y8G("control",s)("controlEl",r),e.R7$(3),e.SpI(" ",e.bMT(12,25,"Descri\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.tipoServico.desc),e.R7$(4),e.Y8G("control",u)("controlEl",b),e.R7$(3),e.SpI(" ",e.bMT(22,27,"Vinculado a caso")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.tipoServico.associadoACaso),e.R7$(3),e.Y8G("control",g)("controlEl",C),e.R7$(4),e.Y8G("hidden",o.funcoesSelected.length>0),e.R7$(3),e.Y8G("ngForOf",o.funcoesSelected),e.R7$(3),e.Y8G("disabled",o.loadingFuncoes),e.R50("ngModel",o.funcaoSelectIdx),e.R7$(4),e.Y8G("ngForOf",null!==(i=o.funcoes)&&void 0!==i?i:e.lJ4(29,rl)),e.R7$(),e.Y8G("control",E)("controlEl",P),e.R7$(2),e.Y8G("disabled",o.loadingFuncoes||""==o.funcaoSelectIdx||o.disabled)}},dependencies:[p.Sq,l.xH,l.y7,l.me,l.Zm,l.wz,l.BC,l.YS,l.tU,l.vS,S.e,m.S],encapsulation:2})}return a})(),cl=(()=>{class a extends _.q{constructor(t,n,o,i){super(t),this._tipoServicoPrestadoService=n,this._funcaoOrgService=o,this.bsModalRef=i,this.onSave=new e.bkB,this.saving=!1}ngOnInit(){this.tipoServico=new c.D7}save(){this.saving=!0,this.tipoServico.registravelAvulso=!0,this._tipoServicoPrestadoService.create(this.tipoServico).subscribe(t=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(t)})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.$B),e.rXU(c.AM),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:7,vars:7,consts:[["createTipoServicoPrestadoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","tipoServicoForm",3,"disabled","tipoServico"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"tipo-servico-prestado-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"CreateNewTipoServicoPrestado")),e.R7$(3),e.Y8G("disabled",o.saving)("tipoServico",o.tipoServico),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving||0==o.tipoServico.funcoesOrg.length)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,F.x,k.z,eo,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})(),ul=(()=>{class a extends _.q{constructor(t,n,o,i){super(t),this._tipoServicoPrestadoService=n,this._funcaoOrgService=o,this.bsModalRef=i,this.onSave=new e.bkB,this.saving=!1}ngOnInit(){}save(){this.saving=!0,this.tipoServico.registravelAvulso=!0,this._tipoServicoPrestadoService.update(this.tipoServico).subscribe(t=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(t)})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.$B),e.rXU(c.AM),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:7,vars:7,consts:[["editTipoServicoPrestadoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","tipoServicoForm",3,"disabled","tipoServico"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"tipo-servico-prestado-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,5,"EditNewTipoServicoPrestado")),e.R7$(3),e.Y8G("disabled",o.saving)("tipoServico",o.tipoServico),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving||0==o.tipoServico.funcoesOrg.length)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,F.x,k.z,eo,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();const pl=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function ml(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",34)(1,"div",35)(2,"button",13),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",36),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function hl(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"button",37),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.editTipoServicoPrestado(o))}),e.nrm(11,"i",38),e.EFF(12),e.nI1(13,"localize"),e.k0s()()()}if(2&a){const t=d.$implicit;e.R7$(2),e.JRh(t.nome),e.R7$(2),e.JRh(t.desc),e.R7$(2),e.JRh(t.registravelAvulso?"Sim":"N\xe3o"),e.R7$(2),e.JRh(t.associadoACaso?"Sim":"N\xe3o"),e.R7$(4),e.SpI(" ",e.bMT(13,5,"Edit")," ")}}let fl=(()=>{class a extends A{constructor(t,n,o,i,s,r,u){super(t),this._servicoPrestadoService=n,this._tipoServicoPrestadoService=o,this._modalService=i,this._changeDectetor=s,this._router=r,this._route=u,this.tiposServico=[],this.keyword="",this.advancedFiltersVisible=!1}ngOnInit(){this.refresh()}getTipoServicoNome(t){return this.tiposServico?.find(n=>n.id==t)?.nome??"-"}createTipoServicoPrestado(){let t;t=this._modalService.show(cl,{class:"modal-lg",initialState:{}}),t.content.onSave.subscribe(()=>{this.refresh()})}editTipoServicoPrestado(t){let n;n=this._modalService.show(ul,{class:"modal-lg",initialState:{tipoServico:t}}),n.content.onSave.subscribe(()=>{this.refresh()})}list(t,n,o){this._tipoServicoPrestadoService.getAll(void 0,void 0,void 0,t.skipCount,t.maxResultCount).pipe((0,y.j)(()=>{o()})).subscribe(i=>{this.tiposServico=i.items,this.showPaging(i,n)})}clearFilters(){this.keyword="",this.getDataPage(1)}delete(t){abp.message.confirm("O seguinte tecnica ser\xe1 exclu\xeddo do banco",void 0,n=>{n&&this._servicoPrestadoService.delete(t.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.Fr),e.rXU(c.$B),e.rXU(f.I8),e.rXU(e.gRc),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:65,vars:44,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"]],template:function(n,o){1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createTipoServicoPrestado()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,ml,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"localize"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"localize"),e.k0s(),e.j41(44,"th"),e.EFF(45),e.nI1(46,"localize"),e.k0s(),e.j41(47,"th"),e.EFF(48),e.nI1(49,"localize"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,hl,14,7,"tr",24),e.nI1(52,"paginate"),e.k0s()()()(),e.j41(53,"div",25)(54,"div",2)(55,"div",26)(56,"button",27),e.bIt("click",function(){return o.refresh()}),e.nrm(57,"i",28),e.k0s()(),e.j41(58,"div",29)(59,"p",30),e.EFF(60),e.nI1(61,"localize"),e.k0s()(),e.j41(62,"div",31)(63,"div",32)(64,"abp-pagination-controls",33),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&n&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,18,"Tipos de Servi\xe7o Prestado")),e.R7$(5),e.SpI(" ",e.bMT(12,20,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,22,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,24,"Nome")),e.R7$(3),e.JRh(e.bMT(40,26,"Desc")),e.R7$(3),e.JRh(e.bMT(43,28,"Avulso")),e.R7$(3),e.JRh(e.bMT(46,30,"Associado a Caso")),e.R7$(3),e.JRh(e.bMT(49,32,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(52,34,o.tiposServico,e.sMw(40,pl,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(61,37,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();function bl(a,d){if(1&a&&(e.j41(0,"option",31),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(t)}}function _l(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"button",32),e.bIt("click",function(){const o=e.eBV(t).index,i=e.XpG();return e.Njj(i.removeTipoServicoPrestado(o))}),e.nrm(5,"i",33),e.EFF(6," Remover "),e.k0s()()()}if(2&a){const t=d.$implicit;e.R7$(2),e.JRh(t.nome)}}function gl(a,d){if(1&a&&(e.j41(0,"option",31),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.JRh(t.nome)}}let oo=(()=>{class a extends B{constructor(t,n){super(t),this._tipoServicoPrestadoService=n,this.optionsAcessoACaso=["Nenhum","Caso a Caso","Todos"],this.isTableLoading=!1,this._tipoServicoPrestadoAdd=void 0}ngOnInit(){this.funcao.acessoAdministrativo=!1,this.funcao.acessoTecnico=!1,this.funcao.acessoFinanceiro=!1,this.isTableLoading=!0,this._tipoServicoPrestadoService.getAll(void 0,void 0,void 0,void 0,void 0).subscribe(t=>{this.tiposServicoPrestado=t.items,this.refreshTable(),this.isTableLoading=!1})}get tipoServicoPrestadoAdd(){return this._tipoServicoPrestadoAdd?.toString()??""}set tipoServicoPrestadoAdd(t){this._tipoServicoPrestadoAdd=""==t||null==t?void 0:Number(t)}addTipoServicoPrestado(){if(null!=this._tipoServicoPrestadoAdd){let t=this.tiposServicoPrestado[this._tipoServicoPrestadoAdd];this.tiposServicoNaoPrestadoPorFunc.splice(this._tipoServicoPrestadoAdd,1),this.funcao.tiposServicoPrestado.push(new c.z2({id:t.id})),this.tiposServicoPrestadoPorFunc.push(t),this._tipoServicoPrestadoAdd=void 0}}removeTipoServicoPrestado(t){this.funcao.tiposServicoPrestado.splice(t,1),this.tiposServicoNaoPrestadoPorFunc.push(this.tiposServicoPrestadoPorFunc.splice(t,1)[0])}refreshTable(){this.tiposServicoPrestadoPorFunc=[],this.tiposServicoNaoPrestadoPorFunc=[],this.funcao.tiposServicoPrestado.forEach(()=>{this.tiposServicoPrestadoPorFunc.push(void 0)}),this.tiposServicoPrestado.forEach(t=>{let n=this.funcao.tiposServicoPrestado.findIndex(o=>o.id==t.id);-1!=n?this.tiposServicoPrestadoPorFunc[n]=t:this.tiposServicoNaoPrestadoPorFunc.push(t)})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.$B))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["funcao-form"]],inputs:{funcao:"funcao"},features:[e.Jv_([],[{provide:l.ZU,useExisting:l.Y4}]),e.Vt3],decls:65,vars:33,consts:[["nomeModel","ngModel","nomeEl",""],["acessoAdministrativoModel","ngModel","acessoAdministrativoEl",""],["acessoFinanceiroModel","ngModel","acessoFinanceiroEl",""],["acessoTecnicoModel","ngModel","acessoTecnicoEl",""],["acessoACasoModel","ngModel","acessoACasoEl",""],["tipoServicoPrestadoAddModel","ngModel","tipoServicoPrestadoAddEl",""],[1,"form-group","row","required"],["for","nome",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","name","nome","id","nome","required","","maxlength","100",1,"form-control",3,"ngModelChange","ngModel"],[3,"control","controlEl"],["for","acessoAdministrativo",1,"col-md-3","col-form-label"],[1,"col-md-1"],["type","checkbox","name","acessoAdministrativo","id","acessoAdministrativo",1,"form-control",3,"ngModelChange","ngModel"],["for","acessoFinanceiro",1,"col-md-3","col-form-label"],["type","checkbox","name","acessoFinanceiro","id","acessoFinanceiro",1,"form-control",3,"ngModelChange","ngModel"],["for","acessoTecnico",1,"col-md-3","col-form-label"],["type","checkbox","name","acessoTecnico","id","acessoTecnico",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","row"],["for","acessoACaso",1,"col-md-3","col-form-label"],["name","acessoACaso","id","acessoACaso",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","200px"],[4,"ngFor","ngForOf"],["name","tipoServicoPrestadoAdd","id","tipoServicoPrestadoAdd",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-sm","bg-primary","mx-2",3,"click","disabled"],[1,"fas","fa-plus"],[3,"value"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-x"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"div",6)(1,"label",7),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",8)(5,"input",9,0),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.funcao.nome,r)||(o.funcao.nome=r),e.Njj(r)}),e.k0s(),e.nrm(8,"abp-validation-summary",10),e.k0s()(),e.j41(9,"div",6)(10,"label",11),e.EFF(11),e.nI1(12,"localize"),e.k0s(),e.j41(13,"div",12)(14,"input",13,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.funcao.acessoAdministrativo,r)||(o.funcao.acessoAdministrativo=r),e.Njj(r)}),e.k0s()()(),e.j41(17,"div",6)(18,"label",14),e.EFF(19),e.nI1(20,"localize"),e.k0s(),e.j41(21,"div",12)(22,"input",15,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.funcao.acessoFinanceiro,r)||(o.funcao.acessoFinanceiro=r),e.Njj(r)}),e.k0s()()(),e.j41(25,"div",6)(26,"label",16),e.EFF(27),e.nI1(28,"localize"),e.k0s(),e.j41(29,"div",12)(30,"input",17,3),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.funcao.acessoTecnico,r)||(o.funcao.acessoTecnico=r),e.Njj(r)}),e.k0s()()(),e.j41(33,"div",18)(34,"label",19),e.EFF(35),e.nI1(36,"localize"),e.k0s(),e.j41(37,"div",8)(38,"select",20,4),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.funcao.acessoCasoNome,r)||(o.funcao.acessoCasoNome=r),e.Njj(r)}),e.nrm(41,"option",21),e.DNE(42,bl,2,2,"option",22),e.k0s(),e.nrm(43,"abp-validation-summary",10),e.k0s()(),e.j41(44,"div",23)(45,"table",24)(46,"thead",25)(47,"tr")(48,"th"),e.EFF(49),e.nI1(50,"localize"),e.k0s(),e.nrm(51,"th",26),e.k0s()(),e.j41(52,"tbody"),e.DNE(53,_l,7,1,"tr",27),e.j41(54,"tr")(55,"td")(56,"select",28,5),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.tipoServicoPrestadoAdd,r)||(o.tipoServicoPrestadoAdd=r),e.Njj(r)}),e.nrm(59,"option",21),e.DNE(60,gl,2,2,"option",22),e.k0s()(),e.j41(61,"td")(62,"button",29),e.bIt("click",function(){return e.eBV(i),e.Njj(o.addTipoServicoPrestado())}),e.nrm(63,"i",30),e.EFF(64," Adicionar Tipo de Servi\xe7o Prestado "),e.k0s()()()()()()}if(2&n){const i=e.sdS(6),s=e.sdS(7),r=e.sdS(39),u=e.sdS(40);e.R7$(2),e.SpI(" ",e.bMT(3,21,"Nome")," "),e.R7$(3),e.R50("ngModel",o.funcao.nome),e.R7$(3),e.Y8G("control",i)("controlEl",s),e.R7$(3),e.SpI(" ",e.bMT(12,23,"Acesso Administrativo")," "),e.R7$(3),e.R50("ngModel",o.funcao.acessoAdministrativo),e.R7$(5),e.SpI(" ",e.bMT(20,25,"Acesso Financeiro")," "),e.R7$(3),e.R50("ngModel",o.funcao.acessoFinanceiro),e.R7$(5),e.SpI(" ",e.bMT(28,27,"Acesso Tecnico")," "),e.R7$(3),e.R50("ngModel",o.funcao.acessoTecnico),e.R7$(5),e.SpI(" ",e.bMT(36,29,"Acesso a Caso")," "),e.R7$(3),e.R50("ngModel",o.funcao.acessoCasoNome),e.R7$(4),e.Y8G("ngForOf",o.optionsAcessoACaso),e.R7$(),e.Y8G("control",r)("controlEl",u),e.R7$(2),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(50,31,"Tipos de Servi\xe7o Prestado")),e.R7$(4),e.Y8G("ngForOf",o.tiposServicoPrestadoPorFunc),e.R7$(3),e.R50("ngModel",o.tipoServicoPrestadoAdd),e.R7$(4),e.Y8G("ngForOf",o.tiposServicoNaoPrestadoPorFunc),e.R7$(2),e.Y8G("disabled",""==o.tipoServicoPrestadoAdd)}},dependencies:[p.Sq,l.xH,l.y7,l.me,l.Zm,l.wz,l.BC,l.YS,l.tU,l.vS,S.e,M,m.S],encapsulation:2})}return a})(),vl=(()=>{class a extends _.q{constructor(t,n,o){super(t),this._funcaoService=n,this.bsModalRef=o,this.saving=!1,this.funcao=new c.sR,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,console.log(this.funcao),this._funcaoService.create(this.funcao).subscribe(t=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(t)})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.AM),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["createFuncaoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","funcaoForm",3,"funcao"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"funcao-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"CreateNewFuncao")),e.R7$(3),e.Y8G("funcao",o.funcao),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,F.x,k.z,oo,m.S],encapsulation:2})}return a})(),Cl=(()=>{class a extends _.q{constructor(t,n,o,i){super(t),this._funcaoService=n,this._tipoServicoPrestadoService=o,this.bsModalRef=i,this.saving=!1,this.onSave=new e.bkB}ngOnInit(){}save(){this.saving=!0,this._funcaoService.update(this.funcao).subscribe(t=>{this.saving=!1,this.notify.info(this.l("SavedSuccessfully")),this.bsModalRef.hide(),this.onSave.emit(t)})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.AM),e.rXU(c.$B),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:7,vars:6,consts:[["editFuncaoModal","ngForm"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],["ngModelGroup","funcaoForm",3,"funcao"],[3,"onCancelClick","cancelDisabled","saveDisabled"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",2),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",3),e.nrm(5,"funcao-form",4),e.k0s(),e.j41(6,"abp-modal-footer",5),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){const i=e.sdS(1);e.R7$(2),e.Y8G("title",e.bMT(3,4,"EditNewFuncao")),e.R7$(3),e.Y8G("funcao",o.funcao),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!i.form.valid||o.saving)}},dependencies:[l.qT,l.cb,l.Y4,l.cV,F.x,k.z,oo,m.S],encapsulation:2})}return a})();const Il=(a,d,t)=>({id:"server",itemsPerPage:a,currentPage:d,totalItems:t});function Fl(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"button",13),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.getDataPage(1))}),e.EFF(3),e.nI1(4,"localize"),e.k0s(),e.j41(5,"button",37),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(6),e.nI1(7,"localize"),e.k0s()()()}2&a&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"Search")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"Clear")," "))}function kl(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"button",38),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.editFuncao(o))}),e.nrm(5,"i",39),e.EFF(6),e.nI1(7,"localize"),e.k0s(),e.j41(8,"button",40),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.delete(o))}),e.nrm(9,"i",41),e.EFF(10),e.nI1(11,"localize"),e.k0s()()()}if(2&a){const t=d.$implicit;e.R7$(2),e.JRh(t.nome),e.R7$(4),e.SpI(" ",e.bMT(7,3,"Edit")," "),e.R7$(4),e.SpI(" ",e.bMT(11,5,"Delete")," ")}}let jl=(()=>{class a extends A{constructor(t,n,o,i,s,r){super(t),this._funcaoService=n,this._modalService=o,this._changeDectetor=i,this._router=s,this._route=r,this.funcoes=[],this.keyword="",this.advancedFiltersVisible=!1}ngOnInit(){this.refresh()}createFuncao(){let t;t=this._modalService.show(vl,{class:"modal-lg"}),t.content.onSave.subscribe(()=>{this.refresh()})}editFuncao(t){let n;n=this._modalService.show(Cl,{class:"modal-lg",initialState:{funcao:t}}),n.content.onSave.subscribe(()=>{this.refresh()})}list(t,n,o){console.log(t),this._funcaoService.getAll(void 0,t.skipCount,t.maxResultCount).pipe((0,y.j)(()=>{o()})).subscribe(i=>{console.log(i),this.funcoes=i.items,this.showPaging(i,n)})}clearFilters(){this.keyword="",this.getDataPage(1)}delete(t){abp.message.confirm("O seguinte tecnica ser\xe1 exclu\xedda do banco",void 0,n=>{n&&this._funcaoService.delete(t.id).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.refresh()})})}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.AM),e.rXU(f.I8),e.rXU(e.gRc),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:56,vars:35,consts:[[1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["href","javascript:;",1,"btn","bg-blue",3,"click"],[1,"fa","fa-plus-square"],[1,"content","px-2"],[1,"card"],[1,"card-header"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"input-group-append"],["type","button",1,"btn","btn-default",3,"click"],[1,"fas"],["class","card mb-0 mt-1",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-bordered",3,"busy"],[1,"bg-light"],[2,"width","200px"],[4,"ngFor","ngForOf"],[1,"card-footer","table-card-footer","bg-light","border-top"],[1,"col-sm-4","col-12","text-sm-left","text-center"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-redo-alt"],[1,"col-sm-4","col-12","text-center"],[1,"mb-0","my-2"],[1,"col-sm-4","col-12"],[1,"float-sm-right","m-auto"],["id","server",3,"pageChange"],[1,"card","mb-0","mt-1"],[1,"card-footer"],["type","button",1,"btn","btn-default","float-right",3,"click"],["type","button",1,"btn","btn-sm","bg-secondary",3,"click"],[1,"fas","fa-pencil-alt"],["type","button",1,"btn","btn-sm","bg-danger","mx-2",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e.EFF(6),e.nI1(7,"localize"),e.k0s()(),e.j41(8,"div",4)(9,"a",5),e.bIt("click",function(){return o.createFuncao()}),e.nrm(10,"i",6),e.EFF(11),e.nI1(12,"localize"),e.k0s()()()()(),e.j41(13,"section",7)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",2),e.nrm(18,"div",10),e.j41(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.getDataPage(1)}),e.nrm(23,"i",14),e.k0s()(),e.j41(24,"input",15),e.nI1(25,"localize"),e.mxI("ngModelChange",function(s){return e.DH7(o.keyword,s)||(o.keyword=s),s}),e.bIt("keyup.enter",function(){return o.getDataPage(1)}),e.k0s(),e.j41(26,"div",16)(27,"button",17),e.bIt("click",function(){return o.advancedFiltersVisible=!o.advancedFiltersVisible}),e.nrm(28,"i",18),e.k0s()()()()(),e.DNE(29,Fl,8,6,"div",19),e.k0s(),e.j41(30,"div",20)(31,"div",21)(32,"table",22)(33,"thead",23)(34,"tr")(35,"th"),e.EFF(36),e.nI1(37,"localize"),e.k0s(),e.j41(38,"th",24),e.EFF(39),e.nI1(40,"localize"),e.k0s()()(),e.j41(41,"tbody"),e.DNE(42,kl,12,7,"tr",25),e.nI1(43,"paginate"),e.k0s()()()(),e.j41(44,"div",26)(45,"div",2)(46,"div",27)(47,"button",28),e.bIt("click",function(){return o.refresh()}),e.nrm(48,"i",29),e.k0s()(),e.j41(49,"div",30)(50,"p",31),e.EFF(51),e.nI1(52,"localize"),e.k0s()(),e.j41(53,"div",32)(54,"div",33)(55,"abp-pagination-controls",34),e.bIt("pageChange",function(s){return o.getDataPage(s)}),e.k0s()()()()()()()()()),2&n&&(e.Y8G("@routerTransition",void 0),e.R7$(6),e.JRh(e.bMT(7,15,"Fun\xe7\xf5es")),e.R7$(5),e.SpI(" ",e.bMT(12,17,"Create")," "),e.R7$(13),e.Y8G("placeholder",e.bMT(25,19,"SearchWithThreeDot")),e.R50("ngModel",o.keyword),e.R7$(4),e.AVh("fa-angle-up",o.advancedFiltersVisible)("fa-angle-down",!o.advancedFiltersVisible),e.R7$(),e.Y8G("ngIf",o.advancedFiltersVisible),e.R7$(3),e.Y8G("busy",o.isTableLoading),e.R7$(4),e.JRh(e.bMT(37,21,"Nome")),e.R7$(3),e.JRh(e.bMT(40,23,"Actions")),e.R7$(3),e.Y8G("ngForOf",e.i5U(43,25,o.funcoes,e.sMw(31,Il,o.pageSize,o.pageNumber,o.totalItems))),e.R7$(9),e.SpI(" ",e.i5U(52,28,"TotalRecordsCount",o.totalItems)," "))},dependencies:[p.Sq,p.bT,l.me,l.BC,l.vS,D,M,m.S,T.kf],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();const to=()=>[""];function Rl(a,d){if(1&a){const t=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"funcoes-colaborador-details",11),e.mxI("funcoesChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.funcoes,o)||(i.funcoes=o),e.Njj(o)})("historicoFuncoesChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.historicoFuncoes,o)||(i.historicoFuncoes=o),e.Njj(o)})("gerentesChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.gerentes,o)||(i.gerentes=o),e.Njj(o)})("gerentesCFChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.gerentesCF,o)||(i.gerentesCF=o),e.Njj(o)}),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("heading",e.bMT(1,6,"Funcoes")),e.R7$(2),e.Y8G("colaboradorId",t.id),e.R50("funcoes",t.funcoes)("historicoFuncoes",t.historicoFuncoes)("gerentes",t.gerentes)("gerentesCF",t.gerentesCF)}}function Sl(a,d){if(1&a){const t=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"servicos-prestados-colaborador",12),e.mxI("casosChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.casos,o)||(i.casos=o),e.Njj(o)}),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("heading",e.bMT(1,6,"ServicosPrestados")),e.R7$(2),e.Y8G("colaboradorId",t.id)("colaborador",t.pessoa)("funcoes",t.funcoes)("historicoFuncoes",t.historicoFuncoes),e.R50("casos",t.casos)}}function Ml(a,d){if(1&a&&(e.j41(0,"tab",8),e.nI1(1,"localize"),e.nrm(2,"casos-colaborador",13),e.k0s()),2&a){const t=e.XpG();e.Y8G("heading",e.bMT(1,7,"Casos")),e.R7$(2),e.Y8G("colaboradorId",t.id)("funcoes",t.funcoes)("historicoFuncoes",t.historicoFuncoes)("casos",t.casos)("gerentes",t.gerentes)("gerentesCF",t.gerentesCF)}}function El(a,d){if(1&a){const t=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"gerenciados-colaborador",14),e.mxI("gerenciadosChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.gerenciados,o)||(i.gerenciados=o),e.Njj(o)})("gerenciadosFuncoesChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.gerenciadosFuncoes,o)||(i.gerenciadosFuncoes=o),e.Njj(o)}),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("heading",e.bMT(1,6,"Gerenciados")),e.R7$(2),e.Y8G("colaborador",t.pessoa)("funcoes",t.funcoes)("historicoFuncoes",t.historicoFuncoes),e.R50("gerenciados",t.gerenciados)("gerenciadosFuncoes",t.gerenciadosFuncoes)}}function Tl(a,d){if(1&a){const t=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"dependentes-details",15),e.mxI("responsavelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.pessoa,o)||(i.pessoa=o),e.Njj(o)}),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("heading",e.bMT(1,2,"AlunosDependentes")),e.R7$(2),e.R50("responsavel",t.pessoa)}}function Dl(a,d){if(1&a){const t=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"responsaveis-aluno",16),e.mxI("alunoChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.pessoa,o)||(i.pessoa=o),e.Njj(o)}),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("heading",e.bMT(1,2,"Responsaveis")),e.R7$(2),e.R50("aluno",t.pessoa)}}function yl(a,d){if(1&a){const t=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"provedores-saude-caso",16),e.mxI("alunoChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.pessoa,o)||(i.pessoa=o),e.Njj(o)}),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("heading",e.bMT(1,2,"HealthProviders")),e.R7$(2),e.R50("aluno",t.pessoa)}}function Al(a,d){if(1&a&&(e.j41(0,"tab",8),e.nI1(1,"localize"),e.nrm(2,"staff-caso",17),e.k0s()),2&a){const t=e.XpG();e.Y8G("heading",e.bMT(1,5,"Staff")),e.R7$(2),e.Y8G("aluno",t.pessoa)("staff",t.staff)("funcoesColaborador",t.funcoesColaborador)("colaboradores",t.colaboradores)}}function Pl(a,d){if(1&a&&(e.j41(0,"tab",8),e.nI1(1,"localize"),e.nrm(2,"supervisoes-caso",17),e.k0s()),2&a){const t=e.XpG();e.Y8G("heading",e.bMT(1,5,"Supervisoes")),e.R7$(2),e.Y8G("aluno",t.pessoa)("staff",t.staff)("funcoesColaborador",t.funcoesColaborador)("colaboradores",t.colaboradores)}}function wl(a,d){if(1&a&&(e.j41(0,"tab",8),e.nI1(1,"localize"),e.nrm(2,"atendimentos-caso",17),e.k0s()),2&a){const t=e.XpG();e.Y8G("heading",e.bMT(1,5,"Atendimentos")),e.R7$(2),e.Y8G("aluno",t.pessoa)("staff",t.staff)("funcoesColaborador",t.funcoesColaborador)("colaboradores",t.colaboradores)}}function $l(a,d){if(1&a){const t=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"protocolos-avaliacao-caso",16),e.mxI("alunoChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.pessoa,o)||(i.pessoa=o),e.Njj(o)}),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("heading",e.bMT(1,2,"ProtocolosAvaliacao")),e.R7$(2),e.R50("aluno",t.pessoa)}}function Gl(a,d){if(1&a){const t=e.RV6();e.j41(0,"tab",8),e.nI1(1,"localize"),e.j41(2,"protocolos-intervencao-caso",16),e.mxI("alunoChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.pessoa,o)||(i.pessoa=o),e.Njj(o)}),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("heading",e.bMT(1,2,"ProtocolosIntervencao")),e.R7$(2),e.R50("aluno",t.pessoa)}}let Vl=(()=>{class a extends Q{initEmptyPessoa(){}constructor(t,n,o,i,s,r,u,b,g,C){super(t,u,b,g,C),this._alunoService=n,this._casoService=o,this._colaboradorService=i,this._responsavelService=s,this._funcaoService=r,this._paisService=u,this._modalService=b,this._router=g,this._route=C,this.tipoPessoa="Usuario",this.busy=!1}ngOnInit(){null!=this.appSession.user.colaborador&&this._funcaoService.getAll(void 0,void 0,void 0).subscribe(t=>this.funcoes=t.items),super.ngOnInit()}proccessDto(t){super.proccessDto(t),t instanceof c.lG&&null!=t.casoId&&(this._casoService.getAllAtuacoes(t.casoId,void 0,void 0,void 0,void 0).subscribe(n=>{this.staff=n}),this._colaboradorService.getAllColabFuncoes(void 0,void 0,void 0,void 0,void 0,t.casoId,void 0,void 0,void 0).subscribe(n=>{this.funcoesColaborador=n.items}),this._colaboradorService.getAll(void 0,void 0,void 0,void 0,t.casoId,void 0,void 0,void 0).subscribe(n=>{this.colaboradores=n.items}))}getPessoa(){return null!=this.appSession.user.aluno?(this.id=this.appSession.user.aluno.id,this.tipoPessoa="Aluno",this._alunoService.get(this.appSession.user.aluno.id)):null!=this.appSession.user.colaborador?(this.id=this.appSession.user.colaborador.id,this.tipoPessoa="Colaborador",this._colaboradorService.get(this.appSession.user.colaborador.id)):null!=this.appSession.user.responsavel?(this.id=this.appSession.user.responsavel.id,this.tipoPessoa="Responsavel",this._responsavelService.get(this.appSession.user.responsavel.id)):void 0}getTipoPessoa(){return this.tipoPessoa}getFuncaoOrg(t){return this.funcoes?.find(n=>n.id==t)}showAbaCasos(){return this.historicoFuncoes?.some(t=>"Caso a Caso"==this.getFuncaoOrg(t.funcaoOrgId)?.acessoCasoNome)}cfGerencia(t){return(this.getFuncaoOrg(t.funcaoOrgId)?.funcoesGeridasDiretamente?.length??0)>0}showAbaGerenciados(){return"Colaborador"==this.tipoPessoa&&this.historicoFuncoes?.some(this.cfGerencia.bind(this))}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.pg),e.rXU(c.iD),e.rXU(c.i9),e.rXU(c.o5),e.rXU(c.AM),e.rXU(c.B5),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:27,vars:28,consts:[[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col","p-0","text-left",2,"vertical-align","middle","margin-left","40px"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","40px","margin-right","60px"],[2,"height","100%","width","100%","border","0px solid black"],[2,"margin","0px","padding","0px"],[1,"p-3",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white",3,"heading"],[3,"pessoaChange","onClickEdit","pessoal","pessoa","cidade","uf","pais"],["class","p-3","style","\n                    border: 1px solid #dee2e6; \n                    border-top: 0px; \n                    border-bottom-left-radius: .25rem;\n                    border-bottom-right-radius: .25rem; \n                    background-color: white;",3,"heading",4,"ngIf"],[3,"funcoesChange","historicoFuncoesChange","gerentesChange","gerentesCFChange","colaboradorId","funcoes","historicoFuncoes","gerentes","gerentesCF"],[3,"casosChange","colaboradorId","colaborador","funcoes","historicoFuncoes","casos"],[3,"colaboradorId","funcoes","historicoFuncoes","casos","gerentes","gerentesCF"],[3,"gerenciadosChange","gerenciadosFuncoesChange","colaborador","funcoes","historicoFuncoes","gerenciados","gerenciadosFuncoes"],[3,"responsavelChange","responsavel"],[3,"alunoChange","aluno"],[3,"aluno","staff","funcoesColaborador","colaboradores"]],template:function(n,o){if(1&n&&(e.j41(0,"div")(1,"section",0)(2,"div",1)(3,"div",2)(4,"h1",3),e.EFF(5),e.nI1(6,"localize"),e.k0s(),e.j41(7,"h1",4),e.EFF(8),e.k0s()()()(),e.j41(9,"section",5)(10,"div",6)(11,"tabset",7)(12,"tab",8),e.nI1(13,"localize"),e.j41(14,"info-pessoal-details",9),e.mxI("pessoaChange",function(s){return e.DH7(o.pessoa,s)||(o.pessoa=s),s}),e.bIt("onClickEdit",function(){return o.editInfoPessoal()}),e.k0s()(),e.DNE(15,Rl,3,8,"tab",10)(16,Sl,3,8,"tab",10)(17,Ml,3,9,"tab",10)(18,El,3,8,"tab",10)(19,Tl,3,4,"tab",10)(20,Dl,3,4,"tab",10)(21,yl,3,4,"tab",10)(22,Al,3,7,"tab",10)(23,Pl,3,7,"tab",10)(24,wl,3,7,"tab",10)(25,$l,3,4,"tab",10)(26,Gl,3,4,"tab",10),e.k0s()()()()),2&n){let i;e.Y8G("@routerTransition",void 0),e.R7$(5),e.SpI(" ",e.bMT(6,22,"Meu perfil")," "),e.R7$(3),e.Lme(" ",(null!==(i=null==o.pessoa||null==o.pessoa.nome?null:o.pessoa.nome.split(" "))&&void 0!==i?i:e.lJ4(26,to))[0]," ",(null!==(i=null==o.pessoa||null==o.pessoa.nome||null==(i=o.pessoa.nome.split(" "))?null:i.reverse())&&void 0!==i?i:e.lJ4(27,to))[0]," "),e.R7$(4),e.Y8G("heading",e.bMT(13,24,"PersonalInfo")),e.R7$(2),e.Y8G("pessoal",!0),e.R50("pessoa",o.pessoa),e.Y8G("cidade",o.cidade)("uf",o.uf)("pais",o.pais),e.R7$(),e.Y8G("ngIf","Colaborador"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Colaborador"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Colaborador"==o.tipoPessoa&&o.showAbaCasos()),e.R7$(),e.Y8G("ngIf",o.showAbaGerenciados()),e.R7$(),e.Y8G("ngIf","Responsavel"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Aluno"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Aluno"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Aluno"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Aluno"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Aluno"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Aluno"==o.tipoPessoa),e.R7$(),e.Y8G("ngIf","Aluno"==o.tipoPessoa)}},dependencies:[p.bT,I.V6,I.fw,H,Ee,Te,ye,Ye,Xe,qe,Oe,Ne,Ae,Pe,we,$e,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})();const pe=()=>[];function Nl(a,d){if(1&a&&(e.j41(0,"option",28),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.Lme(" ",t.protocoloIntervencaoNome," (",t.nome,") ")}}function Bl(a,d){if(1&a&&(e.j41(0,"option",28),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.Y8G("value",d.index),e.R7$(),e.SpI(" ",t.desc," ")}}function Yl(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",10)(1,"label",29),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",12)(5,"select",30,5),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.passoIdx,o)||(i.passoIdx=o),e.Njj(o)}),e.DNE(8,Bl,2,2,"option",14),e.k0s(),e.nrm(9,"abp-validation-summary",15),e.k0s()()}if(2&a){let t;const n=e.sdS(6),o=e.sdS(7),i=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,6,"Passo do Protocolo de Interven\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",i.disabled),e.R50("ngModel",i.passoIdx),e.R7$(3),e.Y8G("ngForOf",null!==(t=i.passoOptions)&&void 0!==t?t:e.lJ4(8,pe)),e.R7$(),e.Y8G("control",n)("controlEl",o)}}function Ul(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",17)(1,"label",31),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",12)(5,"input",32,6),e.mxI("ngModelChange",function(o){const i=e.eBV(t).index,s=e.XpG();return e.DH7(s.unidade.ajudas[i].value,o)||(s.unidade.ajudas[i].value=o),e.Njj(o)}),e.k0s(),e.nrm(8,"abp-validation-summary",15),e.k0s()()}if(2&a){const t=d.$implicit,n=d.index,o=e.sdS(6),i=e.sdS(7),s=e.XpG();e.R7$(),e.Y8G("for","ajuda"+n),e.R7$(),e.Lme(" ",e.bMT(3,9,t.nome)," ",null!=(null==t?null:t.abreviacao)?"("+t.abreviacao+")":""," "),e.R7$(3),e.Y8G("disabled",s.disabled)("name","ajuda"+n)("id","ajuda"+n),e.R50("ngModel",s.unidade.ajudas[n].value),e.R7$(3),e.Y8G("control",o)("controlEl",i)}}let zl=(()=>{class a extends _.q{get disabled(){return this.loading||this.saving}constructor(t,n,o,i,s){super(t),this._casoService=n,this._protocoloIntervencaoService=o,this._hierarquiaAjudaService=i,this.bsModalRef=s,this.NOME_SERVICO_ATENDIMENTO="Atendimento",this.loading=!1,this.saving=!1,this.unidade=new c.s8,this.onSave=new e.bkB}ngOnInit(){null==this.protocolosIntervencao?(this.protocolosIntervencao=[],this._protocoloIntervencaoService.getAllVersoes(void 0,this.aluno.casoId,void 0,void 0).subscribe(t=>{this.protocolosIntervencao=t.items,null==this.hierarquiasAjuda&&(this.hierarquiasAjuda=[],this.protocolosIntervencao.map(n=>n.hierarquiaAjudaId).forEach(n=>{this.hierarquiasAjuda.every(o=>o.id!=n)&&this._hierarquiaAjudaService.get(n).subscribe(this.hierarquiasAjuda.push)}))})):null==this.hierarquiasAjuda&&(this.hierarquiasAjuda=[],this.protocolosIntervencao.map(t=>t.hierarquiaAjudaId).forEach(t=>{this.hierarquiasAjuda.every(n=>n.id!=t)&&this._hierarquiaAjudaService.get(t).subscribe(this.hierarquiasAjuda.push)})),null==this.aplicacoes&&(this.aplicacoes=[],this._casoService.getAllAplicacoesProtocoloIntervencao(this.aluno.casoId,void 0).subscribe(t=>{this.aplicacoes=t}))}get protocoloIdx(){return this._protocoloIdx?.toString()??""}set protocoloIdx(t){t!=this.protocoloIdx&&(this.passoIdx="",this.unidade.ajudas=void 0),this._protocoloIdx=""!=(t??"")?Number(t):void 0,this.protocolosIntervencao[this._protocoloIdx].passosProtIntervencao.sort((n,o)=>n.ordenador-o.ordenador),null==this.unidade.ajudas&&(this.unidade.ajudas=[],this.tiposAjuda.forEach(n=>this.unidade.ajudas.push(new c.yu({key:n.id,value:0}))))}get passoOptions(){return this.protocolosIntervencao[this._protocoloIdx]?.passosProtIntervencao}get passoIdx(){return this._passoIdx?.toString()??""}set passoIdx(t){this._passoIdx=""!=(t??"")?Number(t):void 0,this.unidade.passoId=(this.passoOptions??[])[this._passoIdx]?.id}get tiposAjuda(){let t=this.protocolosIntervencao[this._protocoloIdx]?.hierarquiaAjudaId;if(null!=t)return this.hierarquiasAjuda.find(n=>n.id==t).tiposAjuda}save(){this.onSave.emit(this.unidade),this.bsModalRef.hide()}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.iD),e.rXU(c.J3),e.rXU(c.Qk),e.rXU(f.Y$))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:48,vars:38,consts:[["unidadeIntervencaoModal","ngForm"],["protocoloModel","ngModel","protocoloEl",""],["tipoModel","ngModel","tipoEl",""],["descricaoModel","ngModel","descricaoEl",""],["observacaoModel","ngModel","observacaoEl",""],["passoModel","ngModel","passoEl",""],["ajudaModel","ngModel","ajudaEl",""],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[3,"onCloseClick","title"],[1,"modal-body"],[1,"form-group","row","required"],["for","protocolo",1,"col-md-3","col-form-label"],[1,"col-md-9"],["name","protocolo","id","protocolo","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],["class","form-group row required",4,"ngIf"],[1,"form-group","row"],["for","tipo",1,"col-md-3","col-form-label"],["type","text","name","tipo","id","tipo","maxlength","50",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","descricao",1,"col-md-3","col-form-label"],["type","text","name","descricao","id","descricao","maxlength","200",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row","m-1","text-center","justify-content-center"],["class","form-group row",4,"ngFor","ngForOf"],["for","observacao",1,"row","m-1","text-center","row-form-label","justify-content-center"],[1,"col"],["type","text","name","observacao","id","observacao","maxlength","500",1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"onCancelClick","cancelDisabled","saveDisabled"],[3,"value"],["for","passo",1,"col-md-3","col-form-label"],["name","passo","id","passo","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"col-md-3","col-form-label",3,"for"],["type","number","min","0",1,"form-control",3,"ngModelChange","disabled","name","id","ngModel"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"form",7,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(2,"abp-modal-header",8),e.nI1(3,"localize"),e.bIt("onCloseClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s(),e.j41(4,"div",9)(5,"div",10)(6,"label",11),e.EFF(7),e.nI1(8,"localize"),e.k0s(),e.j41(9,"div",12)(10,"select",13,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.protocoloIdx,r)||(o.protocoloIdx=r),e.Njj(r)}),e.DNE(13,Nl,2,3,"option",14),e.k0s(),e.nrm(14,"abp-validation-summary",15),e.k0s()(),e.DNE(15,Yl,10,9,"div",16),e.j41(16,"div",17)(17,"label",18),e.EFF(18),e.nI1(19,"localize"),e.k0s(),e.j41(20,"div",12)(21,"input",19,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.unidade.tipo,r)||(o.unidade.tipo=r),e.Njj(r)}),e.k0s(),e.nrm(24,"abp-validation-summary",15),e.k0s()(),e.j41(25,"div",17)(26,"label",20),e.EFF(27),e.nI1(28,"localize"),e.k0s(),e.j41(29,"div",12)(30,"input",21,3),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.unidade.descricao,r)||(o.unidade.descricao=r),e.Njj(r)}),e.k0s(),e.nrm(33,"abp-validation-summary",15),e.k0s()(),e.j41(34,"label",22),e.EFF(35,"Ajudas"),e.k0s(),e.DNE(36,Ul,9,11,"div",23),e.j41(37,"label",24),e.EFF(38),e.nI1(39,"localize"),e.k0s(),e.j41(40,"div",17)(41,"div",25)(42,"textarea",26,4),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.unidade.observacao,r)||(o.unidade.observacao=r),e.Njj(r)}),e.EFF(45,"                "),e.k0s(),e.nrm(46,"abp-validation-summary",15),e.k0s()()(),e.j41(47,"abp-modal-footer",27),e.bIt("onCancelClick",function(){return e.eBV(i),e.Njj(o.bsModalRef.hide())}),e.k0s()()}if(2&n){let i,s;const r=e.sdS(1),u=e.sdS(11),b=e.sdS(12),g=e.sdS(22),C=e.sdS(23),E=e.sdS(31),P=e.sdS(32),$=e.sdS(43),G=e.sdS(44);e.R7$(2),e.Y8G("title",e.bMT(3,26,"UnidadeEnsino")),e.R7$(5),e.SpI(" ",e.bMT(8,28,"Protocolo de Interven\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.protocoloIdx),e.R7$(3),e.Y8G("ngForOf",null!==(i=o.protocolosIntervencao)&&void 0!==i?i:e.lJ4(36,pe)),e.R7$(),e.Y8G("control",u)("controlEl",b),e.R7$(),e.Y8G("ngIf",""!=o.protocoloIdx),e.R7$(3),e.SpI(" ",e.bMT(19,30,"Tipo")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.unidade.tipo),e.R7$(3),e.Y8G("control",g)("controlEl",C),e.R7$(3),e.SpI(" ",e.bMT(28,32,"Descri\xe7\xe3o")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.unidade.descricao),e.R7$(3),e.Y8G("control",E)("controlEl",P),e.R7$(3),e.Y8G("ngForOf",null!==(s=o.tiposAjuda)&&void 0!==s?s:e.lJ4(37,pe)),e.R7$(2),e.SpI(" ",e.bMT(39,34,"Observa\xe7\xe3o")," "),e.R7$(4),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.unidade.observacao),e.R7$(4),e.Y8G("control",$)("controlEl",G),e.R7$(),e.Y8G("cancelDisabled",o.saving)("saveDisabled",!r.form.valid||o.saving)}},dependencies:[p.Sq,p.bT,l.qT,l.xH,l.y7,l.me,l.Q0,l.wz,l.BC,l.cb,l.YS,l.tU,l.VZ,l.vS,l.cV,S.e,F.x,k.z,m.S],encapsulation:2})}return a})();const no=()=>[""],K=()=>[];function Xl(a,d){if(1&a&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&a){const t=d.$implicit,n=e.XpG();e.Y8G("value",t.id),e.R7$(),e.SpI(" ",n.getOptionString(t)," ")}}function ql(a,d){if(1&a&&(e.j41(0,"div",42)(1,"label",43),e.EFF(2),e.nI1(3,"localize"),e.k0s(),e.j41(4,"div",44),e.EFF(5),e.k0s()()),2&a){const t=e.XpG().$implicit;e.R7$(2),e.SpI(" ",e.bMT(3,2,"Observa\xe7\xe3o"),": "),e.R7$(3),e.SpI(" ",t.observacao," ")}}function Ol(a,d){if(1&a&&(e.j41(0,"th",54),e.EFF(1),e.k0s()),2&a){const t=d.$implicit;e.R7$(),e.SpI(" ",t.nome," ")}}function Hl(a,d){if(1&a&&(e.j41(0,"td",54),e.EFF(1),e.k0s()),2&a){const t=d.$implicit,n=e.XpG().$implicit,o=e.XpG();e.R7$(),e.SpI(" ",o.getNoAjudas(n,t)," ")}}function Jl(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",40)(1,"div",41)(2,"div",42)(3,"label",43),e.EFF(4),e.nI1(5,"localize"),e.k0s(),e.j41(6,"div",44),e.EFF(7),e.k0s()(),e.j41(8,"div",45)(9,"label",43),e.EFF(10),e.nI1(11,"localize"),e.k0s(),e.j41(12,"div",44),e.EFF(13),e.k0s()(),e.j41(14,"div",42)(15,"label",43),e.EFF(16),e.nI1(17,"localize"),e.k0s(),e.j41(18,"div",44),e.EFF(19),e.k0s(),e.j41(20,"label",43),e.EFF(21),e.nI1(22,"localize"),e.k0s(),e.j41(23,"div",44),e.EFF(24),e.k0s()(),e.DNE(25,ql,6,4,"div",46),e.j41(26,"div",47)(27,"table",48)(28,"thead",49)(29,"tr")(30,"th",50),e.EFF(31),e.nI1(32,"localize"),e.k0s()(),e.j41(33,"tr"),e.DNE(34,Ol,2,1,"th",51),e.k0s()(),e.j41(35,"tbody")(36,"tr"),e.DNE(37,Hl,2,1,"td",51),e.k0s()()()()(),e.j41(38,"button",52),e.bIt("click",function(){const o=e.eBV(t).index,i=e.XpG();return e.Njj(i.rmvUnidade(o))}),e.nrm(39,"i",53),e.EFF(40),e.nI1(41,"localize"),e.k0s()()}if(2&a){let t,n,o;const i=d.$implicit,s=d.index,r=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,15,"Protocolo de Interven\xe7\xe3o"),": "),e.R7$(3),e.Lme(" ",r.protocolosByUnidade[s].protocoloIntervencaoNome," (",r.protocolosByUnidade[s].nome,") "),e.R7$(3),e.SpI(" ",e.bMT(11,17,"Passo"),": "),e.R7$(3),e.SpI(" ",r.passosByUnidade[s].desc," "),e.R7$(3),e.SpI(" ",e.bMT(17,19,"Tipo"),": "),e.R7$(3),e.SpI(" ",i.tipo," "),e.R7$(2),e.SpI(" ",e.bMT(22,21,"Descri\xe7\xe3o"),": "),e.R7$(3),e.SpI(" ",i.descricao," "),e.R7$(),e.Y8G("ngIf",null!=i.observacao&&""!=i.observacao),e.R7$(5),e.Y8G("colSpan",null!==(t=null==r.hierarquiasAjudaByUnidade[s]||null==r.hierarquiasAjudaByUnidade[s].tiposAjuda?null:r.hierarquiasAjudaByUnidade[s].tiposAjuda.length)&&void 0!==t?t:1),e.R7$(),e.SpI(" ",e.bMT(32,23,"Ajudas")," "),e.R7$(3),e.Y8G("ngForOf",null!==(n=null==r.hierarquiasAjudaByUnidade[s]?null:r.hierarquiasAjudaByUnidade[s].tiposAjuda)&&void 0!==n?n:e.lJ4(27,K)),e.R7$(3),e.Y8G("ngForOf",null!==(o=null==r.hierarquiasAjudaByUnidade[s]?null:r.hierarquiasAjudaByUnidade[s].tiposAjuda)&&void 0!==o?o:e.lJ4(28,K)),e.R7$(3),e.SpI(" ",e.bMT(41,25,"Remove")," ")}}let xl=(()=>{class a extends _.q{get disabled(){return this.loading||this.saving}constructor(t,n,o,i,s,r,u,b,g,C,E,P,$){super(t),this._casoService=n,this._alunoService=o,this._colaboradorService=i,this._tipoServicoService=s,this._protocoloIntervencaoService=r,this._hierarquiaAjudaService=u,this._funcaoService=b,this._changeDetector=g,this._bsModalService=C,this._router=E,this._route=P,this._localService=$,this.NOME_SERVICO_ATENDIMENTO="Atendimento",this.loading=!1,this.saving=!1,this.protocolosByUnidade=[],this.passosByUnidade=[],this.hierarquiasAjudaByUnidade=[]}goBack(){this._router.navigate([".."],{relativeTo:this._route})}getOptionString(t){let n=this.getColabFuncao(t?.colabFuncaoId),o=this.getColaborador(n?.colaboradorId),i=this.getFuncao(n?.funcaoOrgId);return o?.nome+" ("+i?.nome+")"}getFuncao(t){return this.funcoes?.find(n=>n.id==t)}getAtuacao(t){return this.ats?.find(n=>n.id==t)}getColabFuncao(t){return this.funcoesColaborador.get(t)}getColaborador(t){return this.colaboradores.get(t)}ngOnInit(){if(this.loading=!0,this.aluno=this._localService.aluno,null==this.aluno){const n=Number(this._route.snapshot.paramMap.get("alunoId"));this._alunoService.get(n).subscribe(o=>{this.aluno=o,this.refresh()})}else this.refresh()}refresh(){this.funcoes=[],this._funcaoService.getAll(void 0,void 0,void 0).subscribe(t=>{this.funcoes=t.items}),this._tipoServicoService.getAll(this.NOME_SERVICO_ATENDIMENTO,void 0,void 0,void 0,void 0).subscribe(t=>{this._funcoesApropriadas=[],t.items.forEach(n=>{n.funcoesOrg.forEach(o=>{this._funcoesApropriadas.includes(o.id)||this._funcoesApropriadas.push(o.id)})}),this.ats=[],this._casoService.getAllAtuacoes(this.aluno.casoId,!0,void 0,void 0,this._funcoesApropriadas).subscribe(n=>{this.ats=n,this.permission.isGranted("Business.Personal.Colaborador.Supervisor")||(this.ats=this.ats.filter(o=>this.getColabFuncao(o.colabFuncaoId).colaboradorId==this.appSession.user.colaborador.id)),this.loading=!1,this._changeDetector.detectChanges()}),this.funcoesColaborador=new Map,this._colaboradorService.getAllColabFuncoes(void 0,void 0,void 0,this._funcoesApropriadas,!0,this.aluno.casoId,void 0,void 0,void 0).subscribe(n=>{n.items.forEach(o=>{this.funcoesColaborador.set(o.id,o)}),this._changeDetector.detectChanges()}),this.colaboradores=new Map,this._colaboradorService.getAll(void 0,void 0,this._funcoesApropriadas,!0,this.aluno.casoId,void 0,void 0,void 0).subscribe(n=>{n.items.forEach(o=>{this.colaboradores.set(o.id,o)}),this._changeDetector.detectChanges()})}),this.loadingHierarquias=!0,this.hierarquiasAjuda=[],this._hierarquiaAjudaService.getAll(void 0,void 0).subscribe(t=>{this.hierarquiasAjuda=t.items,this.loadingHierarquias=!1}),this.loadingProtocolosIntervencao=!0,this.protocolosIntervencao=[],this._protocoloIntervencaoService.getAllVersoes(void 0,this.aluno.casoId,void 0,void 0).subscribe(t=>{this.protocolosIntervencao=t.items,this.loadingProtocolosIntervencao=!1}),this.loadingAplicacoes=!0,this.aplicacoes=[],this._casoService.getAllAplicacoesProtocoloIntervencao(this.aluno.casoId,void 0).subscribe(t=>{this.aplicacoes=t,this.loadingAplicacoes=!1}),this.atendimento=new c.Tg,this.atendimento.casoId=this.aluno.casoId,this.atendimento.inicio=V(),this.atendimento.fim=V(),this.atendimento.unidadesEnsino=[]}addUnidade(){let t;t=this._bsModalService.show(zl,{class:"modal-lg",initialState:{aluno:this.aluno,protocolosIntervencao:this.protocolosIntervencao,aplicacoes:this.aplicacoes,hierarquiasAjuda:this.hierarquiasAjuda}}),t.content.onSave.subscribe(n=>{this.atendimento.unidadesEnsino.push(n);var o,i=this.protocolosIntervencao.find(s=>null!=(o=s.passosProtIntervencao.find(r=>r.id==n.passoId)));this.protocolosByUnidade.push(i),this.passosByUnidade.push(o),this.hierarquiasAjudaByUnidade.push(this.hierarquiasAjuda.find(s=>s.id==i.hierarquiaAjudaId))})}rmvUnidade(t){this.atendimento.unidadesEnsino.splice(t,1),this.protocolosByUnidade.splice(t,1),this.passosByUnidade.splice(t,1),this.hierarquiasAjudaByUnidade.splice(t,1)}getNoAjudas(t,n){return t.ajudas.find(o=>o.key==n.id).value}get data(){return this.atendimento?.inicio?.format("YYYY-MM-DD")}set data(t){let n=V(t),o=V(t);n=n.hour(this.atendimento?.inicio?.hour()??0),o=o.hour(this.atendimento?.fim?.hour()??0),n=n.minute(this.atendimento?.inicio?.minute()??0),o=o.minute(this.atendimento?.fim?.minute()??0),this.atendimento.inicio=n,this.atendimento.fim=o}get horarioInicio(){return this.atendimento?.inicio?.format("HH:mm")}set horarioInicio(t){let n=Number(t.substring(0,2)),o=Number(t.substring(3,5));this.atendimento.inicio=this.atendimento?.inicio?.hour(n),this.atendimento.inicio=this.atendimento?.inicio?.minute(o)}get horarioFim(){return this.atendimento?.fim?.format("HH:mm")}set horarioFim(t){let n=Number(t.substring(0,2)),o=Number(t.substring(3,5));this.atendimento.fim=this.atendimento?.fim?.hour(n),this.atendimento.fim=this.atendimento?.fim?.minute(o)}get atId(){return this.atendimento?.atuacaoTerapeutaId?.toString()??""}set atId(t){this.atendimento.atuacaoTerapeutaId=""!=t&&null!=t?Number(t):void 0}save(){this.saving=!0;let t={next:n=>{this.saving=!1,this.notify.success(this.l("Salvo com sucesso!")),this._router.navigate([".."],{relativeTo:this._route})},error:n=>{console.log(n),this.saving=!1},complete:()=>{}};this.atendimento.inicio=this.atendimento.inicio.utcOffset(0,!0),this.atendimento.fim=this.atendimento.fim.utcOffset(0,!0),this._casoService.registrarAtendimento(this.atendimento).subscribe(t)}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.zZn),e.rXU(c.iD),e.rXU(c.pg),e.rXU(c.i9),e.rXU(c.$B),e.rXU(c.J3),e.rXU(c.Qk),e.rXU(c.AM),e.rXU(e.gRc),e.rXU(f.I8),e.rXU(h.Ix),e.rXU(h.nX),e.rXU(ae.n))};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],features:[e.Vt3],decls:69,vars:48,consts:[["registroAtendimentoPage","ngForm"],["atModel","ngModel","atEl",""],["dataModel","ngModel","dataEl",""],["horarioInicioModel","ngModel","horarioInicioEl",""],["horarioFimModel","ngModel","horarioFimEl",""],[1,"content-header","m-0","px-0","pb-0"],[1,"container-fluid","m-0","p-0","row",2,"height","60px","vertical-align","middle"],[1,"col-0","m-0",2,"vertical-align","middle","height","100%","width","60px"],[1,"m-0",2,"height","100%","width","100%","padding","25%"],[1,"btn","btn-sm","bg-secondary",2,"height","100%","width","100%","vertical-align","middle",3,"click"],[1,"nav-icon","fas","fa-arrow-left",2,"height","100%","width","100%"],[1,"col","m-0","p-0","text-left",2,"vertical-align","middle"],[1,"row",2,"color","light-gray","font-size","75%","height","25%"],[1,"row",2,"font-palette","dark","height","75%","align-content","center"],[1,"content","p-0",2,"height","100%","margin-left","60px","margin-right","60px"],["autocomplete","off",1,"form-horizontal",3,"ngSubmit"],[2,"height","100%","width","100%","border","0px solid black"],[1,"card",2,"border","1px solid #dee2e6","border-top","0px","border-bottom-left-radius",".25rem","border-bottom-right-radius",".25rem","background-color","white"],[1,"card-body"],[1,"form-group","row","required"],["for","at",1,"col-md-3","col-form-label"],[1,"col-md-9"],["name","at","id","at","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control","controlEl"],["for","data",1,"col-md-3","col-form-label"],["type","date","name","data","id","data","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","horarioInicio",1,"col-md-3","col-form-label"],["type","time","name","horarioInicio","id","horarioInicio","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],["for","horarioFim",1,"col-md-3","col-form-label"],["type","time","name","horarioFim","id","horarioFim","required","",1,"form-control",3,"ngModelChange","disabled","ngModel"],[1,"row","mx-0","my-2","justify-content-center"],["style","border: 1px solid lightgray; border-radius: 10px;","class","row mx-0 my-1",4,"ngFor","ngForOf"],[1,"row","m-0","pb-2","justify-content-center"],["type","button",1,"btn","btn-sm","bg-primary",3,"click","disabled"],[1,"fas","fa-plus-square"],[1,"row","m-0","justify-content-center"],["type","submit",1,"btn","bg-primary",3,"disabled"],[3,"value"],[1,"row","mx-0","my-1",2,"border","1px solid lightgray","border-radius","10px"],[1,"col-md-11","p-0"],[1,"row","m-0","px-1","pb-1","pt-2"],[1,"col-md-3","p-0","pl-2"],[1,"col"],[1,"row","m-0","p-1"],["class","row m-0 px-1 pb-1 pt-2",4,"ngIf"],[1,"row","m-0"],[1,"table","table-bordered","m-0"],[1,"bg-light"],[1,"text-center",3,"colSpan"],["class","text-center",4,"ngFor","ngForOf"],["type","button",1,"col","btn","btn-sm","bg-danger",3,"click"],[1,"fas","fa-x"],[1,"text-center"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"div")(1,"section",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"button",9),e.bIt("click",function(){return e.eBV(i),e.Njj(o.goBack())}),e.nrm(6,"i",10),e.k0s()()(),e.j41(7,"div",11)(8,"h1",12),e.EFF(9," Registro de Atendimento ao Aluno "),e.k0s(),e.j41(10,"h1",13),e.EFF(11),e.k0s()()()(),e.j41(12,"section",14)(13,"form",15,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.save())}),e.j41(15,"div",16)(16,"div",17)(17,"div",18)(18,"div",19)(19,"label",20),e.EFF(20),e.nI1(21,"localize"),e.k0s(),e.j41(22,"div",21)(23,"select",22,1),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.atId,r)||(o.atId=r),e.Njj(r)}),e.nrm(26,"option",23),e.DNE(27,Xl,2,2,"option",24),e.k0s(),e.nrm(28,"abp-validation-summary",25),e.k0s()(),e.j41(29,"div",19)(30,"label",26),e.EFF(31),e.nI1(32,"localize"),e.k0s(),e.j41(33,"div",21)(34,"input",27,2),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.data,r)||(o.data=r),e.Njj(r)}),e.k0s(),e.nrm(37,"abp-validation-summary",25),e.k0s()(),e.j41(38,"div",19)(39,"label",28),e.EFF(40),e.nI1(41,"localize"),e.k0s(),e.j41(42,"div",21)(43,"input",29,3),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.horarioInicio,r)||(o.horarioInicio=r),e.Njj(r)}),e.k0s(),e.nrm(46,"abp-validation-summary",25),e.k0s()(),e.j41(47,"div",19)(48,"label",30),e.EFF(49),e.nI1(50,"localize"),e.k0s(),e.j41(51,"div",21)(52,"input",31,4),e.mxI("ngModelChange",function(r){return e.eBV(i),e.DH7(o.horarioFim,r)||(o.horarioFim=r),e.Njj(r)}),e.k0s(),e.nrm(55,"abp-validation-summary",25),e.k0s()(),e.j41(56,"label",32),e.EFF(57),e.nI1(58,"localize"),e.k0s(),e.DNE(59,Jl,42,29,"div",33),e.j41(60,"div",34)(61,"button",35),e.bIt("click",function(){return e.eBV(i),e.Njj(o.addUnidade())}),e.nrm(62,"i",36),e.EFF(63),e.nI1(64,"localize"),e.k0s()(),e.j41(65,"div",37)(66,"button",38),e.EFF(67),e.nI1(68,"localize"),e.k0s()()()()()()()()}if(2&n){let i,s,r;const u=e.sdS(14),b=e.sdS(24),g=e.sdS(25),C=e.sdS(35),E=e.sdS(36),P=e.sdS(44),$=e.sdS(45),G=e.sdS(53),N=e.sdS(54);e.Y8G("@routerTransition",void 0),e.R7$(11),e.Lme(" ",(null!==(i=null==o.aluno||null==o.aluno.nome?null:o.aluno.nome.split(" "))&&void 0!==i?i:e.lJ4(44,no))[0]," ",(null!==(i=null==o.aluno||null==o.aluno.nome||null==(i=o.aluno.nome.split(" "))?null:i.reverse())&&void 0!==i?i:e.lJ4(45,no))[0]," "),e.R7$(9),e.SpI(" ",e.bMT(21,30,"AT")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.atId),e.R7$(4),e.Y8G("ngForOf",null!==(s=o.ats)&&void 0!==s?s:e.lJ4(46,K)),e.R7$(),e.Y8G("control",b)("controlEl",g),e.R7$(3),e.SpI(" ",e.bMT(32,32,"Data")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.data),e.R7$(3),e.Y8G("control",C)("controlEl",E),e.R7$(3),e.SpI(" ",e.bMT(41,34,"Hor\xe1rio In\xedcio")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.horarioInicio),e.R7$(3),e.Y8G("control",P)("controlEl",$),e.R7$(3),e.SpI(" ",e.bMT(50,36,"Hor\xe1rio Fim")," "),e.R7$(3),e.Y8G("disabled",o.disabled),e.R50("ngModel",o.horarioFim),e.R7$(3),e.Y8G("control",G)("controlEl",N),e.R7$(2),e.JRh(e.bMT(58,38,"UnidadesEnsino")),e.R7$(2),e.Y8G("ngForOf",null!==(r=null==o.atendimento?null:o.atendimento.unidadesEnsino)&&void 0!==r?r:e.lJ4(47,K)),e.R7$(2),e.Y8G("disabled",o.loading||o.loadingHierarquias||o.loadingProtocolosIntervencao||o.loadingAplicacoes),e.R7$(2),e.SpI(" ",e.bMT(64,40,"AddUnidadeEnsino")," "),e.R7$(3),e.Y8G("disabled",o.loading||o.loadingHierarquias||o.loadingProtocolosIntervencao||o.loadingAplicacoes||o.saving||!u.form.valid||0==o.atendimento.unidadesEnsino.length),e.R7$(),e.SpI(" ",e.bMT(68,42,"Save")," ")}},dependencies:[p.Sq,p.bT,l.qT,l.xH,l.y7,l.me,l.wz,l.BC,l.cb,l.YS,l.vS,l.cV,S.e,m.S],encapsulation:2,data:{animation:[(0,v.OD)()]}})}return a})(),Ll=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#o=this.\u0275mod=e.$C({type:a});static#t=this.\u0275inj=e.G2t({imports:[h.iI.forChild([{path:"",component:Vo,children:[{path:"home",component:No,canActivate:[R.E]},{path:"personal",component:Vl,canActivate:[R.E]},{path:"users",component:Wt,data:{permission:"Pages.Users"},canActivate:[R.E]},{path:"roles",component:un,data:{permission:"Pages.Roles"},canActivate:[R.E]},{path:"alunos",data:{permission:"Business.Admin.People"},component:Fn,canActivate:[R.E]},{path:"alunos/details/:alunoId",component:Fi,canActivate:[R.E]},{path:"alunos/details/:alunoId/registro-atendimento",data:{permission:"Business.Personal.Colaborador"},component:xl,canActivate:[R.E]},{path:"alunos/details/:alunoId/protocolo-avaliacao/:apliId",component:bs,canActivate:[R.E]},{path:"alunos/details/:alunoId/protocolo-intervencao/:apliId",component:tl,canActivate:[R.E]},{path:"responsaveis",data:{permission:"Business.Admin.People"},component:Si,canActivate:[R.E]},{path:"responsaveis/details/:responsavelId",component:yi,canActivate:[R.E]},{path:"colaboradores",data:{permission:"Business.Admin.People"},component:fa,canActivate:[R.E]},{path:"colaboradores/details/:colaboradorId",component:da,canActivate:[R.E]},{path:"protocolos-avaliacao",data:{permission:"Business.Technical"},component:is,canActivate:[R.E]},{path:"protocolos-avaliacao/details/:protocoloAvaliacaoId",component:Wa,canActivate:[R.E]},{path:"ref-bibliograficas",data:{permission:"Business.Technical"},component:Is,canActivate:[R.E]},{path:"ref-bibliograficas/details/:refBibId",component:Ps,canActivate:[R.E]},{path:"tecnicas",data:{permission:"Business.Technical"},component:Ms,canActivate:[R.E]},{path:"tecnicas/details/:tecnicaId",component:$s,canActivate:[R.E]},{path:"formatos-ensino",data:{permission:"Business.Technical"},component:Ys,canActivate:[R.E]},{path:"formatos-ensino/details/:formatoEnsinoId",component:zs,canActivate:[R.E]},{path:"hierarquias-ajuda",data:{permission:"Business.Technical"},component:Hs,canActivate:[R.E]},{path:"hierarquias-ajuda/create",data:{permission:"Business.Technical"},component:xs,canActivate:[R.E]},{path:"hierarquias-ajuda/details/:hierarquiaAjudaId",component:Ws,canActivate:[R.E]},{path:"protocolos-intervencao",data:{permission:"Business.Technical"},component:or,canActivate:[R.E]},{path:"protocolos-intervencao/create",data:{permission:"Business.Technical"},component:Mr,canActivate:[R.E]},{path:"protocolos-intervencao/details/:protocoloIntervencaoId",component:Br,canActivate:[R.E]},{path:"protocolos-intervencao/versoes/details/:versaoProtIntervencaoId",component:Xr,canActivate:[R.E]},{path:"protocolos-intervencao/versoes/create/:protocoloIntervencaoId",data:{permission:"Business.Technical"},component:qr,canActivate:[R.E]},{path:"protocolos-intervencao/versoes/edit/:versaoProtIntervencaoId",data:{permission:"Business.Technical"},component:Or,canActivate:[R.E]},{path:"servicos-prestados",data:{permission:"Business.Finance"},component:sl,canActivate:[R.E]},{path:"servicos-prestados/tipos",data:{permission:"Business.Finance"},component:fl,canActivate:[R.E]},{path:"funcoes",component:jl,data:{permission:"Business.Admin.OrgRoles"},canActivate:[R.E]},{path:"tenants",component:nn,data:{permission:"Pages.Tenants"},canActivate:[R.E]},{path:"about",component:Bo,canActivate:[R.E]},{path:"update-password",component:Ai,canActivate:[R.E]}]}]),h.iI]})}return a})();var Zl=j(66943);let Wl=(()=>{class a{handleError(t){/Loading chunk [\d]+ failed/.test(t.message)&&confirm("New version available. Load New Version?")&&window.location.reload()}static#e=this.\u0275fac=function(n){return new(n||a)};static#o=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),Ql=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#o=this.\u0275mod=e.$C({type:a});static#t=this.\u0275inj=e.G2t({providers:[{provide:e.zcH,useClass:Wl}],imports:[p.MD,l.YN,l.X1,he.q1,he.uA,f.Q_.forChild(),U.zE,fe.G,I.jr,Ll,ae.W,Zl.G,T.ed]})}return a})()}}]);